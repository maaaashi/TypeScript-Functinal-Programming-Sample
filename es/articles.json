[
  {
    "body": "![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/ef382c05-3efa-4709-a7fc-d7e8d913abdb.png)\n\n## はじめに\n\n`Kubernetes`で`Pod`をデプロイする際、\nコンテナの起動コマンドを制御するために`command`や`args`を指定することがあります。\n\n例えば、以下のような`Dockerfile`と`manifest`ファイルがあるとします。\n\n```Dockerfile:Dockerfile\nFROM alpine:latest\n\nENTRYPOINT [\"echo\", \"hello\"]\nCMD [\"world\"]\n```\n\n```yaml:manifest.yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: echo\nspec:\n  containers:\n  - name: echo\n    image: echo:latest\n    imagePullPolicy: Never\n    command: [\"echo\", \"1\"]\n    args: [\"2\"]\n```\n\n`manifest`で指定した`commnad`と`args`は、\nDockerfileの`ENTRYPOINT`や`CMD`とどのように関係しているのでしょうか。\n\n本記事では、その挙動について解説します。\n\n## DockerfileでのCMDとENTRYPOINT\n\n以下のDockerfileを例に挙動を見てみます\n\n```Dockerfile:Dockerfile\nFROM alpine:latest\n\nENTRYPOINT [\"echo\", \"hello\"]\nCMD [\"world\"]\n```\n\nこの`Dockerfile`からimageを作成し、実行してみます\n\n```bash\n$ docker build -t echo .\n$ docker run -it --rm echo\nhello world\n```\n\n`hello world`と出力されました。\n\nつまり、`ENTRYPOINT`の実行コマンドに`CMD`が引数として渡されて実行されます\n\n`ENTRYPOINT`だけ、`CMD`だけの時にどうなるかは、リファレンスを参照してみてください\n\nhttps://docs.docker.com/reference/dockerfile\n\n## (本題) k8sでのcommnadとargsの挙動について\n\nさて、本題ですが、\nKubernetesのPodについてのドキュメントに以下のように書いてありました。\n\n\u003e Note:\n\u003e The command field corresponds to ENTRYPOINT, and the args field corresponds to CMD in some container runtimes.\n\nつまり、`command`を指定すると、`ENTRYPONIT`が上書かれ、`args`を指定すると、`CMD`を上書きすることができます。\n\n最初の例を見てみましょう。\n\n```Dockerfile:Dockerfile\nFROM alpine:latest\n\nENTRYPOINT [\"echo\", \"hello\"]\nCMD [\"world\"]\n```\n\n\n```yaml:manifest.yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: echo\nspec:\n  containers:\n  - name: echo\n    image: echo:latest\n    imagePullPolicy: Never\n    command: [\"echo\", \"1\"]\n    args: [\"2\"]\n```\n\n上書きが起きるとすると、\nENTRYPOINT: `echo hello` -\u003e `echo 1`\nCMD: `world` -\u003e `echo 2`\nとなるので、`echo 1 2`が実行されるのでしょうか。\n\n実行してみます。\n\n```bash\n$ kubectl apply -f manifest.yaml\n$ kubectl logs echo       \n1 2\n```\n\n予想が当たり、`1 2`が出力されましたね\n\n## まとめ\n\nまとめです。\n\n|Dockerfile|Kubernetes|実際に実行されるもの|\n|----|----|----|\n|ENTRYPOINT|command|command が優先（ENTRYPOINTを置き換える）|\n|CMD|args|args が優先（CMDを置き換える）|\n\n`CMD`と`command`が同じじゃ無いんですね〜\n\n## サンプルコード\n\nhttps://github.com/maaaashi/docker-k8s-command-args-sample\n\n\n## 参考\n\nhttps://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2025-05-08T20:07:25+09:00",
    "group": null,
    "id": "fd5e7a212eb8e4622f40",
    "likes_count": 0,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "Docker", "versions": [] },
      { "name": "kubernetes", "versions": [] }
    ],
    "title": "k8sでのcommnadとargsの挙動について",
    "updated_at": "2025-05-09T11:43:21+09:00",
    "url": "https://qiita.com/maaaashi/items/fd5e7a212eb8e4622f40",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:140\"\u003eWeb Componentsを使ってマイクロフロントエンドを実現する方法は多くのプロジェクトで採用されています。\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:176\"\u003e私も仕事でWeb Componentsを扱っていますが、再利用性の部分で課題を感じており、その解決策をこのブログで提案したいと思います。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"5:1-5:27\"\u003e\n\u003cspan id=\"再利用性の課題感\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%86%8D%E5%88%A9%E7%94%A8%E6%80%A7%E3%81%AE%E8%AA%B2%E9%A1%8C%E6%84%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e再利用性の課題感\u003c/h2\u003e\n\u003cp data-sourcepos=\"7:1-7:66\"\u003e例えば以下のようなコンポーネントを想像します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"html\" data-sourcepos=\"9:1-12:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;h1\u0026gt;\u003c/span\u003eMy Todo\u003cspan class=\"nt\"\u003e\u0026lt;/h1\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;my-todos\u0026gt;\u0026lt;/my-todos\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"14:1-14:164\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc09a9cba-03e6-2732-28c8-1ad59d593554.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a3273ccad2d35787c0e21b2beb0a36c4\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc09a9cba-03e6-2732-28c8-1ad59d593554.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a3273ccad2d35787c0e21b2beb0a36c4\" alt=\"スクリーンショット 2024-12-31 14.22.02.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc09a9cba-03e6-2732-28c8-1ad59d593554.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=4cdffe1f32c1ec8f51e115c7768b31bd 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/c09a9cba-03e6-2732-28c8-1ad59d593554.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"16:1-16:341\"\u003eこの\u003ccode\u003emy-todos\u003c/code\u003eコンポーネントは、\u003ccode\u003etodo\u003c/code\u003eの一覧を表示するコンポーネントで、JavaScriptのファイルを読み込むことで、どのサイトでも簡単にこのカスタムエレメントを使用することができます。また、適切にCSSを実装することで、レイアウトも調整できます。\u003c/p\u003e\n\u003cp data-sourcepos=\"18:1-18:81\"\u003eただ、これは本当に再利用性が高いと言えるのでしょうか？\u003c/p\u003e\n\u003cp data-sourcepos=\"20:1-20:72\"\u003e例えば以下のようなユースケースではどうでしょうか\u003c/p\u003e\n\u003col data-sourcepos=\"22:1-24:0\"\u003e\n\u003cli data-sourcepos=\"22:1-22:109\"\u003e\u003cstrong\u003eリストスタイルのデザインではなく、カードタイプのデザインが必要な場合\u003c/strong\u003e\u003c/li\u003e\n\u003cli data-sourcepos=\"23:1-24:0\"\u003e\u003cstrong\u003eリストスタイルはそのままで良いが、個人のTodoではなく、TeamのTodoを表示したい場合\u003c/strong\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"25:1-25:149\"\u003eこれらのニーズを満たすために、my-todosコンポーネントにプロパティを追加することを考えるかもしれません。\u003c/p\u003e\n\u003cp data-sourcepos=\"27:1-27:12\"\u003e例えば、\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"html\" data-sourcepos=\"29:1-32:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c\"\u003e\u0026lt;!-- カードスタイルのデザインということをプロパティで伝える --\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;my-todos\u003c/span\u003e \u003cspan class=\"na\"\u003edesign=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"card\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u0026lt;/my-todos\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"34:1-34:12\"\u003eまたは、\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"html\" data-sourcepos=\"36:1-39:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c\"\u003e\u0026lt;!-- teamのtodoということをプロパティで伝える --\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;my-todos\u003c/span\u003e \u003cspan class=\"na\"\u003etype=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"team\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u0026lt;/my-todos\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"41:1-42:131\"\u003eこれらのアプローチでは、プロパティを増やすことでユースケースに対応しようとしますが、元々のシンプルな再利用性が失われてしまうことになります。\u003cbr\u003e\n\u003ccode\u003emy-todos\u003c/code\u003eという名前のコンポーネントで、チームのTodoを表示するという矛盾が生じてしまいます。\u003c/p\u003e\n\u003cp data-sourcepos=\"44:1-44:228\"\u003eまた、プロパティを追加することを避けて、ゼロから新しいコンポーネントを作る選択肢を取る場合、車輪の再発明が避けられず、開発が非効率になることが多いです。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"46:1-46:12\"\u003e\n\u003cspan id=\"解決策\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A7%A3%E6%B1%BA%E7%AD%96\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e解決策\u003c/h2\u003e\n\u003cp data-sourcepos=\"48:1-48:164\"\u003eそこで、今日紹介する解決策というのは、「\u003cstrong\u003eslot\u003c/strong\u003eに\u003cstrong\u003etodo\u003c/strong\u003eを表示する\u003cstrong\u003eレンダラー\u003c/strong\u003eを注入する」というアプローチです。\u003c/p\u003e\n\u003cp data-sourcepos=\"50:1-50:198\"\u003eこの方法により、コンポーネント間の柔軟な切り替えが可能になり、再利用性を損なうことなく、異なるデザインやユースケースに対応できます。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"52:1-52:34\"\u003e\n\u003cspan id=\"コンポーネントの分割\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%81%AE%E5%88%86%E5%89%B2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコンポーネントの分割\u003c/h3\u003e\n\u003cp data-sourcepos=\"54:1-54:94\"\u003eまず、先ほどの\u003ccode\u003emy-todos\u003c/code\u003eコンポーネントをどう分割するかを考えます。\u003c/p\u003e\n\u003cp data-sourcepos=\"56:1-56:255\"\u003e\u003ccode\u003emy-todos\u003c/code\u003eコンポーネントの主な役割は「自分のTodoの一覧を取得して表示すること」です。この2つの機能を別々のコンポーネントに分けることで、役割ごとに責任を持たせることができます。\u003c/p\u003e\n\u003ctable data-sourcepos=\"58:1-61:104\"\u003e\n\u003cthead\u003e\n\u003ctr data-sourcepos=\"58:1-58:30\"\u003e\n\u003cth data-sourcepos=\"58:2-58:22\"\u003eコンポーネント\u003c/th\u003e\n\u003cth data-sourcepos=\"58:24-58:29\"\u003e役割\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr data-sourcepos=\"60:1-60:88\"\u003e\n\u003ctd data-sourcepos=\"60:2-60:13\"\u003e\u003cstrong\u003emy-todos\u003c/strong\u003e\u003c/td\u003e\n\u003ctd data-sourcepos=\"60:15-60:87\"\u003e自分のtodoの一覧を取得し、親コンポーネントに伝える\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"61:1-61:104\"\u003e\n\u003ctd data-sourcepos=\"61:2-61:18\"\u003e\u003cstrong\u003elist-renderer\u003c/strong\u003e\u003c/td\u003e\n\u003ctd data-sourcepos=\"61:20-61:103\"\u003e材料(todoのid一覧)を受け取り、リストスタイルでtodoを描画する\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3 data-sourcepos=\"63:1-63:22\"\u003e\n\u003cspan id=\"実装イメージ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装イメージ\u003c/h3\u003e\n\u003cp data-sourcepos=\"65:1-65:74\"\u003e\u003ccode\u003eLit\u003c/code\u003eで実装するイメージとしては以下のような感じです\u003c/p\u003e\n\u003ch4 data-sourcepos=\"67:1-67:50\"\u003e\n\u003cspan id=\"親コンポーネント呼び出し側\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A6%AA%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97%E5%81%B4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e親コンポーネント（呼び出し側）\u003c/h4\u003e\n\u003cp data-sourcepos=\"68:1-68:163\"\u003e親コンポーネントではイベントリスナーを設定し、\u003ccode\u003emy-todos\u003c/code\u003eからtodoのIDの一覧を受け取り、それを\u003ccode\u003elist-renderer\u003c/code\u003eに渡します。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"html\" data-sourcepos=\"70:1-74:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;my-todos\u003c/span\u003e  \u003cspan class=\"err\"\u003e@\u003c/span\u003e\u003cspan class=\"na\"\u003etodo-fetched=\u003c/span\u003e\u003cspan class=\"s\"\u003e${this.handleTodoFetched}\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;list-renderer\u003c/span\u003e \u003cspan class=\"na\"\u003e.ids=\u003c/span\u003e\u003cspan class=\"s\"\u003e${this.todoIds}\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u0026lt;/list-renderer\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/my-todos\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch4 data-sourcepos=\"76:1-76:36\"\u003e\n\u003cspan id=\"my-todosコンポーネント\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#my-todos%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003emy-todos\u003c/code\u003eコンポーネント\u003c/h4\u003e\n\u003cp data-sourcepos=\"77:1-77:154\"\u003e\u003ccode\u003emy-todos\u003c/code\u003eコンポーネントは、\u003ccode\u003efetchTodos\u003c/code\u003e関数を使ってTodoの一覧を取得し、そのID一覧を親コンポーネントに渡します。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"79:1-101:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nf\"\u003econstructor\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003esuper\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003efetchTodos\u003c/span\u003e\u003cspan class=\"p\"\u003e().\u003c/span\u003e\u003cspan class=\"nf\"\u003ethen\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eevent\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eCustomEvent\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003etodo-fetched\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"na\"\u003edetail\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eids\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eids\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003edispatchEvent\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"nf\"\u003erender\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003ehtml\u003c/span\u003e\u003cspan class=\"s2\"\u003e`\n    \u0026lt;div\u0026gt;\n      \u0026lt;slot\u0026gt;\u0026lt;/slot\u0026gt;\n    \u0026lt;/div\u0026gt;\n  `\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch4 data-sourcepos=\"103:1-103:41\"\u003e\n\u003cspan id=\"list-rendererコンポーネント\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#list-renderer%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003elist-renderer\u003c/code\u003eコンポーネント\u003c/h4\u003e\n\u003cp data-sourcepos=\"105:1-105:94\"\u003e受け取ったTodoのID一覧をもとに、リストスタイルでTodoを描画します。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"107:1-116:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  \u003cspan class=\"p\"\u003e@\u003c/span\u003e\u003cspan class=\"nd\"\u003eproperty\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e \u003cspan class=\"na\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eArray\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003eids\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"kd\"\u003eas \u003c/span\u003e\u003cspan class=\"kr\"\u003enumber\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003erender\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003ehtml\u003c/span\u003e\u003cspan class=\"s2\"\u003e`\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eids\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ehtml\u003c/span\u003e\u003cspan class=\"s2\"\u003e` \u0026lt;todo-list .todoId=\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\u0026gt;\u0026lt;/todo-list\u0026gt;`\u003c/span\u003e\u003cspan class=\"p\"\u003e)}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n    `\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch2 data-sourcepos=\"118:1-118:15\"\u003e\n\u003cspan id=\"メリット\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eメリット\u003c/h2\u003e\n\u003cp data-sourcepos=\"120:1-120:296\"\u003eこのアプローチでは、\u003ccode\u003elist-renderer\u003c/code\u003eを例えば\u003ccode\u003ecard-renderer\u003c/code\u003eに置き換えるだけで、カードタイプのデザインに切り替えることができます。また、\u003ccode\u003emy-todos\u003c/code\u003eを\u003ccode\u003eteam-todos\u003c/code\u003eに置き換えることで、チームのTodoを表示することができます。\u003c/p\u003e\n\u003cp data-sourcepos=\"122:1-122:183\"\u003eこのように、コンポーネントを単一責任で分け、差異だけを変更することで、新しいユースケースに柔軟に対応できるようになります。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"124:1-124:9\"\u003e\n\u003cspan id=\"結論\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%90%E8%AB%96\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e結論\u003c/h2\u003e\n\u003cp data-sourcepos=\"126:1-126:176\"\u003eWeb Componentsの再利用性を高めるためには、コンポーネントの責務を分け、柔軟にカスタマイズできる仕組みを提供することが重要。\u003c/p\u003e\n\u003cp data-sourcepos=\"128:1-128:180\"\u003e\u003ccode\u003eslot\u003c/code\u003eとカスタムイベントを活用することで、再利用性を保ちながら、デザインやデータの変更にも簡単に対応できるようになります。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"130:1-130:27\"\u003e\n\u003cspan id=\"ソースコードなど\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AA%E3%81%A9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eソースコードなど\u003c/h2\u003e\n\u003cp data-sourcepos=\"132:1-132:31\"\u003e\u003cstrong\u003e実装してみたサイト\u003c/strong\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"134:1-134:45\"\u003e\u003ciframe id=\"qiita-embed-content__668656dfc7c91f39aa043b279debbf0c\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__668656dfc7c91f39aa043b279debbf0c\" data-content=\"https%3A%2F%2Fwebcomponent-renderer-play.vercel.app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"136:1-136:22\"\u003e\u003cstrong\u003eソースコード\u003c/strong\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"138:1-138:54\"\u003e\u003ciframe id=\"qiita-embed-content__9a1c1dbf2d0804f10f9a75d28e315b18\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__9a1c1dbf2d0804f10f9a75d28e315b18\" data-content=\"https%3A%2F%2Fgithub.com%2Fmaaaashi%2Fwebcomponent-renderer-play\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n",
    "body": "Web Componentsを使ってマイクロフロントエンドを実現する方法は多くのプロジェクトで採用されています。\n\n私も仕事でWeb Componentsを扱っていますが、再利用性の部分で課題を感じており、その解決策をこのブログで提案したいと思います。\n\n## 再利用性の課題感\n\n例えば以下のようなコンポーネントを想像します\n\n```html\n\u003ch1\u003eMy Todo\u003c/h1\u003e\n\u003cmy-todos\u003e\u003c/my-todos\u003e\n```\n\n![スクリーンショット 2024-12-31 14.22.02.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/c09a9cba-03e6-2732-28c8-1ad59d593554.png)\n\nこの`my-todos`コンポーネントは、`todo`の一覧を表示するコンポーネントで、JavaScriptのファイルを読み込むことで、どのサイトでも簡単にこのカスタムエレメントを使用することができます。また、適切にCSSを実装することで、レイアウトも調整できます。\n\nただ、これは本当に再利用性が高いと言えるのでしょうか？\n\n例えば以下のようなユースケースではどうでしょうか\n\n1. **リストスタイルのデザインではなく、カードタイプのデザインが必要な場合**\n1. **リストスタイルはそのままで良いが、個人のTodoではなく、TeamのTodoを表示したい場合**\n\nこれらのニーズを満たすために、my-todosコンポーネントにプロパティを追加することを考えるかもしれません。\n\n例えば、\n\n```html\n\u003c!-- カードスタイルのデザインということをプロパティで伝える --\u003e\n\u003cmy-todos design=\"card\"\u003e\u003c/my-todos\u003e\n```\n\nまたは、\n\n```html\n\u003c!-- teamのtodoということをプロパティで伝える --\u003e\n\u003cmy-todos type=\"team\"\u003e\u003c/my-todos\u003e\n```\n\nこれらのアプローチでは、プロパティを増やすことでユースケースに対応しようとしますが、元々のシンプルな再利用性が失われてしまうことになります。\n`my-todos`という名前のコンポーネントで、チームのTodoを表示するという矛盾が生じてしまいます。\n\nまた、プロパティを追加することを避けて、ゼロから新しいコンポーネントを作る選択肢を取る場合、車輪の再発明が避けられず、開発が非効率になることが多いです。\n\n## 解決策\n\nそこで、今日紹介する解決策というのは、「**slot**に**todo**を表示する**レンダラー**を注入する」というアプローチです。\n\nこの方法により、コンポーネント間の柔軟な切り替えが可能になり、再利用性を損なうことなく、異なるデザインやユースケースに対応できます。\n\n### コンポーネントの分割\n\nまず、先ほどの`my-todos`コンポーネントをどう分割するかを考えます。\n\n`my-todos`コンポーネントの主な役割は「自分のTodoの一覧を取得して表示すること」です。この2つの機能を別々のコンポーネントに分けることで、役割ごとに責任を持たせることができます。\n\n|コンポーネント|役割|\n|----|----|\n|**my-todos**|自分のtodoの一覧を取得し、親コンポーネントに伝える|\n|**list-renderer**|材料(todoのid一覧)を受け取り、リストスタイルでtodoを描画する|\n\n### 実装イメージ\n\n`Lit`で実装するイメージとしては以下のような感じです\n\n#### 親コンポーネント（呼び出し側）\n親コンポーネントではイベントリスナーを設定し、`my-todos`からtodoのIDの一覧を受け取り、それを`list-renderer`に渡します。\n\n```html\n\u003cmy-todos  @todo-fetched=${this.handleTodoFetched}\u003e\n  \u003clist-renderer .ids=${this.todoIds}\u003e\u003c/list-renderer\u003e\n\u003c/my-todos\u003e\n```\n\n#### `my-todos`コンポーネント\n`my-todos`コンポーネントは、`fetchTodos`関数を使ってTodoの一覧を取得し、そのID一覧を親コンポーネントに渡します。\n\n```typescript\nconstructor() {\n  super()\n\n  fetchTodos().then((data) =\u003e {\n    const event = new CustomEvent('todo-fetched', {\n      detail: {\n        ids: data.ids,\n      },\n    })\n\n    this.dispatchEvent(event)\n  })\n}\n\nrender() {\n  return html`\n    \u003cdiv\u003e\n      \u003cslot\u003e\u003c/slot\u003e\n    \u003c/div\u003e\n  `\n}\n```\n\n#### `list-renderer`コンポーネント\n\n受け取ったTodoのID一覧をもとに、リストスタイルでTodoを描画します。\n\n```typescript\n  @property({ type: Array })\n  ids = [] as number[]\n\n  render() {\n    return html`\n      ${this.ids.map((id) =\u003e html` \u003ctodo-list .todoId=${id}\u003e\u003c/todo-list\u003e`)}\n    `\n  }\n```\n\n## メリット\n\nこのアプローチでは、`list-renderer`を例えば`card-renderer`に置き換えるだけで、カードタイプのデザインに切り替えることができます。また、`my-todos`を`team-todos`に置き換えることで、チームのTodoを表示することができます。\n\nこのように、コンポーネントを単一責任で分け、差異だけを変更することで、新しいユースケースに柔軟に対応できるようになります。\n\n## 結論\n\nWeb Componentsの再利用性を高めるためには、コンポーネントの責務を分け、柔軟にカスタマイズできる仕組みを提供することが重要。\n\n`slot`とカスタムイベントを活用することで、再利用性を保ちながら、デザインやデータの変更にも簡単に対応できるようになります。\n\n## ソースコードなど\n\n**実装してみたサイト**\n\nhttps://webcomponent-renderer-play.vercel.app\n\n**ソースコード**\n\nhttps://github.com/maaaashi/webcomponent-renderer-play\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2025-01-02T02:16:31+09:00",
    "group": null,
    "id": "3376cdd0b6ee75c634eb",
    "likes_count": 1,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "JavaScript", "versions": [] },
      { "name": "TypeScript", "versions": [] },
      { "name": "WebComponents", "versions": [] },
      { "name": "Lit", "versions": [] }
    ],
    "title": "再利用性を高めたWeb Components",
    "updated_at": "2025-01-02T02:17:15+09:00",
    "url": "https://qiita.com/maaaashi/items/3376cdd0b6ee75c634eb",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:79\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 25\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"5:1-5:83\"\u003e昨日は親子関係のデータをDBに入れられるようになりました。\u003c/p\u003e\n\u003cp data-sourcepos=\"7:1-7:71\"\u003e今日はQiitaのRSS受信ができるようにしようと思います\u003c/p\u003e\n\u003ch2 data-sourcepos=\"9:1-9:36\"\u003e\n\u003cspan id=\"ライブラリのインポート\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%81%AE%E3%82%A4%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eライブラリのインポート\u003c/h2\u003e\n\u003cp data-sourcepos=\"11:1-11:90\"\u003eRSSを受信し、xmlを扱うために幾つかのライブラリを入れていきます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"13:1-22:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eclojure-rss-reader.handler.feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:require\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eataraxy.response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eintegrant.core\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eig\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003e...\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eclj-http.client\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehttp\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e; 追加\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eclojure.zip\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezip\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e; 追加\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eclojure.data.xml\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003exml\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e; 追加\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eclojure.data.zip.xml\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e; 追加))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ctable data-sourcepos=\"24:1-29:103\"\u003e\n\u003cthead\u003e\n\u003ctr data-sourcepos=\"24:1-24:24\"\u003e\n\u003cth data-sourcepos=\"24:2-24:16\"\u003eライブラリ\u003c/th\u003e\n\u003cth data-sourcepos=\"24:18-24:23\"\u003e用途\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr data-sourcepos=\"26:1-26:84\"\u003e\n\u003ctd data-sourcepos=\"26:2-26:18\"\u003e\u003ccode\u003eclj-http.client\u003c/code\u003e\u003c/td\u003e\n\u003ctd data-sourcepos=\"26:20-26:83\"\u003eHTTPリクエストを送信し、レスポンスを受け取る\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"27:1-27:67\"\u003e\n\u003ctd data-sourcepos=\"27:2-27:14\"\u003e\u003ccode\u003eclojure.zip\u003c/code\u003e\u003c/td\u003e\n\u003ctd data-sourcepos=\"27:16-27:66\"\u003eデータ構造（特に木構造）を操作する\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"28:1-28:66\"\u003e\n\u003ctd data-sourcepos=\"28:2-28:19\"\u003e\u003ccode\u003eclojure.data.xml\u003c/code\u003e\u003c/td\u003e\n\u003ctd data-sourcepos=\"28:21-28:65\"\u003eXMLデータの生成、解析、操作する\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"29:1-29:103\"\u003e\n\u003ctd data-sourcepos=\"29:2-29:25\"\u003e\u003ccode\u003eclojure.data.zip.xml\u003c/code\u003e\u003c/td\u003e\n\u003ctd data-sourcepos=\"29:27-29:102\"\u003e\n\u003ccode\u003eclojure.zip\u003c/code\u003eと組み合わせて、XMLデータを効率的に操作する\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp data-sourcepos=\"31:1-31:90\"\u003eではこれらのライブラリを使ってRSSリーダーを完成させていきます\u003c/p\u003e\n\u003ch2 data-sourcepos=\"33:1-33:22\"\u003e\n\u003cspan id=\"rss-readerの実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#rss-reader%E3%81%AE%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eRSS Readerの実装\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"35:1-68:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eclojure-rss-reader.handler.feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:require\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eclj-http.client\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehttp\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eclojure.zip\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezip\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eclojure.data.xml\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003exml\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eclojure.data.zip.xml\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx\u003c/span\u003e\u003cspan class=\"p\"\u003e]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efetch-rss\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ehttp/get\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:text\u003c/span\u003e\u003cspan class=\"p\"\u003e})))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezipper\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003erss-content\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003erss-content\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003exml/parse-str\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezip/xml-zip\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eextract-articles\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eentry\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml1-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eentry\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx/text\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml1-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eentry\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx/text\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003econtent\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml1-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eentry\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:content\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx/text\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003eauthor\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml1-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eentry\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:author\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx/text\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003epublished\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml1-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eentry\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:published\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx/text\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e\n     \u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"w\"\u003e\n     \u003c/span\u003e\u003cspan class=\"no\"\u003e:content\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003econtent\u003c/span\u003e\u003cspan class=\"w\"\u003e\n     \u003c/span\u003e\u003cspan class=\"no\"\u003e:author\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eauthor\u003c/span\u003e\u003cspan class=\"w\"\u003e\n     \u003c/span\u003e\u003cspan class=\"no\"\u003e:published\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003epublished\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eextract-feed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ezipper\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml1-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezipper\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx/text\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003edescription\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml1-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezipper\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:description\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx/text\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003eentries\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezipper\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:entry\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003earticles\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003emap\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eextract-articles\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eentries\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:description\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edescription\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:articles\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003earticles\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"70:1-70:36\"\u003eこんな感じで実装しました\u003c/p\u003e\n\u003cp data-sourcepos=\"72:1-72:30\"\u003e少しだけ解説をします\u003c/p\u003e\n\u003ch3 data-sourcepos=\"74:1-74:13\"\u003e\n\u003cspan id=\"fetch-rss\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#fetch-rss\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003efetch-rss\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"76:1-79:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efetch-rss\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ehttp/get\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:text\u003c/span\u003e\u003cspan class=\"p\"\u003e})))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"81:1-81:124\"\u003eこれは\u003ccode\u003eclj-http.client\u003c/code\u003eを使って、与えられた\u003ccode\u003eurl\u003c/code\u003eから、レスポンステキストを取得する関数です\u003c/p\u003e\n\u003ch3 data-sourcepos=\"83:1-83:10\"\u003e\n\u003cspan id=\"zipper\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#zipper\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ezipper\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"85:1-90:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezipper\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003erss-content\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003erss-content\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003exml/parse-str\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezip/xml-zip\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"92:1-94:94\"\u003eこれは\u003ccode\u003exml\u003c/code\u003eのテキストを受け取り、\u003cbr\u003e\n\u003ccode\u003eclojure.data.xml\u003c/code\u003eの\u003ccode\u003eparse-str\u003c/code\u003eを使ってClojureのデータ構造に変換し、\u003cbr\u003e\nさらに\u003ccode\u003eclojure.zip\u003c/code\u003eの\u003ccode\u003exml-zip\u003c/code\u003eを使ってXMLのツリー構造に変換する関数です\u003c/p\u003e\n\u003ch3 data-sourcepos=\"96:1-96:20\"\u003e\n\u003cspan id=\"extract-articles\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#extract-articles\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eextract-articles\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"98:1-110:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eextract-articles\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eentry\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml1-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eentry\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx/text\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml1-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eentry\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx/text\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003econtent\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml1-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eentry\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:content\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx/text\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003eauthor\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml1-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eentry\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:author\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx/text\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003epublished\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml1-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eentry\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:published\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx/text\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e\n     \u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"w\"\u003e\n     \u003c/span\u003e\u003cspan class=\"no\"\u003e:content\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003econtent\u003c/span\u003e\u003cspan class=\"w\"\u003e\n     \u003c/span\u003e\u003cspan class=\"no\"\u003e:author\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eauthor\u003c/span\u003e\u003cspan class=\"w\"\u003e\n     \u003c/span\u003e\u003cspan class=\"no\"\u003e:published\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003epublished\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"112:1-114:66\"\u003eこれは \u003ccode\u003exml\u003c/code\u003eデータから、記事の情報である、\u003cbr\u003e\n\u003ccode\u003etitle\u003c/code\u003e, \u003ccode\u003eurl\u003c/code\u003e, \u003ccode\u003econtent\u003c/code\u003e, \u003ccode\u003eauthor\u003c/code\u003e, \u003ccode\u003epublished\u003c/code\u003eを抽出する関数です\u003cbr\u003e\n抽出には\u003ccode\u003eclojure.data.zip.xml\u003c/code\u003eの\u003ccode\u003exml1-\u0026gt;\u003c/code\u003eを使っています\u003c/p\u003e\n\u003ch3 data-sourcepos=\"116:1-116:16\"\u003e\n\u003cspan id=\"extract-feed\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#extract-feed\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eextract-feed\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"118:1-125:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eextract-feed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ezipper\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml1-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezipper\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx/text\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003edescription\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml1-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezipper\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:description\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx/text\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003eentries\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezipper\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:entry\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003earticles\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003emap\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eextract-articles\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eentries\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:description\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edescription\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:articles\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003earticles\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"127:1-129:91\"\u003eこれは、\u003ccode\u003exml\u003c/code\u003eデータからデータを抽出する関数です\u003cbr\u003e\n\u003ccode\u003etitle\u003c/code\u003e, \u003ccode\u003edescription\u003c/code\u003eに関しては\u003ccode\u003eclojure.data.zip.xml\u003c/code\u003eの\u003ccode\u003exml1-\u0026gt;\u003c/code\u003eを使い1件抽出し、\u003cbr\u003e\n\u003ccode\u003eentry\u003c/code\u003eに関しては\u003ccode\u003eclojure.data.zip.xml\u003c/code\u003eの\u003ccode\u003exml-\u0026gt;\u003c/code\u003eを使ってN件取得しています\u003c/p\u003e\n\u003cp data-sourcepos=\"131:1-131:134\"\u003eN件取得できた\u003ccode\u003eentry\u003c/code\u003eを\u003ccode\u003emap\u003c/code\u003eで先ほどの\u003ccode\u003eextract-articles\u003c/code\u003eの関数にそれぞれ渡して\u003ccode\u003earticles\u003c/code\u003eを作成しています\u003c/p\u003e\n\u003cp data-sourcepos=\"133:1-133:102\"\u003eこれらと昨日までのDBアクセスを組み合わせて、RSS Readerを完成させてみます\u003c/p\u003e\n\u003ch2 data-sourcepos=\"135:1-135:19\"\u003e\n\u003cspan id=\"rss-reader完成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#rss-reader%E5%AE%8C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eRSS Reader完成\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"137:1-226:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ehandler/feeds.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eclojure-rss-reader.handler.feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:require\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eataraxy.response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eintegrant.core\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eig\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003enext.jdbc\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ejdbc\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003enext.jdbc.result-set\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ers\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ehoney.sql\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003esql\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eclj-http.client\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehttp\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eclojure.zip\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezip\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eclojure.data.xml\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003exml\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eclojure.data.zip.xml\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx\u003c/span\u003e\u003cspan class=\"p\"\u003e]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eselect-feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esql/format\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:select\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:*\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                               \u003c/span\u003e\u003cspan class=\"no\"\u003e:from\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:feed\u003c/span\u003e\u003cspan class=\"p\"\u003e]}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eselect-articles\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keys\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]}]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esql/format\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:select\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:*\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:from\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:article\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:where\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:=\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:feed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eget-feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003efeeds\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejdbc/execute!\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eselect-feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:builder-fn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ers/as-unqualified-lower-maps\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003efeeds-articles\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003emap\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e#\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003e-\u0026gt;\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejdbc/execute!\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eselect-articles\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:builder-fn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ers/as-unqualified-lower-maps\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                                  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eassoc\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e%\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:articles\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efeeds\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efeeds-articles\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefmethod\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eig/init-key\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e::get\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keys\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003espec\u003c/span\u003e\u003cspan class=\"p\"\u003e]}\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:db\u003c/span\u003e\u003cspan class=\"p\"\u003e}]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003efn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e::response/ok\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eget-feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003espec\u003c/span\u003e\u003cspan class=\"p\"\u003e)]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efetch-rss\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ehttp/get\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:text\u003c/span\u003e\u003cspan class=\"p\"\u003e})))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezipper\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003erss-content\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003erss-content\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003exml/parse-str\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezip/xml-zip\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eextract-articles\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eentry\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml1-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eentry\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx/text\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml1-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eentry\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx/text\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003econtent\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml1-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eentry\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:content\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx/text\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003eauthor\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml1-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eentry\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:author\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx/text\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003epublicshed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml1-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eentry\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:published\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx/text\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e\n     \u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"w\"\u003e\n     \u003c/span\u003e\u003cspan class=\"no\"\u003e:content\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003econtent\u003c/span\u003e\u003cspan class=\"w\"\u003e\n     \u003c/span\u003e\u003cspan class=\"no\"\u003e:author\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eauthor\u003c/span\u003e\u003cspan class=\"w\"\u003e\n     \u003c/span\u003e\u003cspan class=\"no\"\u003e:published\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003epublicshed\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eextract-feed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ezipper\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml1-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezipper\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx/text\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003edescription\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml1-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezipper\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:description\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezx/text\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003eentries\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezx/xml-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ezipper\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:entry\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003earticles\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003emap\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eextract-articles\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eentries\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:description\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edescription\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:articles\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003earticles\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003einsert-article\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keys\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003efeed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003econtent\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eauthor\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003epublished\u003c/span\u003e\u003cspan class=\"p\"\u003e]}]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esql/format\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:insert-into\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:article\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:columns\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:feed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:content\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:author\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:published_at\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:values\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:feed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efeed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:content\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003econtent\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:author\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eauthor\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:published_at\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003epublished\u003c/span\u003e\u003cspan class=\"p\"\u003e}]}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eregister-articles\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keys\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003efeed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003earticles\u003c/span\u003e\u003cspan class=\"p\"\u003e]}]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003edoall\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003emap\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e#\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejdbc/execute!\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003einsert-article\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eassoc\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e%\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:feed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efeed_id\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003earticles\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003einsert-feed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keys\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edescription\u003c/span\u003e\u003cspan class=\"p\"\u003e]}]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esql/format\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:insert-into\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:feed\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:columns\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:description\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:values\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:description\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edescription\u003c/span\u003e\u003cspan class=\"p\"\u003e}]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:returning\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:id\u003c/span\u003e\u003cspan class=\"p\"\u003e]}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eregister-feed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efeed-data\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003efeed-ids\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejdbc/execute!\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003einsert-feed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efeed-data\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:builder-fn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ers/as-unqualified-lower-maps\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efeed-ids\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003efirst\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:id\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eregister-articles\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eassoc\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efeed-data\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:feed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e))))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003epost-feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keys\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e]}\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:body-params\u003c/span\u003e\u003cspan class=\"p\"\u003e}]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003efetch-rss\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003ez\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ezipper\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ec\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eextract-feed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ez\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eassoc\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eregister-feed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e::response/ok\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:message\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"OK\"\u003c/span\u003e\u003cspan class=\"p\"\u003e}])\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefmethod\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eig/init-key\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e::post\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keys\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003espec\u003c/span\u003e\u003cspan class=\"p\"\u003e]}\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:db\u003c/span\u003e\u003cspan class=\"p\"\u003e}]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003epartial\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003epost-feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003espec\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"228:1-229:46\"\u003e\u003ccode\u003ePOST: /v1/feeds\u003c/code\u003eに受信したいRSSのURLを送り、\u003cbr\u003e\n\u003ccode\u003eGET: /v1/feeds\u003c/code\u003eで情報を取得できます\u003c/p\u003e\n\u003cp data-sourcepos=\"231:1-231:45\"\u003e実際にリクエストを送ってみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"233:1-239:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl \u003cspan class=\"nt\"\u003e-X\u003c/span\u003e POST http://localhost:3000/v1/feeds \u003cspan class=\"nt\"\u003e-H\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Content-Type: application/json\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"s1\"\u003e'{ \"url\": \"https://qiita.com/tags/clojure/feed\" }'\u003c/span\u003e\n\u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"message\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"OK\"\u003c/span\u003e\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl http://localhost:3000/v1/feeds       \n\u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"feeds\"\u003c/span\u003e:[\u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"id\"\u003c/span\u003e:1,\u003cspan class=\"s2\"\u003e\"url\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"https://qiita.com/tags/clojure/feed\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"title\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"Clojureタグが付けられた新着記事 - Qiita\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"description\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"QiitaでClojureタグが付けられた新着記事\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"articles\"\u003c/span\u003e:[\u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"id\"\u003c/span\u003e:1,\u003cspan class=\"s2\"\u003e\"feed_id\"\u003c/span\u003e:1,\u003cspan class=\"s2\"\u003e\"title\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"Clojure: DuctでRSSリーダーを作る - HoneySQLその２\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"url\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"https://qiita.com/maaaashi/items/07d5ba7148a5cbe19637\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"content\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\" Advent Calendar 2024 Day 24 昨日はHoneySQLを導入し、SQLクエリをClojureのデータ構造（マップやベクター）として構築できるようになりました 今日は親子関係…\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"author\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"maaaashi\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"published_at\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"2024-12-24T07:03:58+09:00\"\u003c/span\u003e\u003cspan class=\"o\"\u003e}\u003c/span\u003e,\u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"id\"\u003c/span\u003e:2,\u003cspan class=\"s2\"\u003e\"feed_id\"\u003c/span\u003e:1,\u003cspan class=\"s2\"\u003e\"title\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"Clojure: DuctでRSSリーダーを作る - HoneySQL\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"url\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"https://qiita.com/maaaashi/items/5d9f5d8ced8c5f0ecad5\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"content\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\" Advent Calendar 2024 Day 23 昨日は環境変数を扱いました。 今日はよりDBからのデータ取得周りを改善してみます HoneySQLというSQLクエリをClojureのデータ…\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"author\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"maaaashi\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"published_at\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"2024-12-23T07:04:04+09:00\"\u003c/span\u003e\u003cspan class=\"o\"\u003e}\u003c/span\u003e,\u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"id\"\u003c/span\u003e:3,\u003cspan class=\"s2\"\u003e\"feed_id\"\u003c/span\u003e:1,\u003cspan class=\"s2\"\u003e\"title\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"Clojure: DuctでRSSリーダーを作る - 環境変数\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"url\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"https://qiita.com/maaaashi/items/525d676aba72872aac19\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"content\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\" Advent Calendar 2024 Day 22 昨日は以下のようにDB接続を設定しました。 :duct.database.sql/hikaricp {:adapter \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\"\u003c/span\u003e\u003cspan class=\"s2\"\u003epostgresq…\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"author\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"maaaashi\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"published_at\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"2024-12-22T07:03:53+09:00\"\u003c/span\u003e\u003cspan class=\"o\"\u003e}\u003c/span\u003e,\u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"id\"\u003c/span\u003e:4,\u003cspan class=\"s2\"\u003e\"feed_id\"\u003c/span\u003e:1,\u003cspan class=\"s2\"\u003e\"title\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"Clojure: DuctでRSSリーダーを作る - DB接続(HikariCP, Jdbc)\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"url\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"https://qiita.com/maaaashi/items/32fee6a9b924d31e4c9a\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"content\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\" Advent Calendar 2024 Day 21 昨日はDuctでルーティングを実装しました 今日はDB接続したいと思います。 今回の記事ではpostgresqlに接続しますが、 DBの立ち…\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"author\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"maaaashi\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"published_at\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"2024-12-21T23:45:41+09:00\"\u003c/span\u003e\u003cspan class=\"o\"\u003e}]}]}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"241:1-241:89\"\u003eいい感じに\u003ccode\u003eclojure\u003c/code\u003eのtagがついてqiitaの記事が保存・取得できました\u003c/p\u003e\n\u003cp data-sourcepos=\"243:1-243:52\"\u003eこれで簡単にですがRSS Readerの完成です\u003c/p\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 25*](https://qiita.com/advent-calendar/2024/clojure)\n\n昨日は親子関係のデータをDBに入れられるようになりました。\n\n今日はQiitaのRSS受信ができるようにしようと思います\n\n## ライブラリのインポート\n\nRSSを受信し、xmlを扱うために幾つかのライブラリを入れていきます\n\n```clojure\n(ns clojure-rss-reader.handler.feeds\n  (:require [ataraxy.response :as response]\n            [integrant.core :as ig]\n            [...]\n            [clj-http.client :as http] ; 追加\n            [clojure.zip :as zip] ; 追加\n            [clojure.data.xml :as xml] ; 追加\n            [clojure.data.zip.xml :as zx] ; 追加))\n```\n\n|ライブラリ|用途|\n|----|----|\n|`clj-http.client`|HTTPリクエストを送信し、レスポンスを受け取る|\n|`clojure.zip`|データ構造（特に木構造）を操作する|\n|`clojure.data.xml`|XMLデータの生成、解析、操作する|\n|`clojure.data.zip.xml`  |`clojure.zip`と組み合わせて、XMLデータを効率的に操作する|\n\nではこれらのライブラリを使ってRSSリーダーを完成させていきます\n\n## RSS Readerの実装\n\n```clojure\n(ns clojure-rss-reader.handler.feeds\n  (:require [clj-http.client :as http]\n            [clojure.zip :as zip]\n            [clojure.data.xml :as xml]\n            [clojure.data.zip.xml :as zx]))\n\n(defn fetch-rss [url]\n  (:body (http/get url {:as :text})))\n\n(defn zipper [rss-content]\n  (-\u003e rss-content\n      (xml/parse-str)\n      (zip/xml-zip)))\n\n(defn extract-articles [entry]\n  (let [title (zx/xml1-\u003e entry :title zx/text)\n        url (zx/xml1-\u003e entry :url zx/text)\n        content (zx/xml1-\u003e entry :content zx/text)\n        author (zx/xml1-\u003e entry :author zx/text)\n        published (zx/xml1-\u003e entry :published zx/text)]\n    {:title title\n     :url url\n     :content content\n     :author author\n     :published published}))\n\n(defn extract-feed [zipper]\n  (let [title (zx/xml1-\u003e zipper :title zx/text)\n        description (zx/xml1-\u003e zipper :description zx/text)\n        entries (zx/xml-\u003e zipper :entry)\n        articles (map extract-articles entries)]\n    {:title title :description description :articles articles}))\n```\n\nこんな感じで実装しました\n\n少しだけ解説をします\n\n### fetch-rss\n\n```clojure\n(defn fetch-rss [url]\n  (:body (http/get url {:as :text})))\n```\n\nこれは`clj-http.client`を使って、与えられた`url`から、レスポンステキストを取得する関数です\n\n### zipper\n\n```clojure\n(defn zipper [rss-content]\n  (-\u003e rss-content\n      (xml/parse-str)\n      (zip/xml-zip)))\n```\n\nこれは`xml`のテキストを受け取り、\n`clojure.data.xml`の`parse-str`を使ってClojureのデータ構造に変換し、\nさらに`clojure.zip`の`xml-zip`を使ってXMLのツリー構造に変換する関数です\n\n### extract-articles\n\n```clojure\n(defn extract-articles [entry]\n  (let [title (zx/xml1-\u003e entry :title zx/text)\n        url (zx/xml1-\u003e entry :url zx/text)\n        content (zx/xml1-\u003e entry :content zx/text)\n        author (zx/xml1-\u003e entry :author zx/text)\n        published (zx/xml1-\u003e entry :published zx/text)]\n    {:title title\n     :url url\n     :content content\n     :author author\n     :published published}))\n```\n\nこれは `xml`データから、記事の情報である、\n`title`, `url`, `content`, `author`, `published`を抽出する関数です\n抽出には`clojure.data.zip.xml`の`xml1-\u003e`を使っています\n\n### extract-feed\n\n```clojure\n(defn extract-feed [zipper]\n  (let [title (zx/xml1-\u003e zipper :title zx/text)\n        description (zx/xml1-\u003e zipper :description zx/text)\n        entries (zx/xml-\u003e zipper :entry)\n        articles (map extract-articles entries)]\n    {:title title :description description :articles articles}))\n```\n\nこれは、`xml`データからデータを抽出する関数です\n`title`, `description`に関しては`clojure.data.zip.xml`の`xml1-\u003e`を使い1件抽出し、\n`entry`に関しては`clojure.data.zip.xml`の`xml-\u003e`を使ってN件取得しています\n\nN件取得できた`entry`を`map`で先ほどの`extract-articles`の関数にそれぞれ渡して`articles`を作成しています\n\nこれらと昨日までのDBアクセスを組み合わせて、RSS Readerを完成させてみます\n\n## RSS Reader完成\n\n```clojure:handler/feeds.clj\n(ns clojure-rss-reader.handler.feeds\n  (:require [ataraxy.response :as response]\n            [integrant.core :as ig]\n            [next.jdbc :as jdbc]\n            [next.jdbc.result-set :as rs]\n            [honey.sql :as sql]\n            [clj-http.client :as http]\n            [clojure.zip :as zip]\n            [clojure.data.xml :as xml]\n            [clojure.data.zip.xml :as zx]))\n\n(def select-feeds (sql/format {:select [:*]\n                               :from [:feed]}))\n\n(defn select-articles [{:keys [id]}]\n  (sql/format {:select [:*]\n               :from [:article]\n               :where [:= :feed_id id]}))\n\n(defn get-feeds [db]\n  (let [feeds (jdbc/execute! db select-feeds {:builder-fn rs/as-unqualified-lower-maps})\n        feeds-articles (map #(-\u003e\u003e (jdbc/execute! db (select-articles %) {:builder-fn rs/as-unqualified-lower-maps})\n                                  (assoc % :articles)) feeds)]\n    {:feeds feeds-articles}))\n\n(defmethod ig/init-key ::get [_ {{:keys [spec]} :db}]\n  (fn [_]\n    [::response/ok (get-feeds spec)]))\n\n\n(defn fetch-rss [url]\n  (:body (http/get url {:as :text})))\n\n(defn zipper [rss-content]\n  (-\u003e rss-content\n      (xml/parse-str)\n      (zip/xml-zip)))\n\n(defn extract-articles [entry]\n  (let [title (zx/xml1-\u003e entry :title zx/text)\n        url (zx/xml1-\u003e entry :url zx/text)\n        content (zx/xml1-\u003e entry :content zx/text)\n        author (zx/xml1-\u003e entry :author zx/text)\n        publicshed (zx/xml1-\u003e entry :published zx/text)]\n    {:title title\n     :url url\n     :content content\n     :author author\n     :published publicshed}))\n\n(defn extract-feed [zipper]\n  (let [title (zx/xml1-\u003e zipper :title zx/text)\n        description (zx/xml1-\u003e zipper :description zx/text)\n        entries (zx/xml-\u003e zipper :entry)\n        articles (map extract-articles entries)]\n    {:title title :description description :articles articles}))\n\n(defn insert-article [{:keys [feed_id title url content author published]}]\n  (sql/format {:insert-into\n               :article\n               :columns [:feed_id :title :url :content :author :published_at]\n               :values [{:feed_id feed_id :title title :url url :content content :author author :published_at published}]}))\n\n(defn register-articles [db {:keys [feed_id articles]}]\n  (doall (map #(jdbc/execute! db (insert-article (assoc % :feed_id feed_id))) articles)))\n\n(defn insert-feed [{:keys [url title description]}]\n  (sql/format {:insert-into\n               :feed\n               :columns [:url :title :description]\n               :values [{:url url :title title :description description}]\n               :returning [:id]}))\n\n(defn register-feed [db feed-data]\n  (let [feed-ids (jdbc/execute! db (insert-feed feed-data) {:builder-fn rs/as-unqualified-lower-maps})\n        id (-\u003e feed-ids first :id)]\n    (register-articles db (assoc feed-data :feed_id id))))\n\n(defn post-feeds [db {{:keys [url]} :body-params}]\n  (let [c (fetch-rss url)\n        z (zipper c)\n        f (extract-feed z)\n        data (assoc f :url url)]\n    (register-feed db data))\n  [::response/ok {:message \"OK\"}])\n\n(defmethod ig/init-key ::post [_ {{:keys [spec]} :db}]\n  (partial post-feeds spec))\n```\n\n`POST: /v1/feeds`に受信したいRSSのURLを送り、\n`GET: /v1/feeds`で情報を取得できます\n\n実際にリクエストを送ってみます\n\n```bash\n$ curl -X POST http://localhost:3000/v1/feeds -H \"Content-Type: application/json\" -d '{ \"url\": \"https://qiita.com/tags/clojure/feed\" }'\n{\"message\":\"OK\"}\n\n$ curl http://localhost:3000/v1/feeds       \n{\"feeds\":[{\"id\":1,\"url\":\"https://qiita.com/tags/clojure/feed\",\"title\":\"Clojureタグが付けられた新着記事 - Qiita\",\"description\":\"QiitaでClojureタグが付けられた新着記事\",\"articles\":[{\"id\":1,\"feed_id\":1,\"title\":\"Clojure: DuctでRSSリーダーを作る - HoneySQLその２\",\"url\":\"https://qiita.com/maaaashi/items/07d5ba7148a5cbe19637\",\"content\":\" Advent Calendar 2024 Day 24 昨日はHoneySQLを導入し、SQLクエリをClojureのデータ構造（マップやベクター）として構築できるようになりました 今日は親子関係…\",\"author\":\"maaaashi\",\"published_at\":\"2024-12-24T07:03:58+09:00\"},{\"id\":2,\"feed_id\":1,\"title\":\"Clojure: DuctでRSSリーダーを作る - HoneySQL\",\"url\":\"https://qiita.com/maaaashi/items/5d9f5d8ced8c5f0ecad5\",\"content\":\" Advent Calendar 2024 Day 23 昨日は環境変数を扱いました。 今日はよりDBからのデータ取得周りを改善してみます HoneySQLというSQLクエリをClojureのデータ…\",\"author\":\"maaaashi\",\"published_at\":\"2024-12-23T07:04:04+09:00\"},{\"id\":3,\"feed_id\":1,\"title\":\"Clojure: DuctでRSSリーダーを作る - 環境変数\",\"url\":\"https://qiita.com/maaaashi/items/525d676aba72872aac19\",\"content\":\" Advent Calendar 2024 Day 22 昨日は以下のようにDB接続を設定しました。 :duct.database.sql/hikaricp {:adapter \\\"postgresq…\",\"author\":\"maaaashi\",\"published_at\":\"2024-12-22T07:03:53+09:00\"},{\"id\":4,\"feed_id\":1,\"title\":\"Clojure: DuctでRSSリーダーを作る - DB接続(HikariCP, Jdbc)\",\"url\":\"https://qiita.com/maaaashi/items/32fee6a9b924d31e4c9a\",\"content\":\" Advent Calendar 2024 Day 21 昨日はDuctでルーティングを実装しました 今日はDB接続したいと思います。 今回の記事ではpostgresqlに接続しますが、 DBの立ち…\",\"author\":\"maaaashi\",\"published_at\":\"2024-12-21T23:45:41+09:00\"}]}]}\n```\n\nいい感じに`clojure`のtagがついてqiitaの記事が保存・取得できました\n\nこれで簡単にですがRSS Readerの完成です\n\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-12-24T11:30:33+09:00",
    "group": null,
    "id": "6e3efd32277ff882c644",
    "likes_count": 1,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [{ "name": "Clojure", "versions": [] }],
    "title": "Clojure: DuctでRSSリーダーを作る - 完成",
    "updated_at": "2024-12-25T07:03:38+09:00",
    "url": "https://qiita.com/maaaashi/items/6e3efd32277ff882c644",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:79\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 24\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"5:1-5:150\"\u003e昨日はHoneySQLを導入し、SQLクエリをClojureのデータ構造（マップやベクター）として構築できるようになりました\u003c/p\u003e\n\u003cp data-sourcepos=\"7:1-7:106\"\u003e今日は親子関係の関係をもつDBにデータを\u003ccode\u003einsert\u003c/code\u003eしたりデータを取得してみます\u003c/p\u003e\n\u003ch2 data-sourcepos=\"9:1-9:30\"\u003e\n\u003cspan id=\"insert-クエリを作る\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#insert-%E3%82%AF%E3%82%A8%E3%83%AA%E3%82%92%E4%BD%9C%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003einsert\u003c/code\u003e クエリを作る\u003c/h2\u003e\n\u003cp data-sourcepos=\"11:1-11:64\"\u003eまずは\u003ccode\u003einsert-into\u003c/code\u003eのSQLを作ってみたいと思います\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:66\"\u003eHoneySQLがインポートされたREPLで作業していきます\u003c/p\u003e\n\u003cdiv data-sourcepos=\"15:1-37:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"16:1-16:73\"\u003e作成するfeed, articleのテーブルは以下のようなものです\u003c/p\u003e\n\u003cp data-sourcepos=\"0:0-0:0\"\u003efeed\u003c/p\u003e\n\u003ctable data-sourcepos=\"18:1-24:35\"\u003e\n\u003cthead\u003e\n\u003ctr data-sourcepos=\"18:1-18:32\"\u003e\n\u003cth data-sourcepos=\"18:7-18:14\"\u003eColumn\u003c/th\u003e\n\u003cth data-sourcepos=\"18:16-18:21\"\u003eType\u003c/th\u003e\n\u003cth data-sourcepos=\"18:23-18:31\"\u003eDefault\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr data-sourcepos=\"21:1-21:27\"\u003e\n\u003ctd data-sourcepos=\"21:2-21:9\"\u003eid\u003c/td\u003e\n\u003ctd data-sourcepos=\"21:11-21:16\"\u003eint\u003c/td\u003e\n\u003ctd data-sourcepos=\"21:18-21:26\"\u003enextval\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"22:1-22:27\"\u003e\n\u003ctd data-sourcepos=\"22:2-22:9\"\u003eurl\u003c/td\u003e\n\u003ctd data-sourcepos=\"22:11-22:16\"\u003etext\u003c/td\u003e\n\u003ctd data-sourcepos=\"22:18-22:26\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"23:1-23:29\"\u003e\n\u003ctd data-sourcepos=\"23:2-23:11\"\u003etitle\u003c/td\u003e\n\u003ctd data-sourcepos=\"23:13-23:18\"\u003etext\u003c/td\u003e\n\u003ctd data-sourcepos=\"23:20-23:28\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"24:1-24:35\"\u003e\n\u003ctd data-sourcepos=\"24:2-24:17\"\u003edescription\u003c/td\u003e\n\u003ctd data-sourcepos=\"24:19-24:24\"\u003etext\u003c/td\u003e\n\u003ctd data-sourcepos=\"24:26-24:34\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp data-sourcepos=\"0:0-0:0\"\u003earticle\u003c/p\u003e\n\u003ctable data-sourcepos=\"26:1-36:44\"\u003e\n\u003cthead\u003e\n\u003ctr data-sourcepos=\"26:1-26:35\"\u003e\n\u003cth data-sourcepos=\"26:10-26:17\"\u003eColumn\u003c/th\u003e\n\u003cth data-sourcepos=\"26:19-26:24\"\u003eType\u003c/th\u003e\n\u003cth data-sourcepos=\"26:26-26:34\"\u003eDefault\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr data-sourcepos=\"29:1-29:27\"\u003e\n\u003ctd data-sourcepos=\"29:2-29:9\"\u003eid\u003c/td\u003e\n\u003ctd data-sourcepos=\"29:11-29:16\"\u003eint\u003c/td\u003e\n\u003ctd data-sourcepos=\"29:18-29:26\"\u003enextval\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"30:1-30:31\"\u003e\n\u003ctd data-sourcepos=\"30:2-30:13\"\u003efeed_id\u003c/td\u003e\n\u003ctd data-sourcepos=\"30:15-30:20\"\u003etext\u003c/td\u003e\n\u003ctd data-sourcepos=\"30:22-30:30\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"31:1-31:29\"\u003e\n\u003ctd data-sourcepos=\"31:2-31:11\"\u003etitle\u003c/td\u003e\n\u003ctd data-sourcepos=\"31:13-31:18\"\u003etext\u003c/td\u003e\n\u003ctd data-sourcepos=\"31:20-31:28\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"32:1-32:27\"\u003e\n\u003ctd data-sourcepos=\"32:2-32:9\"\u003eurl\u003c/td\u003e\n\u003ctd data-sourcepos=\"32:11-32:16\"\u003etext\u003c/td\u003e\n\u003ctd data-sourcepos=\"32:18-32:26\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"33:1-33:31\"\u003e\n\u003ctd data-sourcepos=\"33:2-33:13\"\u003econtent\u003c/td\u003e\n\u003ctd data-sourcepos=\"33:15-33:20\"\u003etext\u003c/td\u003e\n\u003ctd data-sourcepos=\"33:22-33:30\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"34:1-34:30\"\u003e\n\u003ctd data-sourcepos=\"34:2-34:12\"\u003eauthor\u003c/td\u003e\n\u003ctd data-sourcepos=\"34:14-34:19\"\u003etext\u003c/td\u003e\n\u003ctd data-sourcepos=\"34:21-34:29\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"35:1-35:36\"\u003e\n\u003ctd data-sourcepos=\"35:2-35:18\"\u003epublished_at\u003c/td\u003e\n\u003ctd data-sourcepos=\"35:20-35:25\"\u003etext\u003c/td\u003e\n\u003ctd data-sourcepos=\"35:27-35:35\"\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"36:1-36:44\"\u003e\n\u003ctd data-sourcepos=\"36:2-36:16\"\u003ecreated_at\u003c/td\u003e\n\u003ctd data-sourcepos=\"36:18-36:23\"\u003etext\u003c/td\u003e\n\u003ctd data-sourcepos=\"36:25-36:43\"\u003ecurrent_timestamp\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"39:1-39:24\"\u003eでは実装します。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"41:1-61:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eREPL\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e; feed\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esql/format\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:insert-into\u003c/span\u003e\u003cspan class=\"w\"\u003e\n             \u003c/span\u003e\u003cspan class=\"no\"\u003e:feed\u003c/span\u003e\u003cspan class=\"w\"\u003e\n             \u003c/span\u003e\u003cspan class=\"no\"\u003e:columns\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:description\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n             \u003c/span\u003e\u003cspan class=\"no\"\u003e:values\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"url\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"title\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:description\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"description\"\u003c/span\u003e\u003cspan class=\"p\"\u003e}]})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"INSERT INTO feed (url, title, description) VALUES (?, ?, ?)\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"url\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"title\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"description\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; article\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esql/format\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:insert-into\u003c/span\u003e\u003cspan class=\"w\"\u003e\n             \u003c/span\u003e\u003cspan class=\"no\"\u003e:article\u003c/span\u003e\u003cspan class=\"w\"\u003e\n             \u003c/span\u003e\u003cspan class=\"no\"\u003e:columns\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:feed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:content\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:author\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:published\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n             \u003c/span\u003e\u003cspan class=\"no\"\u003e:values\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:feed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"feed_id\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"title\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"url\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:content\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"content\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:author\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"author\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:published_at\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"published\"\u003c/span\u003e\u003cspan class=\"p\"\u003e}]})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"INSERT INTO article (feed_id, title, url, content, author, published) VALUES (?, ?, ?, ?, ?, ?)\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n \u003c/span\u003e\u003cspan class=\"s\"\u003e\"feed_id\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n \u003c/span\u003e\u003cspan class=\"s\"\u003e\"title\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n \u003c/span\u003e\u003cspan class=\"s\"\u003e\"url\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n \u003c/span\u003e\u003cspan class=\"s\"\u003e\"content\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n \u003c/span\u003e\u003cspan class=\"s\"\u003e\"author\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n \u003c/span\u003e\u003cspan class=\"s\"\u003e\"published\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"63:1-63:39\"\u003eこのように実装できました。\u003c/p\u003e\n\u003cp data-sourcepos=\"65:1-65:81\"\u003eこれを関数にし、外からデータを受け取れるようにします。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"67:1-95:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eREPL\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003einsert-feed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keys\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edescription\u003c/span\u003e\u003cspan class=\"p\"\u003e]}]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esql/format\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:insert-into\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:feed\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:columns\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:description\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:values\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:description\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edescription\u003c/span\u003e\u003cspan class=\"p\"\u003e}]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:returning\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:id\u003c/span\u003e\u003cspan class=\"p\"\u003e]}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003einsert-feed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"http://example.com\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"example\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:description\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"example description\"\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"INSERT INTO feed (url, title, description) VALUES (?, ?, ?) RETURNING id\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n \u003c/span\u003e\u003cspan class=\"s\"\u003e\"http://example.com\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n \u003c/span\u003e\u003cspan class=\"s\"\u003e\"example\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n \u003c/span\u003e\u003cspan class=\"s\"\u003e\"example description\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003einsert-article\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keys\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003efeed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003econtent\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eauthor\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003epublished\u003c/span\u003e\u003cspan class=\"p\"\u003e]}]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esql/format\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:insert-into\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:article\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:columns\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:feed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:content\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:author\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:published\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:values\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:feed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efeed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:content\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003econtent\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:author\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eauthor\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:published\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003epublished\u003c/span\u003e\u003cspan class=\"p\"\u003e}]}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003einsert-article\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:feed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"example\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"http://example.com\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:content\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"example content\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:author\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"example author\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:published\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"2024-12-23 19:55:10.062472\"\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"INSERT INTO article (feed_id, title, url, content, author, published) VALUES (?, ?, ?, ?, ?, ?)\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e\n \u003c/span\u003e\u003cspan class=\"s\"\u003e\"example\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n \u003c/span\u003e\u003cspan class=\"s\"\u003e\"http://example.com\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n \u003c/span\u003e\u003cspan class=\"s\"\u003e\"example content\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n \u003c/span\u003e\u003cspan class=\"s\"\u003e\"example author\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n \u003c/span\u003e\u003cspan class=\"s\"\u003e\"2024-12-23 19:55:10.062472\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"97:1-97:21\"\u003eいい感じですね\u003c/p\u003e\n\u003ch2 data-sourcepos=\"99:1-99:18\"\u003e\n\u003cspan id=\"insert-実行\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#insert-%E5%AE%9F%E8%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003einsert\u003c/code\u003e 実行\u003c/h2\u003e\n\u003cp data-sourcepos=\"101:1-101:59\"\u003eでは実行してDBにちゃんと入るか確認します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"103:1-124:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003einsert-article\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keys\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003efeed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003econtent\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eauthor\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003epublished\u003c/span\u003e\u003cspan class=\"p\"\u003e]}]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esql/format\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:insert-into\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:article\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:columns\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:feed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:content\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:author\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:published_at\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:values\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:feed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efeed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:content\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003econtent\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:author\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eauthor\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:published_at\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003epublished\u003c/span\u003e\u003cspan class=\"p\"\u003e}]}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eregister-articles\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keys\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003efeed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eitems\u003c/span\u003e\u003cspan class=\"p\"\u003e]}]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003edoall\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003emap\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e#\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejdbc/execute!\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003einsert-article\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eassoc\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e%\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:feed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efeed_id\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eitems\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003einsert-feed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keys\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edescription\u003c/span\u003e\u003cspan class=\"p\"\u003e]}]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esql/format\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:insert-into\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:feed\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:columns\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:description\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:values\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:url\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eurl\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:description\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edescription\u003c/span\u003e\u003cspan class=\"p\"\u003e}]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:returning\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:id\u003c/span\u003e\u003cspan class=\"p\"\u003e]}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eregister-feed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efeed-data\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003efeed-ids\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejdbc/execute!\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003einsert-feed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efeed-data\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:builder-fn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ers/as-unqualified-lower-maps\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efeed-ids\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003efirst\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:id\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eregister-articles\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eassoc\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efeed-data\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:feed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e))))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"126:1-128:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eregister-feed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"130:1-130:20\"\u003eDBを確認します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"sql\" data-sourcepos=\"132:1-164:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"n\"\u003efeed\u003c/span\u003e\u003cspan class=\"o\"\u003e=#\u003c/span\u003e \u003cspan class=\"k\"\u003eselect\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"n\"\u003efeed\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n \u003cspan class=\"n\"\u003eid\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e                 \u003cspan class=\"n\"\u003eurl\u003c/span\u003e                 \u003cspan class=\"o\"\u003e|\u003c/span\u003e                  \u003cspan class=\"n\"\u003etitle\u003c/span\u003e                  \u003cspan class=\"o\"\u003e|\u003c/span\u003e              \u003cspan class=\"n\"\u003edescription\u003c/span\u003e               \n\u003cspan class=\"c1\"\u003e----+-------------------------------------+-----------------------------------------+----------------------------------------\u003c/span\u003e\n  \u003cspan class=\"mi\"\u003e1\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003ehttps\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"o\"\u003e//\u003c/span\u003e\u003cspan class=\"n\"\u003eqiita\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecom\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003etags\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eclojure\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003efeed\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eClojure\u003c/span\u003e\u003cspan class=\"err\"\u003eタグが付けられた新着記事\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eQiita\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eQiita\u003c/span\u003e\u003cspan class=\"err\"\u003eで\u003c/span\u003e\u003cspan class=\"n\"\u003eClojure\u003c/span\u003e\u003cspan class=\"err\"\u003eタグが付けられた新着記事\u003c/span\u003e\n\n\u003cspan class=\"n\"\u003efeed\u003c/span\u003e\u003cspan class=\"o\"\u003e=#\u003c/span\u003e \u003cspan class=\"k\"\u003eselect\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"n\"\u003earticle\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n \u003cspan class=\"n\"\u003eid\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003efeed_id\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e                           \u003cspan class=\"n\"\u003etitle\u003c/span\u003e                           \u003cspan class=\"o\"\u003e|\u003c/span\u003e                          \u003cspan class=\"n\"\u003eurl\u003c/span\u003e                          \u003cspan class=\"o\"\u003e|\u003c/span\u003e                      \u003cspan class=\"n\"\u003econtent\u003c/span\u003e                       \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eauthor\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e       \u003cspan class=\"n\"\u003epublished_at\u003c/span\u003e        \n\u003cspan class=\"c1\"\u003e----+---------+-----------------------------------------------------------+-------------------------------------------------------+----------------------------------------------------+--------+---------------------------\u003c/span\u003e\n  \u003cspan class=\"mi\"\u003e1\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e       \u003cspan class=\"mi\"\u003e1\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eClojure\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eDuct\u003c/span\u003e\u003cspan class=\"err\"\u003eで\u003c/span\u003e\u003cspan class=\"n\"\u003eRSS\u003c/span\u003e\u003cspan class=\"err\"\u003eリーダーを作る\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"n\"\u003eHoneySQL\u003c/span\u003e               \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003ehttps\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"o\"\u003e//\u003c/span\u003e\u003cspan class=\"n\"\u003eqiita\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecom\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003emaaaashi\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eitems\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"n\"\u003ed9f5d8ced8c5f0ecad5\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e                                                   \u003cspan class=\"o\"\u003e+|\u003c/span\u003e        \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"mi\"\u003e2024\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e12\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e23\u003c/span\u003e\u003cspan class=\"n\"\u003eT07\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e04\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e04\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"mi\"\u003e09\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e00\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e|\u003c/span\u003e         \u003cspan class=\"o\"\u003e|\u003c/span\u003e                                                           \u003cspan class=\"o\"\u003e|\u003c/span\u003e                                                       \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eAdvent\u003c/span\u003e \u003cspan class=\"n\"\u003eCalendar\u003c/span\u003e \u003cspan class=\"mi\"\u003e2024\u003c/span\u003e \u003cspan class=\"k\"\u003eDay\u003c/span\u003e \u003cspan class=\"mi\"\u003e23\u003c/span\u003e                       \u003cspan class=\"o\"\u003e+|\u003c/span\u003e        \u003cspan class=\"o\"\u003e|\u003c/span\u003e \n    \u003cspan class=\"o\"\u003e|\u003c/span\u003e         \u003cspan class=\"o\"\u003e|\u003c/span\u003e                                                           \u003cspan class=\"o\"\u003e|\u003c/span\u003e                                                       \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"err\"\u003e昨日は環境変数を扱いました。\u003c/span\u003e                      \u003cspan class=\"o\"\u003e+|\u003c/span\u003e        \u003cspan class=\"o\"\u003e|\u003c/span\u003e \n    \u003cspan class=\"o\"\u003e|\u003c/span\u003e         \u003cspan class=\"o\"\u003e|\u003c/span\u003e                                                           \u003cspan class=\"o\"\u003e|\u003c/span\u003e                                                       \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"err\"\u003e今日はより\u003c/span\u003e\u003cspan class=\"n\"\u003eDB\u003c/span\u003e\u003cspan class=\"err\"\u003eからのデータ取得周りを改善してみます\u003c/span\u003e  \u003cspan class=\"o\"\u003e+|\u003c/span\u003e        \u003cspan class=\"o\"\u003e|\u003c/span\u003e \n    \u003cspan class=\"o\"\u003e|\u003c/span\u003e         \u003cspan class=\"o\"\u003e|\u003c/span\u003e                                                           \u003cspan class=\"o\"\u003e|\u003c/span\u003e                                                       \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eHoneySQL\u003c/span\u003e\u003cspan class=\"err\"\u003eという\u003c/span\u003e\u003cspan class=\"k\"\u003eSQL\u003c/span\u003e\u003cspan class=\"err\"\u003eクエリを\u003c/span\u003e\u003cspan class=\"n\"\u003eClojure\u003c/span\u003e\u003cspan class=\"err\"\u003eのデータ…\u003c/span\u003e          \u003cspan class=\"o\"\u003e|\u003c/span\u003e        \u003cspan class=\"o\"\u003e|\u003c/span\u003e \n  \u003cspan class=\"mi\"\u003e2\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e       \u003cspan class=\"mi\"\u003e1\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eClojure\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eDuct\u003c/span\u003e\u003cspan class=\"err\"\u003eで\u003c/span\u003e\u003cspan class=\"n\"\u003eRSS\u003c/span\u003e\u003cspan class=\"err\"\u003eリーダーを作る\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e \u003cspan class=\"err\"\u003e環境変数\u003c/span\u003e               \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003ehttps\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"o\"\u003e//\u003c/span\u003e\u003cspan class=\"n\"\u003eqiita\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003ecom\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003emaaaashi\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003eitems\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"mi\"\u003e525\u003c/span\u003e\u003cspan class=\"n\"\u003ed676aba72872aac19\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e                                                   \u003cspan class=\"o\"\u003e+|\u003c/span\u003e        \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"mi\"\u003e2024\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e12\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e22\u003c/span\u003e\u003cspan class=\"n\"\u003eT07\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e03\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e53\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"mi\"\u003e09\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"mi\"\u003e00\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e|\u003c/span\u003e         \u003cspan class=\"o\"\u003e|\u003c/span\u003e                                                           \u003cspan class=\"o\"\u003e|\u003c/span\u003e                                                       \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eAdvent\u003c/span\u003e \u003cspan class=\"n\"\u003eCalendar\u003c/span\u003e \u003cspan class=\"mi\"\u003e2024\u003c/span\u003e \u003cspan class=\"k\"\u003eDay\u003c/span\u003e \u003cspan class=\"mi\"\u003e22\u003c/span\u003e                       \u003cspan class=\"o\"\u003e+|\u003c/span\u003e        \u003cspan class=\"o\"\u003e|\u003c/span\u003e \n    \u003cspan class=\"o\"\u003e|\u003c/span\u003e         \u003cspan class=\"o\"\u003e|\u003c/span\u003e                                                           \u003cspan class=\"o\"\u003e|\u003c/span\u003e                                                       \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"err\"\u003e昨日は以下のように\u003c/span\u003e\u003cspan class=\"n\"\u003eDB\u003c/span\u003e\u003cspan class=\"err\"\u003e接続を設定しました。\u003c/span\u003e          \u003cspan class=\"o\"\u003e+|\u003c/span\u003e        \u003cspan class=\"o\"\u003e|\u003c/span\u003e \n    \u003cspan class=\"o\"\u003e|\u003c/span\u003e         \u003cspan class=\"o\"\u003e|\u003c/span\u003e                                                           \u003cspan class=\"o\"\u003e|\u003c/span\u003e                                                       \u003cspan class=\"o\"\u003e|\u003c/span\u003e   \u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"n\"\u003educt\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"k\"\u003edatabase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"k\"\u003esql\u003c/span\u003e\u003cspan class=\"o\"\u003e/\u003c/span\u003e\u003cspan class=\"n\"\u003ehikaricp\u003c/span\u003e                     \u003cspan class=\"o\"\u003e+|\u003c/span\u003e        \u003cspan class=\"o\"\u003e|\u003c/span\u003e \n    \u003cspan class=\"o\"\u003e|\u003c/span\u003e         \u003cspan class=\"o\"\u003e|\u003c/span\u003e                                                           \u003cspan class=\"o\"\u003e|\u003c/span\u003e                                                       \u003cspan class=\"o\"\u003e|\u003c/span\u003e   \u003cspan class=\"p\"\u003e{:\u003c/span\u003e\u003cspan class=\"n\"\u003eadapter\u003c/span\u003e \u003cspan class=\"nv\"\u003e\"postgresq…                            |        | \n  3 |       1 | Clojure: DuctでRSSリーダーを作る - DB接続(HikariCP, Jdbc) | https://qiita.com/maaaashi/items/32fee6a9b924d31e4c9a |                                                   +|        | 2024-12-21T23:45:41+09:00\n    |         |                                                           |                                                       | Advent Calendar 2024 Day 21                       +|        | \n    |         |                                                           |                                                       | 昨日はDuctでルーティングを実装しました            +|        | \n    |         |                                                           |                                                       | 今日はDB接続したいと思います。                    +|        | \n    |         |                                                           |                                                       |                                                   +|        | \n    |         |                                                           |                                                       | 今回の記事ではpostgresqlに接続しますが、          +|        | \n    |         |                                                           |                                                       | DBの立ち…                                          |        | \n  4 |       1 | Clojure: DuctでRSSリーダーを作る - ルーティング           | https://qiita.com/maaaashi/items/a5dac663b974082dba9c |                                                   +|        | 2024-12-20T07:04:07+09:00\n    |         |                                                           |                                                       | Advent Calendar 2024 Day 20                       +|        | \n    |         |                                                           |                                                       | 昨日はDuctでプロジェクトのセットアップをしました。+|        | \n    |         |                                                           |                                                       | 今日はataraxyのルーティングを実装してみます       +|        | \n    |         |                                                           |                                                       | Ataraxy                                           +|        | \n    |         |                                                           |                                                       | Ataraxyは…                                         |        | \n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"166:1-166:63\"\u003eいい感じでデータを投入することができました\u003c/p\u003e\n\u003cp data-sourcepos=\"168:1-168:51\"\u003e次に投入したデータを取得してみます\u003c/p\u003e\n\u003ch2 data-sourcepos=\"170:1-170:30\"\u003e\n\u003cspan id=\"select-クエリを作る\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#select-%E3%82%AF%E3%82%A8%E3%83%AA%E3%82%92%E4%BD%9C%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eselect\u003c/code\u003e クエリを作る\u003c/h2\u003e\n\u003cp data-sourcepos=\"172:1-175:62\"\u003e\u003ccode\u003efeed\u003c/code\u003eテーブルからデータを取得するクエリ\u003cbr\u003e\n\u003ccode\u003eselect * from feed;\u003c/code\u003e\u003cbr\u003e\nと、\u003ccode\u003earticle\u003c/code\u003eテーブルから、\u003ccode\u003efeed_id\u003c/code\u003eで絞ってデータを取得するクエリ\u003cbr\u003e\n\u003ccode\u003eselect * from article where feed_id = ?\u003c/code\u003eを作ってみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"177:1-185:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eselect-feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esql/format\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:select\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:*\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                               \u003c/span\u003e\u003cspan class=\"no\"\u003e:from\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:feed\u003c/span\u003e\u003cspan class=\"p\"\u003e]}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eselect-articles\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keys\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]}]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esql/format\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:select\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:*\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:from\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:article\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:where\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:=\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:feed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"187:1-187:39\"\u003eこんな感じで作ってみました\u003c/p\u003e\n\u003ch2 data-sourcepos=\"189:1-189:18\"\u003e\n\u003cspan id=\"select-実行\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#select-%E5%AE%9F%E8%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eselect\u003c/code\u003e 実行\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"191:1-205:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eselect-feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esql/format\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:select\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:*\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                               \u003c/span\u003e\u003cspan class=\"no\"\u003e:from\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:feed\u003c/span\u003e\u003cspan class=\"p\"\u003e]}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eselect-articles\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keys\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]}]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esql/format\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:select\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:*\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:from\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:article\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n               \u003c/span\u003e\u003cspan class=\"no\"\u003e:where\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:=\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:feed_id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eget-feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003efeeds\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejdbc/execute!\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eselect-feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:builder-fn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ers/as-unqualified-lower-maps\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"n\"\u003efeeds-articles\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003emap\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e#\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003e-\u0026gt;\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejdbc/execute!\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eselect-articles\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:builder-fn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ers/as-unqualified-lower-maps\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                                 \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eassoc\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e%\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:articles\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efeeds\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efeeds-articles\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"207:1-207:45\"\u003eこんな感じで実装してみました。\u003c/p\u003e\n\u003cp data-sourcepos=\"209:1-209:139\"\u003e昨日に引き続き\u003ccode\u003eHoneySQL\u003c/code\u003eを触ってみましたが、生のSQLを書かずにデータ構造でSQLを表現できていいですね\u003c/p\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 24*](https://qiita.com/advent-calendar/2024/clojure)\n\n昨日はHoneySQLを導入し、SQLクエリをClojureのデータ構造（マップやベクター）として構築できるようになりました\n\n今日は親子関係の関係をもつDBにデータを`insert`したりデータを取得してみます\n\n## `insert` クエリを作る\n\nまずは`insert-into`のSQLを作ってみたいと思います\n\nHoneySQLがインポートされたREPLで作業していきます\n\n:::note info\n作成するfeed, articleのテーブルは以下のようなものです\n\nfeed\n| Column | Type | Default |\n| ------ | ---- | ------- |\n| id     | int  | nextval |\n| url    | text |         |\n| title    | text |         |\n| description    | text |         |\n\narticle\n| Column | Type | Default |\n| ------ | ---- | ------- |\n| id     | int  | nextval |\n| feed_id    | text |         |\n| title    | text |         |\n| url    | text |         |\n| content    | text |         |\n| author    | text |         |\n| published_at    | text |         |\n| created_at    | text | current_timestamp |\n:::\n\nでは実装します。\n\n```clojure:REPL\n; feed\n(sql/format {:insert-into\n             :feed\n             :columns [:url :title :description]\n             :values [{:url \"url\" :title \"title\" :description \"description\"}]})\n[\"INSERT INTO feed (url, title, description) VALUES (?, ?, ?)\" \"url\" \"title\" \"description\"]\n\n; article\n(sql/format {:insert-into\n             :article\n             :columns [:feed_id :title :url :content :author :published]\n             :values [{:feed_id \"feed_id\" :title \"title\" :url \"url\" :content \"content\" :author \"author\" :published_at \"published\"}]})\n[\"INSERT INTO article (feed_id, title, url, content, author, published) VALUES (?, ?, ?, ?, ?, ?)\"\n \"feed_id\"\n \"title\"\n \"url\"\n \"content\"\n \"author\"\n \"published\"]\n```\n\nこのように実装できました。\n\nこれを関数にし、外からデータを受け取れるようにします。\n\n```clojure:REPL\n(defn insert-feed [{:keys [url title description]}]\n  (sql/format {:insert-into\n               :feed\n               :columns [:url :title :description]\n               :values [{:url url :title title :description description}]\n               :returning [:id]}))\n\n(insert-feed {:url \"http://example.com\" :title \"example\" :description \"example description\"})\n[\"INSERT INTO feed (url, title, description) VALUES (?, ?, ?) RETURNING id\"\n \"http://example.com\"\n \"example\"\n \"example description\"]\n\n(defn insert-article [{:keys [feed_id title url content author published]}]\n  (sql/format {:insert-into\n               :article\n               :columns [:feed_id :title :url :content :author :published]\n               :values [{:feed_id feed_id :title title :url url :content content :author author :published published}]}))\n\n(insert-article {:feed_id 1 :title \"example\" :url \"http://example.com\" :content \"example content\" :author \"example author\" :published \"2024-12-23 19:55:10.062472\"})\n[\"INSERT INTO article (feed_id, title, url, content, author, published) VALUES (?, ?, ?, ?, ?, ?)\"\n 1\n \"example\"\n \"http://example.com\"\n \"example content\"\n \"example author\"\n \"2024-12-23 19:55:10.062472\"]\n```\n\nいい感じですね\n\n## `insert` 実行\n\nでは実行してDBにちゃんと入るか確認します\n\n```clojure\n(defn insert-article [{:keys [feed_id title url content author published]}]\n  (sql/format {:insert-into\n               :article\n               :columns [:feed_id :title :url :content :author :published_at]\n               :values [{:feed_id feed_id :title title :url url :content content :author author :published_at published}]}))\n\n(defn register-articles [db {:keys [feed_id items]}]\n  (doall (map #(jdbc/execute! db (insert-article (assoc % :feed_id feed_id))) items)))\n\n(defn insert-feed [{:keys [url title description]}]\n  (sql/format {:insert-into\n               :feed\n               :columns [:url :title :description]\n               :values [{:url url :title title :description description}]\n               :returning [:id]}))\n\n(defn register-feed [db feed-data]\n  (let [feed-ids (jdbc/execute! db (insert-feed feed-data) {:builder-fn rs/as-unqualified-lower-maps})\n        id (-\u003e feed-ids first :id)]\n    (register-articles db (assoc feed-data :feed_id id))))\n```\n\n```clojure\n(register-feed db data)\n```\n\nDBを確認します\n\n```sql\nfeed=# select * from feed;\n id |                 url                 |                  title                  |              description               \n----+-------------------------------------+-----------------------------------------+----------------------------------------\n  1 | https://qiita.com/tags/clojure/feed | Clojureタグが付けられた新着記事 - Qiita | QiitaでClojureタグが付けられた新着記事\n\nfeed=# select * from article;\n id | feed_id |                           title                           |                          url                          |                      content                       | author |       published_at        \n----+---------+-----------------------------------------------------------+-------------------------------------------------------+----------------------------------------------------+--------+---------------------------\n  1 |       1 | Clojure: DuctでRSSリーダーを作る - HoneySQL               | https://qiita.com/maaaashi/items/5d9f5d8ced8c5f0ecad5 |                                                   +|        | 2024-12-23T07:04:04+09:00\n    |         |                                                           |                                                       | Advent Calendar 2024 Day 23                       +|        | \n    |         |                                                           |                                                       | 昨日は環境変数を扱いました。                      +|        | \n    |         |                                                           |                                                       | 今日はよりDBからのデータ取得周りを改善してみます  +|        | \n    |         |                                                           |                                                       | HoneySQLというSQLクエリをClojureのデータ…          |        | \n  2 |       1 | Clojure: DuctでRSSリーダーを作る - 環境変数               | https://qiita.com/maaaashi/items/525d676aba72872aac19 |                                                   +|        | 2024-12-22T07:03:53+09:00\n    |         |                                                           |                                                       | Advent Calendar 2024 Day 22                       +|        | \n    |         |                                                           |                                                       | 昨日は以下のようにDB接続を設定しました。          +|        | \n    |         |                                                           |                                                       |   :duct.database.sql/hikaricp                     +|        | \n    |         |                                                           |                                                       |   {:adapter \"postgresq…                            |        | \n  3 |       1 | Clojure: DuctでRSSリーダーを作る - DB接続(HikariCP, Jdbc) | https://qiita.com/maaaashi/items/32fee6a9b924d31e4c9a |                                                   +|        | 2024-12-21T23:45:41+09:00\n    |         |                                                           |                                                       | Advent Calendar 2024 Day 21                       +|        | \n    |         |                                                           |                                                       | 昨日はDuctでルーティングを実装しました            +|        | \n    |         |                                                           |                                                       | 今日はDB接続したいと思います。                    +|        | \n    |         |                                                           |                                                       |                                                   +|        | \n    |         |                                                           |                                                       | 今回の記事ではpostgresqlに接続しますが、          +|        | \n    |         |                                                           |                                                       | DBの立ち…                                          |        | \n  4 |       1 | Clojure: DuctでRSSリーダーを作る - ルーティング           | https://qiita.com/maaaashi/items/a5dac663b974082dba9c |                                                   +|        | 2024-12-20T07:04:07+09:00\n    |         |                                                           |                                                       | Advent Calendar 2024 Day 20                       +|        | \n    |         |                                                           |                                                       | 昨日はDuctでプロジェクトのセットアップをしました。+|        | \n    |         |                                                           |                                                       | 今日はataraxyのルーティングを実装してみます       +|        | \n    |         |                                                           |                                                       | Ataraxy                                           +|        | \n    |         |                                                           |                                                       | Ataraxyは…                                         |        | \n```\n\nいい感じでデータを投入することができました\n\n次に投入したデータを取得してみます\n\n## `select` クエリを作る\n\n`feed`テーブルからデータを取得するクエリ\n`select * from feed;`\nと、`article`テーブルから、`feed_id`で絞ってデータを取得するクエリ\n`select * from article where feed_id = ?`を作ってみます\n\n```clojure\n(def select-feeds (sql/format {:select [:*]\n                               :from [:feed]}))\n\n(defn select-articles [{:keys [id]}]\n  (sql/format {:select [:*]\n               :from [:article]\n               :where [:= :feed_id id]}))\n```\n\nこんな感じで作ってみました\n\n## `select` 実行\n\n```clojure\n(def select-feeds (sql/format {:select [:*]\n                               :from [:feed]}))\n\n(defn select-articles [{:keys [id]}]\n  (sql/format {:select [:*]\n               :from [:article]\n               :where [:= :feed_id id]}))\n\n(defn get-feeds [db]\n  (let [feeds (jdbc/execute! db select-feeds {:builder-fn rs/as-unqualified-lower-maps})\n        feeds-articles (map #(-\u003e\u003e (jdbc/execute! db (select-articles %) {:builder-fn rs/as-unqualified-lower-maps})\n                                 (assoc % :articles)) feeds)]\n    {:feeds feeds-articles}))\n```\n\nこんな感じで実装してみました。\n\n昨日に引き続き`HoneySQL`を触ってみましたが、生のSQLを書かずにデータ構造でSQLを表現できていいですね\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-12-23T22:58:46+09:00",
    "group": null,
    "id": "07d5ba7148a5cbe19637",
    "likes_count": 0,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [{ "name": "Clojure", "versions": [] }],
    "title": "Clojure: DuctでRSSリーダーを作る - HoneySQLその２",
    "updated_at": "2024-12-24T07:03:58+09:00",
    "url": "https://qiita.com/maaaashi/items/07d5ba7148a5cbe19637",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:79\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 23\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"5:1-6:71\"\u003e昨日は環境変数を扱いました。\u003cbr\u003e\n今日はよりDBからのデータ取得周りを改善してみます\u003c/p\u003e\n\u003cp data-sourcepos=\"8:1-8:149\"\u003e\u003ccode\u003eHoneySQL\u003c/code\u003eというSQLクエリをClojureのデータ構造（マップやベクター）として構築できるライブラリを使ってみます\u003c/p\u003e\n\u003cp data-sourcepos=\"10:1-10:40\"\u003e\u003ciframe id=\"qiita-embed-content__9faa63eed43f41dada464ba8d0366de0\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__9faa63eed43f41dada464ba8d0366de0\" data-content=\"https%3A%2F%2Fgithub.com%2Fseancorfield%2Fhoneysql\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch2 data-sourcepos=\"12:1-12:11\"\u003e\n\u003cspan id=\"honeysql\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#honeysql\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eHoneySQL\u003c/h2\u003e\n\u003cp data-sourcepos=\"14:1-14:63\"\u003eまずはプロジェクトにライブラリを追加します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"16:1-21:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eproject.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"no\"\u003e:dependencies\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[[\u003c/span\u003e\u003cspan class=\"n\"\u003eorg.clojure/clojure\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"1.10.3\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"n\"\u003e...\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ecom.github.seancorfield/next.jdbc\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"1.3.981\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ecom.github.seancorfield/honeysql\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"2.6.1243\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e; 追加]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"23:1-23:40\"\u003e次にREPLで実際に使ってみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"25:1-34:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eREPL\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003erequire\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ehoney.sql\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003esql\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; nil\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eselect-all\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esql/format\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:select\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:*\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:from\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:feed\u003c/span\u003e\u003cspan class=\"p\"\u003e]}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; #'clojure-rss-reader.handler.feeds/select-all\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"n\"\u003eselect-all\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; [\"SELECT * FROM feed\"]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"36:1-36:93\"\u003eこのようにSQLを直接書かずに、マップで表現することができました。\u003c/p\u003e\n\u003cp data-sourcepos=\"39:1-39:63\"\u003eこれをハンドラーに組み込んで実装してみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"41:1-58:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ehandler/feeds.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eclojure-rss-reader.handler.feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:require\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eataraxy.response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eintegrant.core\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eig\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003enext.jdbc\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ejdbc\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003enext.jdbc.result-set\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ers\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ehoney.sql\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003esql\u003c/span\u003e\u003cspan class=\"p\"\u003e]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eselect-all\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esql/format\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:select\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:*\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:from\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:feed\u003c/span\u003e\u003cspan class=\"p\"\u003e]}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eget-feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejdbc/execute!\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eselect-all\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:builder-fn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ers/as-unqualified-lower-maps\u003c/span\u003e\u003cspan class=\"p\"\u003e})]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefmethod\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eig/init-key\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e::get\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keys\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003espec\u003c/span\u003e\u003cspan class=\"p\"\u003e]}\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:db\u003c/span\u003e\u003cspan class=\"p\"\u003e}]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003efn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e::response/ok\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eget-feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003espec\u003c/span\u003e\u003cspan class=\"p\"\u003e)]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"60:1-60:159\"\u003e今まで \u003ccode\u003ejdbc/execute! db [\"SELECT * FROM feed\"] {:builder-fn ...}\u003c/code\u003eのように直接SQLを書いていたところを置き換えることができました\u003c/p\u003e\n\u003cp data-sourcepos=\"62:1-62:98\"\u003eHoneySQLを活用することで可読性や保守性高く実装することができそうです\u003c/p\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 23*](https://qiita.com/advent-calendar/2024/clojure)\n\n昨日は環境変数を扱いました。\n今日はよりDBからのデータ取得周りを改善してみます\n\n`HoneySQL`というSQLクエリをClojureのデータ構造（マップやベクター）として構築できるライブラリを使ってみます\n\nhttps://github.com/seancorfield/honeysql\n\n## HoneySQL\n\nまずはプロジェクトにライブラリを追加します\n\n```clojure:project.clj\n  :dependencies [[org.clojure/clojure \"1.10.3\"]\n                 ...\n                 [com.github.seancorfield/next.jdbc \"1.3.981\"]\n                 [com.github.seancorfield/honeysql \"2.6.1243\"] ; 追加]\n```\n\n次にREPLで実際に使ってみます\n\n```clojure:REPL\n(require '[honey.sql :as sql])\n; nil\n\n(def select-all (sql/format {:select [:*] :from [:feed]}))\n; #'clojure-rss-reader.handler.feeds/select-all\n\nselect-all\n; [\"SELECT * FROM feed\"]\n```\n\nこのようにSQLを直接書かずに、マップで表現することができました。\n\n\nこれをハンドラーに組み込んで実装してみます\n\n```clojure:handler/feeds.clj\n(ns clojure-rss-reader.handler.feeds\n  (:require [ataraxy.response :as response]\n            [integrant.core :as ig]\n            [next.jdbc :as jdbc]\n            [next.jdbc.result-set :as rs]\n            [honey.sql :as sql]))\n\n(def select-all (sql/format {:select [:*] :from [:feed]}))\n\n(defn get-feeds [db]\n  (let [result (jdbc/execute! db select-all {:builder-fn rs/as-unqualified-lower-maps})]\n    {:feeds result}))\n\n(defmethod ig/init-key ::get [_ {{:keys [spec]} :db}]\n  (fn [_]\n    [::response/ok (get-feeds spec)]))\n```\n\n今まで `jdbc/execute! db [\"SELECT * FROM feed\"] {:builder-fn ...}`のように直接SQLを書いていたところを置き換えることができました\n\nHoneySQLを活用することで可読性や保守性高く実装することができそうです\n\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-12-20T09:17:06+09:00",
    "group": null,
    "id": "5d9f5d8ced8c5f0ecad5",
    "likes_count": 0,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [{ "name": "Clojure", "versions": [] }],
    "title": "Clojure: DuctでRSSリーダーを作る - HoneySQL",
    "updated_at": "2024-12-23T07:04:04+09:00",
    "url": "https://qiita.com/maaaashi/items/5d9f5d8ced8c5f0ecad5",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:79\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 22\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"5:1-5:59\"\u003e昨日は以下のようにDB接続を設定しました。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"7:1-15:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003econfig.edn\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"no\"\u003e:duct.database.sql/hikaricp\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:adapter\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"postgresql\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:server-name\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"localhost\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:port-number\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"5432\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:username\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"user\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:password\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"password\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:database-name\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"feed\"\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"17:1-17:60\"\u003e今日は環境変数から読み込めるようにします\u003c/p\u003e\n\u003ch2 data-sourcepos=\"19:1-19:33\"\u003e\n\u003cspan id=\"環境変数に置き換える\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0%E3%81%AB%E7%BD%AE%E3%81%8D%E6%8F%9B%E3%81%88%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e環境変数に置き換える\u003c/h2\u003e\n\u003cp data-sourcepos=\"21:1-21:45\"\u003eとはいってもやることは簡単です\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"23:1-31:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003econfig.edn\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"no\"\u003e:duct.database.sql/hikaricp\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:adapter\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"postgresql\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:server-name\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e#\u003c/span\u003e\u003cspan class=\"n\"\u003educt/env\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"DB_HOST\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:port-number\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e#\u003c/span\u003e\u003cspan class=\"n\"\u003educt/env\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"DB_PORT\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:username\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e#\u003c/span\u003e\u003cspan class=\"n\"\u003educt/env\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"DB_USER\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:password\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e#\u003c/span\u003e\u003cspan class=\"n\"\u003educt/env\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"DB_PASS\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:database-name\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e#\u003c/span\u003e\u003cspan class=\"n\"\u003educt/env\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"DB_NAME\"\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"33:1-33:59\"\u003e\u003ccode\u003e#duct/env \"変数名\"\u003c/code\u003eで環境変数を参照できます\u003c/p\u003e\n\u003cp data-sourcepos=\"35:1-35:24\"\u003e試しに起動します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"37:1-39:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ DB_HOST\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003elocalhost \u003cspan class=\"nv\"\u003eDB_PORT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e5432 \u003cspan class=\"nv\"\u003eDB_USER\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003euser \u003cspan class=\"nv\"\u003eDB_PASS\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003epassword \u003cspan class=\"nv\"\u003eDB_NAME\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003efeed lein run\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"41:1-62:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl localhost:3000/v1/feeds | jq \u003cspan class=\"nb\"\u003e.\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"s2\"\u003e\"feeds\"\u003c/span\u003e: \u003cspan class=\"o\"\u003e[\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"s2\"\u003e\"id\"\u003c/span\u003e: 1,\n      \u003cspan class=\"s2\"\u003e\"url\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"https://www.google.com\"\u003c/span\u003e,\n      \u003cspan class=\"s2\"\u003e\"title\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"Google\"\u003c/span\u003e,\n      \u003cspan class=\"s2\"\u003e\"description\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"Googleのトップページです。\"\u003c/span\u003e,\n      \u003cspan class=\"s2\"\u003e\"created_at\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"2024-12-19T05:24:36Z\"\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e}\u003c/span\u003e,\n    \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"s2\"\u003e\"id\"\u003c/span\u003e: 2,\n      \u003cspan class=\"s2\"\u003e\"url\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"https://www.yahoo.co.jp\"\u003c/span\u003e,\n      \u003cspan class=\"s2\"\u003e\"title\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"Yahoo! JAPAN\"\u003c/span\u003e,\n      \u003cspan class=\"s2\"\u003e\"description\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"Yahoo! JAPANのトップページです。\"\u003c/span\u003e,\n      \u003cspan class=\"s2\"\u003e\"created_at\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"2024-12-19T05:24:36Z\"\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"o\"\u003e]\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"64:1-64:45\"\u003eちゃんと接続ができてそうですね\u003c/p\u003e\n\u003ch2 data-sourcepos=\"66:1-66:36\"\u003e\n\u003cspan id=\"デフォルト値を設定する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%87%E3%83%95%E3%82%A9%E3%83%AB%E3%83%88%E5%80%A4%E3%82%92%E8%A8%AD%E5%AE%9A%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eデフォルト値を設定する\u003c/h2\u003e\n\u003cp data-sourcepos=\"68:1-68:92\"\u003eただこれだと特にlocal環境では毎回環境変数を設定するのが億劫です\u003c/p\u003e\n\u003cp data-sourcepos=\"70:1-70:80\"\u003eそこで、デフォルト値をlocalでの設定として設定してみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"72:1-80:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003econfig.edn\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"no\"\u003e:duct.database.sql/hikaricp\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:adapter\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"postgresql\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:server-name\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e#\u003c/span\u003e\u003cspan class=\"n\"\u003educt/env\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"DB_HOST\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:or\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"localhost\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:port-number\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e#\u003c/span\u003e\u003cspan class=\"n\"\u003educt/env\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"DB_PORT\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eInt\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:or\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e5432\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:username\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e#\u003c/span\u003e\u003cspan class=\"n\"\u003educt/env\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"DB_USER\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:or\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"user\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:password\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e#\u003c/span\u003e\u003cspan class=\"n\"\u003educt/env\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"DB_PASS\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:or\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"password\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:database-name\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e#\u003c/span\u003e\u003cspan class=\"n\"\u003educt/env\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"DB_NAME\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:or\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"feed\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"82:1-82:36\"\u003eこのように設定しました。\u003c/p\u003e\n\u003cp data-sourcepos=\"84:1-84:111\"\u003e\u003ccode\u003e:server-name #duct/env [\"DB_HOST\" :or \"localhost\"]\u003c/code\u003eのように\u003ccode\u003e:or\u003c/code\u003eでデフォルト値を設定できます\u003c/p\u003e\n\u003cp data-sourcepos=\"86:1-86:117\"\u003eまた、\u003ccode\u003e#duct/env [\"DB_PORT\" Int]\u003c/code\u003eこのようにすることで数値として変数を扱うことができます\u003c/p\u003e\n\u003cp data-sourcepos=\"88:1-88:57\"\u003e環境変数を外から渡さずに起動してみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"90:1-97:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e$ lein repl\nuser=\u0026gt; (dev)\n:loaded\ndev=\u0026gt; (go)\n:duct.server.http.jetty/starting-server {:port 3000}\n:initiated\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"99:1-99:74\"\u003e無事起動し、DB接続プールを作ることができてそうです\u003c/p\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 22*](https://qiita.com/advent-calendar/2024/clojure)\n\n昨日は以下のようにDB接続を設定しました。\n\n```clojure:config.edn\n  :duct.database.sql/hikaricp\n  {:adapter \"postgresql\"\n   :server-name \"localhost\"\n   :port-number \"5432\"\n   :username \"user\"\n   :password \"password\"\n   :database-name \"feed\"}\n```\n\n今日は環境変数から読み込めるようにします\n\n## 環境変数に置き換える\n\nとはいってもやることは簡単です\n\n```clojure:config.edn\n  :duct.database.sql/hikaricp\n  {:adapter \"postgresql\"\n   :server-name #duct/env \"DB_HOST\"\n   :port-number #duct/env \"DB_PORT\"\n   :username #duct/env \"DB_USER\"\n   :password #duct/env \"DB_PASS\"\n   :database-name #duct/env \"DB_NAME\"}\n```\n\n`#duct/env \"変数名\"`で環境変数を参照できます\n\n試しに起動します\n\n```bash\n$ DB_HOST=localhost DB_PORT=5432 DB_USER=user DB_PASS=password DB_NAME=feed lein run\n```\n\n```bash\n$ curl localhost:3000/v1/feeds | jq .\n\n{\n  \"feeds\": [\n    {\n      \"id\": 1,\n      \"url\": \"https://www.google.com\",\n      \"title\": \"Google\",\n      \"description\": \"Googleのトップページです。\",\n      \"created_at\": \"2024-12-19T05:24:36Z\"\n    },\n    {\n      \"id\": 2,\n      \"url\": \"https://www.yahoo.co.jp\",\n      \"title\": \"Yahoo! JAPAN\",\n      \"description\": \"Yahoo! JAPANのトップページです。\",\n      \"created_at\": \"2024-12-19T05:24:36Z\"\n    }\n  ]\n}\n```\n\nちゃんと接続ができてそうですね\n\n## デフォルト値を設定する\n\nただこれだと特にlocal環境では毎回環境変数を設定するのが億劫です\n\nそこで、デフォルト値をlocalでの設定として設定してみます\n\n```clojure:config.edn\n  :duct.database.sql/hikaricp\n  {:adapter \"postgresql\"\n   :server-name #duct/env [\"DB_HOST\" :or \"localhost\"]\n   :port-number #duct/env [\"DB_PORT\" Int :or 5432]\n   :username #duct/env [\"DB_USER\" :or \"user\"]\n   :password #duct/env [\"DB_PASS\" :or \"password\"]\n   :database-name #duct/env [\"DB_NAME\" :or \"feed\"]}\n```\n\nこのように設定しました。\n\n`:server-name #duct/env [\"DB_HOST\" :or \"localhost\"]`のように`:or`でデフォルト値を設定できます\n\nまた、`#duct/env [\"DB_PORT\" Int]`このようにすることで数値として変数を扱うことができます\n\n環境変数を外から渡さずに起動してみます\n\n```\n$ lein repl\nuser=\u003e (dev)\n:loaded\ndev=\u003e (go)\n:duct.server.http.jetty/starting-server {:port 3000}\n:initiated\n```\n\n無事起動し、DB接続プールを作ることができてそうです\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-12-20T00:47:11+09:00",
    "group": null,
    "id": "525d676aba72872aac19",
    "likes_count": 0,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "Clojure", "versions": [] },
      { "name": "duct", "versions": [] }
    ],
    "title": "Clojure: DuctでRSSリーダーを作る - 環境変数",
    "updated_at": "2024-12-22T07:03:53+09:00",
    "url": "https://qiita.com/maaaashi/items/525d676aba72872aac19",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:79\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 21\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"5:1-5:57\"\u003e昨日は\u003ccode\u003eDuct\u003c/code\u003eでルーティングを実装しました\u003c/p\u003e\n\u003cp data-sourcepos=\"7:1-7:44\"\u003e今日はDB接続したいと思います。\u003c/p\u003e\n\u003cdiv data-sourcepos=\"9:1-12:3\" class=\"note warn\"\u003e\n\u003cspan class=\"fa fa-fw fa-exclamation-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"10:1-11:53\"\u003e今回の記事ではpostgresqlに接続しますが、\u003cbr\u003e\nDBの立ち上げ部分に関しては省略します\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"14:1-14:94\"\u003eデータベース接続を作るのに、\u003ccode\u003eHikariCP\u003c/code\u003eというものを使おうと思います\u003c/p\u003e\n\u003ch2 data-sourcepos=\"16:1-16:20\"\u003e\n\u003cspan id=\"db接続プール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#db%E6%8E%A5%E7%B6%9A%E3%83%97%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eDB接続プール\u003c/h2\u003e\n\u003cp data-sourcepos=\"18:1-18:94\"\u003e\u003ccode\u003eHikariCP\u003c/code\u003eは高速かつ効率的なデータベース接続プールライブラリです。\u003c/p\u003e\n\u003cp data-sourcepos=\"20:1-20:43\"\u003eさっそく\u003ccode\u003eproject.clj\u003c/code\u003eに追加します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"22:1-32:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eproject.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"no\"\u003e:dependencies\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[[\u003c/span\u003e\u003cspan class=\"n\"\u003eorg.clojure/clojure\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"1.10.3\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003educt/core\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"0.8.0\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003emetosin/ring-http-response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"0.9.4\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003educt/module.ataraxy\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"0.3.0\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003educt/module.logging\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"0.5.0\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003educt/module.web\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"0.7.4\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003educt/database.sql.hikaricp\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"0.4.0\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e; 追加\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eorg.postgresql/postgresql\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"42.7.4\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e; 追加\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ecom.github.seancorfield/next.jdbc\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"1.3.981\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e; 追加]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"34:1-34:123\"\u003eついでに\u003ccode\u003epostgresql\u003c/code\u003eドライバーと、\u003ccode\u003ejdbc\u003c/code\u003eというデータベースアクセスライブラリを入れました\u003c/p\u003e\n\u003cp data-sourcepos=\"36:1-36:54\"\u003e次に\u003ccode\u003econfig.edn\u003c/code\u003eに設定を追加していきます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"38:1-49:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003econfig.edn\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"no\"\u003e:duct.database.sql/hikaricp\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:adapter\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"postgresql\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:server-name\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"localhost\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:port-number\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"5432\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:username\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"user\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:password\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"password\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:database-name\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"feed\"\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n  \u003c/span\u003e\u003cspan class=\"no\"\u003e:clojure-rss-reader.handler.feeds/get\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:db\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e#\u003c/span\u003e\u003cspan class=\"n\"\u003eig/ref\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:duct.database.sql/hikaricp\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"51:1-51:88\"\u003eここでは、DB接続情報を\u003ccode\u003e:duct.database.sql/hikaricp\u003c/code\u003eに設定しています。\u003c/p\u003e\n\u003cp data-sourcepos=\"53:1-53:61\"\u003eそしてその設定情報をhandlerに渡しています。\u003c/p\u003e\n\u003cp data-sourcepos=\"55:1-55:92\"\u003e\u003ccode\u003e#ig/ref\u003c/code\u003eはIntegrantの依存関係の参照を表していて、\u003ccode\u003e:db\u003c/code\u003eに渡しています\u003c/p\u003e\n\u003ch2 data-sourcepos=\"57:1-57:18\"\u003e\n\u003cspan id=\"データ取得\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%87%E3%83%BC%E3%82%BF%E5%8F%96%E5%BE%97\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eデータ取得\u003c/h2\u003e\n\u003cp data-sourcepos=\"59:1-59:63\"\u003e次に、ハンドラー側の実装をいじっていきます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"61:1-75:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ehandler/feeds.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eclojure-rss-reader.handler.feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:require\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eataraxy.response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eintegrant.core\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eig\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003enext.jdbc\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ejdbc\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003enext.jdbc.result-set\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ers\u003c/span\u003e\u003cspan class=\"p\"\u003e]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eget-feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejdbc/execute!\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"SELECT * FROM feed\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:builder-fn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ers/as-unqualified-lower-maps\u003c/span\u003e\u003cspan class=\"p\"\u003e})]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefmethod\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eig/init-key\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e::get\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keys\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003espec\u003c/span\u003e\u003cspan class=\"p\"\u003e]}\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:db\u003c/span\u003e\u003cspan class=\"p\"\u003e}]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003efn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e::response/ok\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eget-feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003espec\u003c/span\u003e\u003cspan class=\"p\"\u003e)]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"77:1-77:36\"\u003eこんな感じで実装しました\u003c/p\u003e\n\u003cp data-sourcepos=\"79:1-79:133\"\u003e\u003ccode\u003edb\u003c/code\u003eを受け取りデータベースの値を返す\u003ccode\u003eget-feeds\u003c/code\u003eという関数を作り、それをhandlerで呼び出しています\u003c/p\u003e\n\u003cp data-sourcepos=\"81:1-81:51\"\u003e実際にリクエストを送ってみましょう\u003c/p\u003e\n\u003cp data-sourcepos=\"83:1-83:36\"\u003eまずサーバーを起動します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"85:1-92:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003elein repl\n\u003cspan class=\"nv\"\u003euser\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e(\u003c/span\u003edev\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n:loaded\n\u003cspan class=\"nv\"\u003edev\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e(\u003c/span\u003ego\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n:duct.server.http.jetty/starting-server \u003cspan class=\"o\"\u003e{\u003c/span\u003e:port 3000\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n:initiated\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"94:1-94:45\"\u003eそしてリクエストを送ってみます\u003c/p\u003e\n\u003cdiv data-sourcepos=\"96:1-98:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"97:1-97:82\"\u003e解説はしていませんが、postgresqlをローカルに立てています。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"100:1-121:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl localhost:3000/v1/feeds | jq \u003cspan class=\"nb\"\u003e.\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"s2\"\u003e\"feeds\"\u003c/span\u003e: \u003cspan class=\"o\"\u003e[\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"s2\"\u003e\"id\"\u003c/span\u003e: 1,\n      \u003cspan class=\"s2\"\u003e\"url\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"https://www.google.com\"\u003c/span\u003e,\n      \u003cspan class=\"s2\"\u003e\"title\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"Google\"\u003c/span\u003e,\n      \u003cspan class=\"s2\"\u003e\"description\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"Googleのトップページです。\"\u003c/span\u003e,\n      \u003cspan class=\"s2\"\u003e\"created_at\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"2024-12-19T05:24:36Z\"\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e}\u003c/span\u003e,\n    \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"s2\"\u003e\"id\"\u003c/span\u003e: 2,\n      \u003cspan class=\"s2\"\u003e\"url\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"https://www.yahoo.co.jp\"\u003c/span\u003e,\n      \u003cspan class=\"s2\"\u003e\"title\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"Yahoo! JAPAN\"\u003c/span\u003e,\n      \u003cspan class=\"s2\"\u003e\"description\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"Yahoo! JAPANのトップページです。\"\u003c/span\u003e,\n      \u003cspan class=\"s2\"\u003e\"created_at\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"2024-12-19T05:24:36Z\"\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"o\"\u003e]\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"123:1-123:86\"\u003eいい感じでDBに入っているデータを取得することができました。\u003c/p\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 21*](https://qiita.com/advent-calendar/2024/clojure)\n\n昨日は`Duct`でルーティングを実装しました\n\n今日はDB接続したいと思います。\n\n:::note warn\n今回の記事ではpostgresqlに接続しますが、\nDBの立ち上げ部分に関しては省略します\n:::\n\nデータベース接続を作るのに、`HikariCP`というものを使おうと思います\n\n## DB接続プール\n\n`HikariCP`は高速かつ効率的なデータベース接続プールライブラリです。\n\nさっそく`project.clj`に追加します\n\n```clojure:project.clj\n  :dependencies [[org.clojure/clojure \"1.10.3\"]\n                 [duct/core \"0.8.0\"]\n                 [metosin/ring-http-response \"0.9.4\"]\n                 [duct/module.ataraxy \"0.3.0\"]\n                 [duct/module.logging \"0.5.0\"]\n                 [duct/module.web \"0.7.4\"]\n                 [duct/database.sql.hikaricp \"0.4.0\"] ; 追加\n                 [org.postgresql/postgresql \"42.7.4\"] ; 追加\n                 [com.github.seancorfield/next.jdbc \"1.3.981\"] ; 追加]\n```\n\nついでに`postgresql`ドライバーと、`jdbc`というデータベースアクセスライブラリを入れました\n\n次に`config.edn`に設定を追加していきます\n\n```clojure:config.edn\n  :duct.database.sql/hikaricp\n  {:adapter \"postgresql\"\n   :server-name \"localhost\"\n   :port-number \"5432\"\n   :username \"user\"\n   :password \"password\"\n   :database-name \"feed\"}\n\n  :clojure-rss-reader.handler.feeds/get\n  {:db #ig/ref :duct.database.sql/hikaricp}\n```\n\nここでは、DB接続情報を`:duct.database.sql/hikaricp`に設定しています。\n\nそしてその設定情報をhandlerに渡しています。\n\n`#ig/ref`はIntegrantの依存関係の参照を表していて、`:db`に渡しています\n\n## データ取得\n\n次に、ハンドラー側の実装をいじっていきます\n\n```clojure:handler/feeds.clj\n(ns clojure-rss-reader.handler.feeds\n  (:require [ataraxy.response :as response]\n            [integrant.core :as ig]\n            [next.jdbc :as jdbc]\n            [next.jdbc.result-set :as rs]))\n\n(defn get-feeds [db]\n  (let [result (jdbc/execute! db [\"SELECT * FROM feed\"] {:builder-fn rs/as-unqualified-lower-maps})]\n    {:feeds result}))\n\n(defmethod ig/init-key ::get [_ {{:keys [spec]} :db}]\n  (fn [_]\n    [::response/ok (get-feeds spec)]))\n```\n\nこんな感じで実装しました\n\n`db`を受け取りデータベースの値を返す`get-feeds`という関数を作り、それをhandlerで呼び出しています\n\n実際にリクエストを送ってみましょう\n\nまずサーバーを起動します\n\n```bash\n$ lein repl\nuser=\u003e (dev)\n:loaded\ndev=\u003e (go)\n:duct.server.http.jetty/starting-server {:port 3000}\n:initiated\n```\n\nそしてリクエストを送ってみます\n\n:::note info\n解説はしていませんが、postgresqlをローカルに立てています。\n:::\n\n```bash\n$ curl localhost:3000/v1/feeds | jq .\n\n{\n  \"feeds\": [\n    {\n      \"id\": 1,\n      \"url\": \"https://www.google.com\",\n      \"title\": \"Google\",\n      \"description\": \"Googleのトップページです。\",\n      \"created_at\": \"2024-12-19T05:24:36Z\"\n    },\n    {\n      \"id\": 2,\n      \"url\": \"https://www.yahoo.co.jp\",\n      \"title\": \"Yahoo! JAPAN\",\n      \"description\": \"Yahoo! JAPANのトップページです。\",\n      \"created_at\": \"2024-12-19T05:24:36Z\"\n    }\n  ]\n}\n```\n\nいい感じでDBに入っているデータを取得することができました。\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-12-19T00:45:30+09:00",
    "group": null,
    "id": "32fee6a9b924d31e4c9a",
    "likes_count": 0,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "Clojure", "versions": [] },
      { "name": "duct", "versions": [] }
    ],
    "title": "Clojure: DuctでRSSリーダーを作る - DB接続(HikariCP, Jdbc)",
    "updated_at": "2024-12-21T23:45:41+09:00",
    "url": "https://qiita.com/maaaashi/items/32fee6a9b924d31e4c9a",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:79\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 20\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"5:1-5:73\"\u003e昨日はDuctでプロジェクトのセットアップをしました。\u003c/p\u003e\n\u003cp data-sourcepos=\"7:1-7:63\"\u003e今日は\u003ccode\u003eataraxy\u003c/code\u003eのルーティングを実装してみます\u003c/p\u003e\n\u003ch2 data-sourcepos=\"9:1-9:10\"\u003e\n\u003cspan id=\"ataraxy\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#ataraxy\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAtaraxy\u003c/h2\u003e\n\u003cp data-sourcepos=\"11:1-11:184\"\u003e\u003ccode\u003eAtaraxy\u003c/code\u003eは、ClojureのWebアプリケーション開発においてリクエストのルーティングやレスポンスの管理を簡潔に行うためのライブラリです。\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:88\"\u003e\u003ccode\u003eDuct\u003c/code\u003e のプロジェクトをセットアップする際に簡単に追加できます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"15:1-17:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e例\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003elein new duct example-api +api +ataraxy\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"19:1-19:30\"\u003e\n\u003cspan id=\"ルーティングの実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AB%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E3%81%AE%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eルーティングの実装\u003c/h2\u003e\n\u003cp data-sourcepos=\"21:1-21:141\"\u003eプロジェクトを起動すると、プロジェクトの設定が書いてある\u003ccode\u003econfig.edn\u003c/code\u003eは以下のような状態だと思います\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"23:1-37:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003econfig.edn\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:duct.profile/base\u003c/span\u003e\u003cspan class=\"w\"\u003e\n \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:duct.core/project-ns\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eexample-api\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n  \u003c/span\u003e\u003cspan class=\"no\"\u003e:duct.router/ataraxy\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:routes\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{}}}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n \u003c/span\u003e\u003cspan class=\"no\"\u003e:duct.profile/dev\u003c/span\u003e\u003cspan class=\"w\"\u003e   \u003c/span\u003e\u003cspan class=\"o\"\u003e#\u003c/span\u003e\u003cspan class=\"n\"\u003educt/include\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"dev\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n \u003c/span\u003e\u003cspan class=\"no\"\u003e:duct.profile/local\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e#\u003c/span\u003e\u003cspan class=\"n\"\u003educt/include\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"local\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n \u003c/span\u003e\u003cspan class=\"no\"\u003e:duct.profile/prod\u003c/span\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"p\"\u003e{}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n \u003c/span\u003e\u003cspan class=\"no\"\u003e:duct.module/logging\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n \u003c/span\u003e\u003cspan class=\"no\"\u003e:duct.module.web/api\u003c/span\u003e\u003cspan class=\"w\"\u003e\n \u003c/span\u003e\u003cspan class=\"p\"\u003e{}}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"39:1-39:48\"\u003eこの中のルーティングの設定部分は\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"41:1-44:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"no\"\u003e:duct.router/ataraxy\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:routes\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{}}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"46:1-46:21\"\u003eこの部分です。\u003c/p\u003e\n\u003cp data-sourcepos=\"48:1-48:69\"\u003eこの部分に\u003ccode\u003eGET /v1/feeds\u003c/code\u003eというパスを追加してみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"50:1-54:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"no\"\u003e:duct.router/ataraxy\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:routes\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"p\"\u003e{[\u003c/span\u003e\u003cspan class=\"no\"\u003e:get\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/feeds\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:clojure-rss-reader.handler.feeds/get\u003c/span\u003e\u003cspan class=\"p\"\u003e]}}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"56:1-56:42\"\u003eこのように指定してみました。\u003c/p\u003e\n\u003cp data-sourcepos=\"58:1-58:169\"\u003eこれは、\u003ccode\u003e/v1/feeds\u003c/code\u003eにGETリクエストが来た時に、\u003ccode\u003eclojure-rss-reader.handler.feeds/get\u003c/code\u003eというコンポーネントで処理するという設定です。\u003c/p\u003e\n\u003cp data-sourcepos=\"60:1-60:119\"\u003eまた、この\u003ccode\u003eclojure-rss-reader.handler.feeds/get\u003c/code\u003eというコンポーネントの初期化の設定も必要です\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"62:1-68:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"no\"\u003e:duct.router/ataraxy\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:routes\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"p\"\u003e{[\u003c/span\u003e\u003cspan class=\"no\"\u003e:get\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/feeds\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:clojure-rss-reader.handler.feeds/get\u003c/span\u003e\u003cspan class=\"p\"\u003e]}}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n  \u003c/span\u003e\u003cspan class=\"no\"\u003e:clojure-rss-reader.handler.feeds/get\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"70:1-70:36\"\u003eこれで初期化できました。\u003c/p\u003e\n\u003cp data-sourcepos=\"72:1-72:140\"\u003eこれは\u003ccode\u003eclojure-rss-reader.handler.feeds/get\u003c/code\u003eというコンポーネントの初期化じに空のマップを渡すという意味です\u003c/p\u003e\n\u003cp data-sourcepos=\"74:1-74:95\"\u003eでは、\u003ccode\u003eclojure-rss-reader.handler.feeds/get\u003c/code\u003eのコンポーネントを実装してみます\u003c/p\u003e\n\u003ch2 data-sourcepos=\"76:1-76:33\"\u003e\n\u003cspan id=\"コンポーネントの実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%81%AE%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコンポーネントの実装\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"78:1-86:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ehandler/feeds.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eclojure-rss-reader.handler.feeds\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:require\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eataraxy.response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eintegrant.core\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eig\u003c/span\u003e\u003cspan class=\"p\"\u003e]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefmethod\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eig/init-key\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e::get\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003efn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e::response/ok\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:message\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"OK\"\u003c/span\u003e\u003cspan class=\"p\"\u003e}]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"88:1-88:82\"\u003eここでは\u003ccode\u003eataraxy.response\u003c/code\u003eと\u003ccode\u003eintegrant.core\u003c/code\u003eをインポートしました。\u003c/p\u003e\n\u003cul data-sourcepos=\"90:1-95:0\"\u003e\n\u003cli data-sourcepos=\"90:1-91:72\"\u003e\n\u003ccode\u003eataraxy.response\u003c/code\u003e\n\u003cul data-sourcepos=\"91:5-91:72\"\u003e\n\u003cli data-sourcepos=\"91:5-91:72\"\u003e\n\u003ccode\u003eataraxy\u003c/code\u003eのレスポンスを簡潔に作成するライブラリ\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"92:1-95:0\"\u003e\n\u003ccode\u003eintegrant.core\u003c/code\u003e\n\u003cul data-sourcepos=\"93:5-95:0\"\u003e\n\u003cli data-sourcepos=\"93:5-95:0\"\u003e\n\u003ccode\u003eintegrant\u003c/code\u003eは、構成をデータとして定義し、管理する\u003ca href=\"https://github.com/weavejester/integrant\" rel=\"nofollow noopener\" target=\"_blank\"\u003eライブラリ\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"96:1-96:118\"\u003eまた、レスポンスに関しては \u003ccode\u003eAtaraxy\u003c/code\u003eの一部である\u003ccode\u003eataraxy.response\u003c/code\u003eを用いて実装しました。\u003c/p\u003e\n\u003cp data-sourcepos=\"98:1-98:54\"\u003eこれで実際にリクエストを送ってみます\u003c/p\u003e\n\u003cp data-sourcepos=\"100:1-100:31\"\u003e今回はREPLで起動します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"102:1-109:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003elein repl\n\u003cspan class=\"nv\"\u003euser\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e(\u003c/span\u003edev\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n:loaded\n\u003cspan class=\"nv\"\u003edev\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e(\u003c/span\u003ego\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n:duct.server.http.jetty/starting-server \u003cspan class=\"o\"\u003e{\u003c/span\u003e:port 3000\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n:initiated\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"111:1-112:24\"\u003e\u003ccode\u003e(dev)\u003c/code\u003eで開発環境をロードし、\u003cbr\u003e\n\u003ccode\u003e(go)\u003c/code\u003eで起動します\u003c/p\u003e\n\u003cp data-sourcepos=\"114:1-114:93\"\u003eport \u003ccode\u003e3000\u003c/code\u003eで起動したようなので、\u003ccode\u003ev1/feeds\u003c/code\u003eにリクエストを送ってみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"116:1-119:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl localhost:3000/v1/feeds\n\u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"message\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"OK\"\u003c/span\u003e\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"121:1-121:48\"\u003e無事レスポンスが返ってきました。\u003c/p\u003e\n\u003cp data-sourcepos=\"123:1-123:38\"\u003e明日はDBに接続していきます\u003c/p\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 20*](https://qiita.com/advent-calendar/2024/clojure)\n\n昨日はDuctでプロジェクトのセットアップをしました。\n\n今日は`ataraxy`のルーティングを実装してみます\n\n## Ataraxy\n\n`Ataraxy`は、ClojureのWebアプリケーション開発においてリクエストのルーティングやレスポンスの管理を簡潔に行うためのライブラリです。\n\n`Duct` のプロジェクトをセットアップする際に簡単に追加できます\n\n```bash:例\n$ lein new duct example-api +api +ataraxy\n```\n\n## ルーティングの実装\n\nプロジェクトを起動すると、プロジェクトの設定が書いてある`config.edn`は以下のような状態だと思います\n\n```clojure:config.edn\n{:duct.profile/base\n {:duct.core/project-ns example-api\n\n  :duct.router/ataraxy\n  {:routes {}}}\n\n :duct.profile/dev   #duct/include \"dev\"\n :duct.profile/local #duct/include \"local\"\n :duct.profile/prod  {}\n\n :duct.module/logging {}\n :duct.module.web/api\n {}}\n```\n\nこの中のルーティングの設定部分は\n\n```clojure\n  :duct.router/ataraxy\n  {:routes {}}\n```\n\nこの部分です。\n\nこの部分に`GET /v1/feeds`というパスを追加してみます\n\n```clojure\n  :duct.router/ataraxy\n  {:routes\n   {[:get \"/v1/feeds\"] [:clojure-rss-reader.handler.feeds/get]}}\n```\n\nこのように指定してみました。\n\nこれは、`/v1/feeds`にGETリクエストが来た時に、`clojure-rss-reader.handler.feeds/get`というコンポーネントで処理するという設定です。\n\nまた、この`clojure-rss-reader.handler.feeds/get`というコンポーネントの初期化の設定も必要です\n\n```clojure\n  :duct.router/ataraxy\n  {:routes\n   {[:get \"/v1/feeds\"] [:clojure-rss-reader.handler.feeds/get]}}\n\n  :clojure-rss-reader.handler.feeds/get {}\n```\n\nこれで初期化できました。\n\nこれは`clojure-rss-reader.handler.feeds/get`というコンポーネントの初期化じに空のマップを渡すという意味です\n\nでは、`clojure-rss-reader.handler.feeds/get`のコンポーネントを実装してみます\n\n## コンポーネントの実装\n\n```clojure:handler/feeds.clj\n(ns clojure-rss-reader.handler.feeds\n  (:require [ataraxy.response :as response]\n            [integrant.core :as ig]))\n\n(defmethod ig/init-key ::get [_ _]\n  (fn [_]\n    [::response/ok {:message \"OK\"}]))\n```\n\nここでは`ataraxy.response`と`integrant.core`をインポートしました。\n\n- `ataraxy.response`\n    - `ataraxy`のレスポンスを簡潔に作成するライブラリ\n- `integrant.core`\n    - `integrant`は、構成をデータとして定義し、管理する[ライブラリ](https://github.com/weavejester/integrant)\n\n\nまた、レスポンスに関しては `Ataraxy`の一部である`ataraxy.response`を用いて実装しました。\n\nこれで実際にリクエストを送ってみます\n\n今回はREPLで起動します\n\n```bash\n$ lein repl\nuser=\u003e (dev)\n:loaded\ndev=\u003e (go)\n:duct.server.http.jetty/starting-server {:port 3000}\n:initiated\n```\n\n`(dev)`で開発環境をロードし、\n`(go)`で起動します\n\nport `3000`で起動したようなので、`v1/feeds`にリクエストを送ってみます\n\n```bash\n$ curl localhost:3000/v1/feeds\n{\"message\":\"OK\"}\n```\n\n無事レスポンスが返ってきました。\n\n明日はDBに接続していきます\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-12-18T20:08:14+09:00",
    "group": null,
    "id": "a5dac663b974082dba9c",
    "likes_count": 0,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "Clojure", "versions": [] },
      { "name": "duct", "versions": [] },
      { "name": "ataraxy", "versions": [] }
    ],
    "title": "Clojure: DuctでRSSリーダーを作る - ルーティング",
    "updated_at": "2024-12-20T07:04:07+09:00",
    "url": "https://qiita.com/maaaashi/items/a5dac663b974082dba9c",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:79\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 19\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"5:1-5:72\"\u003e昨日まで \u003ccode\u003eRing\u003c/code\u003e を用いてTodoアプリを作ってきました。\u003c/p\u003e\n\u003cp data-sourcepos=\"7:1-7:115\"\u003e今日からはClojureのフレームワークである、\u003ccode\u003eDuct\u003c/code\u003eを用いてRSSリーダーを作っていきます\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:38\"\u003e\u003ciframe id=\"qiita-embed-content__3c046458e61ed308646f7110ee9e3087\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__3c046458e61ed308646f7110ee9e3087\" data-content=\"https%3A%2F%2Fgithub.com%2Fduct-framework%2Fduct\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cdiv data-sourcepos=\"11:1-15:3\" class=\"note warn\"\u003e\n\u003cspan class=\"fa fa-fw fa-exclamation-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"12:1-12:6\"\u003e前提\u003c/p\u003e\n\u003cul data-sourcepos=\"13:1-14:53\"\u003e\n\u003cli data-sourcepos=\"13:1-13:48\"\u003eJavaがインストールされていること\u003c/li\u003e\n\u003cli data-sourcepos=\"14:1-14:53\"\u003eleiningenがインストールされていること\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"17:1-17:39\"\u003e\n\u003cspan id=\"プロジェクトセットアップ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%BB%E3%83%83%E3%83%88%E3%82%A2%E3%83%83%E3%83%97\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eプロジェクトセットアップ\u003c/h2\u003e\n\u003cp data-sourcepos=\"19:1-19:64\"\u003eシンプルなDuctのセットアップは簡単にできます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"21:1-23:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003elein new duct \u0026lt;your project name\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"25:1-25:84\"\u003eただ、追加の機能を指定してセットアップすることもできます\u003c/p\u003e\n\u003cul data-sourcepos=\"27:1-44:0\"\u003e\n\u003cli data-sourcepos=\"27:1-28:84\"\u003e\n\u003ccode\u003e+api\u003c/code\u003e\n\u003cul data-sourcepos=\"28:5-28:84\"\u003e\n\u003cli data-sourcepos=\"28:5-28:84\"\u003eAPIを作成するのに便利なミドルウェアとハンドラーを追加\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"29:1-30:34\"\u003e\n\u003ccode\u003e+ataraxy\u003c/code\u003e\n\u003cul data-sourcepos=\"30:5-30:34\"\u003e\n\u003cli data-sourcepos=\"30:5-30:34\"\u003eAtaraxyルーターを追加\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"31:1-33:128\"\u003e\n\u003ccode\u003e+cljs\u003c/code\u003e\n\u003cul data-sourcepos=\"32:5-33:128\"\u003e\n\u003cli data-sourcepos=\"32:5-32:82\"\u003eClojureScriptのコンパイル環境とホットリロード機能を追加\u003c/li\u003e\n\u003cli data-sourcepos=\"33:5-33:128\"\u003eフロントエンド用のClojureScriptをビルドするためのツール（例: shadow-cljs）をセットアップ。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"34:1-35:42\"\u003e\n\u003ccode\u003e+example\u003c/code\u003e\n\u003cul data-sourcepos=\"35:5-35:42\"\u003e\n\u003cli data-sourcepos=\"35:5-35:42\"\u003eサンプルハンドラーを追加\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"36:1-37:57\"\u003e\n\u003ccode\u003e+heroku\u003c/code\u003e\n\u003cul data-sourcepos=\"37:5-37:57\"\u003e\n\u003cli data-sourcepos=\"37:5-37:57\"\u003eHerokuへのデプロイに必要な設定を追加\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"38:1-39:103\"\u003e\n\u003ccode\u003e+postgres\u003c/code\u003e\n\u003cul data-sourcepos=\"39:5-39:103\"\u003e\n\u003cli data-sourcepos=\"39:5-39:103\"\u003ePostgreSQLを使用するための依存関係とデータベースコンポーネントを追加\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"40:1-41:104\"\u003e\n\u003ccode\u003e+site\u003c/code\u003e\n\u003cul data-sourcepos=\"41:5-41:104\"\u003e\n\u003cli data-sourcepos=\"41:5-41:104\"\u003eWebサイト向けのミドルウェア、favicon、WebJars、その他便利なツールを追加\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"42:1-44:0\"\u003e\n\u003ccode\u003e+sqlite\u003c/code\u003e\n\u003cul data-sourcepos=\"43:5-44:0\"\u003e\n\u003cli data-sourcepos=\"43:5-44:0\"\u003eSQLiteを使用するための依存関係とデータベースコンポーネントを追加\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"45:1-45:72\"\u003e今回は \u003ccode\u003eapi\u003c/code\u003e と \u003ccode\u003eataraxy\u003c/code\u003e を指定してセットアップします\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"47:1-49:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e$ lein new duct clojure-rss-reader +api +ataraxy\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"51:1-51:30\"\u003e試しに起動してみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"53:1-61:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e$ lein run\nRetrieving duct/database.sql.hikaricp/0.4.0/database.sql.hikaricp-0.4.0.pom from clojars\nRetrieving duct/database.sql/0.1.0/database.sql-0.1.0.pom from clojars\n...\n(省略)\n...\n24-12-17 00:14:47 oookamasashinoMacBook-Air.local REPORT [duct.server.http.jetty:13] - :duct.server.http.jetty/starting-server {:port 3000}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"63:1-63:53\"\u003eどうやら \u003ccode\u003e3000\u003c/code\u003eportで起動できたようです\u003c/p\u003e\n\u003cp data-sourcepos=\"65:1-65:93\"\u003eまだルーティングを設定していませんが、リクエストを送ってみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"67:1-70:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl localhost:3000           \n\u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"error\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"not-found\"\u003c/span\u003e\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"72:1-72:53\"\u003e\u003ccode\u003e404\u003c/code\u003eですがレスポンスが帰ってきました\u003c/p\u003e\n\u003cp data-sourcepos=\"74:1-74:66\"\u003eこれでプロジェクトがセットアップできました。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"76:1-76:9\"\u003e\n\u003cspan id=\"構成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A7%8B%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e構成\u003c/h2\u003e\n\u003cp data-sourcepos=\"78:1-78:99\"\u003eプロジェクトをセットアップすると、以下のようになっていると思います\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"80:1-102:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eclojure-rss-reader/\n├── README.md\n├── dev\n│   ├── resources\n│   │   └── dev.edn\n│   └── src\n│       ├── dev.clj\n│       └── user.clj\n├── project.clj\n├── resources\n│   └── clojure_rss_reader\n│       ├── config.edn\n│       └── public\n├── src\n│   ├── clojure_rss_reader\n│   │   ├── handler\n│   │   └── main.clj\n│   └── duct_hierarchy.edn\n└── test\n    └── clojure_rss_reader\n        └── handler\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"104:1-104:30\"\u003e少しこれを解説します\u003c/p\u003e\n\u003ch3 data-sourcepos=\"106:1-106:10\"\u003e\n\u003cspan id=\"dev\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#dev\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003e/dev\u003c/code\u003e\n\u003c/h3\u003e\n\u003cp data-sourcepos=\"108:1-108:78\"\u003eこれは開発環境用の設定やコードを配置するディレクトリ\u003c/p\u003e\n\u003cp data-sourcepos=\"110:1-110:145\"\u003e例えば、REPLの初期化用コードを置いたり、開発用の設定（データベース設定）などを置いたりする場所です\u003c/p\u003e\n\u003ch3 data-sourcepos=\"112:1-112:16\"\u003e\n\u003cspan id=\"resources\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#resources\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003e/resources\u003c/code\u003e\n\u003c/h3\u003e\n\u003cp data-sourcepos=\"114:1-114:75\"\u003e構成ファイルや、静的リソースを格納するディレクトリ\u003c/p\u003e\n\u003cp data-sourcepos=\"116:1-116:132\"\u003e例えば、データベース情報、ログ設定、環境変数などアプリケーションに必要な設定値を置けます\u003c/p\u003e\n\u003ch3 data-sourcepos=\"118:1-118:10\"\u003e\n\u003cspan id=\"src\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#src\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003e/src\u003c/code\u003e\n\u003c/h3\u003e\n\u003cp data-sourcepos=\"120:1-120:69\"\u003eアプリケーションの本体の実装を置くディレクトリ\u003c/p\u003e\n\u003ch3 data-sourcepos=\"122:1-122:11\"\u003e\n\u003cspan id=\"test\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#test\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003e/test\u003c/code\u003e\n\u003c/h3\u003e\n\u003cp data-sourcepos=\"124:1-124:72\"\u003eアプリケーションのテストコードを置くディレクトリ\u003c/p\u003e\n\u003ch3 data-sourcepos=\"126:1-126:13\"\u003e\n\u003cspan id=\"まとめ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eまとめ\u003c/h3\u003e\n\u003ctable data-sourcepos=\"128:1-133:37\"\u003e\n\u003cthead\u003e\n\u003ctr data-sourcepos=\"128:1-128:27\"\u003e\n\u003cth data-sourcepos=\"128:2-128:19\"\u003eディレクトリ\u003c/th\u003e\n\u003cth data-sourcepos=\"128:21-128:26\"\u003e役割\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr data-sourcepos=\"130:1-130:36\"\u003e\n\u003ctd data-sourcepos=\"130:2-130:7\"\u003e\u003ccode\u003e/dev\u003c/code\u003e\u003c/td\u003e\n\u003ctd data-sourcepos=\"130:9-130:35\"\u003e開発環境専用の設定\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"131:1-131:69\"\u003e\n\u003ctd data-sourcepos=\"131:2-131:13\"\u003e\u003ccode\u003e/resources\u003c/code\u003e\u003c/td\u003e\n\u003ctd data-sourcepos=\"131:15-131:68\"\u003eアプリケーションの設定、静的リソース\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"132:1-132:45\"\u003e\n\u003ctd data-sourcepos=\"132:2-132:7\"\u003e\u003ccode\u003e/src\u003c/code\u003e\u003c/td\u003e\n\u003ctd data-sourcepos=\"132:9-132:44\"\u003eアプリケーションのコード\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"133:1-133:37\"\u003e\n\u003ctd data-sourcepos=\"133:2-133:8\"\u003e\u003ccode\u003e/test\u003c/code\u003e\u003c/td\u003e\n\u003ctd data-sourcepos=\"133:10-133:36\"\u003eテストコード置き場\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp data-sourcepos=\"135:1-135:111\"\u003eこれらのディレクトリ構成を適切に活用し、効率よく開発を進めることができます\u003c/p\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 19*](https://qiita.com/advent-calendar/2024/clojure)\n\n昨日まで `Ring` を用いてTodoアプリを作ってきました。\n\n今日からはClojureのフレームワークである、`Duct`を用いてRSSリーダーを作っていきます\n\nhttps://github.com/duct-framework/duct\n\n:::note warn\n前提\n- Javaがインストールされていること\n- leiningenがインストールされていること\n:::\n\n## プロジェクトセットアップ\n\nシンプルなDuctのセットアップは簡単にできます\n\n```bash\n$ lein new duct \u003cyour project name\u003e\n```\n\nただ、追加の機能を指定してセットアップすることもできます\n\n- `+api`\n    - APIを作成するのに便利なミドルウェアとハンドラーを追加\n- `+ataraxy`\n    - Ataraxyルーターを追加\n- `+cljs`\n    - ClojureScriptのコンパイル環境とホットリロード機能を追加\n    - フロントエンド用のClojureScriptをビルドするためのツール（例: shadow-cljs）をセットアップ。\n- `+example`\n    - サンプルハンドラーを追加\n- `+heroku`\n    - Herokuへのデプロイに必要な設定を追加\n- `+postgres`\n    - PostgreSQLを使用するための依存関係とデータベースコンポーネントを追加\n- `+site`\n    - Webサイト向けのミドルウェア、favicon、WebJars、その他便利なツールを追加\n- `+sqlite`\n    - SQLiteを使用するための依存関係とデータベースコンポーネントを追加\n\n今回は `api` と `ataraxy` を指定してセットアップします\n\n```\n$ lein new duct clojure-rss-reader +api +ataraxy\n```\n\n試しに起動してみます\n\n```\n$ lein run\nRetrieving duct/database.sql.hikaricp/0.4.0/database.sql.hikaricp-0.4.0.pom from clojars\nRetrieving duct/database.sql/0.1.0/database.sql-0.1.0.pom from clojars\n...\n(省略)\n...\n24-12-17 00:14:47 oookamasashinoMacBook-Air.local REPORT [duct.server.http.jetty:13] - :duct.server.http.jetty/starting-server {:port 3000}\n```\n\nどうやら `3000`portで起動できたようです\n\nまだルーティングを設定していませんが、リクエストを送ってみます\n\n```bash\n$ curl localhost:3000           \n{\"error\":\"not-found\"}\n```\n\n`404`ですがレスポンスが帰ってきました\n\nこれでプロジェクトがセットアップできました。\n\n## 構成\n\nプロジェクトをセットアップすると、以下のようになっていると思います\n\n```\nclojure-rss-reader/\n├── README.md\n├── dev\n│   ├── resources\n│   │   └── dev.edn\n│   └── src\n│       ├── dev.clj\n│       └── user.clj\n├── project.clj\n├── resources\n│   └── clojure_rss_reader\n│       ├── config.edn\n│       └── public\n├── src\n│   ├── clojure_rss_reader\n│   │   ├── handler\n│   │   └── main.clj\n│   └── duct_hierarchy.edn\n└── test\n    └── clojure_rss_reader\n        └── handler\n```\n\n少しこれを解説します\n\n### `/dev`\n\nこれは開発環境用の設定やコードを配置するディレクトリ\n\n例えば、REPLの初期化用コードを置いたり、開発用の設定（データベース設定）などを置いたりする場所です\n\n### `/resources`\n\n構成ファイルや、静的リソースを格納するディレクトリ\n\n例えば、データベース情報、ログ設定、環境変数などアプリケーションに必要な設定値を置けます\n\n### `/src`\n\nアプリケーションの本体の実装を置くディレクトリ\n\n### `/test`\n\nアプリケーションのテストコードを置くディレクトリ\n\n### まとめ\n\n|ディレクトリ|役割|\n|----|----|\n|`/dev`|開発環境専用の設定|\n|`/resources`|アプリケーションの設定、静的リソース|\n|`/src`|アプリケーションのコード|\n|`/test`|テストコード置き場|\n\nこれらのディレクトリ構成を適切に活用し、効率よく開発を進めることができます\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-12-16T23:00:55+09:00",
    "group": null,
    "id": "c56de57084d76415678e",
    "likes_count": 2,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 1,
    "tags": [
      { "name": "Clojure", "versions": [] },
      { "name": "duct", "versions": [] }
    ],
    "title": "Clojure: DuctでRSSリーダーを作る - Ductとは",
    "updated_at": "2024-12-19T17:39:00+09:00",
    "url": "https://qiita.com/maaaashi/items/c56de57084d76415678e",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:79\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 18\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"5:1-6:54\"\u003e昨日は作ったTodoアプリのログが出せるようになりました\u003cbr\u003e\n今日はエラーのハンドリングを行います\u003c/p\u003e\n\u003cp data-sourcepos=\"8:1-8:90\"\u003e今日もエラーをキャッチするようなミドルウェアを作成してみます\u003c/p\u003e\n\u003ch2 data-sourcepos=\"10:1-10:27\"\u003e\n\u003cspan id=\"ミドルウェア作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%9F%E3%83%89%E3%83%AB%E3%82%A6%E3%82%A7%E3%82%A2%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eミドルウェア作成\u003c/h2\u003e\n\u003cp data-sourcepos=\"12:1-12:129\"\u003e\u003ccode\u003ewrap-error-handling\u003c/code\u003eという名前のミドルウェアを作成し、エラーハンドリングしてみようと思います\u003c/p\u003e\n\u003cp data-sourcepos=\"14:1-14:88\"\u003e今回は以下2パターンに関してエラーを実装していこうと思います\u003c/p\u003e\n\u003col data-sourcepos=\"16:1-18:0\"\u003e\n\u003cli data-sourcepos=\"16:1-16:73\"\u003e\n\u003ccode\u003eclojure.lang.ExceptionInfo\u003c/code\u003eの時は実装されたエラーを返す\u003c/li\u003e\n\u003cli data-sourcepos=\"17:1-18:0\"\u003eそれ以外の例外ケースは500エラーを返す\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"19:1-32:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecore.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ewrap-error-handling\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003efn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003etry\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ecatch\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eclojure.lang.ExceptionInfo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keys\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003estatus\u003c/span\u003e\u003cspan class=\"p\"\u003e]}\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eex-data\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n              \u003c/span\u003e\u003cspan class=\"n\"\u003emessage\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eex-message\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n          \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/status\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:message\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003estatus\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ecatch\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eException\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003emessage\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Internal Server Error: \"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003e.getMessage\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e))]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n          \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/status\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:message\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e500\u003c/span\u003e\u003cspan class=\"p\"\u003e))))))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"34:1-34:42\"\u003eこんな感じで実装してみました\u003c/p\u003e\n\u003cp data-sourcepos=\"36:1-36:125\"\u003e実際に \u003ccode\u003eGET /v1/todos/{id}\u003c/code\u003e で存在しないTodoを指定したときには404エラーになるようにしてみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"38:1-43:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ehandler.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eget-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003edriver/find-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eor\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ethrow\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eex-info\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Todo id: \"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\", Not found\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:status\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e404\u003c/span\u003e\u003cspan class=\"p\"\u003e})))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"45:1-45:107\"\u003eこれでTodoがなかった時には\u003ccode\u003eclojure.lang.ExceptionInfo\u003c/code\u003eを \u003ccode\u003ethrow\u003c/code\u003e するようにできました\u003c/p\u003e\n\u003cp data-sourcepos=\"48:1-48:45\"\u003e実際にリクエストを送ってみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"50:1-88:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c\"\u003e# 存在する場合\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl localhost:3000/v1/todos/1 \u003cspan class=\"nt\"\u003e-v\u003c/span\u003e\n\u003cspan class=\"k\"\u003e*\u003c/span\u003e   Trying 127.0.0.1:3000...\n\u003cspan class=\"k\"\u003e*\u003c/span\u003e Connected to localhost \u003cspan class=\"o\"\u003e(\u003c/span\u003e127.0.0.1\u003cspan class=\"o\"\u003e)\u003c/span\u003e port 3000 \u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"c\"\u003e#0)\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e GET /v1/todos/1 HTTP/1.1\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e Host: localhost:3000\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e User-Agent: curl/7.81.0\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e Accept: \u003cspan class=\"k\"\u003e*\u003c/span\u003e/\u003cspan class=\"k\"\u003e*\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \n\u003cspan class=\"k\"\u003e*\u003c/span\u003e Mark bundle as not supporting multiuse\n\u0026lt; HTTP/1.1 200 OK\n\u0026lt; Date: Mon, 16 Dec 2024 13:43:07 GMT\n\u0026lt; Content-Type: application/json\u003cspan class=\"p\"\u003e;\u003c/span\u003e\u003cspan class=\"nv\"\u003echarset\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003eutf-8\n\u0026lt; Transfer-Encoding: chunked\n\u0026lt; Server: Jetty\u003cspan class=\"o\"\u003e(\u003c/span\u003e11.0.24\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u0026lt; \n\u003cspan class=\"k\"\u003e*\u003c/span\u003e Connection \u003cspan class=\"c\"\u003e#0 to host localhost left intact\u003c/span\u003e\n\u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"id\"\u003c/span\u003e:1,\u003cspan class=\"s2\"\u003e\"title\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"朝食を食べる\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"completed\"\u003c/span\u003e:false\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# 存在しない場合\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl localhost:3000/v1/todos/123 \u003cspan class=\"nt\"\u003e-v\u003c/span\u003e\n\u003cspan class=\"k\"\u003e*\u003c/span\u003e   Trying 127.0.0.1:3000...\n\u003cspan class=\"k\"\u003e*\u003c/span\u003e Connected to localhost \u003cspan class=\"o\"\u003e(\u003c/span\u003e127.0.0.1\u003cspan class=\"o\"\u003e)\u003c/span\u003e port 3000 \u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"c\"\u003e#0)\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e GET /v1/todos/123 HTTP/1.1\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e Host: localhost:3000\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e User-Agent: curl/7.81.0\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e Accept: \u003cspan class=\"k\"\u003e*\u003c/span\u003e/\u003cspan class=\"k\"\u003e*\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \n\u003cspan class=\"k\"\u003e*\u003c/span\u003e Mark bundle as not supporting multiuse\n\u0026lt; HTTP/1.1 404 Not Found\n\u0026lt; Date: Mon, 16 Dec 2024 13:42:46 GMT\n\u0026lt; Content-Type: application/json\u003cspan class=\"p\"\u003e;\u003c/span\u003e\u003cspan class=\"nv\"\u003echarset\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003eutf-8\n\u0026lt; Transfer-Encoding: chunked\n\u0026lt; Server: Jetty\u003cspan class=\"o\"\u003e(\u003c/span\u003e11.0.24\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u0026lt; \n\u003cspan class=\"k\"\u003e*\u003c/span\u003e Connection \u003cspan class=\"c\"\u003e#0 to host localhost left intact\u003c/span\u003e\n\u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"message\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"Todo id: 123, Not found\"\u003c/span\u003e\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"90:1-91:56\"\u003e存在するTodoを取るときは\u003ccode\u003e200\u003c/code\u003e、\u003cbr\u003e\n存在しない場合は\u003ccode\u003e404\u003c/code\u003eエラーになりました\u003c/p\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 18*](https://qiita.com/advent-calendar/2024/clojure)\n\n昨日は作ったTodoアプリのログが出せるようになりました\n今日はエラーのハンドリングを行います\n\n今日もエラーをキャッチするようなミドルウェアを作成してみます\n\n## ミドルウェア作成\n\n`wrap-error-handling`という名前のミドルウェアを作成し、エラーハンドリングしてみようと思います\n\n今回は以下2パターンに関してエラーを実装していこうと思います\n\n1. `clojure.lang.ExceptionInfo`の時は実装されたエラーを返す\n1. それ以外の例外ケースは500エラーを返す\n\n```clojure:core.clj\n(defn wrap-error-handling\n  [handler]\n  (fn [req]\n    (try\n      (handler req)\n      (catch clojure.lang.ExceptionInfo e\n        (let [{:keys [status]} (ex-data e)\n              message (ex-message e)]\n          (res/status (res/response {:message message}) status)))\n      (catch Exception e\n        (let [message (str \"Internal Server Error: \" (.getMessage e))]\n          (res/status (res/response {:message message}) 500))))))\n```\n\nこんな感じで実装してみました\n\n実際に `GET /v1/todos/{id}` で存在しないTodoを指定したときには404エラーになるようにしてみます\n\n```clojure:handler.clj\n(defn get-todo [id]\n  (-\u003e (driver/find-todo id)\n      (or (throw (ex-info (str \"Todo id: \" id \", Not found\") {:status 404})))\n      (res/response)))\n```\n\nこれでTodoがなかった時には`clojure.lang.ExceptionInfo`を `throw` するようにできました\n\n\n実際にリクエストを送ってみます\n\n```bash\n# 存在する場合\n$ curl localhost:3000/v1/todos/1 -v\n*   Trying 127.0.0.1:3000...\n* Connected to localhost (127.0.0.1) port 3000 (#0)\n\u003e GET /v1/todos/1 HTTP/1.1\n\u003e Host: localhost:3000\n\u003e User-Agent: curl/7.81.0\n\u003e Accept: */*\n\u003e \n* Mark bundle as not supporting multiuse\n\u003c HTTP/1.1 200 OK\n\u003c Date: Mon, 16 Dec 2024 13:43:07 GMT\n\u003c Content-Type: application/json;charset=utf-8\n\u003c Transfer-Encoding: chunked\n\u003c Server: Jetty(11.0.24)\n\u003c \n* Connection #0 to host localhost left intact\n{\"id\":1,\"title\":\"朝食を食べる\",\"completed\":false}\n\n# 存在しない場合\n$ curl localhost:3000/v1/todos/123 -v\n*   Trying 127.0.0.1:3000...\n* Connected to localhost (127.0.0.1) port 3000 (#0)\n\u003e GET /v1/todos/123 HTTP/1.1\n\u003e Host: localhost:3000\n\u003e User-Agent: curl/7.81.0\n\u003e Accept: */*\n\u003e \n* Mark bundle as not supporting multiuse\n\u003c HTTP/1.1 404 Not Found\n\u003c Date: Mon, 16 Dec 2024 13:42:46 GMT\n\u003c Content-Type: application/json;charset=utf-8\n\u003c Transfer-Encoding: chunked\n\u003c Server: Jetty(11.0.24)\n\u003c \n* Connection #0 to host localhost left intact\n{\"message\":\"Todo id: 123, Not found\"}\n```\n\n存在するTodoを取るときは`200`、\n存在しない場合は`404`エラーになりました\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-12-15T19:23:48+09:00",
    "group": null,
    "id": "543ee0576aca632f3af5",
    "likes_count": 0,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "Clojure", "versions": [] },
      { "name": "ring", "versions": [] }
    ],
    "title": "Clojure: RingでTodoアプリを作る - エラーハンドリング",
    "updated_at": "2024-12-18T07:03:52+09:00",
    "url": "https://qiita.com/maaaashi/items/543ee0576aca632f3af5",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:79\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 17\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"5:1-6:58\"\u003e昨日でTodoアプリのベースが完成しました。\u003cbr\u003e\n今日はHttpログを出せるようにしていきます\u003c/p\u003e\n\u003ch2 data-sourcepos=\"8:1-8:9\"\u003e\n\u003cspan id=\"目標\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%9B%AE%E6%A8%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e目標\u003c/h2\u003e\n\u003cp data-sourcepos=\"10:1-10:57\"\u003e以下ログを出せるようにしたいと思います\u003c/p\u003e\n\u003cul data-sourcepos=\"12:1-24:0\"\u003e\n\u003cli data-sourcepos=\"12:1-16:20\"\u003eリクエストログ\n\u003cul data-sourcepos=\"13:5-16:20\"\u003e\n\u003cli data-sourcepos=\"13:5-13:21\"\u003etype(\"request\")\u003c/li\u003e\n\u003cli data-sourcepos=\"14:5-14:15\"\u003etimestamp\u003c/li\u003e\n\u003cli data-sourcepos=\"15:5-15:17\"\u003erequest_uri\u003c/li\u003e\n\u003cli data-sourcepos=\"16:5-16:20\"\u003erequest_method\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"17:1-24:0\"\u003eレスポンスログ\n\u003cul data-sourcepos=\"18:5-24:0\"\u003e\n\u003cli data-sourcepos=\"18:5-18:22\"\u003etype(\"response\")\u003c/li\u003e\n\u003cli data-sourcepos=\"19:5-19:15\"\u003etimestamp\u003c/li\u003e\n\u003cli data-sourcepos=\"20:5-20:17\"\u003estatus code\u003c/li\u003e\n\u003cli data-sourcepos=\"21:5-21:17\"\u003erequest_uri\u003c/li\u003e\n\u003cli data-sourcepos=\"22:5-22:20\"\u003erequest_method\u003c/li\u003e\n\u003cli data-sourcepos=\"23:5-24:0\"\u003eresponse_time\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 data-sourcepos=\"25:1-25:18\"\u003e\n\u003cspan id=\"slf4jlogback\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#slf4jlogback\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eSLF4J・logback\u003c/h2\u003e\n\u003cp data-sourcepos=\"27:1-27:141\"\u003eSLF4J（Simple Logging Facade for Java）は、Javaアプリケーション向けのロギングAPIの統一インターフェースです。\u003c/p\u003e\n\u003cp data-sourcepos=\"29:1-30:97\"\u003e今回は \u003ccode\u003eclojure.tools.logging\u003c/code\u003e を使うつもりですが、\u003cbr\u003e\nこちらが\u003ccode\u003eSLF4J\u003c/code\u003eに依存しているため、プロジェクトに依存を追加します。\u003c/p\u003e\n\u003cp data-sourcepos=\"33:1-33:112\"\u003e\u003ccode\u003eSLF4J\u003c/code\u003eを実装しているバックエンドとして、\u003ccode\u003elogback\u003c/code\u003e を\u003ccode\u003eproject.clj\u003c/code\u003e に追加していきます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"35:1-39:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eproject.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"no\"\u003e:dependencies\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[[\u003c/span\u003e\u003cspan class=\"n\"\u003eorg.clojure/clojure\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"1.11.1\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003e...\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ech.qos.logback/logback-classic\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"1.4.11\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"41:1-41:52\"\u003eこれでprojectに\u003ccode\u003elogback\u003c/code\u003eを追加できました\u003c/p\u003e\n\u003cp data-sourcepos=\"43:1-43:77\"\u003e次にlogbackの設定ファイル \u003ccode\u003eresources/logback.xml\u003c/code\u003e を作成します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"xml\" data-sourcepos=\"45:1-56:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;configuration\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;appender\u003c/span\u003e \u003cspan class=\"na\"\u003ename=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"STDOUT\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ch.qos.logback.core.ConsoleAppender\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nt\"\u003e\u0026lt;encoder\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"nt\"\u003e\u0026lt;pattern\u0026gt;\u003c/span\u003e%d{yyyy-MM-dd HH:mm:ss} %-5level - %msg%n\u003cspan class=\"nt\"\u003e\u0026lt;/pattern\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nt\"\u003e\u0026lt;/encoder\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;/appender\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;root\u003c/span\u003e \u003cspan class=\"na\"\u003elevel=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"info\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nt\"\u003e\u0026lt;appender-ref\u003c/span\u003e \u003cspan class=\"na\"\u003eref=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"STDOUT\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;/root\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/configuration\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"58:1-58:54\"\u003e\u003ccode\u003e2020-01-01 12:00:00 INFO - {\"type\": \"request\", ... }\u003c/code\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"60:1-60:63\"\u003eこの設定で↑のような形で出力できるはずです\u003c/p\u003e\n\u003ch2 data-sourcepos=\"62:1-62:24\"\u003e\n\u003cspan id=\"clojuretoolslogging\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#clojuretoolslogging\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eclojure.tools.logging\u003c/h2\u003e\n\u003cp data-sourcepos=\"64:1-64:78\"\u003e次にlogを出力するために、\u003ccode\u003eclojure.tools.logging\u003c/code\u003e を追加します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"66:1-71:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eproject.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"no\"\u003e:dependencies\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[[\u003c/span\u003e\u003cspan class=\"n\"\u003eorg.clojure/clojure\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"1.11.1\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003e...\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ech.qos.logback/logback-classic\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"1.4.11\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eorg.clojure/tools.logging\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"1.3.0\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"73:1-73:51\"\u003eこれでログを出す準備ができました。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"75:1-75:30\"\u003e\n\u003cspan id=\"ミドルウェアで実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%9F%E3%83%89%E3%83%AB%E3%82%A6%E3%82%A7%E3%82%A2%E3%81%A7%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eミドルウェアで実装\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"77:1-77:25\"\u003e\n\u003cspan id=\"リクエストログ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%83%AD%E3%82%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eリクエストログ\u003c/h3\u003e\n\u003cp data-sourcepos=\"79:1-79:60\"\u003eもう一度リクエストログの目標を確認します\u003c/p\u003e\n\u003cul data-sourcepos=\"81:1-86:0\"\u003e\n\u003cli data-sourcepos=\"81:1-86:0\"\u003eリクエストログ\n\u003cul data-sourcepos=\"82:5-86:0\"\u003e\n\u003cli data-sourcepos=\"82:5-82:21\"\u003etype(\"request\")\u003c/li\u003e\n\u003cli data-sourcepos=\"83:5-83:15\"\u003etimestamp\u003c/li\u003e\n\u003cli data-sourcepos=\"84:5-84:17\"\u003erequest_uri\u003c/li\u003e\n\u003cli data-sourcepos=\"85:5-86:0\"\u003erequest_method\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"87:1-87:78\"\u003e以上を実現するためのミドルウェアを作成してみました。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"89:1-115:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecore.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etodo.core\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:require\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.adapter.jetty\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ejetty\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.util.response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eres\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.middleware.json\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:refer\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ewrap-json-response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ewrap-json-body\u003c/span\u003e\u003cspan class=\"p\"\u003e]]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003e...\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eclojure.data.json\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ejson\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eclojure.tools.logging\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn-\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ewrap-log-request\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003efn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ecurrent-timestamp\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejava.time.Instant/now\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                                \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003e.toString\u003c/span\u003e\u003cspan class=\"p\"\u003e))]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003elog/info\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejson/write-str\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:type\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"request\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                                 \u003c/span\u003e\u003cspan class=\"no\"\u003e:timestamp\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ecurrent-timestamp\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                                 \u003c/span\u003e\u003cspan class=\"no\"\u003e:request_uri\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:uri\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                                 \u003c/span\u003e\u003cspan class=\"no\"\u003e:request_method\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:request-method\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"p\"\u003e)})))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"o\"\u003e'\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ewrap-json-response\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ewrap-json-body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keywords?\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ewrap-log-request\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"117:1-118:73\"\u003elogを出力する部分は \u003ccode\u003eclojure.tools.logging\u003c/code\u003eを使用し、\u003cbr\u003e\njsonに変換する部分は \u003ccode\u003ering.middleware.json\u003c/code\u003e を使いました。\u003c/p\u003e\n\u003cp data-sourcepos=\"120:1-120:45\"\u003e実際にリクエストを送ってみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"122:1-125:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003elein run\n2024-12-14 23:50:55 INFO  - \u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"type\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"request\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"timestamp\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"2024-12-14T14:50:55.825355298Z\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"request_uri\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"se\"\u003e\\/\u003c/span\u003e\u003cspan class=\"s2\"\u003ev1\u003c/span\u003e\u003cspan class=\"se\"\u003e\\/\u003c/span\u003e\u003cspan class=\"s2\"\u003etodos\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"request_method\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"get\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"127:1-127:66\"\u003eうまくログを出力することができました \u003cimg alt=\":thumbsup:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f44d.png\" title=\":thumbsup:\" width=\"20\" loading=\"lazy\"\u003e\u003c/p\u003e\n\u003ch3 data-sourcepos=\"129:1-129:25\"\u003e\n\u003cspan id=\"レスポンスログ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AC%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B9%E3%83%AD%E3%82%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eレスポンスログ\u003c/h3\u003e\n\u003cp data-sourcepos=\"131:1-131:63\"\u003eレスポンスログも一度目標を確認しておきます\u003c/p\u003e\n\u003cul data-sourcepos=\"133:1-140:0\"\u003e\n\u003cli data-sourcepos=\"133:1-140:0\"\u003eレスポンスログ\n\u003cul data-sourcepos=\"134:5-140:0\"\u003e\n\u003cli data-sourcepos=\"134:5-134:22\"\u003etype(\"response\")\u003c/li\u003e\n\u003cli data-sourcepos=\"135:5-135:15\"\u003etimestamp\u003c/li\u003e\n\u003cli data-sourcepos=\"136:5-136:17\"\u003estatus code\u003c/li\u003e\n\u003cli data-sourcepos=\"137:5-137:17\"\u003erequest_uri\u003c/li\u003e\n\u003cli data-sourcepos=\"138:5-138:20\"\u003erequest_method\u003c/li\u003e\n\u003cli data-sourcepos=\"139:5-140:0\"\u003eresponse_time\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"141:1-141:99\"\u003eこちらのログを実現するために先ほど作成したミドルウェアを修正します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"143:1-175:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecore.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etodo.core\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:require\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.adapter.jetty\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ejetty\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.util.response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eres\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.middleware.json\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:refer\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ewrap-json-response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ewrap-json-body\u003c/span\u003e\u003cspan class=\"p\"\u003e]]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003e...\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eclojure.data.json\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ejson\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eclojure.tools.logging\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn-\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ewrap-log-response\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003efn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003estart-time\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eSystem/nanoTime\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n          \u003c/span\u003e\u003cspan class=\"n\"\u003eresponse\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n          \u003c/span\u003e\u003cspan class=\"n\"\u003eend-time\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eSystem/nanoTime\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n          \u003c/span\u003e\u003cspan class=\"n\"\u003eresponse-time\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e/\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eend-time\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003estart-time\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"n\"\u003ee6\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n          \u003c/span\u003e\u003cspan class=\"n\"\u003ecurrent-timestamp\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejava.time.Instant/now\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                                \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003e.toString\u003c/span\u003e\u003cspan class=\"p\"\u003e))]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003elog/info\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejson/write-str\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:type\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"response\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                                 \u003c/span\u003e\u003cspan class=\"no\"\u003e:timestamp\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ecurrent-timestamp\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                                 \u003c/span\u003e\u003cspan class=\"no\"\u003e:status\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:status\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                                 \u003c/span\u003e\u003cspan class=\"no\"\u003e:request_uri\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:uri\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                                 \u003c/span\u003e\u003cspan class=\"no\"\u003e:request_method\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:request-method\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                                 \u003c/span\u003e\u003cspan class=\"no\"\u003e:response_time\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eresponse-time\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"n\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"o\"\u003e'\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ewrap-log-response\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ewrap-json-response\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ewrap-json-body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keywords?\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ewrap-log-request\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"177:1-177:45\"\u003eこんな感じで実装してみました。\u003c/p\u003e\n\u003cp data-sourcepos=\"179:1-179:57\"\u003eこちらも実際にリクエストを送ってみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"181:1-184:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003elein run\n2024-12-15 00:09:09 INFO  - \u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"type\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"response\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"timestamp\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"2024-12-14T15:09:09.195763764Z\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"status\"\u003c/span\u003e:200,\u003cspan class=\"s2\"\u003e\"request_uri\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"se\"\u003e\\/\u003c/span\u003e\u003cspan class=\"s2\"\u003ev1\u003c/span\u003e\u003cspan class=\"se\"\u003e\\/\u003c/span\u003e\u003cspan class=\"s2\"\u003etodos\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"request_method\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"get\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"response_time\"\u003c/span\u003e:108.078736\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"186:1-186:48\"\u003eいい感じで出力できました \u003cimg alt=\":thumbsup:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f44d.png\" title=\":thumbsup:\" width=\"20\" loading=\"lazy\"\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"188:1-188:27\"\u003e\n\u003cspan id=\"ライブラリを使う\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%82%92%E4%BD%BF%E3%81%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eライブラリを使う\u003c/h2\u003e\n\u003cp data-sourcepos=\"190:1-190:38\"\u003e\u003ciframe id=\"qiita-embed-content__db0a9d4f6ff1d209f04cf891c136512f\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__db0a9d4f6ff1d209f04cf891c136512f\" data-content=\"https%3A%2F%2Fgithub.com%2Fnberger%2Fring-logger\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"192:1-192:63\"\u003eこのライブラリを使っても簡単に実装できます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"194:1-213:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecore.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etodo.core\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:require\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.adapter.jetty\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ejetty\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.util.response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eres\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.middleware.json\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:refer\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ewrap-json-response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ewrap-json-body\u003c/span\u003e\u003cspan class=\"p\"\u003e]]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ecompojure.core\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:refer\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003edefroutes\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eGET\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ePOST\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ePUT\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eDELETE\u003c/span\u003e\u003cspan class=\"p\"\u003e]]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ecompojure.route\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eroute\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003etodo.handler\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.logger\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003elogger\u003c/span\u003e\u003cspan class=\"p\"\u003e]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"o\"\u003e'\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003elogger/wrap-log-response\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ewrap-json-body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keywords?\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ewrap-json-response\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003elogger/wrap-log-request-start\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e-main\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejetty/run-jetty\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:port\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e3000\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"215:1-215:45\"\u003eこれでリクエストを送ってみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"217:1-221:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003elein run\n2024-12-16 12:13:38 INFO  - \u003cspan class=\"o\"\u003e{\u003c/span\u003e:request-method :get, :uri \u003cspan class=\"s2\"\u003e\"/v1/todos\"\u003c/span\u003e, :server-name \u003cspan class=\"s2\"\u003e\"localhost\"\u003c/span\u003e, :ring.logger/type :starting\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n2024-12-16 12:13:38 INFO  - \u003cspan class=\"o\"\u003e{\u003c/span\u003e:request-method :get, :uri \u003cspan class=\"s2\"\u003e\"/v1/todos\"\u003c/span\u003e, :server-name \u003cspan class=\"s2\"\u003e\"localhost\"\u003c/span\u003e, :ring.logger/type :finish, :status 200, :ring.logger/ms 126\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"223:1-223:21\"\u003eいい感じですね\u003c/p\u003e\n\u003cp data-sourcepos=\"225:1-225:117\"\u003e自分で作ってカスタマイズしてもいいし、ライブラリを使っても良さそうです \u003cimg alt=\":thumbsup:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f44d.png\" title=\":thumbsup:\" width=\"20\" loading=\"lazy\"\u003e\u003c/p\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 17*](https://qiita.com/advent-calendar/2024/clojure)\n\n昨日でTodoアプリのベースが完成しました。\n今日はHttpログを出せるようにしていきます\n\n## 目標\n\n以下ログを出せるようにしたいと思います\n\n- リクエストログ\n    - type(\"request\")\n    - timestamp\n    - request_uri\n    - request_method\n- レスポンスログ\n    - type(\"response\")\n    - timestamp\n    - status code\n    - request_uri\n    - request_method\n    - response_time\n\n## SLF4J・logback\n\nSLF4J（Simple Logging Facade for Java）は、Javaアプリケーション向けのロギングAPIの統一インターフェースです。\n\n今回は `clojure.tools.logging` を使うつもりですが、\nこちらが`SLF4J`に依存しているため、プロジェクトに依存を追加します。\n\n\n`SLF4J`を実装しているバックエンドとして、`logback` を`project.clj` に追加していきます\n\n```clojure:project.clj\n  :dependencies [[org.clojure/clojure \"1.11.1\"]\n                 [...]\n                 [ch.qos.logback/logback-classic \"1.4.11\"]]\n```\n\nこれでprojectに`logback`を追加できました\n\n次にlogbackの設定ファイル `resources/logback.xml` を作成します\n\n```xml\n\u003cconfiguration\u003e\n    \u003cappender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"\u003e\n        \u003cencoder\u003e\n            \u003cpattern\u003e%d{yyyy-MM-dd HH:mm:ss} %-5level - %msg%n\u003c/pattern\u003e\n        \u003c/encoder\u003e\n    \u003c/appender\u003e\n    \u003croot level=\"info\"\u003e\n        \u003cappender-ref ref=\"STDOUT\" /\u003e\n    \u003c/root\u003e\n\u003c/configuration\u003e\n```\n\n`2020-01-01 12:00:00 INFO - {\"type\": \"request\", ... }`\n\nこの設定で↑のような形で出力できるはずです\n\n## clojure.tools.logging\n\n次にlogを出力するために、`clojure.tools.logging` を追加します\n\n```clojure:project.clj\n  :dependencies [[org.clojure/clojure \"1.11.1\"]\n                 [...]\n                 [ch.qos.logback/logback-classic \"1.4.11\"]\n                 [org.clojure/tools.logging \"1.3.0\"]]\n```\n\nこれでログを出す準備ができました。\n\n## ミドルウェアで実装\n\n### リクエストログ\n\nもう一度リクエストログの目標を確認します\n\n- リクエストログ\n    - type(\"request\")\n    - timestamp\n    - request_uri\n    - request_method\n\n以上を実現するためのミドルウェアを作成してみました。\n\n```clojure:core.clj\n(ns todo.core\n  (:require [ring.adapter.jetty :as jetty]\n            [ring.util.response :as res]\n            [ring.middleware.json :refer [wrap-json-response wrap-json-body]]\n            [...]\n            [clojure.data.json :as json]\n            [clojure.tools.logging :as log]))\n\n(defn- wrap-log-request\n  [handler]\n  (fn [req]\n    (let [current-timestamp (-\u003e (java.time.Instant/now)\n                                (.toString))]\n      (log/info (json/write-str {:type \"request\"\n                                 :timestamp current-timestamp\n                                 :request_uri (:uri req)\n                                 :request_method (:request-method req)})))\n    (handler req)))\n\n(def handler\n  (-\u003e handler'\n      (wrap-json-response)\n      (wrap-json-body {:keywords? true})\n      (wrap-log-request)))\n\n```\n\nlogを出力する部分は `clojure.tools.logging`を使用し、\njsonに変換する部分は `ring.middleware.json` を使いました。\n\n実際にリクエストを送ってみます\n\n```bash\n$ lein run\n2024-12-14 23:50:55 INFO  - {\"type\":\"request\",\"timestamp\":\"2024-12-14T14:50:55.825355298Z\",\"request_uri\":\"\\/v1\\/todos\",\"request_method\":\"get\"\n```\n\nうまくログを出力することができました :thumbsup: \n\n### レスポンスログ\n\nレスポンスログも一度目標を確認しておきます\n\n- レスポンスログ\n    - type(\"response\")\n    - timestamp\n    - status code\n    - request_uri\n    - request_method\n    - response_time\n\nこちらのログを実現するために先ほど作成したミドルウェアを修正します\n\n```clojure:core.clj\n(ns todo.core\n  (:require [ring.adapter.jetty :as jetty]\n            [ring.util.response :as res]\n            [ring.middleware.json :refer [wrap-json-response wrap-json-body]]\n            [...]\n            [clojure.data.json :as json]\n            [clojure.tools.logging :as log]))\n\n(defn- wrap-log-response\n  [handler]\n  (fn [req]\n    (let [start-time (System/nanoTime)\n          response (handler req)\n          end-time (System/nanoTime)\n          response-time (/ (- end-time start-time) 1e6)\n          current-timestamp (-\u003e (java.time.Instant/now)\n                                (.toString))]\n      (log/info (json/write-str {:type \"response\"\n                                 :timestamp current-timestamp\n                                 :status (:status response)\n                                 :request_uri (:uri req)\n                                 :request_method (:request-method req)\n                                 :response_time response-time}))\n      response)))\n\n(def handler\n  (-\u003e handler'\n      (wrap-log-response)\n      (wrap-json-response)\n      (wrap-json-body {:keywords? true})\n      (wrap-log-request)))\n```\n\nこんな感じで実装してみました。\n\nこちらも実際にリクエストを送ってみます\n\n```bash\n$ lein run\n2024-12-15 00:09:09 INFO  - {\"type\":\"response\",\"timestamp\":\"2024-12-14T15:09:09.195763764Z\",\"status\":200,\"request_uri\":\"\\/v1\\/todos\",\"request_method\":\"get\",\"response_time\":108.078736}\n```\n\nいい感じで出力できました :thumbsup: \n\n## ライブラリを使う\n\nhttps://github.com/nberger/ring-logger\n\nこのライブラリを使っても簡単に実装できます\n\n```clojure:core.clj\n(ns todo.core\n  (:require [ring.adapter.jetty :as jetty]\n            [ring.util.response :as res]\n            [ring.middleware.json :refer [wrap-json-response wrap-json-body]]\n            [compojure.core :refer [defroutes GET POST PUT DELETE]]\n            [compojure.route :as route]\n            [todo.handler :as handler]\n            [ring.logger :as logger]))\n\n(def handler\n  (-\u003e handler'\n      (logger/wrap-log-response)\n      (wrap-json-body {:keywords? true})\n      (wrap-json-response)\n      (logger/wrap-log-request-start)))\n\n(defn -main []\n  (jetty/run-jetty handler {:port 3000}))\n```\n\nこれでリクエストを送ってみます\n\n```bash\n$ lein run\n2024-12-16 12:13:38 INFO  - {:request-method :get, :uri \"/v1/todos\", :server-name \"localhost\", :ring.logger/type :starting}\n2024-12-16 12:13:38 INFO  - {:request-method :get, :uri \"/v1/todos\", :server-name \"localhost\", :ring.logger/type :finish, :status 200, :ring.logger/ms 126}\n```\n\nいい感じですね\n\n自分で作ってカスタマイズしてもいいし、ライブラリを使っても良さそうです :thumbsup: \n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-12-15T00:10:14+09:00",
    "group": null,
    "id": "27abe493cf32bef4701e",
    "likes_count": 1,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "Clojure", "versions": [] },
      { "name": "ring", "versions": [] }
    ],
    "title": "Clojure: RingでTodoアプリを作る - logging",
    "updated_at": "2024-12-17T07:03:38+09:00",
    "url": "https://qiita.com/maaaashi/items/27abe493cf32bef4701e",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:79\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 16\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"5:1-5:71\"\u003e前回は\u003ccode\u003eClojure\u003c/code\u003e \u003ccode\u003eRing\u003c/code\u003eでjsonを扱えるようになりました。\u003c/p\u003e\n\u003cp data-sourcepos=\"7:1-7:94\"\u003eこれで全ての準備が整ったので、本格的にTodoアプリを作っていきます\u003c/p\u003e\n\u003ch2 data-sourcepos=\"9:1-9:9\"\u003e\n\u003cspan id=\"構成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A7%8B%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e構成\u003c/h2\u003e\n\u003ctable data-sourcepos=\"11:1-15:41\"\u003e\n\u003cthead\u003e\n\u003ctr data-sourcepos=\"11:1-11:26\"\u003e\n\u003cth data-sourcepos=\"11:2-11:18\"\u003eファイル\u003c/th\u003e\n\u003cth data-sourcepos=\"11:20-11:25\"\u003e役割\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr data-sourcepos=\"13:1-13:77\"\u003e\n\u003ctd data-sourcepos=\"13:2-13:14\"\u003e\u003ccode\u003ecore.clj\u003c/code\u003e\u003c/td\u003e\n\u003ctd data-sourcepos=\"13:16-13:76\"\u003eルーティングやミドルウェアの注入、main関数\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"14:1-14:56\"\u003e\n\u003ctd data-sourcepos=\"14:2-14:15\"\u003e\u003ccode\u003ehandler.clj\u003c/code\u003e\u003c/td\u003e\n\u003ctd data-sourcepos=\"14:17-14:55\"\u003e各ルーティングのハンドラー\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"15:1-15:41\"\u003e\n\u003ctd data-sourcepos=\"15:2-15:14\"\u003e\u003ccode\u003edriver.clj\u003c/code\u003e\u003c/td\u003e\n\u003ctd data-sourcepos=\"15:16-15:40\"\u003eDababaseの処理( jdbc )\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch2 data-sourcepos=\"17:1-17:11\"\u003e\n\u003cspan id=\"coreclj\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#coreclj\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ecore.clj\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"19:1-43:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecore.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etodo.core\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:require\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.adapter.jetty\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ejetty\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.util.response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eres\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.middleware.json\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:refer\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ewrap-json-response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ewrap-json-body\u003c/span\u003e\u003cspan class=\"p\"\u003e]]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ecompojure.core\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:refer\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003edefroutes\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eGET\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ePOST\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ePUT\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eDELETE\u003c/span\u003e\u003cspan class=\"p\"\u003e]]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ecompojure.route\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eroute\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003etodo.handler\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"p\"\u003e]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003edefroutes\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"o\"\u003e'\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ePOST\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler/post-todos\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eGET\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler/get-todos\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eGET\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos/:id\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ehandler/get-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ePUT\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos/:id\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ehandler/put-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eDELETE\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos/:id\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ehandler/delete-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eroute/not-found\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:message\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Not Found\"\u003c/span\u003e\u003cspan class=\"p\"\u003e})))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"o\"\u003e'\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ewrap-json-body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keywords?\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ewrap-json-response\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e-main\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejetty/run-jetty\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:port\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e3000\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"45:1-45:78\"\u003eここではルーティングとミドルウェアの注入をしています\u003c/p\u003e\n\u003ch3 data-sourcepos=\"47:1-47:22\"\u003e\n\u003cspan id=\"ルーティング\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AB%E3%83%BC%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eルーティング\u003c/h3\u003e\n\u003cp data-sourcepos=\"49:1-49:80\"\u003e\u003ccode\u003ecompojure\u003c/code\u003eを使い、シンプルにルーティングを実現しています\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"51:1-59:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003edefroutes\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"o\"\u003e'\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ePOST\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler/post-todos\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eGET\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler/get-todos\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eGET\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos/:id\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ehandler/get-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ePUT\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos/:id\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ehandler/put-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eDELETE\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos/:id\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ehandler/delete-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eroute/not-found\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:message\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Not Found\"\u003c/span\u003e\u003cspan class=\"p\"\u003e})))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"61:1-61:22\"\u003e\n\u003cspan id=\"ミドルウェア\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%9F%E3%83%89%E3%83%AB%E3%82%A6%E3%82%A7%E3%82%A2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eミドルウェア\u003c/h3\u003e\n\u003cp data-sourcepos=\"63:1-63:82\"\u003e\u003ccode\u003ejson\u003c/code\u003e を扱うために \u003ccode\u003ering-json\u003c/code\u003eのミドルウェアを注入しています\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"65:1-70:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"o\"\u003e'\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ewrap-json-body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keywords?\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ewrap-json-response\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch2 data-sourcepos=\"72:1-72:14\"\u003e\n\u003cspan id=\"handlerclj\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#handlerclj\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ehandler.clj\u003c/h2\u003e\n\u003cp data-sourcepos=\"74:1-74:84\"\u003eここでは各リクエストを処理するハンドラーを設定しています\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"77:1-103:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ehandler.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etodo.handler\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:require\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.util.response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eres\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003etodo.driver\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edriver\u003c/span\u003e\u003cspan class=\"p\"\u003e]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eget-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003edriver/find-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eget-todos\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003e_\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003edriver/get-todos\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003epost-todos\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keys\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ecompleted\u003c/span\u003e\u003cspan class=\"p\"\u003e]}\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eget-in\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:body\u003c/span\u003e\u003cspan class=\"p\"\u003e])]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003edriver/insert-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ecompleted\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"p\"\u003e))))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eput-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keys\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ecompleted\u003c/span\u003e\u003cspan class=\"p\"\u003e]}\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eget-in\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:body\u003c/span\u003e\u003cspan class=\"p\"\u003e])]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003edriver/update-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ecompleted\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"p\"\u003e))))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edelete-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003edriver/delete-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:message\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Deleted\"\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"105:1-105:13\"\u003e\n\u003cspan id=\"driverclj\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#driverclj\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003edriver.clj\u003c/h2\u003e\n\u003cp data-sourcepos=\"107:1-107:99\"\u003eここでは\u003ccode\u003ejdbc\u003c/code\u003eを利用してDBと接続し、Todoのデータ取得や更新をしています\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"109:1-153:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003edriver.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etodo.driver\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:require\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003enext.jdbc\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ejdbc\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003enext.jdbc.result-set\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ers\u003c/span\u003e\u003cspan class=\"p\"\u003e]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb-spec\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:dbtype\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"postgresql\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:dbname\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"todo\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:host\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"localhost\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:port\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e5432\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:user\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"todo-user\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:password\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"todo-password\"\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejdbc/get-datasource\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb-spec\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eget-todos\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejdbc/execute!\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"SELECT * FROM todos\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:builder-fn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ers/as-unqualified-lower-maps\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efind-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejdbc/execute!\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                     \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"SELECT * FROM todos WHERE id = ?\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eInteger/parseInt\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                     \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:builder-fn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ers/as-unqualified-lower-maps\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003efirst\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003einsert-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ecompleted\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejdbc/execute!\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                     \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"INSERT INTO todos (title, completed) VALUES (?, ?) RETURNING id, title, completed\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ecompleted\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                     \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:builder-fn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ers/as-unqualified-lower-maps\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003efirst\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eupdate-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ecompleted\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejdbc/execute!\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                     \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"UPDATE todos SET title = ?, completed = ? WHERE id = ? RETURNING id, title, completed\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ecompleted\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eInteger/parseInt\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                     \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:builder-fn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ers/as-unqualified-lower-maps\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003efirst\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edelete-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejdbc/execute!\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"DELETE FROM todos WHERE id = ?\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eInteger/parseInt\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e)]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"155:1-155:36\"\u003e\n\u003cspan id=\"リクエストを送ってみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%82%92%E9%80%81%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eリクエストを送ってみる\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"157:1-157:17\"\u003e\n\u003cspan id=\"get-v1todos\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#get-v1todos\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGET /v1/todos\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"159:1-168:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl localhost:3000/v1/todos\n\u003cspan class=\"o\"\u003e[\u003c/span\u003e\n  \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\"id\"\u003c/span\u003e: 1,\n    \u003cspan class=\"s2\"\u003e\"title\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"朝食を食べる\"\u003c/span\u003e,\n    \u003cspan class=\"s2\"\u003e\"completed\"\u003c/span\u003e: \u003cspan class=\"nb\"\u003efalse\u003c/span\u003e\n  \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"170:1-170:19\"\u003e\n\u003cspan id=\"get-v1todos1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#get-v1todos1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGET /v1/todos/1\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"172:1-179:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl localhost:3000/v1/todos/1\n\u003cspan class=\"o\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"s2\"\u003e\"id\"\u003c/span\u003e: 1,\n  \u003cspan class=\"s2\"\u003e\"title\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"朝食を食べる\"\u003c/span\u003e,\n  \u003cspan class=\"s2\"\u003e\"completed\"\u003c/span\u003e: \u003cspan class=\"nb\"\u003efalse\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"181:1-181:18\"\u003e\n\u003cspan id=\"post-v1todos\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#post-v1todos\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ePOST /v1/todos\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"183:1-190:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl \u003cspan class=\"nt\"\u003e-X\u003c/span\u003e POST \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"s1\"\u003e'{\"title\": \"追加Todo\", \"completed\": false}'\u003c/span\u003e \u003cspan class=\"nt\"\u003e-H\u003c/span\u003e \u003cspan class=\"s1\"\u003e'Content-Type: application/json'\u003c/span\u003e localhost:3000/v1/todos\n\u003cspan class=\"o\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"s2\"\u003e\"id\"\u003c/span\u003e: 2,\n  \u003cspan class=\"s2\"\u003e\"title\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"追加Todo\"\u003c/span\u003e,\n  \u003cspan class=\"s2\"\u003e\"completed\"\u003c/span\u003e: \u003cspan class=\"nb\"\u003efalse\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"192:1-192:21\"\u003e\n\u003cspan id=\"put-v1todosid\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#put-v1todosid\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ePUT /v1/todos/:id\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"194:1-201:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl \u003cspan class=\"nt\"\u003e-X\u003c/span\u003e PUT \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"s1\"\u003e'{\"title\": \"更新Todo\", \"completed\": true}'\u003c/span\u003e \u003cspan class=\"nt\"\u003e-H\u003c/span\u003e \u003cspan class=\"s1\"\u003e'Content-Type: application/json'\u003c/span\u003e localhost:3000/v1/todos/2\n\u003cspan class=\"o\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"s2\"\u003e\"id\"\u003c/span\u003e: 2,\n  \u003cspan class=\"s2\"\u003e\"title\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"更新Todo\"\u003c/span\u003e,\n  \u003cspan class=\"s2\"\u003e\"completed\"\u003c/span\u003e: \u003cspan class=\"nb\"\u003etrue\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"203:1-203:24\"\u003e\n\u003cspan id=\"delete-v1todosid\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#delete-v1todosid\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eDELETE /v1/todos/:id\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"205:1-210:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl \u003cspan class=\"nt\"\u003e-X\u003c/span\u003e DELETE localhost:3000/v1/todos/2\n\u003cspan class=\"o\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"s2\"\u003e\"message\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"Deleted\"\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"212:1-212:21\"\u003e完成しました！\u003c/p\u003e\n\u003cp data-sourcepos=\"214:1-214:89\"\u003e明日からはこのTodoアプリをベースにloggingを追加したりしてみます\u003c/p\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 16*](https://qiita.com/advent-calendar/2024/clojure)\n\n前回は`Clojure` `Ring`でjsonを扱えるようになりました。\n\nこれで全ての準備が整ったので、本格的にTodoアプリを作っていきます\n\n## 構成\n\n|ファイル     |役割|\n|-------------|----|\n|`core.clj`   |ルーティングやミドルウェアの注入、main関数|\n|`handler.clj` |各ルーティングのハンドラー|\n|`driver.clj` |Dababaseの処理( jdbc )|\n\n## core.clj\n\n```clojure:core.clj\n(ns todo.core\n  (:require [ring.adapter.jetty :as jetty]\n            [ring.util.response :as res]\n            [ring.middleware.json :refer [wrap-json-response wrap-json-body]]\n            [compojure.core :refer [defroutes GET POST PUT DELETE]]\n            [compojure.route :as route]\n            [todo.handler :as handler]))\n\n(defroutes handler'\n  (POST \"/v1/todos\" req handler/post-todos)\n  (GET \"/v1/todos\" [] handler/get-todos)\n  (GET \"/v1/todos/:id\" [id] (handler/get-todo id))\n  (PUT \"/v1/todos/:id\" [id :as req] (handler/put-todo req id))\n  (DELETE \"/v1/todos/:id\" [id] (handler/delete-todo id))\n  (route/not-found (res/response {:message \"Not Found\"})))\n\n(def handler\n  (-\u003e handler'\n      (wrap-json-body {:keywords? true})\n      (wrap-json-response)))\n\n(defn -main []\n  (jetty/run-jetty handler {:port 3000}))\n```\n\nここではルーティングとミドルウェアの注入をしています\n\n### ルーティング\n\n`compojure`を使い、シンプルにルーティングを実現しています\n\n```clojure\n(defroutes handler'\n  (POST \"/v1/todos\" req handler/post-todos)\n  (GET \"/v1/todos\" [] handler/get-todos)\n  (GET \"/v1/todos/:id\" [id] (handler/get-todo id))\n  (PUT \"/v1/todos/:id\" [id :as req] (handler/put-todo req id))\n  (DELETE \"/v1/todos/:id\" [id] (handler/delete-todo id))\n  (route/not-found (res/response {:message \"Not Found\"})))\n```\n\n### ミドルウェア\n\n`json` を扱うために `ring-json`のミドルウェアを注入しています\n\n```clojure\n(def handler\n  (-\u003e handler'\n      (wrap-json-body {:keywords? true})\n      (wrap-json-response)))\n```\n\n## handler.clj\n\nここでは各リクエストを処理するハンドラーを設定しています\n\n\n```clojure:handler.clj\n(ns todo.handler\n  (:require [ring.util.response :as res]\n            [todo.driver :as driver]))\n\n(defn get-todo [id]\n  (-\u003e (driver/find-todo id)\n      (res/response)))\n\n(defn get-todos [_]\n  (-\u003e (driver/get-todos)\n      (res/response)))\n\n(defn post-todos [req]\n  (let [{:keys [title completed]} (get-in req [:body])]\n    (-\u003e (driver/insert-todo title completed)\n        (res/response))))\n\n(defn put-todo [req id]\n  (let [{:keys [title completed]} (get-in req [:body])]\n    (-\u003e (driver/update-todo id title completed)\n        (res/response))))\n\n(defn delete-todo [id]\n  (driver/delete-todo id)\n  (res/response {:message \"Deleted\"}))\n```\n\n## driver.clj\n\nここでは`jdbc`を利用してDBと接続し、Todoのデータ取得や更新をしています\n\n```clojure:driver.clj\n(ns todo.driver\n  (:require [next.jdbc :as jdbc]\n            [next.jdbc.result-set :as rs]))\n\n(def db-spec\n  {:dbtype \"postgresql\"\n   :dbname \"todo\"\n   :host \"localhost\"\n   :port 5432\n   :user \"todo-user\"\n   :password \"todo-password\"})\n\n(def db (jdbc/get-datasource db-spec))\n\n(defn get-todos\n  []\n  (jdbc/execute! db [\"SELECT * FROM todos\"]\n                 {:builder-fn rs/as-unqualified-lower-maps}))\n\n(defn find-todo\n  [id]\n  (-\u003e (jdbc/execute! db\n                     [\"SELECT * FROM todos WHERE id = ?\" (Integer/parseInt id)]\n                     {:builder-fn rs/as-unqualified-lower-maps})\n      (first)))\n\n(defn insert-todo\n  [title completed]\n  (-\u003e (jdbc/execute! db\n                     [\"INSERT INTO todos (title, completed) VALUES (?, ?) RETURNING id, title, completed\" title completed]\n                     {:builder-fn rs/as-unqualified-lower-maps})\n      (first)))\n\n(defn update-todo\n  [id title completed]\n  (-\u003e (jdbc/execute! db\n                     [\"UPDATE todos SET title = ?, completed = ? WHERE id = ? RETURNING id, title, completed\" title completed (Integer/parseInt id)]\n                     {:builder-fn rs/as-unqualified-lower-maps})\n      (first)))\n\n(defn delete-todo\n  [id]\n  (jdbc/execute! db [\"DELETE FROM todos WHERE id = ?\" (Integer/parseInt id)]))\n```\n\n## リクエストを送ってみる\n\n### GET /v1/todos\n\n```bash\n$ curl localhost:3000/v1/todos\n[\n  {\n    \"id\": 1,\n    \"title\": \"朝食を食べる\",\n    \"completed\": false\n  }\n]\n```\n\n### GET /v1/todos/1\n\n```bash\n$ curl localhost:3000/v1/todos/1\n{\n  \"id\": 1,\n  \"title\": \"朝食を食べる\",\n  \"completed\": false\n}\n```\n\n### POST /v1/todos\n\n```bash\n$ curl -X POST -d '{\"title\": \"追加Todo\", \"completed\": false}' -H 'Content-Type: application/json' localhost:3000/v1/todos\n{\n  \"id\": 2,\n  \"title\": \"追加Todo\",\n  \"completed\": false\n}\n```\n\n### PUT /v1/todos/:id\n\n```bash\n$ curl -X PUT -d '{\"title\": \"更新Todo\", \"completed\": true}' -H 'Content-Type: application/json' localhost:3000/v1/todos/2\n{\n  \"id\": 2,\n  \"title\": \"更新Todo\",\n  \"completed\": true\n}\n```\n\n### DELETE /v1/todos/:id\n\n```bash\n$ curl -X DELETE localhost:3000/v1/todos/2\n{\n  \"message\": \"Deleted\"\n}\n```\n\n完成しました！\n\n明日からはこのTodoアプリをベースにloggingを追加したりしてみます\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-12-12T19:37:05+09:00",
    "group": null,
    "id": "9ca8647e53ef70f631f0",
    "likes_count": 0,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "Clojure", "versions": [] },
      { "name": "Compojure", "versions": [] },
      { "name": "ring", "versions": [] }
    ],
    "title": "Clojure: RingでTodoアプリを作る - ベース完成",
    "updated_at": "2024-12-16T07:03:43+09:00",
    "url": "https://qiita.com/maaaashi/items/9ca8647e53ef70f631f0",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:79\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 15\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"5:1-5:74\"\u003e昨日は\u003ccode\u003ecompojure\u003c/code\u003eを使ってルーティングを設定しました。\u003c/p\u003e\n\u003cp data-sourcepos=\"7:1-7:85\"\u003e今日はミドルウェアを使用してjsonを扱えるようにしていきます\u003c/p\u003e\n\u003chr data-sourcepos=\"9:1-10:0\"\u003e\n\u003cp data-sourcepos=\"11:1-11:84\"\u003e\u003ccode\u003eRing\u003c/code\u003e でJsonを扱う際には \u003ccode\u003ering-json\u003c/code\u003e というライブラリが便利です\u003c/p\u003e\n\u003ch2 data-sourcepos=\"13:1-13:12\"\u003e\n\u003cspan id=\"ring-json\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#ring-json\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ering-json\u003c/h2\u003e\n\u003cp data-sourcepos=\"15:1-15:41\"\u003e\u003ciframe id=\"qiita-embed-content__4b63e1bf7da3b82b32260189490c71e8\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__4b63e1bf7da3b82b32260189490c71e8\" data-content=\"https%3A%2F%2Fgithub.com%2Fring-clojure%2Fring-json\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"17:1-17:33\"\u003eまずは依存を追加します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"19:1-23:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"no\"\u003e:dependencies\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[[\u003c/span\u003e\u003cspan class=\"n\"\u003eorg.clojure/clojure\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"1.11.1\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003e...\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering/ring-json\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"0.5.1\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"25:1-25:33\"\u003eこれで追加できました。\u003c/p\u003e\n\u003cp data-sourcepos=\"27:1-28:95\"\u003ering-jsonにはringでjsonを扱う際に便利なミドルウェアがいくつかありますが、\u003cbr\u003e\njsonレスポンスを返せるようにするためには \u003ccode\u003ewrap-json-response\u003c/code\u003e を使います\u003c/p\u003e\n\u003ch2 data-sourcepos=\"30:1-30:21\"\u003e\n\u003cspan id=\"wrap-json-response\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#wrap-json-response\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ewrap-json-response\u003c/h2\u003e\n\u003cp data-sourcepos=\"32:1-32:66\"\u003e公式ドキュメントにもあった例を実装してみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"34:1-48:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etodo.core\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:require\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.adapter.jetty\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ejetty\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.util.response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eres\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.middleware.json\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:refer\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ewrap-json-response\u003c/span\u003e\u003cspan class=\"p\"\u003e]]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:foo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"bar\"\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eapp\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ewrap-json-response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e-main\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejetty/run-jetty\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eapp\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:port\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e3000\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"50:1-50:69\"\u003eこれでサーバーを起動しリクエストを送ってみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"52:1-55:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl localhost:3000 \n\u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"foo\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"bar\"\u003c/span\u003e\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"57:1-58:127\"\u003e\u003ccode\u003ering.util.response\u003c/code\u003eにある \u003ccode\u003eresponse\u003c/code\u003e という関数で \u003ccode\u003eresponse-body\u003c/code\u003eを生成し、\u003cbr\u003e\n\u003ccode\u003ewrap-json-body\u003c/code\u003eのミドルウェアでhandlerをwrapすることでjsonレスポンスを返せるようになりました。\u003c/p\u003e\n\u003cp data-sourcepos=\"60:1-60:66\"\u003e昨日作成したルーティングにも組み込んでみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"62:1-85:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etodo.core\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:require\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.adapter.jetty\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ejetty\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.util.response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eres\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.middleware.json\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:refer\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ewrap-json-response\u003c/span\u003e\u003cspan class=\"p\"\u003e]]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ecompojure.core\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:refer\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003edefroutes\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eGET\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ePOST\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ePUT\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eDELETE\u003c/span\u003e\u003cspan class=\"p\"\u003e]]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ecompojure.route\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eroute\u003c/span\u003e\u003cspan class=\"p\"\u003e]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003edefroutes\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"o\"\u003e'\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ePOST\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:message\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"作成しました\"\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eGET\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:message\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Todoの一覧を返します\"\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eGET\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos/:id\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:message\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Todoを返します(id:\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\")\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ePUT\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos/:id\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:message\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"更新しました(\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\")\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eDELETE\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos/:id\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:message\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"削除しました(id: \"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\")\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eroute/not-found\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:message\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Not Found\"\u003c/span\u003e\u003cspan class=\"p\"\u003e})))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"o\"\u003e'\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ewrap-json-response\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e-main\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejetty/run-jetty\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:port\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e3000\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"87:1-87:64\"\u003eこれでjsonレスポンスが返せるようになりました\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"89:1-92:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl localhost:3000/v1/todos\n\u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"message\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"Todoの一覧を返します\"\u003c/span\u003e\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"94:1-94:97\"\u003eそれぞれのメソッドの処理部分を関数に切り出し、Todoっぽくしてみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"96:1-140:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etodo.core\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:require\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.adapter.jetty\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ejetty\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.util.response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eres\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.middleware.json\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:refer\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ewrap-json-response\u003c/span\u003e\u003cspan class=\"p\"\u003e]]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ecompojure.core\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:refer\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003edefroutes\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eGET\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ePOST\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ePUT\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eDELETE\u003c/span\u003e\u003cspan class=\"p\"\u003e]]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ecompojure.route\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eroute\u003c/span\u003e\u003cspan class=\"p\"\u003e]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn-\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eget-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"朝食を食べる\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:completed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn-\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eget-todos\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"朝食を食べる\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:completed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"昼食を食べる\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:completed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"夕食を食べる\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:completed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e}]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn-\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003epost-todos\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"朝食を食べる\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:completed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn-\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eput-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"朝食を食べる\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:completed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn-\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edelete-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"朝食を食べる\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:completed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003edefroutes\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"o\"\u003e'\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ePOST\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003epost-todos\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eGET\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eget-todos\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eGET\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos/:id\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eget-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ePUT\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos/:id\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eput-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eDELETE\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos/:id\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003edelete-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eroute/not-found\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:message\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Not Found\"\u003c/span\u003e\u003cspan class=\"p\"\u003e})))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn-\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ewrap-response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003efn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"p\"\u003e))))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"o\"\u003e'\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ewrap-json-response\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e-main\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejetty/run-jetty\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:port\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e3000\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"142:1-145:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl localhost:3000/v1/todos                                                              \n\u003cspan class=\"o\"\u003e[{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"id\"\u003c/span\u003e:1,\u003cspan class=\"s2\"\u003e\"title\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"朝食を食べる\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"completed\"\u003c/span\u003e:false\u003cspan class=\"o\"\u003e}\u003c/span\u003e,\u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"id\"\u003c/span\u003e:2,\u003cspan class=\"s2\"\u003e\"title\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"昼食を食べる\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"completed\"\u003c/span\u003e:false\u003cspan class=\"o\"\u003e}\u003c/span\u003e,\u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"id\"\u003c/span\u003e:3,\u003cspan class=\"s2\"\u003e\"title\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"夕食を食べる\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"completed\"\u003c/span\u003e:false\u003cspan class=\"o\"\u003e}]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch2 data-sourcepos=\"147:1-147:17\"\u003e\n\u003cspan id=\"wrap-json-body\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#wrap-json-body\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ewrap-json-body\u003c/h2\u003e\n\u003cp data-sourcepos=\"149:1-149:73\"\u003e次に、リクエストされるjsonも扱いやすくしていきます\u003c/p\u003e\n\u003cp data-sourcepos=\"151:1-151:82\"\u003e\u003ccode\u003ewrap-json-body\u003c/code\u003eというミドルウェアを使うとそれを実現できます\u003c/p\u003e\n\u003cp data-sourcepos=\"153:1-153:133\"\u003eただ \u003ccode\u003eres/response\u003c/code\u003eの部分がとても冗長に感じるので、これもwrapするようなミドルウェアを作成します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"155:1-160:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"o\"\u003e'\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ewrap-json-response\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ewrap-json-body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keywords?\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e})))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"162:1-162:58\"\u003eこのように ミドルウェアを足してみました\u003c/p\u003e\n\u003cp data-sourcepos=\"164:1-164:29\"\u003e\u003ccode\u003ePOST: /v1/todos\u003c/code\u003eに対して\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"json\" data-sourcepos=\"166:1-171:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"title\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"テストタイトル\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"completed\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"kc\"\u003efalse\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"172:1-172:144\"\u003eを送ると新しいTodoが作成されるようにしたいので、\u003ccode\u003epost-todo\u003c/code\u003eの関数を修正し、受け取れるようにしてみます\u003c/p\u003e\n\u003cp data-sourcepos=\"174:1-174:130\"\u003e送られたjsonは、\u003ccode\u003erequest\u003c/code\u003eの\u003ccode\u003ebody\u003c/code\u003eにバインドされるため以下のようにして取り出すことにしました。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"176:1-180:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn-\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003epost-todos\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keys\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ecompleted\u003c/span\u003e\u003cspan class=\"p\"\u003e]}\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eget-in\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ereq\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"no\"\u003e:body\u003c/span\u003e\u003cspan class=\"p\"\u003e])]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eres/response\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:completed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ecompleted\u003c/span\u003e\u003cspan class=\"p\"\u003e})))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"182:1-182:45\"\u003e実際にリクエストを送ってみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"184:1-187:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl localhost:3000/v1/todos \u003cspan class=\"nt\"\u003e-X\u003c/span\u003e POST \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"s1\"\u003e'{\"title\": \"テストタイトル\", \"completed\": false}'\u003c/span\u003e \u003cspan class=\"nt\"\u003e-H\u003c/span\u003e \u003cspan class=\"s1\"\u003e'Content-Type: application/json'\u003c/span\u003e\n\u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"id\"\u003c/span\u003e:1,\u003cspan class=\"s2\"\u003e\"title\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"テストタイトル\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"completed\"\u003c/span\u003e:false\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"189:1-189:64\"\u003eこれでjsonを扱うことができるようになりました\u003c/p\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 15*](https://qiita.com/advent-calendar/2024/clojure)\n\n昨日は`compojure`を使ってルーティングを設定しました。\n\n今日はミドルウェアを使用してjsonを扱えるようにしていきます\n\n---\n\n`Ring` でJsonを扱う際には `ring-json` というライブラリが便利です\n\n## ring-json\n\nhttps://github.com/ring-clojure/ring-json\n\nまずは依存を追加します\n\n```clojure\n  :dependencies [[org.clojure/clojure \"1.11.1\"]\n                 [...]\n                 [ring/ring-json \"0.5.1\"]]\n```\n\nこれで追加できました。\n\nring-jsonにはringでjsonを扱う際に便利なミドルウェアがいくつかありますが、\njsonレスポンスを返せるようにするためには `wrap-json-response` を使います\n\n## wrap-json-response\n\n公式ドキュメントにもあった例を実装してみます\n\n```clojure\n(ns todo.core\n  (:require [ring.adapter.jetty :as jetty]\n            [ring.util.response :as res]\n            [ring.middleware.json :refer [wrap-json-response]]))\n\n(defn handler [req]\n  (res/response {:foo \"bar\"}))\n\n(def app\n  (wrap-json-response handler))\n\n(defn -main []\n  (jetty/run-jetty app {:port 3000}))\n```\n\nこれでサーバーを起動しリクエストを送ってみます\n\n```bash\n$ curl localhost:3000 \n{\"foo\":\"bar\"}\n```\n\n`ring.util.response`にある `response` という関数で `response-body`を生成し、\n`wrap-json-body`のミドルウェアでhandlerをwrapすることでjsonレスポンスを返せるようになりました。\n\n昨日作成したルーティングにも組み込んでみます\n\n```clojure\n(ns todo.core\n  (:require [ring.adapter.jetty :as jetty]\n            [ring.util.response :as res]\n            [ring.middleware.json :refer [wrap-json-response]]\n            [compojure.core :refer [defroutes GET POST PUT DELETE]]\n            [compojure.route :as route]))\n\n(defroutes handler'\n  (POST \"/v1/todos\" [] (res/response {:message \"作成しました\"}))\n  (GET \"/v1/todos\" [] (res/response {:message \"Todoの一覧を返します\"}))\n  (GET \"/v1/todos/:id\" [id] (res/response {:message (str \"Todoを返します(id:\" id \")\")}))\n  (PUT \"/v1/todos/:id\" [id] (res/response {:message (str \"更新しました(\" id \")\")}))\n  (DELETE \"/v1/todos/:id\" [id] (res/response {:message (str \"削除しました(id: \" id \")\")}))\n  (route/not-found (res/response {:message \"Not Found\"})))\n\n(def handler\n  (-\u003e handler'\n      (wrap-json-response)))\n\n(defn -main []\n  (jetty/run-jetty handler {:port 3000}))\n\n```\n\nこれでjsonレスポンスが返せるようになりました\n\n```bash\n$ curl localhost:3000/v1/todos\n{\"message\":\"Todoの一覧を返します\"}\n```\n\nそれぞれのメソッドの処理部分を関数に切り出し、Todoっぽくしてみます\n\n```clojure\n(ns todo.core\n  (:require [ring.adapter.jetty :as jetty]\n            [ring.util.response :as res]\n            [ring.middleware.json :refer [wrap-json-response]]\n            [compojure.core :refer [defroutes GET POST PUT DELETE]]\n            [compojure.route :as route]))\n\n(defn- get-todo [id]\n  (res/response {:id 1 :title \"朝食を食べる\" :completed false}))\n\n(defn- get-todos [req]\n  (res/response [{:id 1 :title \"朝食を食べる\" :completed false}\n                 {:id 2 :title \"昼食を食べる\" :completed false}\n                 {:id 3 :title \"夕食を食べる\" :completed false}]))\n\n(defn- post-todos [req]\n  (res/response {:id 1 :title \"朝食を食べる\" :completed false}))\n\n(defn- put-todo [id]\n  (res/response {:id 1 :title \"朝食を食べる\" :completed false}))\n\n(defn- delete-todo [id]\n  (res/response {:id 1 :title \"朝食を食べる\" :completed false}))\n\n(defroutes handler'\n  (POST \"/v1/todos\" req post-todos)\n  (GET \"/v1/todos\" [] get-todos)\n  (GET \"/v1/todos/:id\" [id] (get-todo id))\n  (PUT \"/v1/todos/:id\" [id] (put-todo id))\n  (DELETE \"/v1/todos/:id\" [id] (delete-todo id))\n  (route/not-found (res/response {:message \"Not Found\"})))\n\n(defn- wrap-response [handler]\n  (fn [req]\n    (-\u003e (handler req)\n        (res/response))))\n\n(def handler\n  (-\u003e handler'\n      (wrap-json-response)))\n\n(defn -main []\n  (jetty/run-jetty handler {:port 3000}))\n```\n\n```bash\n$ curl localhost:3000/v1/todos                                                              \n[{\"id\":1,\"title\":\"朝食を食べる\",\"completed\":false},{\"id\":2,\"title\":\"昼食を食べる\",\"completed\":false},{\"id\":3,\"title\":\"夕食を食べる\",\"completed\":false}]\n```\n\n## wrap-json-body\n\n次に、リクエストされるjsonも扱いやすくしていきます\n\n`wrap-json-body`というミドルウェアを使うとそれを実現できます\n\nただ `res/response`の部分がとても冗長に感じるので、これもwrapするようなミドルウェアを作成します\n\n```clojure\n(def handler\n  (-\u003e handler'\n      (wrap-json-response)\n      (wrap-json-body {:keywords? true})))\n```\n\nこのように ミドルウェアを足してみました\n\n`POST: /v1/todos`に対して\n\n```json\n{\n  \"title\": \"テストタイトル\",\n  \"completed\": false\n}\n```\nを送ると新しいTodoが作成されるようにしたいので、`post-todo`の関数を修正し、受け取れるようにしてみます\n\n送られたjsonは、`request`の`body`にバインドされるため以下のようにして取り出すことにしました。\n\n```clojure\n(defn- post-todos [req]\n  (let [{:keys [title completed]} (get-in req [:body])]\n    (res/response {:id 1 :title title :completed completed})))\n```\n\n実際にリクエストを送ってみます\n\n```bash\n$ curl localhost:3000/v1/todos -X POST -d '{\"title\": \"テストタイトル\", \"completed\": false}' -H 'Content-Type: application/json'\n{\"id\":1,\"title\":\"テストタイトル\",\"completed\":false}\n```\n\nこれでjsonを扱うことができるようになりました\n\n\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-12-12T00:26:16+09:00",
    "group": null,
    "id": "1f3932cd5570dc291197",
    "likes_count": 0,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [{ "name": "Clojure", "versions": [] }],
    "title": "Clojure: RingでTodoアプリを作る - jsonを扱う",
    "updated_at": "2024-12-16T14:17:32+09:00",
    "url": "https://qiita.com/maaaashi/items/1f3932cd5570dc291197",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:79\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 14\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"5:1-5:82\"\u003e昨日までで、Todoアプリを作成するための準備が整いました。\u003c/p\u003e\n\u003cp data-sourcepos=\"7:1-7:45\"\u003e今日は実際に実装していきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:46\"\u003e簡単なCRUDのアプリを想定します。\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-11:42\"\u003e作るリクエストの口としては、\u003c/p\u003e\n\u003ctable data-sourcepos=\"13:1-19:45\"\u003e\n\u003cthead\u003e\n\u003ctr data-sourcepos=\"13:1-13:51\"\u003e\n\u003cth data-sourcepos=\"13:2-13:18\"\u003e項目\u003c/th\u003e\n\u003cth data-sourcepos=\"13:20-13:31\"\u003eメソッド\u003c/th\u003e\n\u003cth data-sourcepos=\"13:33-13:50\"\u003eパス\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr data-sourcepos=\"15:1-15:45\"\u003e\n\u003ctd data-sourcepos=\"15:2-15:19\"\u003eTodoの作成\u003c/td\u003e\n\u003ctd data-sourcepos=\"15:21-15:26\"\u003ePOST\u003c/td\u003e\n\u003ctd data-sourcepos=\"15:28-15:44\"\u003e\u003ccode\u003e/v1/todos/{id}\u003c/code\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"16:1-16:47\"\u003e\n\u003ctd data-sourcepos=\"16:2-16:22\"\u003eTodo一覧の取得\u003c/td\u003e\n\u003ctd data-sourcepos=\"16:24-16:29\"\u003eGET\u003c/td\u003e\n\u003ctd data-sourcepos=\"16:31-16:46\"\u003e\u003ccode\u003e/v1/todos\u003c/code\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"17:1-17:49\"\u003e\n\u003ctd data-sourcepos=\"17:2-17:23\"\u003e特定のTodoの取得\u003c/td\u003e\n\u003ctd data-sourcepos=\"17:25-17:30\"\u003eGET\u003c/td\u003e\n\u003ctd data-sourcepos=\"17:32-17:48\"\u003e\u003ccode\u003e/v1/todos/{id}\u003c/code\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"18:1-18:45\"\u003e\n\u003ctd data-sourcepos=\"18:2-18:19\"\u003eTodoの変更\u003c/td\u003e\n\u003ctd data-sourcepos=\"18:21-18:26\"\u003ePUT\u003c/td\u003e\n\u003ctd data-sourcepos=\"18:28-18:44\"\u003e\u003ccode\u003e/v1/todos/{id}\u003c/code\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"19:1-19:45\"\u003e\n\u003ctd data-sourcepos=\"19:2-19:19\"\u003eTodoの削除\u003c/td\u003e\n\u003ctd data-sourcepos=\"19:21-19:26\"\u003eDELETE\u003c/td\u003e\n\u003ctd data-sourcepos=\"19:28-19:44\"\u003e\u003ccode\u003e/v1/todos/{id}\u003c/code\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp data-sourcepos=\"21:1-21:36\"\u003eこんなところでしょうか。\u003c/p\u003e\n\u003cp data-sourcepos=\"23:1-23:51\"\u003eまずはルーティングを作っていきます\u003c/p\u003e\n\u003cp data-sourcepos=\"25:1-25:52\"\u003eルーティングには \u003ccode\u003ecompojure\u003c/code\u003e を使います\u003c/p\u003e\n\u003cdiv data-sourcepos=\"27:1-30:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"28:1-29:81\"\u003eもちろん\u003ccode\u003ecompojure\u003c/code\u003eを使わなくてもルーティングを表現することはできますが、\u003cbr\u003e\n使うとソースコードがシンプルになるので今回は採用します\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"32:1-32:12\"\u003e\n\u003cspan id=\"compojure\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#compojure\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eCompojure\u003c/h2\u003e\n\u003cp data-sourcepos=\"34:1-34:40\"\u003e\u003ciframe id=\"qiita-embed-content__e4b1541f713ea69b4b09c1c310d70432\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__e4b1541f713ea69b4b09c1c310d70432\" data-content=\"https%3A%2F%2Fgithub.com%2Fweavejester%2Fcompojure\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"36:1-36:45\"\u003eまずはプロジェクトに追加します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"38:1-42:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"no\"\u003e:dependencies\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[[\u003c/span\u003e\u003cspan class=\"n\"\u003eorg.clojure/clojure\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"1.11.1\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003e...\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ecompojure\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"1.7.1\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"44:1-45:134\"\u003e\u003ccode\u003ecompojure\u003c/code\u003eは\u003ccode\u003ering\u003c/code\u003eと連携することができるので、\u003cbr\u003e\n\u003ccode\u003edefroutes\u003c/code\u003eで複数のルーティングを定義し、そのルーティングを読み込み\u003ccode\u003ering\u003c/code\u003eでサーバーを起動します\u003c/p\u003e\n\u003cp data-sourcepos=\"47:1-47:83\"\u003e個々のルーティングは\u003ccode\u003eGET\u003c/code\u003eや\u003ccode\u003ePOST\u003c/code\u003eといったマクロで定義します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"49:1-61:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etodo.core\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:require\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.adapter.jetty\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ejetty\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ecompojure.core\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:refer\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003edefroutes\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eGET\u003c/span\u003e\u003cspan class=\"p\"\u003e]]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ecompojure.route\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eroute\u003c/span\u003e\u003cspan class=\"p\"\u003e]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003edefroutes\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eGET\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:status\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Hello, World!\"\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eroute/not-found\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:status\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e404\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Not Found\"\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e-main\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejetty/run-jetty\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:port\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e3000\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"63:1-63:106\"\u003eこれで、\u003ccode\u003eGET /v1/todos\u003c/code\u003eと、マッチしなかったときの \u003ccode\u003e404\u003c/code\u003e のパターンを作れました\u003c/p\u003e\n\u003cp data-sourcepos=\"65:1-65:45\"\u003e実際にリクエストを送ってみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"67:1-73:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl localhost:3000/v1/todos\nHello, World!\n\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl localhost:3000/not-found-path\nNot Found\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"75:1-75:60\"\u003eうまくルーティングが設定できたようです。\u003c/p\u003e\n\u003cp data-sourcepos=\"77:1-77:72\"\u003eこの調子ですべてのルーティングを作ってしまいます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"79:1-87:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003edefroutes\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ePOST\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:status\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"作成しました\"\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eGET\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:status\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Todoの一覧を返します\"\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eGET\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos/:id\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:status\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Todoを返します(id:\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\")\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ePUT\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos/:id\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:status\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"更新しました(\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\")\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eDELETE\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"/v1/todos/:id\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:status\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"削除しました(id: \"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\")\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eroute/not-found\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:status\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e404\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Not Found\"\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"89:1-89:48\"\u003eこれらにリクエストを送ってみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"91:1-107:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c\"\u003e# GET /v1/todos\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl localhost:3000/v1/todos\nTodoの一覧を返します\n\u003cspan class=\"c\"\u003e# GET /v1/todos/:id\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl localhost:3000/v1/todos/1\nTodoを返します\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eid\u003c/span\u003e:1\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# POST /v1/todos\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl localhost:3000/v1/todos \u003cspan class=\"nt\"\u003e-X\u003c/span\u003e POST\n作成しました\n\u003cspan class=\"c\"\u003e# PUT /v1/todos/:id/:item\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl localhost:3000/v1/todos/1/title \u003cspan class=\"nt\"\u003e-X\u003c/span\u003e PUT\n更新しました\u003cspan class=\"o\"\u003e(\u003c/span\u003e1\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# DELETE /v1/todos/:id\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl localhost:3000/v1/todos/1 \u003cspan class=\"nt\"\u003e-X\u003c/span\u003e DELETE\n削除しました\u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eid\u003c/span\u003e: 1\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"109:1-109:33\"\u003eちゃんと動いてそうです\u003c/p\u003e\n\u003cp data-sourcepos=\"111:1-111:86\"\u003e明日はミドルウェアを使い、\u003cstrong\u003ejson\u003c/strong\u003eを扱えるようにしていきます\u003c/p\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 14*](https://qiita.com/advent-calendar/2024/clojure)\n\n昨日までで、Todoアプリを作成するための準備が整いました。\n\n今日は実際に実装していきます。\n\n簡単なCRUDのアプリを想定します。\n\n作るリクエストの口としては、\n\n|項目           |メソッド|パス            |\n|--------------|------|------------------|\n|Todoの作成     |POST  |`/v1/todos/{id}` |\n|Todo一覧の取得  |GET   |`/v1/todos`     |\n|特定のTodoの取得|GET   |`/v1/todos/{id}` |\n|Todoの変更     |PUT   |`/v1/todos/{id}` |\n|Todoの削除     |DELETE|`/v1/todos/{id}` |\n\nこんなところでしょうか。\n\nまずはルーティングを作っていきます\n\nルーティングには `compojure` を使います\n\n:::note info\nもちろん`compojure`を使わなくてもルーティングを表現することはできますが、\n使うとソースコードがシンプルになるので今回は採用します\n:::\n\n## Compojure\n\nhttps://github.com/weavejester/compojure\n\nまずはプロジェクトに追加します\n\n```clojure\n  :dependencies [[org.clojure/clojure \"1.11.1\"]\n                 [...]\n                 [compojure \"1.7.1\"]]\n```\n\n`compojure`は`ring`と連携することができるので、\n`defroutes`で複数のルーティングを定義し、そのルーティングを読み込み`ring`でサーバーを起動します\n\n個々のルーティングは`GET`や`POST`といったマクロで定義します\n\n```clojure\n(ns todo.core\n  (:require [ring.adapter.jetty :as jetty]\n            [compojure.core :refer [defroutes GET]]\n            [compojure.route :as route]))\n\n(defroutes handler\n  (GET \"/v1/todos\" [] {:status 200 :body \"Hello, World!\"})\n  (route/not-found {:status 404 :body \"Not Found\"}))\n\n(defn -main []\n  (jetty/run-jetty handler {:port 3000}))\n```\n\nこれで、`GET /v1/todos`と、マッチしなかったときの `404` のパターンを作れました\n\n実際にリクエストを送ってみます\n\n```bash\n$ curl localhost:3000/v1/todos\nHello, World!\n\n$ curl localhost:3000/not-found-path\nNot Found\n```\n\nうまくルーティングが設定できたようです。\n\nこの調子ですべてのルーティングを作ってしまいます\n\n```clojure\n(defroutes handler\n  (POST \"/v1/todos\" [] {:status 200 :body \"作成しました\"})\n  (GET \"/v1/todos\" [] {:status 200 :body \"Todoの一覧を返します\"})\n  (GET \"/v1/todos/:id\" [id] {:status 200 :body (str \"Todoを返します(id:\" id \")\")})\n  (PUT \"/v1/todos/:id\" [id] {:status 200 :body (str \"更新しました(\" id \")\")})\n  (DELETE \"/v1/todos/:id\" [id] {:status 200 :body (str \"削除しました(id: \" id \")\")})\n  (route/not-found {:status 404 :body \"Not Found\"}))\n```\n\nこれらにリクエストを送ってみます\n\n```bash\n# GET /v1/todos\n$ curl localhost:3000/v1/todos\nTodoの一覧を返します\n# GET /v1/todos/:id\n$ curl localhost:3000/v1/todos/1\nTodoを返します(id:1)\n# POST /v1/todos\n$ curl localhost:3000/v1/todos -X POST\n作成しました\n# PUT /v1/todos/:id/:item\n$ curl localhost:3000/v1/todos/1/title -X PUT\n更新しました(1)\n# DELETE /v1/todos/:id\n$ curl localhost:3000/v1/todos/1 -X DELETE\n削除しました(id: 1)\n```\n\nちゃんと動いてそうです\n\n明日はミドルウェアを使い、**json**を扱えるようにしていきます\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-12-11T10:21:14+09:00",
    "group": null,
    "id": "c48e3a324f1f374c0feb",
    "likes_count": 0,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "Clojure", "versions": [] },
      { "name": "Compojure", "versions": [] }
    ],
    "title": "Clojure: RingでTodoアプリを作る - ルーティング",
    "updated_at": "2024-12-14T07:03:45+09:00",
    "url": "https://qiita.com/maaaashi/items/c48e3a324f1f374c0feb",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:79\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 13\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"5:1-6:81\"\u003e昨日からTodoアプリを\u003ccode\u003eClojure\u003c/code\u003eで作り始めています\u003cbr\u003e\n今日はpostgresqlのDBと接続し、データを取得したいと思います\u003c/p\u003e\n\u003cp data-sourcepos=\"8:1-8:83\"\u003e\u003ccode\u003enext-jdbc\u003c/code\u003eというライブラリを使って実現していこうと思います\u003c/p\u003e\n\u003cp data-sourcepos=\"10:1-10:41\"\u003e\u003ciframe id=\"qiita-embed-content__fcf6f234272c202404e86bf4004ba240\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__fcf6f234272c202404e86bf4004ba240\" data-content=\"https%3A%2F%2Fgithub.com%2Fseancorfield%2Fnext-jdbc\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch2 data-sourcepos=\"12:1-12:14\"\u003e\n\u003cspan id=\"next-jdbc\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#next-jdbc\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003enext-jdbc\u003c/code\u003e\n\u003c/h2\u003e\n\u003cp data-sourcepos=\"14:1-14:63\"\u003eまずはライブラリをプロジェクトに追加します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"17:1-22:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eproject.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"no\"\u003e:dependencies\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[[\u003c/span\u003e\u003cspan class=\"n\"\u003eorg.clojure/clojure\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"1.11.1\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"c1\"\u003e; ...\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ecom.github.seancorfield/next.jdbc\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"1.3.967\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eorg.postgresql/postgresql\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"42.7.4\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"24:1-24:50\"\u003e次に、DBの接続情報を作っていきます\u003c/p\u003e\n\u003cdiv data-sourcepos=\"26:1-28:3\" class=\"note warn\"\u003e\n\u003cspan class=\"fa fa-fw fa-exclamation-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"27:1-27:82\"\u003e一応この記事の最後にpostgresql dbの構築方法も載せておきます\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"30:1-41:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003edatabase.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etodo.database\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003erequire\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003enext.jdbc\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ejdbc\u003c/span\u003e\u003cspan class=\"p\"\u003e]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb-spec\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:dbtype\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"postgresql\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:dbname\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"todo\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:host\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"localhost\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:port\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e5432\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:user\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"todo-user\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:password\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"todo-password\"\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"43:1-43:107\"\u003eDBの接続を返す関数と、それを使って\u003ccode\u003eTodo\u003c/code\u003eの一覧を取得する関数を書いてみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"45:1-51:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003edatabase.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejdbc/get-datasource\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb-spec\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eselect-todos\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejdbc/execute!\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"SELECT * FROM todos\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"53:1-53:21\"\u003e実行してみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"55:1-58:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eselect-todos\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; =\u0026gt; [#:todos{:id 1, :title \"朝食を食べる\", :completed false}]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"60:1-60:54\"\u003eうまくデータを取得できていそうです。\u003c/p\u003e\n\u003cp data-sourcepos=\"62:1-62:36\"\u003eこれで準備ができました。\u003c/p\u003e\n\u003cp data-sourcepos=\"64:1-64:51\"\u003e明日は実際に作っていこうと思います\u003c/p\u003e\n\u003ch2 data-sourcepos=\"66:1-66:45\"\u003e\n\u003cspan id=\"番外編---postgresql-dbの構築方法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%95%AA%E5%A4%96%E7%B7%A8---postgresql-db%E3%81%AE%E6%A7%8B%E7%AF%89%E6%96%B9%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e番外編 - \u003ccode\u003epostgresql\u003c/code\u003e dbの構築方法\u003c/h2\u003e\n\u003cp data-sourcepos=\"68:1-68:101\"\u003e今回は\u003ccode\u003eClojure\u003c/code\u003eに焦点を当てているため、\u003ccode\u003edocker\u003c/code\u003eを用いて簡単に構築しました\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"Dockerfile\" data-sourcepos=\"70:1-78:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eDockerfile\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eFROM\u003c/span\u003e\u003cspan class=\"s\"\u003e postgreql:latest\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eENV\u003c/span\u003e\u003cspan class=\"s\"\u003e POSTGRES_DB=todo\u003c/span\u003e\n\u003cspan class=\"k\"\u003eENV\u003c/span\u003e\u003cspan class=\"s\"\u003e POSTGRES_USER=todo-user\u003c/span\u003e\n\u003cspan class=\"k\"\u003eENV\u003c/span\u003e\u003cspan class=\"s\"\u003e POSTGRES_PASSWORD=todo-password\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eADD\u003c/span\u003e\u003cspan class=\"s\"\u003e ./init.sql /docker-entrypoint-initdb.d/\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"sql\" data-sourcepos=\"80:1-90:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003einit.sql\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e-- テーブル作成\u003c/span\u003e\n\u003cspan class=\"k\"\u003ecreate\u003c/span\u003e \u003cspan class=\"k\"\u003etable\u003c/span\u003e \u003cspan class=\"n\"\u003etodos\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n  \u003cspan class=\"n\"\u003eid\u003c/span\u003e \u003cspan class=\"nb\"\u003eserial\u003c/span\u003e \u003cspan class=\"k\"\u003eprimary\u003c/span\u003e \u003cspan class=\"k\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"n\"\u003etitle\u003c/span\u003e \u003cspan class=\"nb\"\u003etext\u003c/span\u003e \u003cspan class=\"k\"\u003enot\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"n\"\u003ecompleted\u003c/span\u003e \u003cspan class=\"nb\"\u003eboolean\u003c/span\u003e \u003cspan class=\"k\"\u003enot\u003c/span\u003e \u003cspan class=\"k\"\u003enull\u003c/span\u003e\n\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e-- テストデータ挿入\u003c/span\u003e\n\u003cspan class=\"k\"\u003einsert\u003c/span\u003e \u003cspan class=\"k\"\u003einto\u003c/span\u003e \u003cspan class=\"n\"\u003etodos\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecompleted\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003evalues\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'朝食を食べる'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 13*](https://qiita.com/advent-calendar/2024/clojure)\n\n昨日からTodoアプリを`Clojure`で作り始めています\n今日はpostgresqlのDBと接続し、データを取得したいと思います\n\n`next-jdbc`というライブラリを使って実現していこうと思います\n\nhttps://github.com/seancorfield/next-jdbc\n\n## `next-jdbc`\n\nまずはライブラリをプロジェクトに追加します\n\n\n```clojure:project.clj\n  :dependencies [[org.clojure/clojure \"1.11.1\"]\n                 ; ...\n                 [com.github.seancorfield/next.jdbc \"1.3.967\"]\n                 [org.postgresql/postgresql \"42.7.4\"]]\n```\n\n次に、DBの接続情報を作っていきます\n\n:::note warn\n一応この記事の最後にpostgresql dbの構築方法も載せておきます\n:::\n\n```clojure:database.clj\n(ns todo.database\n  (require '[next.jdbc :as jdbc]))\n\n(def db-spec\n  {:dbtype \"postgresql\"\n   :dbname \"todo\"\n   :host \"localhost\"\n   :port 5432\n   :user \"todo-user\"\n   :password \"todo-password\"})\n```\n\nDBの接続を返す関数と、それを使って`Todo`の一覧を取得する関数を書いてみます\n\n```clojure:database.clj\n(def db (jdbc/get-datasource db-spec))\n\n(defn select-todos\n  []\n  (jdbc/execute! db [\"SELECT * FROM todos\"]))\n```\n\n実行してみます\n\n```clojure\n(select-todos)\n; =\u003e [#:todos{:id 1, :title \"朝食を食べる\", :completed false}]\n```\n\nうまくデータを取得できていそうです。\n\nこれで準備ができました。\n\n明日は実際に作っていこうと思います\n\n## 番外編 - `postgresql` dbの構築方法\n\n今回は`Clojure`に焦点を当てているため、`docker`を用いて簡単に構築しました\n\n```Dockerfile:Dockerfile\nFROM postgreql:latest\n\nENV POSTGRES_DB=todo\nENV POSTGRES_USER=todo-user\nENV POSTGRES_PASSWORD=todo-password\n\nADD ./init.sql /docker-entrypoint-initdb.d/\n```\n\n```sql:init.sql\n-- テーブル作成\ncreate table todos (\n  id serial primary key,\n  title text not null,\n  completed boolean not null\n);\n\n-- テストデータ挿入\ninsert into todos (title, completed) values ('朝食を食べる', false);\n```\n\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-12-10T09:04:46+09:00",
    "group": null,
    "id": "b678d20c817e068c8ac3",
    "likes_count": 0,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "Clojure", "versions": [] },
      { "name": "PostgreSQL", "versions": [] }
    ],
    "title": "Clojure: RingでTodoアプリを作る - DB接続",
    "updated_at": "2024-12-13T07:04:14+09:00",
    "url": "https://qiita.com/maaaashi/items/b678d20c817e068c8ac3",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:79\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 12\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"5:1-5:63\"\u003e今日からは実際に\u003ccode\u003eTodo\u003c/code\u003eアプリを作っていきます\u003c/p\u003e\n\u003cp data-sourcepos=\"7:1-7:83\"\u003e\u003ccode\u003eTodo\u003c/code\u003eアプリを \u003ccode\u003eRing\u003c/code\u003e というライブラリを使って作っていきます\u003c/p\u003e\n\u003ch2 data-sourcepos=\"9:1-9:13\"\u003e\n\u003cspan id=\"ringとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#ring%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eRingとは\u003c/h2\u003e\n\u003cp data-sourcepos=\"11:1-11:90\"\u003eWebアプリケーションを構築するためのライブラリおよび仕様です。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"13:1-13:15\"\u003e\n\u003cspan id=\"基本構造\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%9F%BA%E6%9C%AC%E6%A7%8B%E9%80%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e基本構造\u003c/h2\u003e\n\u003cp data-sourcepos=\"15:1-15:76\"\u003e\u003ccode\u003eRing\u003c/code\u003e は以下のようなリクエストとレスポンスを扱います\u003c/p\u003e\n\u003cul data-sourcepos=\"17:1-33:0\"\u003e\n\u003cli data-sourcepos=\"17:1-25:34\"\u003eリクエスト\n\u003cul data-sourcepos=\"18:5-25:34\"\u003e\n\u003cli data-sourcepos=\"18:5-19:40\"\u003e\n\u003ccode\u003e:uri\u003c/code\u003e\n\u003cul data-sourcepos=\"19:9-19:40\"\u003e\n\u003cli data-sourcepos=\"19:9-19:40\"\u003eリクエストされたパス\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"20:5-21:26\"\u003e\n\u003ccode\u003e:request-method\u003c/code\u003e\n\u003cul data-sourcepos=\"21:9-21:26\"\u003e\n\u003cli data-sourcepos=\"21:9-21:26\"\u003eHTTPメソッド\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"22:5-23:38\"\u003e\n\u003ccode\u003e:headers\u003c/code\u003e\n\u003cul data-sourcepos=\"23:9-23:38\"\u003e\n\u003cli data-sourcepos=\"23:9-23:38\"\u003eHTTPヘッダーのマップ\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"24:5-25:34\"\u003e\n\u003ccode\u003e:body\u003c/code\u003e\n\u003cul data-sourcepos=\"25:9-25:34\"\u003e\n\u003cli data-sourcepos=\"25:9-25:34\"\u003eリクエストの本文\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"26:1-33:0\"\u003eレスポンス\n\u003cul data-sourcepos=\"27:5-33:0\"\u003e\n\u003cli data-sourcepos=\"27:5-28:38\"\u003e\n\u003ccode\u003e:status\u003c/code\u003e\n\u003cul data-sourcepos=\"28:9-28:38\"\u003e\n\u003cli data-sourcepos=\"28:9-28:38\"\u003eHTTPステータスコード\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"29:5-30:49\"\u003e\n\u003ccode\u003e:headers\u003c/code\u003e\n\u003cul data-sourcepos=\"30:9-30:49\"\u003e\n\u003cli data-sourcepos=\"30:9-30:49\"\u003eレスポンスヘッダーのマップ\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"31:5-33:0\"\u003e\n\u003ccode\u003e:body\u003c/code\u003e\n\u003cul data-sourcepos=\"32:9-33:0\"\u003e\n\u003cli data-sourcepos=\"32:9-33:0\"\u003eレスポンスボディ\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 data-sourcepos=\"34:1-34:19\"\u003e\n\u003cspan id=\"ハンドラー\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%8F%E3%83%B3%E3%83%89%E3%83%A9%E3%83%BC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eハンドラー\u003c/h3\u003e\n\u003cp data-sourcepos=\"36:1-36:106\"\u003eハンドラーは先ほどの\u003cstrong\u003eリクエストを受け取り、レスポンスを返す\u003c/strong\u003e関数です。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"38:1-43:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003erequest\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:status\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:headers\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Content-Type\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"text/plain\"\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Hello, World!\"\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"45:1-45:22\"\u003e\n\u003cspan id=\"ミドルウェア\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%9F%E3%83%89%E3%83%AB%E3%82%A6%E3%82%A7%E3%82%A2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eミドルウェア\u003c/h3\u003e\n\u003cp data-sourcepos=\"47:1-48:105\"\u003e\u003ccode\u003eRing\u003c/code\u003eはミドルウェアを通じて機能を拡張する仕組みを持っています。\u003cbr\u003e\nミドルウェアはハンドラーをラップしてその動作を変更することができます。\u003c/p\u003e\n\u003cp data-sourcepos=\"50:1-50:63\"\u003e例えばリクエストのログを出したりできます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"52:1-57:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003elogging-middleware\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003efn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003erequest\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eprintln\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Request received:\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003erequest\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003erequest\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"59:1-59:26\"\u003e\n\u003cspan id=\"ringを使ってみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#ring%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eRingを使ってみる\u003c/h3\u003e\n\u003cp data-sourcepos=\"61:1-61:30\"\u003eまず依存を追加します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"63:1-67:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eproject.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"no\"\u003e:dependencies\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[[\u003c/span\u003e\u003cspan class=\"n\"\u003eorg.clojure/clojure\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"1.11.1\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering/ring-core\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"1.10.0\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering/ring-jetty-adapter\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"1.10.0\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"69:1-69:69\"\u003eそしてプロジェクトのエンドポイントを指定します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"71:1-73:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eproject.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"no\"\u003e:main\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etodo.core\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"75:1-75:93\"\u003e名前空間\u003ccode\u003etodo.core\u003c/code\u003eにエントリーポイントとなる\u003ccode\u003e-main\u003c/code\u003e関数を作成します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"77:1-85:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecore.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etodo.core\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:require\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003etodo.http\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehttp\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.adapter.jetty\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ejetty\u003c/span\u003e\u003cspan class=\"p\"\u003e]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e-main\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eprintln\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"アプリケーションを起動します\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejetty/run-jetty\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:port\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e3000\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"87:1-87:73\"\u003e前の\u003ccode\u003e-main\u003c/code\u003eで使っていましたが、\u003ccode\u003ehandler\u003c/code\u003eを設定します。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"89:1-96:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecore.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003erequest\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eprintln\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003erequest\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:status\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:headers\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Content-Type\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"text/plain\"\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Hello, World!\"\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"98:1-98:87\"\u003eこれで簡単なアプリケーションが起動できるようになりました。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"100:1-115:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecore.clj\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etodo.core\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:require\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003etodo.http\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehttp\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ering.adapter.jetty\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ejetty\u003c/span\u003e\u003cspan class=\"p\"\u003e]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003erequest\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eprintln\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003erequest\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:status\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:headers\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"s\"\u003e\"Content-Type\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"text/plain\"\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n   \u003c/span\u003e\u003cspan class=\"no\"\u003e:body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Hello, World!\"\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e-main\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eprintln\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"アプリケーションを起動します\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejetty/run-jetty\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehandler\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:port\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e3000\u003c/span\u003e\u003cspan class=\"p\"\u003e}))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"117:1-117:21\"\u003e起動してみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"119:1-125:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003elein run\nSLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation \u003cspan class=\"o\"\u003e(\u003c/span\u003eNOP\u003cspan class=\"o\"\u003e)\u003c/span\u003e logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders \u003cspan class=\"k\"\u003efor \u003c/span\u003efurther details.\nアプリケーションを起動します\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"127:1-128:36\"\u003e起動できました。\u003cbr\u003e\nリクエストを送ってみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"130:1-133:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl localhost:3000\nHello, World!\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"135:1-135:44\"\u003e無事\u003ccode\u003eHello, World\u003c/code\u003eが返ってきました\u003c/p\u003e\n\u003cp data-sourcepos=\"137:1-137:64\"\u003e明日からは本格的にTodoアプリを作っていきます\u003c/p\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 12*](https://qiita.com/advent-calendar/2024/clojure)\n\n今日からは実際に`Todo`アプリを作っていきます\n\n`Todo`アプリを `Ring` というライブラリを使って作っていきます\n\n## Ringとは\n\nWebアプリケーションを構築するためのライブラリおよび仕様です。\n\n## 基本構造\n\n`Ring` は以下のようなリクエストとレスポンスを扱います\n\n- リクエスト\n    - `:uri`\n        - リクエストされたパス\n    - `:request-method`\n        - HTTPメソッド\n    - `:headers`\n        - HTTPヘッダーのマップ\n    - `:body`\n        - リクエストの本文\n- レスポンス\n    - `:status`\n        - HTTPステータスコード\n    - `:headers`\n        - レスポンスヘッダーのマップ\n    - `:body`\n        - レスポンスボディ\n\n### ハンドラー\n\nハンドラーは先ほどの**リクエストを受け取り、レスポンスを返す**関数です。\n\n```clojure\n(defn handler [request]\n  {:status 200\n   :headers {\"Content-Type\" \"text/plain\"}\n   :body \"Hello, World!\"})\n```\n\n### ミドルウェア\n\n`Ring`はミドルウェアを通じて機能を拡張する仕組みを持っています。\nミドルウェアはハンドラーをラップしてその動作を変更することができます。\n\n例えばリクエストのログを出したりできます。\n\n```clojure\n(defn logging-middleware [handler]\n  (fn [request]\n    (println \"Request received:\" request)\n    (handler request)))\n```\n\n### Ringを使ってみる\n\nまず依存を追加します\n\n```clojure:project.clj\n  :dependencies [[org.clojure/clojure \"1.11.1\"]\n                 [ring/ring-core \"1.10.0\"]\n                 [ring/ring-jetty-adapter \"1.10.0\"]]\n```\n\nそしてプロジェクトのエンドポイントを指定します\n\n```clojure:project.clj\n  :main todo.core\n```\n\n名前空間`todo.core`にエントリーポイントとなる`-main`関数を作成します\n\n```clojure:core.clj\n(ns todo.core\n  (:require [todo.http :as http]\n            [ring.adapter.jetty :as jetty]))\n\n(defn -main []\n  (println \"アプリケーションを起動します\")\n  (jetty/run-jetty handler {:port 3000}))\n```\n\n前の`-main`で使っていましたが、`handler`を設定します。\n\n```clojure:core.clj\n(defn handler\n  [request]\n  (println request)\n  {:status 200\n   :headers {\"Content-Type\" \"text/plain\"}\n   :body \"Hello, World!\"})\n```\n\nこれで簡単なアプリケーションが起動できるようになりました。\n\n```clojure:core.clj\n(ns todo.core\n  (:require [todo.http :as http]\n            [ring.adapter.jetty :as jetty]))\n\n(defn handler\n  [request]\n  (println request)\n  {:status 200\n   :headers {\"Content-Type\" \"text/plain\"}\n   :body \"Hello, World!\"})\n\n(defn -main []\n  (println \"アプリケーションを起動します\")\n  (jetty/run-jetty handler {:port 3000}))\n```\n\n起動してみます\n\n```bash\n$ lein run\nSLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nアプリケーションを起動します\n```\n\n起動できました。\nリクエストを送ってみます\n\n```bash\n$ curl localhost:3000\nHello, World!\n```\n\n無事`Hello, World`が返ってきました\n\n明日からは本格的にTodoアプリを作っていきます\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-12-09T22:00:03+09:00",
    "group": null,
    "id": "4dddd3a1934b828c85f0",
    "likes_count": 0,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "Clojure", "versions": [] },
      { "name": "ring", "versions": [] }
    ],
    "title": "Clojure: RingでTodoアプリを作る - Ringとは",
    "updated_at": "2024-12-12T07:04:04+09:00",
    "url": "https://qiita.com/maaaashi/items/4dddd3a1934b828c85f0",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:79\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 11\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"5:1-5:99\"\u003e今日は\u003ccode\u003eClojure\u003c/code\u003eでのテスト時にモックを使う方法について書こうと思います\u003c/p\u003e\n\u003cp data-sourcepos=\"7:1-7:128\"\u003e題材として、Todoの一覧を取得する部分をmockし、取得後の処理のみ部分のテストを書いてみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"9:1-17:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etodo.core\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:require\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003etodo.http\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehttp\u003c/span\u003e\u003cspan class=\"p\"\u003e]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eget-todo-titles\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:keys\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e]}\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ehttp/get-todos\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003emap\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"19:1-19:171\"\u003e例えばこのような、\u003ccode\u003etodo.http\u003c/code\u003eから\u003ccode\u003eget-todos\u003c/code\u003eという関数を呼び出し、タイトルだけを返却するような\u003ccode\u003eget-todo-titles\u003c/code\u003eがあるとします。\u003c/p\u003e\n\u003cp data-sourcepos=\"21:1-21:110\"\u003e\u003ccode\u003eget-todo-titles\u003c/code\u003eの単体テストを書くにあたり、\u003ccode\u003etodo.http/get-todos\u003c/code\u003eをモックしていきます\u003c/p\u003e\n\u003ch2 data-sourcepos=\"23:1-23:19\"\u003e\n\u003cspan id=\"1-with-redefs\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-with-redefs\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. \u003ccode\u003ewith-redefs\u003c/code\u003e\n\u003c/h2\u003e\n\u003cp data-sourcepos=\"25:1-25:209\"\u003eClojureの標準ライブラリに含まれる\u003ccode\u003ewith-redefs\u003c/code\u003eを使うことで、テストのスコープ内でのみ、グローバルな関数を一時的にモックに置き換えることができます。\u003c/p\u003e\n\u003cp data-sourcepos=\"27:1-27:60\"\u003eこれを使って\u003ccode\u003etodo.http/get-todos\u003c/code\u003eをモックします\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"29:1-36:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003et/deftest\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eget-todo-titles-test\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003et/testing\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Todoのタイトルを取得できる\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003etodos\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[{\u003c/span\u003e\u003cspan class=\"no\"\u003e:id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"朝食を食べる\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:completed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                 \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"仕事に行く\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:completed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e}]]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ewith-redefs\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ehttp/get-todos\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003efn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:status\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etodos\u003c/span\u003e\u003cspan class=\"p\"\u003e})]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003et/is\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e=\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esut/get-todo-titles\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s\"\u003e\"朝食を食べる\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"仕事に行く\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]))))))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"38:1-45:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003elein \u003cspan class=\"nb\"\u003etest\n\n\u003c/span\u003elein \u003cspan class=\"nb\"\u003etest \u003c/span\u003etodo.core-test\n\nRan 1 tests containing 1 assertions.\n0 failures, 0 errors.\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"47:1-47:28\"\u003e無事mock化できました\u003c/p\u003e\n\u003ch2 data-sourcepos=\"49:1-49:30\"\u003e\n\u003cspan id=\"2-ライブラリを使う\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%82%92%E4%BD%BF%E3%81%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. ライブラリを使う\u003c/h2\u003e\n\u003cp data-sourcepos=\"51:1-51:55\"\u003e今回は \u003ccode\u003emockfn\u003c/code\u003e を使ってみようと思います\u003c/p\u003e\n\u003cp data-sourcepos=\"53:1-53:32\"\u003e\u003ciframe id=\"qiita-embed-content__4e5d73f2e90ff53d1171ebcba39567c9\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__4e5d73f2e90ff53d1171ebcba39567c9\" data-content=\"https%3A%2F%2Fgithub.com%2Fnubank%2Fmockfn\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"55:1-55:87\"\u003e\u003ccode\u003emockfn\u003c/code\u003eは、\u003ccode\u003eproviding\u003c/code\u003eと\u003ccode\u003everifying\u003c/code\u003eという関数があり、これが便利です\u003c/p\u003e\n\u003ch4 data-sourcepos=\"57:1-57:16\"\u003e\n\u003cspan id=\"providing\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#providing\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eproviding\u003c/code\u003e\n\u003c/h4\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"59:1-73:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etodo.core-test\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:require\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eclojure.test\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003etodo.core\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003esut\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003etodo.http\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehttp\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003emockfn.macros\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003emockfn\u003c/span\u003e\u003cspan class=\"p\"\u003e]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003et/deftest\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eget-todo-titles-test\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003et/testing\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"特定のTodoのタイトルを取得できる\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003emockfn/providing\u003c/span\u003e\u003cspan class=\"w\"\u003e\n     \u003c/span\u003e\u003cspan class=\"p\"\u003e[(\u003c/span\u003e\u003cspan class=\"nf\"\u003ehttp/get-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:status\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"朝食を食べる\"\u003c/span\u003e\u003cspan class=\"p\"\u003e}}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ehttp/get-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:status\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"仕事に行く\"\u003c/span\u003e\u003cspan class=\"p\"\u003e}}]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n     \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003et/is\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e=\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esut/get-todo-title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"朝食を食べる\"\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n     \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003et/is\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e=\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esut/get-todo-title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"仕事に行く\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)))))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"0:0-0:0\"\u003eここでは、\u003c/p\u003e\n\u003ctable data-sourcepos=\"75:1-79:24\"\u003e\n\u003cthead\u003e\n\u003ctr data-sourcepos=\"75:1-75:36\"\u003e\n\u003cth data-sourcepos=\"75:18-75:19\"\u003eid\u003c/th\u003e\n\u003cth data-sourcepos=\"75:21-75:25\"\u003etitle\u003c/th\u003e\n\u003cth data-sourcepos=\"75:27-75:35\"\u003ecompleted\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr data-sourcepos=\"78:1-78:28\"\u003e\n\u003ctd data-sourcepos=\"78:2-78:2\"\u003e1\u003c/td\u003e\n\u003ctd data-sourcepos=\"78:4-78:21\"\u003e朝食を食べる\u003c/td\u003e\n\u003ctd data-sourcepos=\"78:23-78:27\"\u003efalse\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"79:1-79:24\"\u003e\n\u003ctd data-sourcepos=\"79:2-79:2\"\u003e2\u003c/td\u003e\n\u003ctd data-sourcepos=\"79:4-79:18\"\u003e仕事に行く\u003c/td\u003e\n\u003ctd data-sourcepos=\"79:20-79:23\"\u003etrue\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp data-sourcepos=\"81:1-81:120\"\u003eという状態を想定し、\u003ccode\u003ehttp/get-todo\u003c/code\u003eの関数をモックしてスタブレスポンスを返しています。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"83:1-90:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003elein \u003cspan class=\"nb\"\u003etest\n\n\u003c/span\u003elein \u003cspan class=\"nb\"\u003etest \u003c/span\u003etodo.core-test\n\nRan 1 tests containing 2 assertions.\n0 failures, 0 errors.\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"92:1-92:63\"\u003e無事モックできたようでテストが通りました。\u003c/p\u003e\n\u003cp data-sourcepos=\"94:1-95:53\"\u003eただこれだと\u003ccode\u003ehttp/get-todo\u003c/code\u003eを本当に使われたのか不明ですし、\u003ccode\u003everify\u003c/code\u003eしたくなることがあると思います。\u003cbr\u003e\nその時のために次の\u003ccode\u003everifying\u003c/code\u003eがあります\u003c/p\u003e\n\u003ch4 data-sourcepos=\"97:1-97:16\"\u003e\n\u003cspan id=\"verifying\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#verifying\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003everifying\u003c/code\u003e\n\u003c/h4\u003e\n\u003cp data-sourcepos=\"99:1-99:110\"\u003e\u003ccode\u003everifying\u003c/code\u003eでは、モックした関数が指定した回数呼ばれたかどうかをチェックします\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"101:1-116:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etodo.core-test\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:require\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eclojure.test\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003etodo.core\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003esut\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003etodo.http\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ehttp\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003emockfn.macros\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003emockfn\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003emockfn.matchers\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ematchers\u003c/span\u003e\u003cspan class=\"p\"\u003e]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003et/deftest\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eget-todo-titles-test\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003et/testing\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"特定のTodoのタイトルを取得でき、http/get-todoが呼ばれている\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003emockfn/verifying\u003c/span\u003e\u003cspan class=\"w\"\u003e\n     \u003c/span\u003e\u003cspan class=\"p\"\u003e[(\u003c/span\u003e\u003cspan class=\"nf\"\u003ehttp/get-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:status\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"朝食を食べる\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:completed\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e}}\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ematchers/exactly\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ehttp/get-todo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:status\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:body\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:id\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"仕事に行く\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:complated\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e}}\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ematchers/exactly\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n     \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003et/is\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e=\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esut/get-todo-title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"朝食を食べる\"\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n     \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003et/is\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e=\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esut/get-todo-title\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"仕事に行く\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)))))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"118:1-118:175\"\u003eこのようにすることで、先ほどのテストがさらに良くなり、\u003ccode\u003ehttp/get-todo\u003c/code\u003eが1度だけ呼ばれていることもテストすることができました\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"120:1-127:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003elein \u003cspan class=\"nb\"\u003etest\n\n\u003c/span\u003elein \u003cspan class=\"nb\"\u003etest \u003c/span\u003etodo.core-test\n\nRan 1 tests containing 2 assertions.\n0 failures, 0 errors.\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"129:1-129:81\"\u003e試しに片方だけ\u003ccode\u003e2\u003c/code\u003e回呼ばれたことを検証し、失敗してみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"131:1-149:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003elein \u003cspan class=\"nb\"\u003etest\n\n\u003c/span\u003elein \u003cspan class=\"nb\"\u003etest \u003c/span\u003etodo.core-test\n\nERROR \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"o\"\u003e(\u003c/span\u003eget-todo-titles-test\u003cspan class=\"o\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e(\u003c/span\u003emock.cljc:23\u003cspan class=\"o\"\u003e)\u003c/span\u003e\nUncaught exception, not \u003cspan class=\"k\"\u003ein \u003c/span\u003eassertion.\nexpected: nil\n  actual: clojure.lang.ExceptionInfo: Expected todo.http\u003cspan class=\"nv\"\u003e$get_todo\u003c/span\u003e@26a2f7f9 with arguments \u003cspan class=\"o\"\u003e[\u003c/span\u003e1] exactly 2 \u003cspan class=\"nb\"\u003etimes\u003c/span\u003e, received 1.\n\u003cspan class=\"o\"\u003e{}\u003c/span\u003e\n at mockfn.mock\u003cspan class=\"nv\"\u003e$verify\u003c/span\u003e.invokeStatic \u003cspan class=\"o\"\u003e(\u003c/span\u003emock.cljc:23\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n    mockfn.mock\u003cspan class=\"nv\"\u003e$verify\u003c/span\u003e.invoke \u003cspan class=\"o\"\u003e(\u003c/span\u003emock.cljc:17\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n    todo.core_test\u003cspan class=\"nv\"\u003e$fn__781$fn__782\u003c/span\u003e.invoke \u003cspan class=\"o\"\u003e(\u003c/span\u003ecore_test.clj:27\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n    clojure.core\u003cspan class=\"nv\"\u003e$with_redefs_fn\u003c/span\u003e.invokeStatic \u003cspan class=\"o\"\u003e(\u003c/span\u003ecore.clj:7582\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n...\nRan 1 tests containing 3 assertions.\n0 failures, 1 errors.\nTests failed\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"151:1-151:165\"\u003eこのように、\u003ccode\u003e[1] exactly 2 times\u003c/code\u003eということで、モックした関数が呼ばれた関数の違いでテストが失敗するようになりました。\u003c/p\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 11*](https://qiita.com/advent-calendar/2024/clojure)\n\n今日は`Clojure`でのテスト時にモックを使う方法について書こうと思います\n\n題材として、Todoの一覧を取得する部分をmockし、取得後の処理のみ部分のテストを書いてみます\n\n```clojure\n(ns todo.core\n  (:require [todo.http :as http]))\n\n(defn get-todo-titles\n  []\n  (let [{:keys [body]} (http/get-todos)]\n    (map :title body)))\n```\n\n例えばこのような、`todo.http`から`get-todos`という関数を呼び出し、タイトルだけを返却するような`get-todo-titles`があるとします。\n\n`get-todo-titles`の単体テストを書くにあたり、`todo.http/get-todos`をモックしていきます\n\n## 1. `with-redefs`\n\nClojureの標準ライブラリに含まれる`with-redefs`を使うことで、テストのスコープ内でのみ、グローバルな関数を一時的にモックに置き換えることができます。\n\nこれを使って`todo.http/get-todos`をモックします\n\n```clojure\n(t/deftest get-todo-titles-test\n  (t/testing \"Todoのタイトルを取得できる\"\n    (let [todos [{:id 1 :title \"朝食を食べる\" :completed false}\n                 {:id 2 :title \"仕事に行く\" :completed false}]]\n      (with-redefs [http/get-todos (fn [] {:status 200 :body todos})]\n        (t/is (= (sut/get-todo-titles) [\"朝食を食べる\" \"仕事に行く\"]))))))\n```\n\n```bash\n$ lein test\n\nlein test todo.core-test\n\nRan 1 tests containing 1 assertions.\n0 failures, 0 errors.\n```\n\n無事mock化できました\n\n## 2. ライブラリを使う\n\n今回は `mockfn` を使ってみようと思います\n\nhttps://github.com/nubank/mockfn\n\n`mockfn`は、`providing`と`verifying`という関数があり、これが便利です\n\n#### `providing`\n\n```clojure\n(ns todo.core-test\n  (:require [clojure.test :as t]\n            [todo.core :as sut]\n            [todo.http :as http]\n            [mockfn.macros :as mockfn]))\n\n(t/deftest get-todo-titles-test\n  (t/testing \"特定のTodoのタイトルを取得できる\"\n    (mockfn/providing\n     [(http/get-todo 1) {:status 200 :body {:id 1 :title \"朝食を食べる\"}}\n      (http/get-todo 2) {:status 200 :body {:id 1 :title \"仕事に行く\"}}]\n     (t/is (= (sut/get-todo-title 1) \"朝食を食べる\"))\n     (t/is (= (sut/get-todo-title 2) \"仕事に行く\")))))\n```\n\nここでは、\n|id|title|completed|\n|----|----|----|\n|1|朝食を食べる|false|\n|2|仕事に行く|true|\n\nという状態を想定し、`http/get-todo`の関数をモックしてスタブレスポンスを返しています。\n\n```bash\n$ lein test\n\nlein test todo.core-test\n\nRan 1 tests containing 2 assertions.\n0 failures, 0 errors.\n```\n\n無事モックできたようでテストが通りました。\n\nただこれだと`http/get-todo`を本当に使われたのか不明ですし、`verify`したくなることがあると思います。\nその時のために次の`verifying`があります\n\n#### `verifying`\n\n`verifying`では、モックした関数が指定した回数呼ばれたかどうかをチェックします\n\n```clojure\n(ns todo.core-test\n  (:require [clojure.test :as t]\n            [todo.core :as sut]\n            [todo.http :as http]\n            [mockfn.macros :as mockfn]\n            [mockfn.matchers :as matchers]))\n\n(t/deftest get-todo-titles-test\n  (t/testing \"特定のTodoのタイトルを取得でき、http/get-todoが呼ばれている\"\n    (mockfn/verifying\n     [(http/get-todo 1) {:status 200 :body {:id 1 :title \"朝食を食べる\" :completed false}} (matchers/exactly 1)\n      (http/get-todo 2) {:status 200 :body {:id 1 :title \"仕事に行く\" :complated true}} (matchers/exactly 1)]\n     (t/is (= (sut/get-todo-title 1) \"朝食を食べる\"))\n     (t/is (= (sut/get-todo-title 2) \"仕事に行く\")))))\n```\n\nこのようにすることで、先ほどのテストがさらに良くなり、`http/get-todo`が1度だけ呼ばれていることもテストすることができました\n\n```bash\n$ lein test\n\nlein test todo.core-test\n\nRan 1 tests containing 2 assertions.\n0 failures, 0 errors.\n```\n\n試しに片方だけ`2`回呼ばれたことを検証し、失敗してみます\n\n```bash\n$ lein test\n\nlein test todo.core-test\n\nERROR in (get-todo-titles-test) (mock.cljc:23)\nUncaught exception, not in assertion.\nexpected: nil\n  actual: clojure.lang.ExceptionInfo: Expected todo.http$get_todo@26a2f7f9 with arguments [1] exactly 2 times, received 1.\n{}\n at mockfn.mock$verify.invokeStatic (mock.cljc:23)\n    mockfn.mock$verify.invoke (mock.cljc:17)\n    todo.core_test$fn__781$fn__782.invoke (core_test.clj:27)\n    clojure.core$with_redefs_fn.invokeStatic (core.clj:7582)\n...\nRan 1 tests containing 3 assertions.\n0 failures, 1 errors.\nTests failed\n```\n\nこのように、`[1] exactly 2 times`ということで、モックした関数が呼ばれた関数の違いでテストが失敗するようになりました。\n\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-12-07T23:47:49+09:00",
    "group": null,
    "id": "b2d978545aceefe6e58a",
    "likes_count": 1,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [{ "name": "Clojure", "versions": [] }],
    "title": "Clojure テストでモックを使う",
    "updated_at": "2024-12-12T00:27:05+09:00",
    "url": "https://qiita.com/maaaashi/items/b2d978545aceefe6e58a",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:79\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 10\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"5:1-5:24\"\u003e\n\u003cspan id=\"テストの書き方\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%86%E3%82%B9%E3%83%88%E3%81%AE%E6%9B%B8%E3%81%8D%E6%96%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eテストの書き方\u003c/h2\u003e\n\u003cp data-sourcepos=\"7:1-7:116\"\u003e今日は\u003ccode\u003eClojure\u003c/code\u003eでの\u003ccode\u003eclojure.test\u003c/code\u003eライブラリを使ったテストの実行方法を書こうと思います\u003c/p\u003e\n\u003ch3 data-sourcepos=\"9:1-9:40\"\u003e\n\u003cspan id=\"1-ライブラリのインポート\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%81%AE%E3%82%A4%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. ライブラリのインポート\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"11:1-15:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etodo.core-test\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"no\"\u003e:require\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eclojure.test\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n            \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003etodo.core\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:as\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003esut\u003c/span\u003e\u003cspan class=\"p\"\u003e]))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"17:1-18:106\"\u003e\u003ccode\u003eclojure.test\u003c/code\u003eをインポートし、\u003ccode\u003et\u003c/code\u003eという名前を付けてテスト関連の関数をインポートします。\u003cbr\u003e\n\u003ccode\u003etodo.core\u003c/code\u003eは、テスト対象の名前空間を\u003ccode\u003esut\u003c/code\u003eという名前でインポートしています。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"20:1-20:25\"\u003e\n\u003cspan id=\"2-テストを書く\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E6%9B%B8%E3%81%8F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. テストを書く\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"22:1-26:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003et/deftest\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eaddition-test\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003et/testing\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"加算関数のテスト\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003et/is\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e=\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esut/add\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e))))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"28:1-28:89\"\u003e\u003ccode\u003eclojure.test\u003c/code\u003eから、\u003ccode\u003edeftest\u003c/code\u003eと\u003ccode\u003etesting\u003c/code\u003e、\u003ccode\u003eis\u003c/code\u003eの3つの関数を使っています.\u003c/p\u003e\n\u003ch4 data-sourcepos=\"30:1-30:12\"\u003e\n\u003cspan id=\"deftest\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#deftest\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003edeftest\u003c/h4\u003e\n\u003cul data-sourcepos=\"32:1-34:0\"\u003e\n\u003cli data-sourcepos=\"32:1-32:53\"\u003eテストケースを定義するためのマクロ\u003c/li\u003e\n\u003cli data-sourcepos=\"33:1-34:0\"\u003e名前付きのテストを作成することができます\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"35:1-38:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003edeftest\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eaddition-test\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eis\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e=\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e+\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e))))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch4 data-sourcepos=\"40:1-40:12\"\u003e\n\u003cspan id=\"testing\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#testing\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003etesting\u003c/h4\u003e\n\u003cul data-sourcepos=\"42:1-43:0\"\u003e\n\u003cli data-sourcepos=\"42:1-43:0\"\u003eテストの説明を記述することができます\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"44:1-49:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003edeftest\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eaddition-test\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003etesting\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"加算関数のテスト\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eis\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e=\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e+\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eis\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e=\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e+\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e-1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)))))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"51:1-51:90\"\u003e複数の関連テストがある場合に、各テストの意図を明確にできます\u003c/p\u003e\n\u003ch4 data-sourcepos=\"53:1-53:7\"\u003e\n\u003cspan id=\"is\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#is\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eis\u003c/h4\u003e\n\u003cul data-sourcepos=\"55:1-56:0\"\u003e\n\u003cli data-sourcepos=\"55:1-56:0\"\u003e条件が正しいかどうかを確認するアサート\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"57:1-60:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eis\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e=\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e+\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"c1\"\u003e;; 成功\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eis\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e=\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e+\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"c1\"\u003e;; 失敗\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"62:1-62:25\"\u003e\n\u003cspan id=\"3-テストの実行\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-%E3%83%86%E3%82%B9%E3%83%88%E3%81%AE%E5%AE%9F%E8%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. テストの実行\u003c/h3\u003e\n\u003ch4 data-sourcepos=\"64:1-64:18\"\u003e\n\u003cspan id=\"replで実行\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#repl%E3%81%A7%E5%AE%9F%E8%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eREPLで実行\u003c/h4\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"66:1-74:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003erequire\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eclojure.test\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:refer\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"no\"\u003e:all\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003erun-tests\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"ss\"\u003e'todo.core-test\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; \u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; Testing todo.core-test\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; \u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; Ran 1 tests containing 1 assertions.\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; 0 failures, 0 errors.\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch4 data-sourcepos=\"76:1-76:17\"\u003e\n\u003cspan id=\"cliで実行\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#cli%E3%81%A7%E5%AE%9F%E8%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eCLIで実行\u003c/h4\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"78:1-85:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003elein \u003cspan class=\"nb\"\u003etest\n\n\u003c/span\u003elein \u003cspan class=\"nb\"\u003etest \u003c/span\u003etodo.core-test\n\nRan 1 tests containing 1 assertions.\n0 failures, 0 errors.\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 10*](https://qiita.com/advent-calendar/2024/clojure)\n\n## テストの書き方\n\n今日は`Clojure`での`clojure.test`ライブラリを使ったテストの実行方法を書こうと思います\n\n### 1. ライブラリのインポート\n\n```clojure\n(ns todo.core-test\n  (:require [clojure.test :as t]\n            [todo.core :as sut]))\n```\n\n`clojure.test`をインポートし、`t`という名前を付けてテスト関連の関数をインポートします。\n`todo.core`は、テスト対象の名前空間を`sut`という名前でインポートしています。\n\n### 2. テストを書く\n\n```clojure\n(t/deftest addition-test\n  (t/testing \"加算関数のテスト\")\n  (t/is (= 4 (sut/add 1 3))))\n```\n\n`clojure.test`から、`deftest`と`testing`、`is`の3つの関数を使っています.\n\n#### deftest\n\n- テストケースを定義するためのマクロ\n- 名前付きのテストを作成することができます\n\n```clojure\n(deftest addition-test\n  (is (= 4 (+ 2 2))))\n```\n\n#### testing\n\n- テストの説明を記述することができます\n\n```clojure\n(deftest addition-test\n  (testing \"加算関数のテスト\"\n    (is (= 4 (+ 2 2)))\n    (is (= 0 (+ -1 1)))))\n```\n\n複数の関連テストがある場合に、各テストの意図を明確にできます\n\n#### is\n\n- 条件が正しいかどうかを確認するアサート\n\n```clojure\n(is (= 4 (+ 2 2)))  ;; 成功\n(is (= 5 (+ 2 2)))  ;; 失敗\n```\n\n### 3. テストの実行\n\n#### REPLで実行\n\n```clojure\n(require '[clojure.test :refer :all])\n(run-tests 'todo.core-test)\n; \n; Testing todo.core-test\n; \n; Ran 1 tests containing 1 assertions.\n; 0 failures, 0 errors.\n```\n\n#### CLIで実行\n\n```bash\n$ lein test\n\nlein test todo.core-test\n\nRan 1 tests containing 1 assertions.\n0 failures, 0 errors.\n```\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-12-07T23:40:12+09:00",
    "group": null,
    "id": "8809bf0aa486f07c6c2a",
    "likes_count": 0,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [{ "name": "Clojure", "versions": [] }],
    "title": "Clojure テストを書く",
    "updated_at": "2024-12-10T07:04:11+09:00",
    "url": "https://qiita.com/maaaashi/items/8809bf0aa486f07c6c2a",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:78\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 9\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"5:1-5:21\"\u003e\n\u003cspan id=\"高階関数とは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%AB%98%E9%9A%8E%E9%96%A2%E6%95%B0%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e高階関数とは\u003c/h2\u003e\n\u003cp data-sourcepos=\"7:1-7:70\"\u003e\u003cstrong\u003e高階関数\u003c/strong\u003eとは、関数を操作するための関数です。\u003c/p\u003e\n\u003col data-sourcepos=\"9:1-11:0\"\u003e\n\u003cli data-sourcepos=\"9:1-9:45\"\u003e関数を引数として受け取る関数\u003c/li\u003e\n\u003cli data-sourcepos=\"10:1-11:0\"\u003e関数を返り値として返す関数\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 data-sourcepos=\"12:1-12:12\"\u003e\n\u003cspan id=\"具体例\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%85%B7%E4%BD%93%E4%BE%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e具体例\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"14:1-14:10\"\u003e\n\u003cspan id=\"1-map\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-map\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. map\u003c/h3\u003e\n\u003cp data-sourcepos=\"16:1-16:141\"\u003e引数で関数とコレクションを受け取り、各要素に対して関数を適用し、新しいシーケンスを生成する関数\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"18:1-24:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003emap\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003einc\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e;; =\u0026gt; (2 3 4)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003emap\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003e+\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e;; =\u0026gt; (3 5 7)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"26:1-26:13\"\u003e\n\u003cspan id=\"2-filter\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-filter\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. filter\u003c/h3\u003e\n\u003cp data-sourcepos=\"28:1-28:105\"\u003e引数で関数とコレクションを受け取り、条件を満たす要素だけを抽出する関数\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"30:1-33:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003efilter\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eeven?\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e7\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e8\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e9\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e;; =\u0026gt; (2 4 6 8 10)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"35:1-35:28\"\u003e\n\u003cspan id=\"3-関数を返す関数\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-%E9%96%A2%E6%95%B0%E3%82%92%E8%BF%94%E3%81%99%E9%96%A2%E6%95%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. 関数を返す関数\u003c/h3\u003e\n\u003cp data-sourcepos=\"37:1-37:134\"\u003e受け取った値(x)よりも大きいかどうかを判定する関数を返す\u003ccode\u003egreater-than\u003c/code\u003eという関数を作ってみます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"39:1-50:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003egreater-than\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003efn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e;; =\u0026gt; #'todo.core/greater-than\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003egreater-than-5\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003egreater-than\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e;; =\u0026gt; #'todo.core/greater-than-5\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003egreater-than-5\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e;; =\u0026gt; true\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003egreater-than-5\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e;; =\u0026gt; false\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"52:1-52:177\"\u003eこのような高階関数を使うことで、コードの再利用性、コードの簡潔性、メンテナンス性、柔軟な抽象化をすることができそうです\u003c/p\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 9*](https://qiita.com/advent-calendar/2024/clojure)\n\n## 高階関数とは\n\n**高階関数**とは、関数を操作するための関数です。\n\n1. 関数を引数として受け取る関数\n1. 関数を返り値として返す関数\n\n## 具体例\n\n### 1. map\n\n引数で関数とコレクションを受け取り、各要素に対して関数を適用し、新しいシーケンスを生成する関数\n\n```clojure\n(map inc [1 2 3])\n;; =\u003e (2 3 4)\n\n(map + [1 2 3] [2 3 4])\n;; =\u003e (3 5 7)\n```\n\n### 2. filter\n\n引数で関数とコレクションを受け取り、条件を満たす要素だけを抽出する関数\n\n```clojure\n(filter even? [1 2 3 4 5 6 7 8 9 10])\n;; =\u003e (2 4 6 8 10)\n```\n\n### 3. 関数を返す関数\n\n受け取った値(x)よりも大きいかどうかを判定する関数を返す`greater-than`という関数を作ってみます。\n\n```clojure\n(defn greater-than [n]\n  (fn [x] (\u003e x n)))\n;; =\u003e #'todo.core/greater-than\n(def greater-than-5 (greater-than 5))\n;; =\u003e #'todo.core/greater-than-5\n\n(greater-than-5 6)\n;; =\u003e true\n(greater-than-5 4)\n;; =\u003e false\n```\n\nこのような高階関数を使うことで、コードの再利用性、コードの簡潔性、メンテナンス性、柔軟な抽象化をすることができそうです\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-12-06T23:13:09+09:00",
    "group": null,
    "id": "160203209627b15a4f3e",
    "likes_count": 0,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [{ "name": "Clojure", "versions": [] }],
    "title": "Clojure 高階関数",
    "updated_at": "2024-12-09T07:03:51+09:00",
    "url": "https://qiita.com/maaaashi/items/160203209627b15a4f3e",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:78\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 8\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"5:1-5:15\"\u003e\n\u003cspan id=\"基本構文\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%9F%BA%E6%9C%AC%E6%A7%8B%E6%96%87\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e基本構文\u003c/h2\u003e\n\u003cp data-sourcepos=\"7:1-7:46\"\u003e3つの基本についてまとめています\u003c/p\u003e\n\u003col data-sourcepos=\"9:1-12:0\"\u003e\n\u003cli data-sourcepos=\"9:1-9:15\"\u003eリテラル\u003c/li\u003e\n\u003cli data-sourcepos=\"10:1-10:33\"\u003e関数の定義と呼び出し\u003c/li\u003e\n\u003cli data-sourcepos=\"11:1-12:0\"\u003e特殊フォーム\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"13:1-13:59\"\u003e\u003cstrong\u003e3. 特殊フォーム\u003c/strong\u003e についてまとめています\u003c/p\u003e\n\u003cp data-sourcepos=\"15:1-15:42\"\u003e今日は続きから書いていきます\u003c/p\u003e\n\u003ch3 data-sourcepos=\"17:1-17:25\"\u003e\n\u003cspan id=\"2-特殊フォーム\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-%E7%89%B9%E6%AE%8A%E3%83%95%E3%82%A9%E3%83%BC%E3%83%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. 特殊フォーム\u003c/h3\u003e\n\u003cp data-sourcepos=\"19:1-19:101\"\u003e特殊フォーム（Special forms）は、Clojureコンパイラによって直接解釈されます\u003c/p\u003e\n\u003ch4 data-sourcepos=\"21:1-21:32\"\u003e\n\u003cspan id=\"fn-name-params--expr\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#fn-name-params--expr\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e(fn name? [params* ] expr*)\u003c/h4\u003e\n\u003cp data-sourcepos=\"23:1-24:123\"\u003e\u003ccode\u003efn\u003c/code\u003eはclojureで無名関数を定義する際に使うものです。\u003cbr\u003e\n一時的に使う関数を簡単に定義したいときや、関数名を付ける必要がない場合に便利です。\u003c/p\u003e\n\u003cp data-sourcepos=\"26:1-26:18\"\u003e特徴としては\u003c/p\u003e\n\u003cul data-sourcepos=\"28:1-31:0\"\u003e\n\u003cli data-sourcepos=\"28:1-28:71\"\u003eオーバーロード可能（複数のアリティに対応可能）\u003c/li\u003e\n\u003cli data-sourcepos=\"29:1-29:55\"\u003e再帰（recurを用いた効率的な再帰処理）\u003c/li\u003e\n\u003cli data-sourcepos=\"30:1-31:0\"\u003e可変長引数（\u0026amp; rest-param）\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"32:1-32:39\"\u003eそれぞれの例を書いてみます\u003c/p\u003e\n\u003cp data-sourcepos=\"34:1-34:31\"\u003e\u003cstrong\u003eオーバーロード可能\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"36:1-46:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eoverload-funciton\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003efn\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e([]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"引数がない場合のデフォルト値\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"引数が1つ: \"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"引数が2つ: \"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\" と \"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e))))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eoverload-funciton\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e                 \u003c/span\u003e\u003cspan class=\"c1\"\u003e;; =\u0026gt; \"引数がない場合のデフォルト値\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eoverload-funciton\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Hello\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e         \u003c/span\u003e\u003cspan class=\"c1\"\u003e;; =\u0026gt; \"引数が1つ: Hello\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eoverload-funciton\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Hello\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"World\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e;; =\u0026gt; \"引数が2つ: Hello と World\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"48:1-48:60\"\u003eここでは引数の数によって別の動作をします\u003c/p\u003e\n\u003cp data-sourcepos=\"50:1-50:10\"\u003e\u003cstrong\u003e再帰\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"52:1-62:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003efactorial\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003efn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eletfn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[(\u003c/span\u003e\u003cspan class=\"nf\"\u003ehelper\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eacc\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n              \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003ezero?\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                \u003c/span\u003e\u003cspan class=\"n\"\u003eacc\u003c/span\u003e\u003cspan class=\"w\"\u003e\n                \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003erecur\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e*\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eacc\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003edec\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e))))]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ehelper\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e))))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003efactorial\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e;; =\u0026gt; 120\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"64:1-64:105\"\u003e\u003ccode\u003ehelper\u003c/code\u003eという内部関数を定義し、内部で\u003ccode\u003erecur\u003c/code\u003eを使い、自己回帰を行っています\u003c/p\u003e\n\u003cp data-sourcepos=\"67:1-67:19\"\u003e\u003cstrong\u003e可変長引数\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"69:1-77:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003esum\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003efn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003enums\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003ereduce\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003e+\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003enums\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esum\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e   \u003c/span\u003e\u003cspan class=\"c1\"\u003e;; =\u0026gt; 10\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esum\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e           \u003c/span\u003e\u003cspan class=\"c1\"\u003e;; =\u0026gt; 0\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003esum\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e10\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e20\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e30\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"c1\"\u003e;; =\u0026gt; 60\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"79:1-79:71\"\u003e\u003ccode\u003e\u0026amp; nums\u003c/code\u003eは任意の数の引数をリストとして受け取ります\u003c/p\u003e\n\u003cp data-sourcepos=\"81:1-81:87\"\u003eこれらを使いこなすことで柔軟に無名関数を使うことができます\u003c/p\u003e\n\u003ch4 data-sourcepos=\"83:1-83:28\"\u003e\n\u003cspan id=\"loop-binding-expr\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#loop-binding-expr\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e(loop [binding*] expr*)\u003c/h4\u003e\n\u003cp data-sourcepos=\"85:1-86:69\"\u003e\u003ccode\u003elet\u003c/code\u003eに似て、バインディングを定義します。\u003cbr\u003e\nしかし、\u003ccode\u003eloop\u003c/code\u003eは追加で再帰ポイントを設定します。\u003c/p\u003e\n\u003cp data-sourcepos=\"88:1-88:85\"\u003e後述の\u003ccode\u003erecur\u003c/code\u003eを使ってこの再起ポイントに戻すことができます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"90:1-101:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eloop\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003en\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e; 再帰ポイントを作成し、nに初期値5を設定\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003ewhen\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003en\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e; nが0より大きい間ループ\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eprintln\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e; nを出力\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003erecur\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003edec\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e))))\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e; nを1減らして再帰ポイントに戻る\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; 5\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; 4\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; 3\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; 2\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; 1\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch4 data-sourcepos=\"103:1-103:18\"\u003e\n\u003cspan id=\"recur-expr\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#recur-expr\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e(recur expr*)\u003c/h4\u003e\n\u003cp data-sourcepos=\"105:1-105:118\"\u003e\u003ccode\u003erecur\u003c/code\u003eは現在の再起ポイントに戻ってそのバインディングを更新し、ループを続行します\u003c/p\u003e\n\u003cp data-sourcepos=\"107:1-107:9\"\u003e注意点\u003c/p\u003e\n\u003cul data-sourcepos=\"108:1-110:0\"\u003e\n\u003cli data-sourcepos=\"108:1-108:41\"\u003e引数を同じにする必要がある\u003c/li\u003e\n\u003cli data-sourcepos=\"109:1-110:0\"\u003e末尾の位置で使用\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"111:1-122:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eloop\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003en\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e; 再帰ポイントを作成し、nに初期値5を設定\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003ewhen\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003en\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e; nが0より大きい間ループ\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eprintln\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e; nを出力\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003erecur\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003edec\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e))))\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e; nを1減らして再帰ポイントに戻る\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; 5\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; 4\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; 3\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; 2\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; 1\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"124:1-125:115\"\u003e通常の再帰関数ではスタックを消費しますが、\u003cbr\u003e\n\u003ccode\u003erecur\u003c/code\u003eはループとして実行されるので、スタックオーバーフローを防ぐことができます\u003c/p\u003e\n\u003ch4 data-sourcepos=\"127:1-127:46\"\u003e\n\u003cspan id=\"try-expr-catch-clause-finally-clause\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#try-expr-catch-clause-finally-clause\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e(try expr* catch-clause* finally-clause?)\u003c/h4\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"129:1-134:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003etry\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003eexpr*\u003c/span\u003e\u003cspan class=\"w\"\u003e            \u003c/span\u003e\u003cspan class=\"c1\"\u003e; メインの式\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003ecatch-clause*\u003c/span\u003e\u003cspan class=\"w\"\u003e    \u003c/span\u003e\u003cspan class=\"c1\"\u003e; 例外をキャッチするための処理\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003efinally-clause?\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e; 最後に必ず実行される処理（オプション）\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"136:1-137:35\"\u003e\u003cem\u003ecatch-clause → (catch classname name expr)\u003c/em\u003e\u003cbr\u003e\n\u003cem\u003efinally-clause → (finally expr)\u003c/em\u003e\u003c/p\u003e\n\u003cul data-sourcepos=\"139:1-154:0\"\u003e\n\u003cli data-sourcepos=\"139:1-140:24\"\u003eexpr*\n\u003cul data-sourcepos=\"140:5-140:24\"\u003e\n\u003cli data-sourcepos=\"140:5-140:24\"\u003e評価される式\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"141:1-148:61\"\u003ecatch-clause\n\u003cul data-sourcepos=\"142:5-148:61\"\u003e\n\u003cli data-sourcepos=\"142:5-142:42\"\u003e例外を処理するための部分\u003c/li\u003e\n\u003cli data-sourcepos=\"143:5-144:49\"\u003e\n\u003ccode\u003eclassname\u003c/code\u003e\n\u003cul data-sourcepos=\"144:9-144:49\"\u003e\n\u003cli data-sourcepos=\"144:9-144:49\"\u003eキャッチする例外のクラス名\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"145:5-146:67\"\u003e\n\u003ccode\u003ename\u003c/code\u003e\n\u003cul data-sourcepos=\"146:9-146:67\"\u003e\n\u003cli data-sourcepos=\"146:9-146:67\"\u003eキャッチした例外がバインドされる変数名\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"147:5-148:61\"\u003e\n\u003ccode\u003eexpr\u003c/code\u003e\n\u003cul data-sourcepos=\"148:9-148:61\"\u003e\n\u003cli data-sourcepos=\"148:9-148:61\"\u003eキャッチした例外を処理するための式\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"149:1-154:0\"\u003efinally-clause\n\u003cul data-sourcepos=\"150:5-154:0\"\u003e\n\u003cli data-sourcepos=\"150:5-150:39\"\u003eオプションで指定できる\u003c/li\u003e\n\u003cli data-sourcepos=\"151:5-154:0\"\u003e\n\u003ccode\u003etry\u003c/code\u003eブロックを抜ける時に必ず実行される式\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"155:1-165:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003etry\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ethrow\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eException.\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Exception occurred\"\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ecatch\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eException\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ee\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eprintln\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Exception caught\"\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003efinally\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eprintln\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"This will always run\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; Exception caught\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; This will always run\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"167:1-167:43\"\u003e\u003ciframe id=\"qiita-embed-content__922c9f1d3a4a1548dd30edb08278ad2b\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__922c9f1d3a4a1548dd30edb08278ad2b\" data-content=\"https%3A%2F%2Fclojure.org%2Freference%2Fspecial_forms\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 8*](https://qiita.com/advent-calendar/2024/clojure)\n\n## 基本構文\n\n3つの基本についてまとめています\n\n1. リテラル\n1. 関数の定義と呼び出し\n1. 特殊フォーム\n\n**3. 特殊フォーム** についてまとめています\n\n今日は続きから書いていきます\n\n### 2. 特殊フォーム\n\n特殊フォーム（Special forms）は、Clojureコンパイラによって直接解釈されます\n\n#### (fn name? [params* ] expr*)\n\n`fn`はclojureで無名関数を定義する際に使うものです。\n一時的に使う関数を簡単に定義したいときや、関数名を付ける必要がない場合に便利です。\n\n特徴としては\n\n- オーバーロード可能（複数のアリティに対応可能）\n- 再帰（recurを用いた効率的な再帰処理）\n- 可変長引数（\u0026 rest-param）\n\nそれぞれの例を書いてみます\n\n**オーバーロード可能**\n\n```clojure\n(def overload-funciton\n  (fn\n    ([] \"引数がない場合のデフォルト値\")\n    ([x] (str \"引数が1つ: \" x))\n    ([x y] (str \"引数が2つ: \" x \" と \" y))))\n\n(overload-funciton)                 ;; =\u003e \"引数がない場合のデフォルト値\"\n(overload-funciton \"Hello\")         ;; =\u003e \"引数が1つ: Hello\"\n(overload-funciton \"Hello\" \"World\") ;; =\u003e \"引数が2つ: Hello と World\"\n```\n\nここでは引数の数によって別の動作をします\n\n**再帰**\n\n```clojure\n(def factorial\n  (fn [n]\n    (letfn [(helper [acc n]\n              (if (zero? n)\n                acc\n                (recur (* acc n) (dec n))))]\n      (helper 1 n))))\n\n(factorial 5) ;; =\u003e 120\n```\n\n`helper`という内部関数を定義し、内部で`recur`を使い、自己回帰を行っています\n\n\n**可変長引数**\n\n```clojure\n(def sum\n  (fn [\u0026 nums]\n    (reduce + nums)))\n\n(sum 1 2 3 4)   ;; =\u003e 10\n(sum)           ;; =\u003e 0\n(sum 10 20 30)  ;; =\u003e 60\n```\n\n`\u0026 nums`は任意の数の引数をリストとして受け取ります\n\nこれらを使いこなすことで柔軟に無名関数を使うことができます\n\n#### (loop [binding*] expr*)\n\n`let`に似て、バインディングを定義します。\nしかし、`loop`は追加で再帰ポイントを設定します。\n\n後述の`recur`を使ってこの再起ポイントに戻すことができます。\n\n```clojure\n(loop [n 5] ; 再帰ポイントを作成し、nに初期値5を設定\n  (when (\u003e n 0) ; nが0より大きい間ループ\n    (println n) ; nを出力\n    (recur (dec n)))) ; nを1減らして再帰ポイントに戻る\n\n; 5\n; 4\n; 3\n; 2\n; 1\n```\n\n#### (recur expr*)\n\n`recur`は現在の再起ポイントに戻ってそのバインディングを更新し、ループを続行します\n\n注意点\n- 引数を同じにする必要がある\n- 末尾の位置で使用\n\n```clojure\n(loop [n 5] ; 再帰ポイントを作成し、nに初期値5を設定\n  (when (\u003e n 0) ; nが0より大きい間ループ\n    (println n) ; nを出力\n    (recur (dec n)))) ; nを1減らして再帰ポイントに戻る\n\n; 5\n; 4\n; 3\n; 2\n; 1\n```\n\n通常の再帰関数ではスタックを消費しますが、\n`recur`はループとして実行されるので、スタックオーバーフローを防ぐことができます\n\n#### (try expr* catch-clause* finally-clause?)\n\n```clojure\n(try\n  expr*            ; メインの式\n  catch-clause*    ; 例外をキャッチするための処理\n  finally-clause?) ; 最後に必ず実行される処理（オプション）\n```\n\n*catch-clause → (catch classname name expr)*\n*finally-clause → (finally expr)*\n\n- expr*\n    - 評価される式\n- catch-clause\n    - 例外を処理するための部分\n    - `classname`\n        - キャッチする例外のクラス名\n    - `name`\n        - キャッチした例外がバインドされる変数名\n    - `expr`\n        - キャッチした例外を処理するための式\n- finally-clause\n    - オプションで指定できる\n    - `try`ブロックを抜ける時に必ず実行される式\n\n\n\n```clojure\n(try\n  (throw (Exception. \"Exception occurred\"))\n  (catch Exception e\n    (println \"Exception caught\"))\n  (finally\n    (println \"This will always run\")))\n\n; Exception caught\n; This will always run\n```\n\nhttps://clojure.org/reference/special_forms\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-12-05T09:01:59+09:00",
    "group": null,
    "id": "ec269debc11ae512ffeb",
    "likes_count": 0,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [{ "name": "Clojure", "versions": [] }],
    "title": "Clojureの基本構文 - 特殊フォームその３",
    "updated_at": "2024-12-08T07:04:27+09:00",
    "url": "https://qiita.com/maaaashi/items/ec269debc11ae512ffeb",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:78\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 7\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"5:1-5:15\"\u003e\n\u003cspan id=\"基本構文\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%9F%BA%E6%9C%AC%E6%A7%8B%E6%96%87\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e基本構文\u003c/h2\u003e\n\u003cp data-sourcepos=\"7:1-7:46\"\u003e3つの基本についてまとめています\u003c/p\u003e\n\u003col data-sourcepos=\"9:1-12:0\"\u003e\n\u003cli data-sourcepos=\"9:1-9:15\"\u003eリテラル\u003c/li\u003e\n\u003cli data-sourcepos=\"10:1-10:33\"\u003e関数の定義と呼び出し\u003c/li\u003e\n\u003cli data-sourcepos=\"11:1-12:0\"\u003e特殊フォーム\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"13:1-13:59\"\u003e\u003cstrong\u003e3. 特殊フォーム\u003c/strong\u003e についてまとめています\u003c/p\u003e\n\u003cp data-sourcepos=\"15:1-15:89\"\u003e昨日は\u003ccode\u003edef\u003c/code\u003eについてまとめたので、今日は続きから書いていきます\u003c/p\u003e\n\u003ch3 data-sourcepos=\"17:1-17:25\"\u003e\n\u003cspan id=\"2-特殊フォーム\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-%E7%89%B9%E6%AE%8A%E3%83%95%E3%82%A9%E3%83%BC%E3%83%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. 特殊フォーム\u003c/h3\u003e\n\u003cp data-sourcepos=\"19:1-19:101\"\u003e特殊フォーム（Special forms）は、Clojureコンパイラによって直接解釈されます\u003c/p\u003e\n\u003ch4 data-sourcepos=\"21:1-21:7\"\u003e\n\u003cspan id=\"if\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#if\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eif\u003c/h4\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"23:1-25:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003etest\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ethen\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eelse?\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"27:1-27:173\"\u003e\u003ccode\u003etest\u003c/code\u003e の評価が真の場合、\u003ccode\u003ethen\u003c/code\u003eが評価され、\u003ccode\u003eelse\u003c/code\u003eが定義されている場合は、\u003ccode\u003eelse\u003c/code\u003eが評価され、定義されていないときは \u003ccode\u003enil\u003c/code\u003e を返す\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"29:1-34:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etrue\u003c/span\u003e\u003cspan class=\"w\"\u003e        \u003c/span\u003e\u003cspan class=\"c1\"\u003e;test\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Trueの場合\"\u003c/span\u003e\u003cspan class=\"w\"\u003e   \u003c/span\u003e\u003cspan class=\"c1\"\u003e;then\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Falseの場合\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e;else?\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e;; =\u0026gt; Trueの場合\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch4 data-sourcepos=\"36:1-36:7\"\u003e\n\u003cspan id=\"do\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#do\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003edo\u003c/h4\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"38:1-40:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003edo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"err\"\u003e式\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"err\"\u003e式\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"err\"\u003e式\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e...\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"err\"\u003e式\u003c/span\u003e\u003cspan class=\"n\"\u003eN\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"42:1-42:102\"\u003e渡された式を左から順に評価され、最後の式の評価結果が全体の結果となる\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"44:1-50:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003edo\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eprintln\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Hello,\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eprintln\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"World\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e+\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e;; =\u0026gt; 3\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"52:1-52:133\"\u003eここでは、2つの \u003ccode\u003eprintln\u003c/code\u003e は標準出力はされますが（副作用)、最後の\u003ccode\u003e(+ 1 2)\u003c/code\u003eの結果の\u003ccode\u003e3\u003c/code\u003eが返されます\u003c/p\u003e\n\u003ch4 data-sourcepos=\"54:1-54:8\"\u003e\n\u003cspan id=\"let\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#let\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003elet\u003c/h4\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"56:1-58:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ebinding*\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eexpr*\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"60:1-60:98\"\u003e\u003ccode\u003elet\u003c/code\u003eはローカルなスコープで変数を設定するために使用される構文です。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"62:1-66:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003elet\u003c/span\u003e\u003cspan class=\"w\"\u003e\n \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e+\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"68:1-68:97\"\u003eここでは、\u003ccode\u003ex\u003c/code\u003eという名前に\u003ccode\u003e1\u003c/code\u003eを割り当て、\u003ccode\u003e(+ x 2)\u003c/code\u003eで、\u003ccode\u003e1 + 2\u003c/code\u003eをしています\u003c/p\u003e\n\u003ch4 data-sourcepos=\"70:1-70:10\"\u003e\n\u003cspan id=\"quote\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#quote\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003equote\u003c/h4\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"72:1-77:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003equote\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eform\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; 短縮記法\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"o\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eform\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"79:1-80:82\"\u003e\u003ccode\u003equote\u003c/code\u003eは、\u003ccode\u003eform\u003c/code\u003eを評価せずにそのまま返します\u003cbr\u003e\nこれによって、\u003cstrong\u003eコードをデータ\u003c/strong\u003eとして扱うことができます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"82:1-88:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003equote\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e+\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; (+ 1 1)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"o\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e+\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; (+ 1 1)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch4 data-sourcepos=\"90:1-90:8\"\u003e\n\u003cspan id=\"var\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#var\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003evar\u003c/h4\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"92:1-94:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003evar\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003esymbol\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"96:1-96:50\"\u003e指定されたシンボルの\u003ccode\u003evar\u003c/code\u003eを返します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"98:1-103:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e(def x 42)\n\n(var x)\n; #'todo.core/x\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 7*](https://qiita.com/advent-calendar/2024/clojure)\n\n## 基本構文\n\n3つの基本についてまとめています\n\n1. リテラル\n1. 関数の定義と呼び出し\n1. 特殊フォーム\n\n**3. 特殊フォーム** についてまとめています\n\n昨日は`def`についてまとめたので、今日は続きから書いていきます\n\n### 2. 特殊フォーム\n\n特殊フォーム（Special forms）は、Clojureコンパイラによって直接解釈されます\n\n#### if\n\n```clojure\n(if test then else?)\n```\n\n`test` の評価が真の場合、`then`が評価され、`else`が定義されている場合は、`else`が評価され、定義されていないときは `nil` を返す\n\n```clojure\n(if true        ;test\n  \"Trueの場合\"   ;then\n  \"Falseの場合\") ;else?\n;; =\u003e Trueの場合\n```\n\n#### do\n\n```clojure\n(do 式1 式2 式3 ... 式N)\n```\n\n渡された式を左から順に評価され、最後の式の評価結果が全体の結果となる\n\n```clojure\n(do\n  (println \"Hello,\")\n  (println \"World\")\n  (+ 1 2))\n;; =\u003e 3\n```\n\nここでは、2つの `println` は標準出力はされますが（副作用)、最後の`(+ 1 2)`の結果の`3`が返されます\n\n#### let\n\n```clojure\n(let [ binding* ] expr*)\n```\n\n`let`はローカルなスコープで変数を設定するために使用される構文です。\n\n```clojure\n(let\n [x 1]\n  (+ x 2))\n```\n\nここでは、`x`という名前に`1`を割り当て、`(+ x 2)`で、`1 + 2`をしています\n\n#### quote\n\n```clojure\n(quote form)\n\n; 短縮記法\n'(form)\n```\n\n`quote`は、`form`を評価せずにそのまま返します\nこれによって、**コードをデータ**として扱うことができます\n\n```clojure\n(quote (+ 1 1))\n; (+ 1 1)\n\n'(+ 1 1)\n; (+ 1 1)\n```\n\n#### var\n\n```clojure\n(var symbol)\n```\n\n指定されたシンボルの`var`を返します\n\n```\n(def x 42)\n\n(var x)\n; #'todo.core/x\n```\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-12-04T09:13:55+09:00",
    "group": null,
    "id": "0473ccde36b534ff0f94",
    "likes_count": 0,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [{ "name": "Clojure", "versions": [] }],
    "title": "Clojureの基本構文 - 特殊フォームその２",
    "updated_at": "2024-12-07T07:03:28+09:00",
    "url": "https://qiita.com/maaaashi/items/0473ccde36b534ff0f94",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:78\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 5\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"5:1-5:15\"\u003e\n\u003cspan id=\"基本構文\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%9F%BA%E6%9C%AC%E6%A7%8B%E6%96%87\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e基本構文\u003c/h2\u003e\n\u003cp data-sourcepos=\"7:1-7:46\"\u003e3つの基本についてまとめています\u003c/p\u003e\n\u003col data-sourcepos=\"9:1-12:82\"\u003e\n\u003cli data-sourcepos=\"9:1-9:15\"\u003eリテラル\u003c/li\u003e\n\u003cli data-sourcepos=\"10:1-10:33\"\u003e関数の定義と呼び出し\u003c/li\u003e\n\u003cli data-sourcepos=\"11:1-12:82\"\u003e特殊フォーム\u003cbr\u003e\n今日は \u003cstrong\u003e3. 特殊フォーム\u003c/strong\u003e のなかの \u003ccode\u003edef\u003c/code\u003e についてまとめます\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 data-sourcepos=\"13:1-13:25\"\u003e\n\u003cspan id=\"2-特殊フォーム\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-%E7%89%B9%E6%AE%8A%E3%83%95%E3%82%A9%E3%83%BC%E3%83%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. 特殊フォーム\u003c/h3\u003e\n\u003cp data-sourcepos=\"15:1-15:101\"\u003e特殊フォーム（Special forms）は、Clojureコンパイラによって直接解釈されます\u003c/p\u003e\n\u003ch4 data-sourcepos=\"17:1-17:8\"\u003e\n\u003cspan id=\"def\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#def\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003edef\u003c/h4\u003e\n\u003cp data-sourcepos=\"19:1-19:141\"\u003e\u003ccode\u003edef\u003c/code\u003eはシンボルの名前を持ち、現在の名前空間(ns)を名前空間とする、グローバルなvarを作成、登録します\u003c/p\u003e\n\u003cdiv data-sourcepos=\"21:1-24:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"22:1-23:78\"\u003e\u003ccode\u003evar\u003c/code\u003e は値を参照するためのオブジェクトで、変数のようなものです。\u003cbr\u003e\n変更可能性や、スレッドセーフ性といった性質があります\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"26:1-26:133\"\u003e\u003ccode\u003e:private\u003c/code\u003eや、\u003ccode\u003e:doc\u003c/code\u003eなどのシンボルをメタデータとして付与し、特定の挙動を持たせることができます\u003c/p\u003e\n\u003cp data-sourcepos=\"28:1-28:12\"\u003e\u003cstrong\u003e:private\u003c/strong\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"30:1-30:84\"\u003eアクセス制御を表し、キーが存在しない場合はpublicになります\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"32:1-34:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e^\u003c/span\u003e\u003cspan class=\"no\"\u003e:private\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003esecret-value\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"password\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"36:1-36:8\"\u003e\u003cstrong\u003e:doc\u003c/strong\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"38:1-38:68\"\u003evarの内容に関するドキュメントを含む文字列(1~3行)\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"40:1-42:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e^\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:doc\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"この値は今日の夕飯を表します\"\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edinner\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"カツ丼\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"44:1-44:9\"\u003e\u003cstrong\u003e:test\u003c/strong\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"46:1-46:47\"\u003e\u003ccode\u003eassert\u003c/code\u003eを使用してテストを実行する\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"48:1-50:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e^\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:test\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003efn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eassert\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e=\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"とんかつ\"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003elunch\u003c/span\u003e\u003cspan class=\"p\"\u003e)))}\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003elunch\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"とんかつ\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"52:1-52:84\"\u003eここでは \u003ccode\u003elunch\u003c/code\u003e の値が \u003ccode\u003eとんかつ\u003c/code\u003eであることを確認しています\u003c/p\u003e\n\u003cp data-sourcepos=\"54:1-54:8\"\u003e\u003cstrong\u003e:tag\u003c/strong\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"56:1-56:84\"\u003e定義されたシンボルが返す値の型情報を指定することができる\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"58:1-60:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edef\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e^\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"no\"\u003e:tag\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003egreeting\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Hello, world!\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"62:1-62:10\"\u003e*\u003cstrong\u003e:file\u003c/strong\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"64:1-65:29\"\u003eシンボルがどのファイルで定義されているか設定します\u003cbr\u003e\n(指定することはない)\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"67:1-75:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eclj꞉todo.core꞉\u0026gt; (meta #'breakfast)\n{:tag java.lang.String,\n :line 32,\n :column 1,\n :file \"/.../clojure-todo/src/todo/core.clj\",\n :name breakfast,\n :ns #namespace[todo.core]}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"77:1-77:9\"\u003e\u003cstrong\u003e:line\u003c/strong\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"79:1-80:29\"\u003eシンボルが定義された行番号\u003cbr\u003e\n(指定することはない)\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"82:1-90:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eclj꞉todo.core꞉\u0026gt; (meta #'breakfast)\n{:tag java.lang.String,\n :line 32,\n :column 1,\n :file \"/.../clojure-todo/src/todo/core.clj\",\n :name breakfast,\n :ns #namespace[todo.core]}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"92:1-92:9\"\u003e\u003cstrong\u003e:name\u003c/strong\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"94:1-94:36\"\u003e定義されたシンボルの名前\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"97:1-105:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eclj꞉todo.core꞉\u0026gt; (meta #'breakfast)\n{:tag java.lang.String,\n :line 32,\n :column 1,\n :file \"/.../clojure-todo/src/todo/core.clj\",\n :name breakfast,\n :ns #namespace[todo.core]}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"107:1-107:7\"\u003e\u003cstrong\u003e:ns\u003c/strong\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"109:1-109:42\"\u003eシンボルが属している名前空間\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"112:1-120:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eclj꞉todo.core꞉\u0026gt; (meta #'breakfast)\n{:tag java.lang.String,\n :line 32,\n :column 1,\n :file \"/.../clojure-todo/src/todo/core.clj\",\n :name breakfast,\n :ns #namespace[todo.core]}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"122:1-122:10\"\u003e\u003cstrong\u003e:macro\u003c/strong\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"124:1-124:61\"\u003eこのシンボルがマクロであるときにtrueが入る\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"127:1-136:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eclj꞉todo.core꞉\u0026gt; (meta #'macro-func)\n{:arglists ([x]),\n :line 38,\n :column 1,\n :file \"/.../clojure-todo/src/todo/core.clj\",\n :name macro,\n :ns #namespace[todo.core],\n :macro true}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"138:1-138:13\"\u003e\u003cstrong\u003e:arglists\u003c/strong\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"140:1-140:57\"\u003e関数やマクロの引数リストを記録している\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"142:1-151:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eclj꞉todo.core꞉\u0026gt; (defn greeting [x] (println (str \"Hello, \" x)))\nclj꞉todo.core꞉\u0026gt; (meta #'greeting)\n{:arglists ([x]),\n :line 40,\n :column 1,\n :file \"/Users/ooka/dev/study/clojure-todo/src/todo/core.clj\",\n :name greeting,\n :ns #namespace[todo.core]}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"153:1-153:66\"\u003e明日は他の特殊フォームをまとめようと思います\u003c/p\u003e\n\u003cp data-sourcepos=\"156:1-156:43\"\u003e\u003ciframe id=\"qiita-embed-content__7a4de7e79b10290c05d907ec4888f2e0\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__7a4de7e79b10290c05d907ec4888f2e0\" data-content=\"https%3A%2F%2Fclojure.org%2Freference%2Fspecial_forms\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 5*](https://qiita.com/advent-calendar/2024/clojure)\n\n## 基本構文\n\n3つの基本についてまとめています\n\n1. リテラル\n1. 関数の定義と呼び出し\n1. 特殊フォーム\n今日は **3. 特殊フォーム** のなかの `def` についてまとめます\n### 2. 特殊フォーム\n\n特殊フォーム（Special forms）は、Clojureコンパイラによって直接解釈されます\n\n#### def\n\n`def`はシンボルの名前を持ち、現在の名前空間(ns)を名前空間とする、グローバルなvarを作成、登録します\n\n:::note\n`var` は値を参照するためのオブジェクトで、変数のようなものです。\n変更可能性や、スレッドセーフ性といった性質があります\n:::\n\n`:private`や、`:doc`などのシンボルをメタデータとして付与し、特定の挙動を持たせることができます\n\n**:private**\n\nアクセス制御を表し、キーが存在しない場合はpublicになります\n\n```clojure\n(def ^:private secret-value \"password\")\n```\n\n**:doc**\n\nvarの内容に関するドキュメントを含む文字列(1~3行)\n\n```clojure\n(def ^{:doc \"この値は今日の夕飯を表します\"} dinner \"カツ丼\")\n```\n\n**:test**\n\n`assert`を使用してテストを実行する\n\n```clojure\n(def ^{:test (fn [] (assert (= \"とんかつ\" lunch)))} lunch \"とんかつ\")\n```\n\nここでは `lunch` の値が `とんかつ`であることを確認しています\n\n**:tag**\n\n定義されたシンボルが返す値の型情報を指定することができる\n\n```clojure\n(def ^{:tag String} greeting \"Hello, world!\")\n```\n\n***:file**\n\nシンボルがどのファイルで定義されているか設定します\n(指定することはない)\n\n```\nclj꞉todo.core꞉\u003e (meta #'breakfast)\n{:tag java.lang.String,\n :line 32,\n :column 1,\n :file \"/.../clojure-todo/src/todo/core.clj\",\n :name breakfast,\n :ns #namespace[todo.core]}\n```\n\n**:line**\n\nシンボルが定義された行番号\n(指定することはない)\n\n```\nclj꞉todo.core꞉\u003e (meta #'breakfast)\n{:tag java.lang.String,\n :line 32,\n :column 1,\n :file \"/.../clojure-todo/src/todo/core.clj\",\n :name breakfast,\n :ns #namespace[todo.core]}\n```\n\n**:name**\n\n定義されたシンボルの名前\n\n\n```\nclj꞉todo.core꞉\u003e (meta #'breakfast)\n{:tag java.lang.String,\n :line 32,\n :column 1,\n :file \"/.../clojure-todo/src/todo/core.clj\",\n :name breakfast,\n :ns #namespace[todo.core]}\n```\n\n**:ns**\n\nシンボルが属している名前空間\n\n\n```\nclj꞉todo.core꞉\u003e (meta #'breakfast)\n{:tag java.lang.String,\n :line 32,\n :column 1,\n :file \"/.../clojure-todo/src/todo/core.clj\",\n :name breakfast,\n :ns #namespace[todo.core]}\n```\n\n**:macro**\n\nこのシンボルがマクロであるときにtrueが入る\n\n\n```\nclj꞉todo.core꞉\u003e (meta #'macro-func)\n{:arglists ([x]),\n :line 38,\n :column 1,\n :file \"/.../clojure-todo/src/todo/core.clj\",\n :name macro,\n :ns #namespace[todo.core],\n :macro true}\n```\n\n**:arglists**\n\n関数やマクロの引数リストを記録している\n\n```\nclj꞉todo.core꞉\u003e (defn greeting [x] (println (str \"Hello, \" x)))\nclj꞉todo.core꞉\u003e (meta #'greeting)\n{:arglists ([x]),\n :line 40,\n :column 1,\n :file \"/Users/ooka/dev/study/clojure-todo/src/todo/core.clj\",\n :name greeting,\n :ns #namespace[todo.core]}\n```\n\n明日は他の特殊フォームをまとめようと思います\n\n\nhttps://clojure.org/reference/special_forms\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-12-03T20:51:22+09:00",
    "group": null,
    "id": "df91cf4e2478c45ea761",
    "likes_count": 1,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [{ "name": "Clojure", "versions": [] }],
    "title": "Clojureの基本構文 - 特殊フォームその１",
    "updated_at": "2024-12-06T07:04:22+09:00",
    "url": "https://qiita.com/maaaashi/items/df91cf4e2478c45ea761",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:78\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 5\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"5:1-5:15\"\u003e\n\u003cspan id=\"基本構文\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%9F%BA%E6%9C%AC%E6%A7%8B%E6%96%87\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e基本構文\u003c/h2\u003e\n\u003cp data-sourcepos=\"7:1-7:49\"\u003e3つの基本についてまとめていきます\u003c/p\u003e\n\u003col data-sourcepos=\"9:1-13:0\"\u003e\n\u003cli data-sourcepos=\"9:1-9:15\"\u003eリテラル\u003c/li\u003e\n\u003cli data-sourcepos=\"10:1-10:33\"\u003e関数の定義と呼び出し\u003c/li\u003e\n\u003cli data-sourcepos=\"11:1-13:0\"\u003e特殊フォーム\u003cbr\u003e\n今日は \u003cstrong\u003e2.関数の定義と呼び出し\u003c/strong\u003e についてまとめます\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 data-sourcepos=\"14:1-14:37\"\u003e\n\u003cspan id=\"2-関数の定義と呼び出し\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-%E9%96%A2%E6%95%B0%E3%81%AE%E5%AE%9A%E7%BE%A9%E3%81%A8%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. 関数の定義と呼び出し\u003c/h3\u003e\n\u003col data-sourcepos=\"16:1-45:0\"\u003e\n\u003cli data-sourcepos=\"16:1-26:0\"\u003e\n\u003cp data-sourcepos=\"16:4-16:18\"\u003e関数の定義\u003c/p\u003e\n\u003cp data-sourcepos=\"18:5-18:50\"\u003e\u003ccode\u003edefn\u003c/code\u003e を使って関数を定義します。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"20:5-25:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003egreet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nb\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Hello, \"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003ename\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"!\"\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003egreet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Alice\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e;=\u0026gt; \"Hello, Alice!\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"27:1-35:0\"\u003e\n\u003cp data-sourcepos=\"27:4-27:33\"\u003e無名関数（匿名関数）\u003c/p\u003e\n\u003cp data-sourcepos=\"29:5-29:77\"\u003e短い関数には \u003ccode\u003efn\u003c/code\u003e やシャープ記法 \u003ccode\u003e#()\u003c/code\u003e を使用します。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"31:5-34:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"k\"\u003efn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e*\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e;=\u0026gt; 9\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e#\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e*\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e%\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e%\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e;=\u0026gt; 9\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"36:1-45:0\"\u003e\n\u003cp data-sourcepos=\"36:4-36:15\"\u003e高階関数\u003c/p\u003e\n\u003cp data-sourcepos=\"38:5-38:76\"\u003e関数を引数として受け取る、または関数を返す関数。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"40:5-42:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003emap\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"o\"\u003e#\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e*\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003e%\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e])\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"c1\"\u003e;=\u0026gt; (2 4 6)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 data-sourcepos=\"46:1-46:10\"\u003e\n\u003cspan id=\"参考\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考\u003c/h3\u003e\n\u003cp data-sourcepos=\"48:1-48:39\"\u003e\u003ciframe id=\"qiita-embed-content__a5cb04b5701e51fbefe34b97ffdb89bf\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__a5cb04b5701e51fbefe34b97ffdb89bf\" data-content=\"https%3A%2F%2Fclojure.org%2Fguides%2Flearn%2Fsyntax\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 5*](https://qiita.com/advent-calendar/2024/clojure)\n\n## 基本構文\n\n3つの基本についてまとめていきます\n\n1. リテラル\n1. 関数の定義と呼び出し\n1. 特殊フォーム\n今日は **2.関数の定義と呼び出し** についてまとめます\n\n### 2. 関数の定義と呼び出し\n\n1. 関数の定義\n\n    `defn` を使って関数を定義します。\n    \n    ```clojure\n    (defn greet [name]\n      (str \"Hello, \" name \"!\"))\n    \n    (greet \"Alice\") ;=\u003e \"Hello, Alice!\"\n    ```\n\n1. 無名関数（匿名関数）\n\n    短い関数には `fn` やシャープ記法 `#()` を使用します。\n    \n    ```clojure\n    ((fn [x] (* x x)) 3) ;=\u003e 9\n    (#(* % %) 3) ;=\u003e 9\n    ```\n\n1. 高階関数\n\n    関数を引数として受け取る、または関数を返す関数。\n    \n    ```clojure\n    (map #(* % 2) [1 2 3]) ;=\u003e (2 4 6)\n    ```\n\n\n\n### 参考\n\nhttps://clojure.org/guides/learn/syntax\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-12-02T08:24:48+09:00",
    "group": null,
    "id": "7beb99f4df279436d16a",
    "likes_count": 0,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [{ "name": "Clojure", "versions": [] }],
    "title": "Clojureの基本構文 - 関数の定義と呼び出し",
    "updated_at": "2024-12-05T07:04:02+09:00",
    "url": "https://qiita.com/maaaashi/items/7beb99f4df279436d16a",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:78\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 4\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"5:1-5:15\"\u003e\n\u003cspan id=\"基本構文\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%9F%BA%E6%9C%AC%E6%A7%8B%E6%96%87\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e基本構文\u003c/h2\u003e\n\u003cp data-sourcepos=\"7:1-7:49\"\u003e3つの基本についてまとめていきます\u003c/p\u003e\n\u003col data-sourcepos=\"9:1-12:0\"\u003e\n\u003cli data-sourcepos=\"9:1-9:15\"\u003eリテラル\u003c/li\u003e\n\u003cli data-sourcepos=\"10:1-10:33\"\u003e関数の定義と呼び出し\u003c/li\u003e\n\u003cli data-sourcepos=\"11:1-12:0\"\u003e特殊フォーム\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"13:1-13:56\"\u003e今日は \u003cstrong\u003e1.リテラル\u003c/strong\u003e についてまとめます\u003c/p\u003e\n\u003ch2 data-sourcepos=\"15:1-15:18\"\u003e\n\u003cspan id=\"1-リテラル\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-%E3%83%AA%E3%83%86%E3%83%A9%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. リテラル\u003c/h2\u003e\n\u003ch4 data-sourcepos=\"17:1-17:14\"\u003e\n\u003cspan id=\"数値型\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%95%B0%E5%80%A4%E5%9E%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e数値型\u003c/h4\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"19:1-23:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e42        ; Long\n-1.5      ; Double\n22/7      ; Ratio\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv data-sourcepos=\"25:1-27:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"26:1-26:72\"\u003e\u003ccode\u003e;\u003c/code\u003eを書くことでコメントを挿入することができます。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"30:1-31:94\"\u003e通常、整数は \u003ccode\u003eLong\u003c/code\u003e 型として扱われますが、\u003cbr\u003e\n\u003ccode\u003eN\u003c/code\u003eサフィックスをつけることで \u003ccode\u003eBigInt\u003c/code\u003e 型として扱うことができます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"33:1-41:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e+\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e9223372036854775807\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; Execution error (ArithmeticException) at java.lang.Math/addExact (Math.java:931).\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; long overflow\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"mi\"\u003e9223372036854775807\u003c/span\u003e\u003cspan class=\"n\"\u003eN\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e+\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e9223372036854775807\u003c/span\u003e\u003cspan class=\"n\"\u003eN\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; 9223372036854775808N\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"43:1-44:98\"\u003e同様に、少数は \u003ccode\u003eDouble\u003c/code\u003e 型として扱われますが、\u003cbr\u003e\n\u003ccode\u003eM\u003c/code\u003eサフィックスをつけることで \u003ccode\u003eBigDecimal\u003c/code\u003e 型として扱うことができます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"46:1-52:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e*\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mf\"\u003e1.1\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mf\"\u003e1.1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; 1.2100000000000002\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003e*\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mf\"\u003e1.1\u003c/span\u003e\u003cspan class=\"n\"\u003eM\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mf\"\u003e1.1\u003c/span\u003e\u003cspan class=\"n\"\u003eM\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; 1.21M\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"54:1-54:13\"\u003e\n\u003cspan id=\"文字型\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%96%87%E5%AD%97%E5%9E%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e文字型\u003c/h3\u003e\n\u003cul data-sourcepos=\"56:1-67:0\"\u003e\n\u003cli data-sourcepos=\"56:1-57:13\"\u003e文字列はダブルクォーテーション\u003ccode\u003e\"\u003c/code\u003eで囲まれて表現されます\n\u003cul data-sourcepos=\"57:5-57:13\"\u003e\n\u003cli data-sourcepos=\"57:5-57:13\"\u003e\"hello\"\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"58:1-59:8\"\u003e個々の文字はバックスラッシュ\u003ccode\u003e\\\u003c/code\u003eを先頭につけて表現されます\n\u003cul data-sourcepos=\"59:5-59:8\"\u003e\n\u003cli data-sourcepos=\"59:5-59:8\"\u003e\\e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"60:1-63:10\"\u003e改行やspace、tabなどには特殊な名前がついています\n\u003cul data-sourcepos=\"61:5-63:10\"\u003e\n\u003cli data-sourcepos=\"61:5-61:14\"\u003e\\newline\u003c/li\u003e\n\u003cli data-sourcepos=\"62:5-62:12\"\u003e\\space\u003c/li\u003e\n\u003cli data-sourcepos=\"63:5-63:10\"\u003e\\tab\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"64:1-65:12\"\u003eUnicodeを直接指定することもできます\n\u003cul data-sourcepos=\"65:5-65:12\"\u003e\n\u003cli data-sourcepos=\"65:5-65:12\"\u003e\\u3042\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"66:1-67:0\"\u003e正規表現に関しては文字列の先頭に\u003ccode\u003e#\u003c/code\u003eをつけることで表現できます。この文字列は\u003ccode\u003eJava.util.regex.Pattern\u003c/code\u003eオブジェクトにコンパイルされます\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"68:1-74:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\"hello\"         ; string\n\\e              ; character\n\\newline        ; character\n\\u3042          ; character ; あ\n#\"[0-9]+\"       ; segular expression\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"75:1-75:16\"\u003e\n\u003cspan id=\"シンボル\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B7%E3%83%B3%E3%83%9C%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eシンボル\u003c/h3\u003e\n\u003cp data-sourcepos=\"77:1-78:75\"\u003eシンボルは、英字、数字、記号（一部除く）で構成され、\u003cbr\u003e\n関数や値、名前空間などを参照するために使用されます\u003c/p\u003e\n\u003cp data-sourcepos=\"80:1-81:41\"\u003eシンボルはオプションで名前空間を持つことができ、\u003cbr\u003e\nスラッシュ \u003ccode\u003e/\u003c/code\u003e で区切られます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"83:1-90:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003emap             ; symbol\nclojure.core/+  ; namespaced symbol\nnil             ; null value\ntrue false      ; booleans\n:alpha          ; keyword\n:release/alpha  ; keyword と namespace\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"92:1-92:22\"\u003e\n\u003cspan id=\"コレクション\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%AC%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコレクション\u003c/h3\u003e\n\u003cp data-sourcepos=\"94:1-94:65\"\u003eClojureには4つのコレクションタイプがあります。\u003c/p\u003e\n\u003col data-sourcepos=\"96:1-113:0\"\u003e\n\u003cli data-sourcepos=\"96:1-99:67\"\u003elist\n\u003col data-sourcepos=\"97:5-99:67\"\u003e\n\u003cli data-sourcepos=\"97:5-97:27\"\u003e\n\u003ccode\u003e'()\u003c/code\u003eで囲みます\u003c/li\u003e\n\u003cli data-sourcepos=\"98:5-98:19\"\u003e順序付き\u003c/li\u003e\n\u003cli data-sourcepos=\"99:5-99:67\"\u003eindexではなく、\u003ccode\u003efirst\u003c/code\u003eや\u003ccode\u003erest\u003c/code\u003eで要素を取り出す\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"100:1-103:95\"\u003evector\n\u003col data-sourcepos=\"101:5-103:95\"\u003e\n\u003cli data-sourcepos=\"101:5-101:26\"\u003e\n\u003ccode\u003e[]\u003c/code\u003eで囲みます\u003c/li\u003e\n\u003cli data-sourcepos=\"102:5-102:19\"\u003e順序付き\u003c/li\u003e\n\u003cli data-sourcepos=\"103:5-103:95\"\u003eindexされされていて、\u003ccode\u003eget\u003c/code\u003e関数を使って、任意の要素を取得できる\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"104:1-107:40\"\u003eset\n\u003col data-sourcepos=\"105:5-107:40\"\u003e\n\u003cli data-sourcepos=\"105:5-105:27\"\u003e\n\u003ccode\u003e#{}\u003c/code\u003eで囲みます\u003c/li\u003e\n\u003cli data-sourcepos=\"106:5-106:22\"\u003e順序がない\u003c/li\u003e\n\u003cli data-sourcepos=\"107:5-107:40\"\u003eユニークな要素の集合体\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"108:1-113:0\"\u003emap\n\u003col data-sourcepos=\"109:5-113:0\"\u003e\n\u003cli data-sourcepos=\"109:5-109:26\"\u003e\n\u003ccode\u003e{}\u003c/code\u003eで囲みます\u003c/li\u003e\n\u003cli data-sourcepos=\"110:5-110:52\"\u003eキーとバリューのペアを格納する\u003c/li\u003e\n\u003cli data-sourcepos=\"111:5-113:0\"\u003eキーはユニークになる\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"114:1-119:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e'(1 2 3)     ; list\n[1 2 3]      ; vector\n#{1 2 3}     ; set\n{:a 1, :b 2} ; map\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"121:1-121:73\"\u003e明日は\u003cstrong\u003e2. 関数の定義と呼び出し\u003c/strong\u003eについてまとめます\u003c/p\u003e\n\u003ch3 data-sourcepos=\"124:1-124:10\"\u003e\n\u003cspan id=\"参考\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考\u003c/h3\u003e\n\u003cp data-sourcepos=\"126:1-126:39\"\u003e\u003ciframe id=\"qiita-embed-content__c44185f889b3cacf7c0cbd1f84a90859\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__c44185f889b3cacf7c0cbd1f84a90859\" data-content=\"https%3A%2F%2Fclojure.org%2Fguides%2Flearn%2Fsyntax\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 4*](https://qiita.com/advent-calendar/2024/clojure)\n\n## 基本構文\n\n3つの基本についてまとめていきます\n\n1. リテラル\n1. 関数の定義と呼び出し\n1. 特殊フォーム\n\n今日は **1.リテラル** についてまとめます\n\n## 1. リテラル\n\n#### 数値型\n\n```\n42        ; Long\n-1.5      ; Double\n22/7      ; Ratio\n```\n\n:::note info\n`;`を書くことでコメントを挿入することができます。\n:::\n\n\n通常、整数は `Long` 型として扱われますが、\n`N`サフィックスをつけることで `BigInt` 型として扱うことができます。\n\n```clojure\n(+ 9223372036854775807 1)\n; Execution error (ArithmeticException) at java.lang.Math/addExact (Math.java:931).\n; long overflow\n\n9223372036854775807N\n(+ 9223372036854775807N 1)\n; 9223372036854775808N\n```\n\n同様に、少数は `Double` 型として扱われますが、\n`M`サフィックスをつけることで `BigDecimal` 型として扱うことができます。\n\n```clojure\n(* 1.1 1.1)\n; 1.2100000000000002\n\n(* 1.1M 1.1M)\n; 1.21M\n```\n\n### 文字型\n\n- 文字列はダブルクォーテーション`\"`で囲まれて表現されます\n    - \"hello\"\n- 個々の文字はバックスラッシュ`\\`を先頭につけて表現されます\n    - \\e\n- 改行やspace、tabなどには特殊な名前がついています\n    - \\newline\n    - \\space\n    - \\tab\n- Unicodeを直接指定することもできます\n    - \\u3042\n- 正規表現に関しては文字列の先頭に`#`をつけることで表現できます。この文字列は`Java.util.regex.Pattern`オブジェクトにコンパイルされます\n\n```\n\"hello\"         ; string\n\\e              ; character\n\\newline        ; character\n\\u3042          ; character ; あ\n#\"[0-9]+\"       ; segular expression\n```\n### シンボル\n\nシンボルは、英字、数字、記号（一部除く）で構成され、\n関数や値、名前空間などを参照するために使用されます\n\nシンボルはオプションで名前空間を持つことができ、\nスラッシュ `/` で区切られます\n\n```\nmap             ; symbol\nclojure.core/+  ; namespaced symbol\nnil             ; null value\ntrue false      ; booleans\n:alpha          ; keyword\n:release/alpha  ; keyword と namespace\n```\n\n### コレクション\n\nClojureには4つのコレクションタイプがあります。\n\n1. list\n    1. `'()`で囲みます\n    1. 順序付き\n    1. indexではなく、`first`や`rest`で要素を取り出す\n1. vector\n    1. `[]`で囲みます\n    1. 順序付き\n    1. indexされされていて、`get`関数を使って、任意の要素を取得できる\n1. set\n    1. `#{}`で囲みます\n    1. 順序がない\n    1. ユニークな要素の集合体\n1. map\n    1. `{}`で囲みます\n    1. キーとバリューのペアを格納する\n    1. キーはユニークになる\n\n\n```\n'(1 2 3)     ; list\n[1 2 3]      ; vector\n#{1 2 3}     ; set\n{:a 1, :b 2} ; map\n```\n\n明日は**2. 関数の定義と呼び出し**についてまとめます\n\n\n### 参考\n\nhttps://clojure.org/guides/learn/syntax\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-12-01T08:33:55+09:00",
    "group": null,
    "id": "1c5cd4216e2d393bf134",
    "likes_count": 0,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [{ "name": "Clojure", "versions": [] }],
    "title": "Clojureの基本構文",
    "updated_at": "2024-12-04T07:04:07+09:00",
    "url": "https://qiita.com/maaaashi/items/1c5cd4216e2d393bf134",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:78\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 3\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv data-sourcepos=\"5:1-13:3\" class=\"note warn\"\u003e\n\u003cspan class=\"fa fa-fw fa-exclamation-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"6:1-6:6\"\u003e前提\u003c/p\u003e\n\u003cul data-sourcepos=\"8:1-11:0\"\u003e\n\u003cli data-sourcepos=\"8:1-8:48\"\u003ejavaがインストール済みであること\u003c/li\u003e\n\u003cli data-sourcepos=\"9:1-9:53\"\u003eleiningenがインストール済みであること\u003c/li\u003e\n\u003cli data-sourcepos=\"10:1-11:0\"\u003eVSCodeがインストールされていること\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"12:1-12:146\"\u003eもし上記セットアップがまだな場合は昨日の\u003ca href=\"https://qiita.com/maaaashi/private/542f30a11b4e80ac1b4b\" id=\"reference-a00325fa9d985096bca1\"\u003e記事\u003c/a\u003eを読んで下さい\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"15:1-15:34\"\u003e\n\u003cspan id=\"vscode-での開発環境構築\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#vscode-%E3%81%A7%E3%81%AE%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eVScode での開発環境構築\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"17:1-17:46\"\u003e\n\u003cspan id=\"拡張機能-calva-のインストール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%8B%A1%E5%BC%B5%E6%A9%9F%E8%83%BD-calva-%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e拡張機能 \"Calva\" のインストール\u003c/h3\u003e\n\u003cp data-sourcepos=\"19:1-19:164\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd9865db4-180e-3afb-99d2-6961ee0b8697.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=331578ea4145d70ddab580154ab67b5d\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd9865db4-180e-3afb-99d2-6961ee0b8697.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=331578ea4145d70ddab580154ab67b5d\" alt=\"スクリーンショット 2024-11-29 23.17.42.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd9865db4-180e-3afb-99d2-6961ee0b8697.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=77b8e1d4eab335c93f8a806d375d99ef 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/d9865db4-180e-3afb-99d2-6961ee0b8697.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003col data-sourcepos=\"21:1-40:0\"\u003e\n\u003cli data-sourcepos=\"21:1-21:62\"\u003e\n\u003cp data-sourcepos=\"21:4-21:62\"\u003eVSCodeの拡張機能のCalvaをインストールします\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"22:1-30:0\"\u003e\n\u003cp data-sourcepos=\"22:4-22:63\"\u003eleiningenで作成されたプロジェクトを開きます\u003c/p\u003e\n\u003cdiv data-sourcepos=\"24:5-31:42\" class=\"note warn\"\u003e\n\u003cspan class=\"fa fa-fw fa-exclamation-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"25:5-26:162\"\u003eまだleiningenのプロジェクトが作成されていない場合は作成しておきます。\u003cbr\u003e\nもしleiningenがインストールされていない場合は昨日の\u003ca href=\"https://qiita.com/maaaashi/private/542f30a11b4e80ac1b4b\"\u003e記事\u003c/a\u003eを見てください\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"27:5-29:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e$ lein new {appName}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"31:1-40:0\"\u003e\n\u003cp data-sourcepos=\"31:4-31:42\"\u003eCalvaでREPLを起動します(jack-in)\u003c/p\u003e\n\u003col data-sourcepos=\"32:5-40:0\"\u003e\n\u003cli data-sourcepos=\"32:5-32:49\"\u003e\n\u003cp data-sourcepos=\"32:8-32:49\"\u003e\u003ccode\u003eCtrl + P\u003c/code\u003e でCommand Panelを開きます\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"33:5-36:0\"\u003e\n\u003cp data-sourcepos=\"33:8-33:77\"\u003e\u003ccode\u003eCalva: Start a Project REPL and Connect (Jack-in)\u003c/code\u003e を選択します\u003c/p\u003e\n\u003cp data-sourcepos=\"35:9-35:172\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F746d4455-ec43-cfc0-1fcb-33aee8fb200b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=796070d54f56497d96802b46f4ecf066\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F746d4455-ec43-cfc0-1fcb-33aee8fb200b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=796070d54f56497d96802b46f4ecf066\" alt=\"スクリーンショット 2024-11-29 23.23.39.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F746d4455-ec43-cfc0-1fcb-33aee8fb200b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=142f0318313a2d72636948c789eb401f 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/746d4455-ec43-cfc0-1fcb-33aee8fb200b.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"37:5-40:0\"\u003e\n\u003cp data-sourcepos=\"37:8-37:70\"\u003e使用するツールとして、\u003ccode\u003eleiningen\u003c/code\u003e を選択します\u003c/p\u003e\n\u003cp data-sourcepos=\"39:9-39:172\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3979b417-88c5-b8e4-9d6f-d2ce43a6ace6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=cee42547e9d479dc65ec4ab51a09c0b7\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3979b417-88c5-b8e4-9d6f-d2ce43a6ace6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=cee42547e9d479dc65ec4ab51a09c0b7\" alt=\"スクリーンショット 2024-11-29 23.25.54.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3979b417-88c5-b8e4-9d6f-d2ce43a6ace6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=047dc4ad2bdf07944a4d25ea7d345da4 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3979b417-88c5-b8e4-9d6f-d2ce43a6ace6.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"41:1-41:103\"\u003eこれでLeiningenによってREPLが起動し、開いているプロジェクトに接続されます\u003c/p\u003e\n\u003chr data-sourcepos=\"43:1-44:0\"\u003e\n\u003ch3 data-sourcepos=\"45:1-45:31\"\u003e\n\u003cspan id=\"実際に評価してみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E9%9A%9B%E3%81%AB%E8%A9%95%E4%BE%A1%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実際に評価してみる\u003c/h3\u003e\n\u003cp data-sourcepos=\"47:1-47:91\"\u003e\u003ccode\u003esrc/{appName}/core.clj\u003c/code\u003eを開き、\u003ccode\u003eHello World\u003c/code\u003eと出力する関数を書いてみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"49:1-56:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ens\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003etodo.core\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003edefn\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003egreet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nb\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003estr\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Hello, \"\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003ename\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\" !\"\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eprintln\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003egreet\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"World\"\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"58:1-58:86\"\u003e\u003ccode\u003egreet\u003c/code\u003e 関数を評価した後に\u003ccode\u003eprintln\u003c/code\u003eから始まる関数を実行した結果\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"60:1-66:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"n\"\u003eclj\u003c/span\u003e\u003cspan class=\"err\"\u003e꞉\u003c/span\u003e\u003cspan class=\"n\"\u003etodo.core\u003c/span\u003e\u003cspan class=\"err\"\u003e꞉\u003c/span\u003e\u003cspan class=\"nb\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"err\"\u003e \u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"o\"\u003e#\u003c/span\u003e\u003cspan class=\"ss\"\u003e'todo.core/greet\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"n\"\u003eclj\u003c/span\u003e\u003cspan class=\"err\"\u003e꞉\u003c/span\u003e\u003cspan class=\"n\"\u003etodo.core\u003c/span\u003e\u003cspan class=\"err\"\u003e꞉\u003c/span\u003e\u003cspan class=\"nb\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"err\"\u003e \u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"c1\"\u003e; Hello, World !\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"n\"\u003enil\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"68:1-68:111\"\u003eこのようにVSCodeでコードを書きながらリアルタイムに評価することができました。\u003c/p\u003e\n\u003cp data-sourcepos=\"70:1-70:164\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc320cbeb-19a3-6154-ef6c-b61ac3e39fd4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=11ba72d9efb1043ec9a743d47bcc97bc\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc320cbeb-19a3-6154-ef6c-b61ac3e39fd4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=11ba72d9efb1043ec9a743d47bcc97bc\" alt=\"スクリーンショット 2024-11-29 23.36.29.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc320cbeb-19a3-6154-ef6c-b61ac3e39fd4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e9c3af8a23e0b6c043a848e0db0dee61 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/c320cbeb-19a3-6154-ef6c-b61ac3e39fd4.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv data-sourcepos=\"72:1-82:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"73:1-74:112\"\u003eこのアドベントカレンダーのどこかでまとめようと思いますが、\u003cbr\u003e\nVSCodeでClojureを書くのであればショートカットを有効に活用していくと良いでしょう\u003c/p\u003e\n\u003cp data-sourcepos=\"76:1-76:21\"\u003e以下は一例です\u003c/p\u003e\n\u003ctable data-sourcepos=\"78:1-81:42\"\u003e\n\u003cthead\u003e\n\u003ctr data-sourcepos=\"78:1-78:21\"\u003e\n\u003cth data-sourcepos=\"78:2-78:7\"\u003e操作\u003c/th\u003e\n\u003cth data-sourcepos=\"78:9-78:20\"\u003eコマンド\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr data-sourcepos=\"80:1-80:35\"\u003e\n\u003ctd data-sourcepos=\"80:2-80:22\"\u003e現在の行を評価\u003c/td\u003e\n\u003ctd data-sourcepos=\"80:24-80:34\"\u003eAlt + Enter\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"81:1-81:42\"\u003e\n\u003ctd data-sourcepos=\"81:2-81:28\"\u003e選択中の関数を評価\u003c/td\u003e\n\u003ctd data-sourcepos=\"81:30-81:41\"\u003eCtrl + Enter\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 3*](https://qiita.com/advent-calendar/2024/clojure)\n\n:::note warn\n前提\n\n- javaがインストール済みであること\n- leiningenがインストール済みであること\n- VSCodeがインストールされていること\n\nもし上記セットアップがまだな場合は昨日の[記事](https://qiita.com/maaaashi/private/542f30a11b4e80ac1b4b)を読んで下さい\n:::\n\n## VScode での開発環境構築\n\n### 拡張機能 \"Calva\" のインストール\n\n![スクリーンショット 2024-11-29 23.17.42.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/d9865db4-180e-3afb-99d2-6961ee0b8697.png)\n\n1. VSCodeの拡張機能のCalvaをインストールします\n1. leiningenで作成されたプロジェクトを開きます\n\n    :::note warn\n    まだleiningenのプロジェクトが作成されていない場合は作成しておきます。\n    もしleiningenがインストールされていない場合は昨日の[記事](https://qiita.com/maaaashi/private/542f30a11b4e80ac1b4b)を見てください\n    ```\n    $ lein new {appName}\n    ```\n\n1. CalvaでREPLを起動します(jack-in)\n    1. `Ctrl + P` でCommand Panelを開きます\n    1. `Calva: Start a Project REPL and Connect (Jack-in)` を選択します\n    \n        ![スクリーンショット 2024-11-29 23.23.39.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/746d4455-ec43-cfc0-1fcb-33aee8fb200b.png)\n\n    1. 使用するツールとして、`leiningen` を選択します\n\n        ![スクリーンショット 2024-11-29 23.25.54.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3979b417-88c5-b8e4-9d6f-d2ce43a6ace6.png)\n\nこれでLeiningenによってREPLが起動し、開いているプロジェクトに接続されます\n\n---\n\n### 実際に評価してみる\n\n`src/{appName}/core.clj`を開き、`Hello World`と出力する関数を書いてみます\n\n```clojure\n(ns todo.core)\n\n(defn greet [name]\n  (str \"Hello, \" name \" !\"))\n\n(println (greet \"World\"))\n```\n\n`greet` 関数を評価した後に`println`から始まる関数を実行した結果\n\n```clojure\nclj꞉todo.core꞉\u003e \n#'todo.core/greet\nclj꞉todo.core꞉\u003e \n; Hello, World !\nnil\n```\n\nこのようにVSCodeでコードを書きながらリアルタイムに評価することができました。\n\n![スクリーンショット 2024-11-29 23.36.29.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/c320cbeb-19a3-6154-ef6c-b61ac3e39fd4.png)\n\n:::note\nこのアドベントカレンダーのどこかでまとめようと思いますが、\nVSCodeでClojureを書くのであればショートカットを有効に活用していくと良いでしょう\n\n以下は一例です\n\n|操作|コマンド|\n|----|----|\n|現在の行を評価|Alt + Enter|\n|選択中の関数を評価|Ctrl + Enter|\n:::\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-11-29T19:28:39+09:00",
    "group": null,
    "id": "b165894d8583a68b0455",
    "likes_count": 1,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "Clojure", "versions": [] },
      { "name": "VSCode", "versions": [] }
    ],
    "title": "Clojure環境構築 - VScode",
    "updated_at": "2024-12-03T07:04:02+09:00",
    "url": "https://qiita.com/maaaashi/items/b165894d8583a68b0455",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:78\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 2\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"5:1-5:32\"\u003e\n\u003cspan id=\"開発環境構築leiningen\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89leiningen\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e開発環境構築(Leiningen)\u003c/h2\u003e\n\u003cp data-sourcepos=\"7:1-7:67\"\u003eLeiningenは、Clojureプロジェクトの管理ツールです。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-11:64\"\u003eインストールは簡単で、package managerで簡単にインストールできます。\u003cbr\u003e\n対応しているpackage managerは\u003ca href=\"https://wiki.leiningen.org/Packaging\" rel=\"nofollow noopener\" target=\"_blank\"\u003eここ\u003c/a\u003eにあります\u003cbr\u003e\nasdfの場合は以下のように入れるといいでしょう\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"13:1-18:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003easdf plugin-add lein https://github.com/miorimmax/asdf-lein.git\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003easdf list-all lein\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003easdf \u003cspan class=\"nb\"\u003einstall \u003c/span\u003elein \u003cspan class=\"o\"\u003e{\u003c/span\u003eversion\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003easdf global lein \u003cspan class=\"o\"\u003e{\u003c/span\u003eversion\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv data-sourcepos=\"20:1-30:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"21:1-21:126\"\u003eもしお使いのpackage managerが対応していない場合は公式の手順に従ってインストールしましょう\u003c/p\u003e\n\u003cp data-sourcepos=\"23:1-24:253\"\u003e(抜粋し和訳したものです)\u003cbr\u003e\nLeiningenとClojureを使うにはJava（理想的には\u003ca href=\"https://adoptium.net/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eOpenJDK\u003c/a\u003e）が必要です。これはパッケージマネージャーからインストールするか、必要に応じて手動でダウンロードしてください。\u003c/p\u003e\n\u003col data-sourcepos=\"26:1-29:139\"\u003e\n\u003cli data-sourcepos=\"26:1-26:269\"\u003e\n\u003ca href=\"https://raw.githubusercontent.com/technomancy/leiningen/stable/bin/lein\" rel=\"nofollow noopener\" target=\"_blank\"\u003eleinスクリプト\u003c/a\u003e（または、WSLを使わないWindowsの場合は\u003ca href=\"https://raw.githubusercontent.com/technomancy/leiningen/stable/bin/lein.bat\" rel=\"nofollow noopener\" target=\"_blank\"\u003elein.bat\u003c/a\u003e）をダウンロードします\u003c/li\u003e\n\u003cli data-sourcepos=\"27:1-27:128\"\u003eダウンロードしたスクリプトをシェルから見つけられる場所（例: /usr/local/bin/）に配置します\u003c/li\u003e\n\u003cli data-sourcepos=\"28:1-28:78\"\u003e実行可能に設定します（例: sudo chmod a+x /usr/local/bin/lein）\u003c/li\u003e\n\u003cli data-sourcepos=\"29:1-29:139\"\u003eスクリプトを実行します（leinと入力）すると、自己インストールパッケージがダウンロードされます\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"32:1-32:22\"\u003e\u003ciframe id=\"qiita-embed-content__b1fdcb46c17481a93096057f71aa9158\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__b1fdcb46c17481a93096057f71aa9158\" data-content=\"https%3A%2F%2Fleiningen.org%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"34:1-34:107\"\u003eインストールが完了したら、\u003ccode\u003elein new {name}\u003c/code\u003eでプロジェクトを作成してみましょう\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"36:1-39:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e例\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003elein new todo-clj\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch2 data-sourcepos=\"41:1-41:7\"\u003e\n\u003cspan id=\"repl\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#repl\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eREPL\u003c/h2\u003e\n\u003cp data-sourcepos=\"43:1-43:159\"\u003eClojureでは、REPL(Real-Eval-Print Loop)を使って、リアルタイムにコードを評価しながらコーディングをすることができます。\u003c/p\u003e\n\u003cdiv data-sourcepos=\"45:1-49:3\" class=\"note warn\"\u003e\n\u003cspan class=\"fa fa-fw fa-exclamation-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"46:1-46:101\"\u003eREPLになれると便利すぎて、様々な言語でREPLが無いのか探すようになります\u003c/p\u003e\n\u003cp data-sourcepos=\"48:1-48:151\"\u003eあまり使ったことはありませんが、PythonのJupiterNotebookや、IntelliJのScratchFileが似ているのかな？と思っています。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"51:1-52:79\"\u003e\u003ccode\u003elein new {name}\u003c/code\u003eで作成したプロジェクトで、\u003cbr\u003e\n\u003ccode\u003elein repl\u003c/code\u003e とターミナルに入力し、REPLを起動してみましょう\u003c/p\u003e\n\u003cp data-sourcepos=\"54:1-54:82\"\u003e私の場合は、\u003ccode\u003etodo-clj\u003c/code\u003eで作成したので以下のようになりました\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"56:1-74:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003elein repl\nRetrieving org/clojure/clojure/1.11.1/clojure-1.11.1.pom from central\n...\n...\n...\nnREPL server started on port xxxxx on host 127.0.0.1 - nrepl://127.0.0.1:xxxxx\nREPL-y x.x.x, nREPL x.x.x\nClojure x.xx.x\nOpenJDK 64-Bit Server VM xx.x.x\n    Docs: \u003cspan class=\"o\"\u003e(\u003c/span\u003edoc \u003cspan class=\"k\"\u003efunction\u003c/span\u003e\u003cspan class=\"nt\"\u003e-name-here\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n          \u003cspan class=\"o\"\u003e(\u003c/span\u003efind-doc \u003cspan class=\"s2\"\u003e\"part-of-name-here\"\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n  Source: \u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003esource \u003c/span\u003e\u003cspan class=\"k\"\u003efunction\u003c/span\u003e\u003cspan class=\"nt\"\u003e-name-here\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n Javadoc: \u003cspan class=\"o\"\u003e(\u003c/span\u003ejavadoc java-object-or-class-here\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n    Exit: Control+D or \u003cspan class=\"o\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eexit\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e or \u003cspan class=\"o\"\u003e(\u003c/span\u003equit\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n Results: Stored \u003cspan class=\"k\"\u003ein \u003c/span\u003evars \u003cspan class=\"k\"\u003e*\u003c/span\u003e1, \u003cspan class=\"k\"\u003e*\u003c/span\u003e2, \u003cspan class=\"k\"\u003e*\u003c/span\u003e3, an exception \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"k\"\u003e*\u003c/span\u003ee\n\ntodo-clj.core\u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"76:1-76:64\"\u003eこれでREPLで関数を実行する準備ができました。\u003c/p\u003e\n\u003cp data-sourcepos=\"78:1-78:46\"\u003e試しに\u003ccode\u003eHello World\u003c/code\u003eと出力してみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"clojure\" data-sourcepos=\"80:1-84:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"n\"\u003etodo-clj.core=\u0026gt;\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eprintln\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\"Hello World\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"n\"\u003eHello\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eWorld\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"n\"\u003enil\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"86:1-86:140\"\u003e\u003ccode\u003eprintln\u003c/code\u003eという関数で、\u003ccode\u003eHello World\u003c/code\u003eを標準出力し、この結果はnilを返しているので、2つが出力されました。\u003c/p\u003e\n\u003cp data-sourcepos=\"88:1-88:67\"\u003eこれでREPLを使った開発環境の準備ができました。\u003c/p\u003e\n\u003cp data-sourcepos=\"90:1-90:57\"\u003e明日はVScodeでの開発環境を作っていきます\u003c/p\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 2*](https://qiita.com/advent-calendar/2024/clojure)\n\n## 開発環境構築(Leiningen)\n\nLeiningenは、Clojureプロジェクトの管理ツールです。\n\nインストールは簡単で、package managerで簡単にインストールできます。\n対応しているpackage managerは[ここ](https://wiki.leiningen.org/Packaging)にあります\nasdfの場合は以下のように入れるといいでしょう\n\n```bash\n$ asdf plugin-add lein https://github.com/miorimmax/asdf-lein.git\n$ asdf list-all lein\n$ asdf install lein {version}\n$ asdf global lein {version}\n```\n\n:::note info\nもしお使いのpackage managerが対応していない場合は公式の手順に従ってインストールしましょう\n\n(抜粋し和訳したものです)\nLeiningenとClojureを使うにはJava（理想的には[OpenJDK](https://adoptium.net/)）が必要です。これはパッケージマネージャーからインストールするか、必要に応じて手動でダウンロードしてください。\n\n1. [leinスクリプト](https://raw.githubusercontent.com/technomancy/leiningen/stable/bin/lein)（または、WSLを使わないWindowsの場合は[lein.bat](https://raw.githubusercontent.com/technomancy/leiningen/stable/bin/lein.bat)）をダウンロードします\n2. ダウンロードしたスクリプトをシェルから見つけられる場所（例: /usr/local/bin/）に配置します\n3. 実行可能に設定します（例: sudo chmod a+x /usr/local/bin/lein）\n4. スクリプトを実行します（leinと入力）すると、自己インストールパッケージがダウンロードされます\n:::\n\nhttps://leiningen.org/\n\nインストールが完了したら、`lein new {name}`でプロジェクトを作成してみましょう\n\n```bash\n例\n$ lein new todo-clj\n```\n\n## REPL\n\nClojureでは、REPL(Real-Eval-Print Loop)を使って、リアルタイムにコードを評価しながらコーディングをすることができます。\n\n:::note warn\nREPLになれると便利すぎて、様々な言語でREPLが無いのか探すようになります\n\nあまり使ったことはありませんが、PythonのJupiterNotebookや、IntelliJのScratchFileが似ているのかな？と思っています。\n:::\n\n`lein new {name}`で作成したプロジェクトで、\n`lein repl` とターミナルに入力し、REPLを起動してみましょう\n\n私の場合は、`todo-clj`で作成したので以下のようになりました\n\n```zsh\n$ lein repl\nRetrieving org/clojure/clojure/1.11.1/clojure-1.11.1.pom from central\n...\n...\n...\nnREPL server started on port xxxxx on host 127.0.0.1 - nrepl://127.0.0.1:xxxxx\nREPL-y x.x.x, nREPL x.x.x\nClojure x.xx.x\nOpenJDK 64-Bit Server VM xx.x.x\n    Docs: (doc function-name-here)\n          (find-doc \"part-of-name-here\")\n  Source: (source function-name-here)\n Javadoc: (javadoc java-object-or-class-here)\n    Exit: Control+D or (exit) or (quit)\n Results: Stored in vars *1, *2, *3, an exception in *e\n\ntodo-clj.core=\u003e\n```\n\nこれでREPLで関数を実行する準備ができました。\n\n試しに`Hello World`と出力してみます\n\n```clojure\ntodo-clj.core=\u003e (println \"Hello World\")\nHello World\nnil\n```\n\n`println`という関数で、`Hello World`を標準出力し、この結果はnilを返しているので、2つが出力されました。\n\nこれでREPLを使った開発環境の準備ができました。\n\n明日はVScodeでの開発環境を作っていきます\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-11-28T08:31:04+09:00",
    "group": null,
    "id": "542f30a11b4e80ac1b4b",
    "likes_count": 0,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "Clojure", "versions": [] },
      { "name": "Leiningen", "versions": [] }
    ],
    "title": "環境構築とClojure REPLの使い方",
    "updated_at": "2024-12-02T07:04:42+09:00",
    "url": "https://qiita.com/maaaashi/items/542f30a11b4e80ac1b4b",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:137\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=919453f1f5f71e404afff473adf3a2a8\" alt=\"advent_calendar_2024.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e73e34703df29b1ac521a37bfd9b053c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"3:1-3:78\"\u003e\u003ca href=\"https://qiita.com/advent-calendar/2024/clojure\"\u003e\u003cem\u003eAdvent Calendar 2024 Day 1\u003c/em\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"5:1-6:110\"\u003e今日から \u003cstrong\u003eQIita アドベントカレンダー2024\u003c/strong\u003e を走らせていただきます\u003cbr\u003e\n\u003ccode\u003eClojure\u003c/code\u003e に関するあれこれで1ヶ月間やり切りたいと思うのでよろしくお願いします\u003c/p\u003e\n\u003ch2 data-sourcepos=\"8:1-8:25\"\u003e\n\u003cspan id=\"なぜclojureなのか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AA%E3%81%9Cclojure%E3%81%AA%E3%81%AE%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eなぜClojureなのか\u003c/h2\u003e\n\u003cp data-sourcepos=\"10:1-11:42\"\u003eこれまでもClojureの書き心地が好きで、\u003cbr\u003e\nたまに遊んだりしていました。\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-15:66\"\u003eしかし、ちゃんと腰を据えて勉強をしたことがなく、\u003cbr\u003e\n基本的なことも全然わからないなと思い、\u003cbr\u003e\n集中して勉強をする期間を設けいと思いました。\u003c/p\u003e\n\u003cp data-sourcepos=\"17:1-19:53\"\u003eClojureのような表現力が高く、ハイスペック言語を学ぶことは、\u003cbr\u003e\n他の言語を書いている時でも役に立つと思っています。\u003cbr\u003e\n(問題に対しての手札が増えるイメージ)\u003c/p\u003e\n\u003cp data-sourcepos=\"21:1-23:138\"\u003eまた、他の関数型言語を仕事で書いたことがありますが、\u003cbr\u003e\n「関数型の良さを引き出せているのだろうか？」\u003cbr\u003e\nと考えることが多く、そのあたりに関しても意識しながらアウトプットしていきたいと思っています。\u003c/p\u003e\n\u003cp data-sourcepos=\"25:1-26:84\"\u003eさて、動機はこんなところにして、本題のClojureの話をしていきます\u003cbr\u003e\n今日は公式ドキュメントを読みながらまとめようと思います。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"28:1-28:16\"\u003e\n\u003cspan id=\"clojureとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#clojure%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eClojureとは\u003c/h2\u003e\n\u003cp data-sourcepos=\"30:1-30:54\"\u003e公式で書かれているものを訳してみます\u003c/p\u003e\n\u003cblockquote data-sourcepos=\"32:1-41:19\"\u003e\n\u003cp data-sourcepos=\"32:3-32:155\"\u003e\u003cstrong\u003eClojure is a robust, practical, and fast programming language with a set of useful features that together form a simple, coherent, and powerful tool.\u003c/strong\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"34:3-34:494\"\u003eClojure is a dynamic, general-purpose programming language, combining the approachability and interactive development of a scripting language with an efficient and robust infrastructure for multithreaded programming. Clojure is a compiled language, yet remains completely dynamic – every feature supported by Clojure is supported at runtime. Clojure provides easy access to the Java frameworks, with optional type hints and type inference, to ensure that calls to Java can avoid reflection.\u003c/p\u003e\n\u003cp data-sourcepos=\"36:3-36:396\"\u003eClojure is a dialect of Lisp, and shares with Lisp the code-as-data philosophy and a powerful macro system. Clojure is predominantly a functional programming language, and features a rich set of immutable, persistent data structures. When mutable state is needed, Clojure offers a software transactional memory system and reactive Agent system that ensure clean, correct, multithreaded designs.\u003c/p\u003e\n\u003cp data-sourcepos=\"38:3-38:98\"\u003eI hope you find Clojure's combination of facilities elegant, powerful, practical and fun to use.\u003c/p\u003e\n\u003cp data-sourcepos=\"40:3-41:19\"\u003eRich Hickey\u003cbr\u003e\nauthor of Clojure\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp data-sourcepos=\"43:1-43:251\"\u003e\u003cstrong\u003eClojureは、堅牢で実用的かつ高速なプログラミング言語であり、一連の便利な機能を備えており、それらが組み合わさることでシンプルで一貫性のある強力なツールを形成しています。\u003c/strong\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"45:1-45:265\"\u003eClojureは、スクリプト言語の取り組みやすさと対話的な開発環境を備えつつ、マルチスレッドプログラミングに適した効率的で堅牢なインフラを提供する、動的で汎用的なプログラミング言語です。\u003c/p\u003e\n\u003cp data-sourcepos=\"47:1-47:367\"\u003eClojureはコンパイルされる言語ですが、完全に動的で、Clojureがサポートするすべての機能は実行時に使用できます。また、Javaフレームワークに簡単にアクセスできるため、オプションの型ヒントと型推論により、Javaへの呼び出しでリフレクションを避けることが可能です。\u003c/p\u003e\n\u003cp data-sourcepos=\"49:1-49:156\"\u003eClojureはLispの方言であり、Lispと同様に「コードをデータとして扱う」哲学と強力なマクロシステムを持っています。\u003c/p\u003e\n\u003cp data-sourcepos=\"51:1-51:401\"\u003eClojureは主に関数型プログラミング言語であり、不変で永続的なデータ構造が豊富に揃っています。可変状態が必要な場合には、Clojureはソフトウェアトランザクショナルメモリシステムとリアクティブなエージェントシステムを提供しており、クリーンで正確なマルチスレッド設計を可能にします。\u003c/p\u003e\n\u003cp data-sourcepos=\"53:1-53:136\"\u003eClojureの持つ機能の組み合わせがエレガントで強力、実用的で楽しいと感じていただければ幸いです。\u003c/p\u003e\n\u003cp data-sourcepos=\"55:1-55:11\"\u003eRich Hickey\u003c/p\u003e\n\u003cp data-sourcepos=\"57:1-57:20\"\u003e\u003ciframe id=\"qiita-embed-content__f2169d81013d93faf2c22852cdd4691e\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__f2169d81013d93faf2c22852cdd4691e\" data-content=\"https%3A%2F%2Fclojure.org%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch2 data-sourcepos=\"59:1-59:9\"\u003e\n\u003cspan id=\"特徴\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%89%B9%E5%BE%B4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e特徴\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"61:1-61:34\"\u003e\n\u003cspan id=\"関数型プログラミング\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%96%A2%E6%95%B0%E5%9E%8B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e関数型プログラミング\u003c/h3\u003e\n\u003cul data-sourcepos=\"63:1-71:0\"\u003e\n\u003cli data-sourcepos=\"63:1-64:126\"\u003eイミュータブルデータ構造:\n\u003cul data-sourcepos=\"64:5-64:126\"\u003e\n\u003cli data-sourcepos=\"64:5-64:126\"\u003eデータは基本的に不変（immutable）であり、変更が必要な場合は新しいコピーが作成される\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"65:1-66:78\"\u003eファーストクラス関数:\n\u003cul data-sourcepos=\"66:5-66:78\"\u003e\n\u003cli data-sourcepos=\"66:5-66:78\"\u003e関数が第一級市民であり、引数や戻り値として扱える\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"67:1-68:87\"\u003e高階関数:\n\u003cul data-sourcepos=\"68:5-68:87\"\u003e\n\u003cli data-sourcepos=\"68:5-68:87\"\u003e関数を引数に取ったり、関数を返したりする関数をサポート\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"69:1-71:0\"\u003e遅延評価:\n\u003cul data-sourcepos=\"70:5-71:0\"\u003e\n\u003cli data-sourcepos=\"70:5-71:0\"\u003eコレクションは必要になるまで評価されない（lazy-seq）\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 data-sourcepos=\"72:1-72:34\"\u003e\n\u003cspan id=\"強力なマクロシステム\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%BC%B7%E5%8A%9B%E3%81%AA%E3%83%9E%E3%82%AF%E3%83%AD%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e強力なマクロシステム\u003c/h3\u003e\n\u003cul data-sourcepos=\"74:1-76:0\"\u003e\n\u003cli data-sourcepos=\"74:1-76:0\"\u003eClojureのコードはデータ構造（S式）として記述されるため、コードを簡単に生成、変形可能\n\u003cul data-sourcepos=\"75:5-76:0\"\u003e\n\u003cli data-sourcepos=\"75:5-76:0\"\u003eこれにより高度なDSLや再利用可能な構文を構築可能\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"77:1-77:74\"\u003e(コードを生成するプログラムくらいに認識しています)\u003c/p\u003e\n\u003ch3 data-sourcepos=\"79:1-79:40\"\u003e\n\u003cspan id=\"データ指向プログラミング\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%87%E3%83%BC%E3%82%BF%E6%8C%87%E5%90%91%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eデータ指向プログラミング\u003c/h3\u003e\n\u003cul data-sourcepos=\"81:1-82:0\"\u003e\n\u003cli data-sourcepos=\"81:1-82:0\"\u003e組み込みのリッチなデータ構造（リスト、ベクター、マップ、セット）\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 data-sourcepos=\"83:1-83:31\"\u003e\n\u003cspan id=\"並行処理のサポート\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%B8%A6%E8%A1%8C%E5%87%A6%E7%90%86%E3%81%AE%E3%82%B5%E3%83%9D%E3%83%BC%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e並行処理のサポート\u003c/h3\u003e\n\u003cul data-sourcepos=\"85:1-91:0\"\u003e\n\u003cli data-sourcepos=\"85:1-86:81\"\u003eソフトウェアトランザクショナルメモリ（STM）:\n\u003cul data-sourcepos=\"86:5-86:81\"\u003e\n\u003cli data-sourcepos=\"86:5-86:81\"\u003e競合状態を避けるためのトランザクショナルな状態管理\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"87:1-88:51\"\u003eエージェントとアトム:\n\u003cul data-sourcepos=\"88:5-88:51\"\u003e\n\u003cli data-sourcepos=\"88:5-88:51\"\u003eマルチスレッド環境で状態を管理\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"89:1-91:0\"\u003eコア非同期ライブラリ（core.async）:\n\u003cul data-sourcepos=\"90:5-91:0\"\u003e\n\u003cli data-sourcepos=\"90:5-91:0\"\u003eチャネルとゴルーチンのような機能で非同期処理をシンプルにする\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 data-sourcepos=\"92:1-92:29\"\u003e\n\u003cspan id=\"javaとの相互運用性\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#java%E3%81%A8%E3%81%AE%E7%9B%B8%E4%BA%92%E9%81%8B%E7%94%A8%E6%80%A7\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eJavaとの相互運用性\u003c/h3\u003e\n\u003cul data-sourcepos=\"94:1-96:0\"\u003e\n\u003cli data-sourcepos=\"94:1-96:0\"\u003eJVM上で動作するため、Javaの豊富なライブラリやエコシステムをそのまま活用可能\n\u003cul data-sourcepos=\"95:5-96:0\"\u003e\n\u003cli data-sourcepos=\"95:5-96:0\"\u003eJavaオブジェクトやクラスの呼び出しが簡単（例: (java.util.Date.)）\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 data-sourcepos=\"97:1-97:12\"\u003e\n\u003cspan id=\"最後に\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e最後に\u003c/h2\u003e\n\u003cp data-sourcepos=\"99:1-99:55\"\u003eこれだけみると、とても\u003cstrong\u003e強そう\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"101:1-102:241\"\u003e特にマクロあたりはなんとなく知ってるけど、実際に使ったことがなく、\u003cbr\u003e\n今日から始まる \u003cstrong\u003eQIita アドベントカレンダー2024\u003c/strong\u003e を通して、特徴について知識だけでなく、実感していけることを目標にアウトプットしていきますので、よろしくお願いします。\u003c/p\u003e\n",
    "body": "![advent_calendar_2024.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f4cd8ce0-6352-a1d8-4cae-f39dd44f4def.png)\n\n[*Advent Calendar 2024 Day 1*](https://qiita.com/advent-calendar/2024/clojure)\n\n今日から **QIita アドベントカレンダー2024** を走らせていただきます\n`Clojure` に関するあれこれで1ヶ月間やり切りたいと思うのでよろしくお願いします\n\n## なぜClojureなのか\n\nこれまでもClojureの書き心地が好きで、\nたまに遊んだりしていました。\n\nしかし、ちゃんと腰を据えて勉強をしたことがなく、\n基本的なことも全然わからないなと思い、\n集中して勉強をする期間を設けいと思いました。\n\nClojureのような表現力が高く、ハイスペック言語を学ぶことは、\n他の言語を書いている時でも役に立つと思っています。\n(問題に対しての手札が増えるイメージ)\n\nまた、他の関数型言語を仕事で書いたことがありますが、\n「関数型の良さを引き出せているのだろうか？」\nと考えることが多く、そのあたりに関しても意識しながらアウトプットしていきたいと思っています。\n\nさて、動機はこんなところにして、本題のClojureの話をしていきます\n今日は公式ドキュメントを読みながらまとめようと思います。\n\n## Clojureとは\n\n公式で書かれているものを訳してみます\n\n\u003e **Clojure is a robust, practical, and fast programming language with a set of useful features that together form a simple, coherent, and powerful tool.**\n\u003e \n\u003e Clojure is a dynamic, general-purpose programming language, combining the approachability and interactive development of a scripting language with an efficient and robust infrastructure for multithreaded programming. Clojure is a compiled language, yet remains completely dynamic – every feature supported by Clojure is supported at runtime. Clojure provides easy access to the Java frameworks, with optional type hints and type inference, to ensure that calls to Java can avoid reflection.\n\u003e \n\u003e Clojure is a dialect of Lisp, and shares with Lisp the code-as-data philosophy and a powerful macro system. Clojure is predominantly a functional programming language, and features a rich set of immutable, persistent data structures. When mutable state is needed, Clojure offers a software transactional memory system and reactive Agent system that ensure clean, correct, multithreaded designs.\n\u003e \n\u003e I hope you find Clojure's combination of facilities elegant, powerful, practical and fun to use.\n\u003e \n\u003e Rich Hickey\n\u003e author of Clojure\n\n**Clojureは、堅牢で実用的かつ高速なプログラミング言語であり、一連の便利な機能を備えており、それらが組み合わさることでシンプルで一貫性のある強力なツールを形成しています。**\n\nClojureは、スクリプト言語の取り組みやすさと対話的な開発環境を備えつつ、マルチスレッドプログラミングに適した効率的で堅牢なインフラを提供する、動的で汎用的なプログラミング言語です。\n\nClojureはコンパイルされる言語ですが、完全に動的で、Clojureがサポートするすべての機能は実行時に使用できます。また、Javaフレームワークに簡単にアクセスできるため、オプションの型ヒントと型推論により、Javaへの呼び出しでリフレクションを避けることが可能です。\n\nClojureはLispの方言であり、Lispと同様に「コードをデータとして扱う」哲学と強力なマクロシステムを持っています。\n\nClojureは主に関数型プログラミング言語であり、不変で永続的なデータ構造が豊富に揃っています。可変状態が必要な場合には、Clojureはソフトウェアトランザクショナルメモリシステムとリアクティブなエージェントシステムを提供しており、クリーンで正確なマルチスレッド設計を可能にします。\n\nClojureの持つ機能の組み合わせがエレガントで強力、実用的で楽しいと感じていただければ幸いです。\n\nRich Hickey\n\nhttps://clojure.org/\n\n## 特徴\n\n### 関数型プログラミング\n\n- イミュータブルデータ構造:\n    - データは基本的に不変（immutable）であり、変更が必要な場合は新しいコピーが作成される\n- ファーストクラス関数:\n    - 関数が第一級市民であり、引数や戻り値として扱える\n- 高階関数:\n    - 関数を引数に取ったり、関数を返したりする関数をサポート\n- 遅延評価:\n    - コレクションは必要になるまで評価されない（lazy-seq）\n\n### 強力なマクロシステム\n\n- Clojureのコードはデータ構造（S式）として記述されるため、コードを簡単に生成、変形可能\n    - これにより高度なDSLや再利用可能な構文を構築可能\n\n(コードを生成するプログラムくらいに認識しています)\n\n### データ指向プログラミング\n\n- 組み込みのリッチなデータ構造（リスト、ベクター、マップ、セット）\n\n### 並行処理のサポート\n\n- ソフトウェアトランザクショナルメモリ（STM）:\n    - 競合状態を避けるためのトランザクショナルな状態管理\n- エージェントとアトム:\n    - マルチスレッド環境で状態を管理\n- コア非同期ライブラリ（core.async）:\n    - チャネルとゴルーチンのような機能で非同期処理をシンプルにする\n\n### Javaとの相互運用性\n\n- JVM上で動作するため、Javaの豊富なライブラリやエコシステムをそのまま活用可能\n    - Javaオブジェクトやクラスの呼び出しが簡単（例: (java.util.Date.)）\n\n## 最後に\n\nこれだけみると、とても**強そう**です。\n\n特にマクロあたりはなんとなく知ってるけど、実際に使ったことがなく、\n今日から始まる **QIita アドベントカレンダー2024** を通して、特徴について知識だけでなく、実感していけることを目標にアウトプットしていきますので、よろしくお願いします。\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-11-07T22:03:17+09:00",
    "group": null,
    "id": "f592357a70307820f0dc",
    "likes_count": 1,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [{ "name": "Clojure", "versions": [] }],
    "title": "Clojureとは",
    "updated_at": "2024-12-16T14:26:44+09:00",
    "url": "https://qiita.com/maaaashi/items/f592357a70307820f0dc",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff22aafef-3524-8098-0d36-551dc0f21a01.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a93b82aabef8006001c83087f729d081\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff22aafef-3524-8098-0d36-551dc0f21a01.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a93b82aabef8006001c83087f729d081\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff22aafef-3524-8098-0d36-551dc0f21a01.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9cbb9285c548300e399ac71024bc735a 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f22aafef-3524-8098-0d36-551dc0f21a01.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"3:1-3:12\"\u003e\n\u003cspan id=\"goroutine\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#goroutine\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGoroutine\u003c/h2\u003e\n\u003cp data-sourcepos=\"5:1-5:143\"\u003eとても簡単に言うと、\u003ccode\u003eGoroutine (ゴルーチン)\u003c/code\u003eとは、Go言語で\u003cstrong\u003e並列処理\u003c/strong\u003eを簡単に実現するためのものです。\u003c/p\u003e\n\u003cp data-sourcepos=\"7:1-7:7\"\u003e参考)\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:42\"\u003e\u003ciframe id=\"qiita-embed-content__546c70de236836a2a05d5996b304201c\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__546c70de236836a2a05d5996b304201c\" data-content=\"https%3A%2F%2Fgo.dev%2Fdoc%2Feffective_go%23goroutines\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-11:85\"\u003e\u003cstrong\u003e並列処理\u003c/strong\u003eを適切に実装することで実行効率が良くなります。\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:138\"\u003e具体的には、複数のCPUを利用してタスクを分散することで、全体の処理速度を高めることができます。\u003c/p\u003e\n\u003cp data-sourcepos=\"15:1-15:98\"\u003e\u003cstrong\u003e3\u003c/strong\u003e秒かかる処理\u003ccode\u003eA\u003c/code\u003eと、\u003cstrong\u003e2\u003c/strong\u003e秒かかる処理\u003ccode\u003eB\u003c/code\u003eの2つを実装してみましょう。\u003c/p\u003e\n\u003cp data-sourcepos=\"17:1-17:65\"\u003eまずは、\u003ccode\u003eGoroutine\u003c/code\u003eを使わずに直列で実装します。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"golang\" data-sourcepos=\"19:1-36:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003emain.go\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c\"\u003e// 3秒かかる処理\u003c/span\u003e\n\u003cspan class=\"k\"\u003efunc\u003c/span\u003e \u003cspan class=\"n\"\u003eA\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\t\u003cspan class=\"n\"\u003etime\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSleep\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e3\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003etime\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSecond\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"nb\"\u003eprintln\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"A\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e// 2秒かかる処理\u003c/span\u003e\n\u003cspan class=\"k\"\u003efunc\u003c/span\u003e \u003cspan class=\"n\"\u003eB\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\t\u003cspan class=\"n\"\u003etime\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSleep\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003etime\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSecond\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"nb\"\u003eprintln\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"B\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003efunc\u003c/span\u003e \u003cspan class=\"n\"\u003emain\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\t\u003cspan class=\"n\"\u003eA\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\t\u003cspan class=\"n\"\u003eB\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"38:1-38:45\"\u003e実行し、時間を計測してみます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"40:1-48:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003etime \u003c/span\u003ego run main.go\nA\nB\n\nreal    0m5.078s\nuser    0m0.054s\nsys     0m0.064s\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"50:1-50:41\"\u003e予想通り\u003cstrong\u003e5\u003c/strong\u003e秒かかりました。\u003c/p\u003e\n\u003cp data-sourcepos=\"52:1-52:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8b192108-2e0b-18cc-a808-d46f5d205c17.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ee0ede910cbf3fc6ec0bfbf9a95cca77\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8b192108-2e0b-18cc-a808-d46f5d205c17.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ee0ede910cbf3fc6ec0bfbf9a95cca77\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8b192108-2e0b-18cc-a808-d46f5d205c17.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=af01cbf143945299b53b8375b5e5bd84 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/8b192108-2e0b-18cc-a808-d46f5d205c17.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"54:1-54:51\"\u003e次にGoroutineを使って実装してみます。\u003c/p\u003e\n\u003cp data-sourcepos=\"56:1-56:144\"\u003e2つのgroutineを作成し、\u003ccode\u003esync\u003c/code\u003epackageの\u003ccode\u003ewaitGroup\u003c/code\u003eを使いそれぞれのgoroutineが終了するまで待つようにしてみます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"golang\" data-sourcepos=\"58:1-82:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003efunc\u003c/span\u003e \u003cspan class=\"n\"\u003eA\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ewaitGroup\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003esync\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWaitGroup\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\t\u003cspan class=\"k\"\u003edefer\u003c/span\u003e \u003cspan class=\"n\"\u003ewaitGroup\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDone\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\t\u003cspan class=\"n\"\u003etime\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSleep\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e3\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003etime\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSecond\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\t\u003cspan class=\"nb\"\u003eprintln\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"A\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003efunc\u003c/span\u003e \u003cspan class=\"n\"\u003eB\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003ewaitGroup\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"n\"\u003esync\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWaitGroup\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\t\u003cspan class=\"k\"\u003edefer\u003c/span\u003e \u003cspan class=\"n\"\u003ewaitGroup\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eDone\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\t\u003cspan class=\"n\"\u003etime\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSleep\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"n\"\u003etime\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eSecond\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\t\u003cspan class=\"nb\"\u003eprintln\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\"B\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003efunc\u003c/span\u003e \u003cspan class=\"n\"\u003emain\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\t\u003cspan class=\"k\"\u003evar\u003c/span\u003e \u003cspan class=\"n\"\u003ewaitGroup\u003c/span\u003e \u003cspan class=\"n\"\u003esync\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWaitGroup\u003c/span\u003e\n\t\u003cspan class=\"c\"\u003e// 2つのgoroutineを設定\u003c/span\u003e\n\t\u003cspan class=\"n\"\u003ewaitGroup\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eAdd\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\t\u003cspan class=\"k\"\u003ego\u003c/span\u003e \u003cspan class=\"n\"\u003eA\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"n\"\u003ewaitGroup\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\t\u003cspan class=\"k\"\u003ego\u003c/span\u003e \u003cspan class=\"n\"\u003eB\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"n\"\u003ewaitGroup\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\t\u003cspan class=\"c\"\u003e// すべてのgoroutineの終了を待つ\u003c/span\u003e\n\t\u003cspan class=\"n\"\u003ewaitGroup\u003c/span\u003e\u003cspan class=\"o\"\u003e.\u003c/span\u003e\u003cspan class=\"n\"\u003eWait\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"84:1-84:48\"\u003eこちらも実行して計測してみます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"86:1-94:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nb\"\u003etime \u003c/span\u003ego run main.go \nB\nA\n\nreal    0m3.067s\nuser    0m0.030s\nsys     0m0.076s\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"96:1-96:47\"\u003e\u003cstrong\u003e3\u003c/strong\u003e秒しかかからなくなりました。\u003c/p\u003e\n\u003cp data-sourcepos=\"98:1-98:89\"\u003eそして、\u003cstrong\u003eB\u003c/strong\u003eの出力の方が先にきていることも注目ポイントです。\u003c/p\u003e\n\u003cp data-sourcepos=\"100:1-100:63\"\u003e図で表してみるとこんなイメージでしょうか。\u003c/p\u003e\n\u003cp data-sourcepos=\"102:1-102:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fdc546045-565f-aa64-b22e-aeae774555f8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c7721b59ff593109de85bbb5982c1771\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fdc546045-565f-aa64-b22e-aeae774555f8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c7721b59ff593109de85bbb5982c1771\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fdc546045-565f-aa64-b22e-aeae774555f8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=499832bc93752a5fa3ffe89ee94b9cb5 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/dc546045-565f-aa64-b22e-aeae774555f8.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"104:1-104:177\"\u003eこのように、Goroutineを用いることで並列処理を簡単に実装することができ、アプリケーションの効率を向上させることができます。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"106:1-106:12\"\u003e\n\u003cspan id=\"まとめ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eまとめ\u003c/h2\u003e\n\u003cul data-sourcepos=\"108:1-111:136\"\u003e\n\u003cli data-sourcepos=\"108:1-109:51\"\u003e\n\u003ccode\u003eGolang\u003c/code\u003eの\u003ccode\u003eGoroutine\u003c/code\u003eを使うと、軽量な並列処理が簡単に実装でき、\u003cbr\u003e\n実行効率を向上させることができる。\u003c/li\u003e\n\u003cli data-sourcepos=\"110:1-110:86\"\u003e\n\u003ccode\u003ego func(){}()\u003c/code\u003eという風に書くだけでGoroutineを実装することが可能\u003c/li\u003e\n\u003cli data-sourcepos=\"111:1-111:136\"\u003e\n\u003ccode\u003esync\u003c/code\u003e packageの\u003ccode\u003eWaitGroup\u003c/code\u003eを使うと、複数の\u003ccode\u003eGoroutine\u003c/code\u003eを作成し、全ての\u003ccode\u003eGoroutine\u003c/code\u003eの完了まで待つことが可能\u003c/li\u003e\n\u003c/ul\u003e\n",
    "body": "![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f22aafef-3524-8098-0d36-551dc0f21a01.png)\n\n## Goroutine\n\nとても簡単に言うと、`Goroutine (ゴルーチン)`とは、Go言語で**並列処理**を簡単に実現するためのものです。\n\n参考)\n\nhttps://go.dev/doc/effective_go#goroutines\n\n**並列処理**を適切に実装することで実行効率が良くなります。\n\n具体的には、複数のCPUを利用してタスクを分散することで、全体の処理速度を高めることができます。\n\n**3**秒かかる処理`A`と、**2**秒かかる処理`B`の2つを実装してみましょう。\n\nまずは、`Goroutine`を使わずに直列で実装します。\n\n```golang:main.go\n// 3秒かかる処理\nfunc A() {\n\ttime.Sleep(3 * time.Second)\n    println(\"A\")\n}\n\n// 2秒かかる処理\nfunc B() {\n\ttime.Sleep(2 * time.Second)\n    println(\"B\")\n}\n\nfunc main() {\n\tA()\n\tB()\n}\n```\n\n実行し、時間を計測してみます。\n\n```bash\n$ time go run main.go\nA\nB\n\nreal    0m5.078s\nuser    0m0.054s\nsys     0m0.064s\n```\n\n予想通り**5**秒かかりました。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/8b192108-2e0b-18cc-a808-d46f5d205c17.png)\n\n次にGoroutineを使って実装してみます。\n\n2つのgroutineを作成し、`sync`packageの`waitGroup`を使いそれぞれのgoroutineが終了するまで待つようにしてみます。\n\n```golang\nfunc A(waitGroup *sync.WaitGroup) {\n\tdefer waitGroup.Done()\n\ttime.Sleep(3 * time.Second)\n\tprintln(\"A\")\n}\n\nfunc B(waitGroup *sync.WaitGroup) {\n\tdefer waitGroup.Done()\n\ttime.Sleep(2 * time.Second)\n\tprintln(\"B\")\n}\n\nfunc main() {\n\tvar waitGroup sync.WaitGroup\n\t// 2つのgoroutineを設定\n\twaitGroup.Add(2)\n\n\tgo A(\u0026waitGroup)\n\tgo B(\u0026waitGroup)\n\n\t// すべてのgoroutineの終了を待つ\n\twaitGroup.Wait()\n}\n```\n\nこちらも実行して計測してみます。\n\n```bash\ntime go run main.go \nB\nA\n\nreal    0m3.067s\nuser    0m0.030s\nsys     0m0.076s\n```\n\n**3**秒しかかからなくなりました。\n\nそして、**B**の出力の方が先にきていることも注目ポイントです。\n\n図で表してみるとこんなイメージでしょうか。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/dc546045-565f-aa64-b22e-aeae774555f8.png)\n\nこのように、Goroutineを用いることで並列処理を簡単に実装することができ、アプリケーションの効率を向上させることができます。\n\n## まとめ\n\n- `Golang`の`Goroutine`を使うと、軽量な並列処理が簡単に実装でき、\n実行効率を向上させることができる。\n- `go func(){}()`という風に書くだけでGoroutineを実装することが可能\n- `sync` packageの`WaitGroup`を使うと、複数の`Goroutine`を作成し、全ての`Goroutine`の完了まで待つことが可能\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2024-05-13T21:44:42+09:00",
    "group": null,
    "id": "b912590cf8c7a8b818fd",
    "likes_count": 2,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 1,
    "tags": [
      { "name": "Go", "versions": [] },
      { "name": "echo", "versions": [] },
      { "name": "goroutine", "versions": [] }
    ],
    "title": "【Golang】Goroutineについて",
    "updated_at": "2024-05-13T21:44:42+09:00",
    "url": "https://qiita.com/maaaashi/items/b912590cf8c7a8b818fd",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-3:131\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3cac80a9-5c52-5594-c42a-9a39889b3136.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5c0c8ecfce30e979962584d055c6274d\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3cac80a9-5c52-5594-c42a-9a39889b3136.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5c0c8ecfce30e979962584d055c6274d\" alt=\"スライド26.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3cac80a9-5c52-5594-c42a-9a39889b3136.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e803cb778f909a76c115024e502c1bc0 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3cac80a9-5c52-5594-c42a-9a39889b3136.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr data-sourcepos=\"5:1-6:0\"\u003e\n\u003cp data-sourcepos=\"7:1-7:59\"\u003e\u003cstrong\u003e2023年アドベントカレンダー最終日\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:52\"\u003e\u003ciframe id=\"qiita-embed-content__0c3fd77d6aaa7589dd1eea86ef2aa084\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__0c3fd77d6aaa7589dd1eea86ef2aa084\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-11:68\"\u003e昨日と今日で、k8sの環境をskaffoldで作っています。\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:51\"\u003e本日は立ち上げの最後までいきます。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"15:1-15:25\"\u003e\n\u003cspan id=\"各dockerfileの作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%90%84dockerfile%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e各Dockerfileの作成\u003c/h2\u003e\n\u003cp data-sourcepos=\"17:1-17:73\"\u003e各サービスを立ち上げるためのDockerfileを作成します。\u003c/p\u003e\n\u003cp data-sourcepos=\"19:1-19:78\"\u003eディレクトリ構造のイメージとしてはこのような感じです\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"txt\" data-sourcepos=\"21:1-36:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e.\n├── api\n├── bff\n├── dockers\n|   ├── api\n|   |   └── Dockerfile\n|   ├── bff\n|   |   └── Dockerfile\n|   ├── db\n|   |   ├── init.sql\n|   |   └── Dockerfile\n|   └── web\n|       └── Dockerfile\n└── web\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"38:1-38:7\"\u003e\n\u003cspan id=\"web\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#web\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eWeb\u003c/h3\u003e\n\u003cp data-sourcepos=\"40:1-40:31\"\u003eWebはNext.jsで動きます。\u003c/p\u003e\n\u003cp data-sourcepos=\"42:1-42:103\"\u003e\u003ccode\u003enodejs\u003c/code\u003eのイメージを使い、\u003ccode\u003ebuild\u003c/code\u003eしてから、\u003ccode\u003estart\u003c/code\u003eするような形が良いでしょう\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"Dockerfile\" data-sourcepos=\"44:1-54:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003edockers/web/Dockerfile\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eFROM\u003c/span\u003e\u003cspan class=\"s\"\u003e node:21-alpine3.17\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eWORKDIR\u003c/span\u003e\u003cspan class=\"s\"\u003e /life-sync-web\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eCOPY\u003c/span\u003e\u003cspan class=\"s\"\u003e ./web /life-sync-web\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eRUN \u003c/span\u003enpm \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e npm run build\n\n\u003cspan class=\"k\"\u003eCMD\u003c/span\u003e\u003cspan class=\"s\"\u003e [\"npm\", \"run\", \"start\"]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch3 data-sourcepos=\"56:1-56:7\"\u003e\n\u003cspan id=\"bff\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#bff\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eBFF\u003c/h3\u003e\n\u003cp data-sourcepos=\"58:1-58:30\"\u003eBFFはNestJSで動きます。\u003c/p\u003e\n\u003cp data-sourcepos=\"60:1-60:110\"\u003e\u003ccode\u003enodejs\u003c/code\u003eのイメージを使い、\u003ccode\u003eprod\u003c/code\u003eモードで起動するように\u003ccode\u003estart:prod\u003c/code\u003eしようと思います\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"Dockerfile\" data-sourcepos=\"62:1-72:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003edockers/bff/Dockerfile\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eFROM\u003c/span\u003e\u003cspan class=\"s\"\u003e node:21-alpine3.17\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eWORKDIR\u003c/span\u003e\u003cspan class=\"s\"\u003e /life-sync-bff\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eCOPY\u003c/span\u003e\u003cspan class=\"s\"\u003e ./bff /life-sync-bff\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eRUN \u003c/span\u003enpm \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eCMD\u003c/span\u003e\u003cspan class=\"s\"\u003e [\"npm\", \"run\", \"start:prod\"]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch3 data-sourcepos=\"74:1-74:7\"\u003e\n\u003cspan id=\"api\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#api\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAPI\u003c/h3\u003e\n\u003cp data-sourcepos=\"76:1-76:28\"\u003eAPIはRustで動きます。\u003c/p\u003e\n\u003cp data-sourcepos=\"78:1-78:58\"\u003e\u003ccode\u003enodejs\u003c/code\u003eのイメージを使い、\u003ccode\u003ecargo run\u003c/code\u003eします。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"Dockerfile\" data-sourcepos=\"80:1-88:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003edockers/api/Dockerfile\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eFROM\u003c/span\u003e\u003cspan class=\"s\"\u003e rust:1.73-buster\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eWORKDIR\u003c/span\u003e\u003cspan class=\"s\"\u003e /life-sync-api\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eCOPY\u003c/span\u003e\u003cspan class=\"s\"\u003e ./api /life-sync-api\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eCMD\u003c/span\u003e\u003cspan class=\"s\"\u003e [\"cargo\", \"run\"]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch3 data-sourcepos=\"90:1-90:6\"\u003e\n\u003cspan id=\"db\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#db\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eDB\u003c/h3\u003e\n\u003cp data-sourcepos=\"92:1-93:86\"\u003eDBはpostgresqlで動かします。\u003cbr\u003e\n起動後に、\u003ccode\u003einit.sql\u003c/code\u003eを動かしたいので、Dockerfileを作っていきます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"sql\" data-sourcepos=\"95:1-103:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003edockers/db/init.sql\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"k\"\u003eTABLE\u003c/span\u003e \u003cspan class=\"n\"\u003eblog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eid\u003c/span\u003e \u003cspan class=\"n\"\u003eUUID\u003c/span\u003e \u003cspan class=\"k\"\u003ePRIMARY\u003c/span\u003e \u003cspan class=\"k\"\u003eKEY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003etitle\u003c/span\u003e \u003cspan class=\"nb\"\u003eVARCHAR\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e255\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003eNOT\u003c/span\u003e \u003cspan class=\"k\"\u003eNULL\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eauthor\u003c/span\u003e \u003cspan class=\"nb\"\u003eVARCHAR\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e255\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003eNOT\u003c/span\u003e \u003cspan class=\"k\"\u003eNULL\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ebody\u003c/span\u003e \u003cspan class=\"nb\"\u003eTEXT\u003c/span\u003e \u003cspan class=\"k\"\u003eNOT\u003c/span\u003e \u003cspan class=\"k\"\u003eNULL\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ecreated_at\u003c/span\u003e \u003cspan class=\"nb\"\u003eVARCHAR\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e255\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003eNOT\u003c/span\u003e \u003cspan class=\"k\"\u003eNULL\u003c/span\u003e\n\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"Dockerfile\" data-sourcepos=\"105:1-109:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003edockers/db/Dockerfile\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eFROM\u003c/span\u003e\u003cspan class=\"s\"\u003e postgres:16\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eCOPY\u003c/span\u003e\u003cspan class=\"s\"\u003e ./dockers/db/init.sql /docker-entrypoint-initdb.d/\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"111:1-111:11\"\u003e\n\u003cspan id=\"skaffold\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#skaffold\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eSkaffold\u003c/h2\u003e\n\u003cp data-sourcepos=\"113:1-113:117\"\u003eSkaffoldとは、Googleによって開発されたKubernates開発のためのコマンドラインツールです。\u003c/p\u003e\n\u003cp data-sourcepos=\"115:1-115:141\"\u003eSkaffoldについては私が所属するUzabaseの先輩が書いた素晴らしい記事があるので、こちらをお読みください\u003c/p\u003e\n\u003cp data-sourcepos=\"117:1-117:48\"\u003e\u003ciframe id=\"qiita-embed-content__2ae891eab767b7b9c252ded821dfa32f\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__2ae891eab767b7b9c252ded821dfa32f\" data-content=\"https%3A%2F%2Ftech.uzabase.com%2Fentry%2F2023%2F10%2F26%2F155559\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch3 data-sourcepos=\"119:1-119:17\"\u003e\n\u003cspan id=\"skaffoldyaml\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#skaffoldyaml\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eSkaffold.yaml\u003c/h3\u003e\n\u003cp data-sourcepos=\"121:1-121:37\"\u003eSkaffold.yamlを作成しました。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"124:1-173:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eskaffold.yaml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eapiVersion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eskaffold/v2beta19\u003c/span\u003e\n\u003cspan class=\"na\"\u003ekind\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eConfig\u003c/span\u003e\n\u003cspan class=\"na\"\u003ebuild\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eartifacts\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-web\u003c/span\u003e\n      \u003cspan class=\"na\"\u003econtext\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e.\u003c/span\u003e\n      \u003cspan class=\"na\"\u003edocker\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"na\"\u003edockerfile\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e./dockers/web/Dockerfile\u003c/span\u003e\n    \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-bff\u003c/span\u003e\n      \u003cspan class=\"na\"\u003econtext\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e.\u003c/span\u003e\n      \u003cspan class=\"na\"\u003edocker\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"na\"\u003edockerfile\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e./dockers/bff/Dockerfile\u003c/span\u003e\n    \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-api\u003c/span\u003e\n      \u003cspan class=\"na\"\u003econtext\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e.\u003c/span\u003e\n      \u003cspan class=\"na\"\u003edocker\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"na\"\u003edockerfile\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e./dockers/api/Dockerfile\u003c/span\u003e\n    \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-db\u003c/span\u003e\n      \u003cspan class=\"na\"\u003econtext\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e.\u003c/span\u003e\n      \u003cspan class=\"na\"\u003edocker\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"na\"\u003edockerfile\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e./dockers/db/Dockerfile\u003c/span\u003e\n\u003cspan class=\"na\"\u003edeploy\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ekubectl\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003emanifests\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003ek8s/web/*.yaml\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003ek8s/bff/*.yaml\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003ek8s/api/*.yaml\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003ek8s/db/*.yaml\u003c/span\u003e\n\u003cspan class=\"na\"\u003eportForward\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003eresourceType\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eservice\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eresourceName\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-web\u003c/span\u003e\n    \u003cspan class=\"na\"\u003enamespace\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003edefault\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eport\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e3000\u003c/span\u003e\n    \u003cspan class=\"na\"\u003elocalPort\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e3000\u003c/span\u003e\n  \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003eresourceType\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eservice\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eresourceName\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-bff\u003c/span\u003e\n    \u003cspan class=\"na\"\u003enamespace\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003edefault\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eport\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e3000\u003c/span\u003e\n    \u003cspan class=\"na\"\u003elocalPort\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e4000\u003c/span\u003e\n  \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003eresourceType\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eservice\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eresourceName\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-api\u003c/span\u003e\n    \u003cspan class=\"na\"\u003enamespace\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003edefault\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eport\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e3000\u003c/span\u003e\n    \u003cspan class=\"na\"\u003elocalPort\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e8000\u003c/span\u003e\n  \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003eresourceType\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eservice\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eresourceName\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-db\u003c/span\u003e\n    \u003cspan class=\"na\"\u003enamespace\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003edefault\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eport\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e5432\u003c/span\u003e\n    \u003cspan class=\"na\"\u003elocalPort\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e5432\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"175:1-175:18\"\u003e上から順に、\u003c/p\u003e\n\u003col data-sourcepos=\"177:1-180:0\"\u003e\n\u003cli data-sourcepos=\"177:1-177:29\"\u003eDockerImageを指定して\u003c/li\u003e\n\u003cli data-sourcepos=\"178:1-178:65\"\u003edeployのためのmanifestファイルの場所を指定して\u003c/li\u003e\n\u003cli data-sourcepos=\"179:1-180:0\"\u003eportを開放する\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"181:1-181:24\"\u003eといった感じです\u003c/p\u003e\n\u003ch2 data-sourcepos=\"183:1-183:23\"\u003e\n\u003cspan id=\"manifestファイル\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#manifest%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003emanifestファイル\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"185:1-204:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e.\n├── api\n├── bff\n├── dockers\n├── k8s\n|   ├── api\n|   |   ├── deployment.yaml\n|   |   └── service.yaml\n|   ├── bff\n|   |   ├── deployment.yaml\n|   |   └── service.yaml\n|   ├── db\n|   |   ├── service.yaml\n|   |   └── statefulset.yaml\n|   └── web\n|   |   ├── deployment.yaml\n|   |   └── service.yaml\n└── web\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"206:1-206:7\"\u003e\n\u003cspan id=\"web-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#web-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eWeb\u003c/h3\u003e\n\u003cdetails\u003e\u003csummary\u003edeployment.yaml\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"210:1-230:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ek8s/web/deployment.yaml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eapiVersion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eapps/v1\u003c/span\u003e\n\u003cspan class=\"na\"\u003ekind\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eDeployment\u003c/span\u003e\n\u003cspan class=\"na\"\u003emetadata\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-web\u003c/span\u003e\n\u003cspan class=\"na\"\u003espec\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ereplicas\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eselector\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ematchLabels\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eapp\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-web\u003c/span\u003e\n  \u003cspan class=\"na\"\u003etemplate\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003emetadata\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003elabels\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eapp\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-web\u003c/span\u003e\n    \u003cspan class=\"na\"\u003espec\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003econtainers\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-web\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-web:latest\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eports\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003econtainerPort\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e3000\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/details\u003e\n\u003cdetails\u003e\u003csummary\u003eservice.yaml\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"236:1-249:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ek8s/web/service.yaml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eapiVersion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ev1\u003c/span\u003e\n\u003cspan class=\"na\"\u003ekind\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eService\u003c/span\u003e\n\u003cspan class=\"na\"\u003emetadata\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-web\u003c/span\u003e\n\u003cspan class=\"na\"\u003espec\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eselector\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eapp\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-web\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eports\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003eprotocol\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eTCP\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eport\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e3000\u003c/span\u003e\n      \u003cspan class=\"na\"\u003etargetPort\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e3000\u003c/span\u003e\n  \u003cspan class=\"na\"\u003etype\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eLoadBalancer\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/details\u003e\n\u003ch3 data-sourcepos=\"253:1-253:7\"\u003e\n\u003cspan id=\"bff-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#bff-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eBFF\u003c/h3\u003e\n\u003cdetails\u003e\u003csummary\u003edeployment.yaml\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"257:1-277:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ek8s/bff/deployment.yaml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eapiVersion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eapps/v1\u003c/span\u003e\n\u003cspan class=\"na\"\u003ekind\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eDeployment\u003c/span\u003e\n\u003cspan class=\"na\"\u003emetadata\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-bff\u003c/span\u003e\n\u003cspan class=\"na\"\u003espec\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ereplicas\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eselector\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ematchLabels\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eapp\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-bff\u003c/span\u003e\n  \u003cspan class=\"na\"\u003etemplate\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003emetadata\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003elabels\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eapp\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-bff\u003c/span\u003e\n    \u003cspan class=\"na\"\u003espec\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003econtainers\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-bff\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-bff:latest\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eports\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003econtainerPort\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e3000\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/details\u003e\n\u003cdetails\u003e\u003csummary\u003eservice.yaml\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"283:1-296:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ek8s/bff/service.yaml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eapiVersion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ev1\u003c/span\u003e\n\u003cspan class=\"na\"\u003ekind\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eService\u003c/span\u003e\n\u003cspan class=\"na\"\u003emetadata\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-bff\u003c/span\u003e\n\u003cspan class=\"na\"\u003espec\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eselector\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eapp\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-bff\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eports\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003eprotocol\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eTCP\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eport\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e3000\u003c/span\u003e\n      \u003cspan class=\"na\"\u003etargetPort\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e3000\u003c/span\u003e\n  \u003cspan class=\"na\"\u003etype\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eLoadBalancer\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/details\u003e\n\u003ch3 data-sourcepos=\"300:1-300:7\"\u003e\n\u003cspan id=\"api-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#api-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAPI\u003c/h3\u003e\n\u003cdetails\u003e\u003csummary\u003edeployment.yaml\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"304:1-324:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ek8s/api/deployment.yaml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eapiVersion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eapps/v1\u003c/span\u003e\n\u003cspan class=\"na\"\u003ekind\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eDeployment\u003c/span\u003e\n\u003cspan class=\"na\"\u003emetadata\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-api\u003c/span\u003e\n\u003cspan class=\"na\"\u003espec\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ereplicas\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eselector\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ematchLabels\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eapp\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-api\u003c/span\u003e\n  \u003cspan class=\"na\"\u003etemplate\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003emetadata\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003elabels\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eapp\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-api\u003c/span\u003e\n    \u003cspan class=\"na\"\u003espec\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003econtainers\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-api\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-api:latest\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eports\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003econtainerPort\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e3000\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/details\u003e\n\u003cdetails\u003e\u003csummary\u003eservice.yaml\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"330:1-343:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ek8s/api/service.yaml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eapiVersion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ev1\u003c/span\u003e\n\u003cspan class=\"na\"\u003ekind\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eService\u003c/span\u003e\n\u003cspan class=\"na\"\u003emetadata\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-api\u003c/span\u003e\n\u003cspan class=\"na\"\u003espec\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eselector\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eapp\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-api\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eports\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003eprotocol\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eTCP\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eport\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e3000\u003c/span\u003e\n      \u003cspan class=\"na\"\u003etargetPort\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e3000\u003c/span\u003e\n  \u003cspan class=\"na\"\u003etype\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eLoadBalancer\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/details\u003e\n\u003ch3 data-sourcepos=\"347:1-347:6\"\u003e\n\u003cspan id=\"db-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#db-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eDB\u003c/h3\u003e\n\u003cdetails\u003e\u003csummary\u003eservice.yaml\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"351:1-364:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ek8s/db/service.yaml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eapiVersion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ev1\u003c/span\u003e\n\u003cspan class=\"na\"\u003ekind\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eService\u003c/span\u003e\n\u003cspan class=\"na\"\u003emetadata\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-db\u003c/span\u003e\n\u003cspan class=\"na\"\u003espec\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eports\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003eprotocol\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eTCP\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eport\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e5432\u003c/span\u003e\n    \u003cspan class=\"na\"\u003etargetPort\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e5432\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eselector\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eapp\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-db\u003c/span\u003e\n  \u003cspan class=\"na\"\u003etype\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eClusterIP\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/details\u003e\n\u003cdetails\u003e\u003csummary\u003estatefulset.yaml\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"370:1-398:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ek8s/db/statefulset.yaml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eapiVersion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eapps/v1\u003c/span\u003e\n\u003cspan class=\"na\"\u003ekind\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eStatefulSet\u003c/span\u003e\n\u003cspan class=\"na\"\u003emetadata\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-db\u003c/span\u003e\n\u003cspan class=\"na\"\u003espec\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eserviceName\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-db\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ereplicas\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eselector\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ematchLabels\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eapp\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-db\u003c/span\u003e\n  \u003cspan class=\"na\"\u003etemplate\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003emetadata\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003elabels\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eapp\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-db\u003c/span\u003e\n    \u003cspan class=\"na\"\u003espec\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003econtainers\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-db\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync-db:latest\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eports\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003econtainerPort\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e5432\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eenv\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ePOSTGRES_DB\u003c/span\u003e\n              \u003cspan class=\"na\"\u003evalue\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elife-sync\u003c/span\u003e\n            \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ePOSTGRES_USER\u003c/span\u003e\n              \u003cspan class=\"na\"\u003evalue\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003epostgres_user\u003c/span\u003e\n            \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ePOSTGRES_PASSWORD\u003c/span\u003e\n              \u003cspan class=\"na\"\u003evalue\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003epostgres_password\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/details\u003e\n\u003ch2 data-sourcepos=\"403:1-403:9\"\u003e\n\u003cspan id=\"起動\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%B5%B7%E5%8B%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e起動\u003c/h2\u003e\n\u003cp data-sourcepos=\"405:1-405:33\"\u003eこれで起動してみます！\u003c/p\u003e\n\u003cdiv data-sourcepos=\"408:1-410:3\" class=\"note warn\"\u003e\n\u003cspan class=\"fa fa-fw fa-exclamation-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"409:1-409:202\"\u003e今回の設定とは別で各サービスで他サービスを指定している個所をENVに移行したり、CORSの設定をしたりしました。本題とはずれるので省略しました。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"412:1-414:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eskaffold dev\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"416:1-416:27\"\u003e起動ができました。\u003c/p\u003e\n\u003cp data-sourcepos=\"418:1-418:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3b4dfc5f-aea4-8f31-aab7-e5d28cf70f30.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c05b2d968ce15f0dcdbea96b72188d42\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3b4dfc5f-aea4-8f31-aab7-e5d28cf70f30.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c05b2d968ce15f0dcdbea96b72188d42\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3b4dfc5f-aea4-8f31-aab7-e5d28cf70f30.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=872f9c357566603287253c23be22eae4 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3b4dfc5f-aea4-8f31-aab7-e5d28cf70f30.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"420:1-420:68\"\u003e直接DBに入り、データをいくつか入れてみました。\u003c/p\u003e\n\u003cdiv data-sourcepos=\"422:1-432:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"423:1-423:21\"\u003eデータ投入方法\u003c/p\u003e\n\u003cp data-sourcepos=\"425:1-425:57\"\u003e\u003ccode\u003epsql\u003c/code\u003eを利用して、直接アクセスしました。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"427:1-429:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003epsql \u003cspan class=\"nt\"\u003e-h\u003c/span\u003e localhost \u003cspan class=\"nt\"\u003e-p\u003c/span\u003e 5432 \u003cspan class=\"nt\"\u003e-U\u003c/span\u003e postgres_user \u003cspan class=\"nt\"\u003e-W\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e life-sync\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"431:1-431:95\"\u003e好みに合わせて、A5M2や、DBeaverなどのGUIツールを入れてもいいでしょう\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"434:1-434:37\"\u003eちゃんと表示されました👍\u003c/p\u003e\n\u003cp data-sourcepos=\"436:1-436:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbca8a849-d548-e3e8-3cc1-7fb1f3d26a65.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=1afd2c14ad71b13dbefec4609b4921ba\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbca8a849-d548-e3e8-3cc1-7fb1f3d26a65.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=1afd2c14ad71b13dbefec4609b4921ba\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbca8a849-d548-e3e8-3cc1-7fb1f3d26a65.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=4db0435794e0ae1888c7445f26a8d153 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/bca8a849-d548-e3e8-3cc1-7fb1f3d26a65.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"438:1-438:63\"\u003e\n\u003cspan id=\"最後にアドベントカレンダーを振り返って\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB%E3%82%A2%E3%83%89%E3%83%99%E3%83%B3%E3%83%88%E3%82%AB%E3%83%AC%E3%83%B3%E3%83%80%E3%83%BC%E3%82%92%E6%8C%AF%E3%82%8A%E8%BF%94%E3%81%A3%E3%81%A6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e最後に・アドベントカレンダーを振り返って\u003c/h2\u003e\n\u003cp data-sourcepos=\"440:1-441:295\"\u003e去年は一貫性の無いアドベントカレンダーを走りましたが、今年は一つのアプリを構築してみました。\u003cbr\u003e\nそのため、\u003cstrong\u003eユーザーストーリー\u003c/strong\u003e、\u003cstrong\u003eデザイン\u003c/strong\u003e、\u003cstrong\u003eWebの実装\u003c/strong\u003e、\u003cstrong\u003eBFFの実装\u003c/strong\u003e、\u003cstrong\u003eAPIの実装\u003c/strong\u003e、\u003cstrong\u003e各種テスト・モック\u003c/strong\u003e、\u003cstrong\u003eK8s環境構築\u003c/strong\u003eといったWebアプリケーションを作る上で必要な一通りの実装を触ることができました。\u003c/p\u003e\n\u003cp data-sourcepos=\"443:1-443:162\"\u003e（実際にクラウド上にデプロイするとなると、もう少しネットワーク関係やセキュリティ面でやることはあるでしょう）\u003c/p\u003e\n\u003cp data-sourcepos=\"445:1-445:71\"\u003e25個の記事を書くのは大変でしたが、楽しかったです\u003c/p\u003e\n\u003cp data-sourcepos=\"447:1-447:24\"\u003e来年も頑張るぞ！\u003c/p\u003e\n\u003cp data-sourcepos=\"449:1-449:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7b1c8110-9442-8d59-2353-ff194929e926.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=837dc17473989938e715db48c6f02a87\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7b1c8110-9442-8d59-2353-ff194929e926.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=837dc17473989938e715db48c6f02a87\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7b1c8110-9442-8d59-2353-ff194929e926.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=93cbafd3dcc10ac13bd0e7781a28a93e 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/7b1c8110-9442-8d59-2353-ff194929e926.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n",
    "body": "## はじめに\n\n![スライド26.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3cac80a9-5c52-5594-c42a-9a39889b3136.png)\n\n---\n\n**2023年アドベントカレンダー最終日**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n昨日と今日で、k8sの環境をskaffoldで作っています。\n\n本日は立ち上げの最後までいきます。\n\n## 各Dockerfileの作成\n\n各サービスを立ち上げるためのDockerfileを作成します。\n\nディレクトリ構造のイメージとしてはこのような感じです\n\n```txt\n.\n├── api\n├── bff\n├── dockers\n|   ├── api\n|   |   └── Dockerfile\n|   ├── bff\n|   |   └── Dockerfile\n|   ├── db\n|   |   ├── init.sql\n|   |   └── Dockerfile\n|   └── web\n|       └── Dockerfile\n└── web\n```\n\n### Web\n\nWebはNext.jsで動きます。\n\n`nodejs`のイメージを使い、`build`してから、`start`するような形が良いでしょう\n\n```Dockerfile:dockers/web/Dockerfile\nFROM node:21-alpine3.17\n\nWORKDIR /life-sync-web\n\nCOPY ./web /life-sync-web\n\nRUN npm install \u0026\u0026 npm run build\n\nCMD [\"npm\", \"run\", \"start\"]\n```\n\n### BFF\n\nBFFはNestJSで動きます。\n\n`nodejs`のイメージを使い、`prod`モードで起動するように`start:prod`しようと思います\n\n```Dockerfile:dockers/bff/Dockerfile\nFROM node:21-alpine3.17\n\nWORKDIR /life-sync-bff\n\nCOPY ./bff /life-sync-bff\n\nRUN npm install\n\nCMD [\"npm\", \"run\", \"start:prod\"]\n```\n\n### API\n\nAPIはRustで動きます。\n\n`nodejs`のイメージを使い、`cargo run`します。\n\n```Dockerfile:dockers/api/Dockerfile\nFROM rust:1.73-buster\n\nWORKDIR /life-sync-api\n\nCOPY ./api /life-sync-api\n\nCMD [\"cargo\", \"run\"]\n```\n\n### DB\n\nDBはpostgresqlで動かします。\n起動後に、`init.sql`を動かしたいので、Dockerfileを作っていきます\n\n```sql:dockers/db/init.sql\nCREATE TABLE blog (\n    id UUID PRIMARY KEY,\n    title VARCHAR(255) NOT NULL,\n    author VARCHAR(255) NOT NULL,\n    body TEXT NOT NULL,\n    created_at VARCHAR(255) NOT NULL\n);\n```\n\n```Dockerfile:dockers/db/Dockerfile\nFROM postgres:16\n\nCOPY ./dockers/db/init.sql /docker-entrypoint-initdb.d/\n```\n\n## Skaffold\n\nSkaffoldとは、Googleによって開発されたKubernates開発のためのコマンドラインツールです。\n\nSkaffoldについては私が所属するUzabaseの先輩が書いた素晴らしい記事があるので、こちらをお読みください\n\nhttps://tech.uzabase.com/entry/2023/10/26/155559\n\n### Skaffold.yaml\n\nSkaffold.yamlを作成しました。\n\n\n```yaml:skaffold.yaml\napiVersion: skaffold/v2beta19\nkind: Config\nbuild:\n  artifacts:\n    - image: life-sync-web\n      context: .\n      docker:\n        dockerfile: ./dockers/web/Dockerfile\n    - image: life-sync-bff\n      context: .\n      docker:\n        dockerfile: ./dockers/bff/Dockerfile\n    - image: life-sync-api\n      context: .\n      docker:\n        dockerfile: ./dockers/api/Dockerfile\n    - image: life-sync-db\n      context: .\n      docker:\n        dockerfile: ./dockers/db/Dockerfile\ndeploy:\n  kubectl:\n    manifests:\n      - k8s/web/*.yaml\n      - k8s/bff/*.yaml\n      - k8s/api/*.yaml\n      - k8s/db/*.yaml\nportForward:\n  - resourceType: service\n    resourceName: life-sync-web\n    namespace: default\n    port: 3000\n    localPort: 3000\n  - resourceType: service\n    resourceName: life-sync-bff\n    namespace: default\n    port: 3000\n    localPort: 4000\n  - resourceType: service\n    resourceName: life-sync-api\n    namespace: default\n    port: 3000\n    localPort: 8000\n  - resourceType: service\n    resourceName: life-sync-db\n    namespace: default\n    port: 5432\n    localPort: 5432\n```\n\n上から順に、\n\n1. DockerImageを指定して\n1. deployのためのmanifestファイルの場所を指定して\n1. portを開放する\n\nといった感じです\n\n## manifestファイル\n\n```\n.\n├── api\n├── bff\n├── dockers\n├── k8s\n|   ├── api\n|   |   ├── deployment.yaml\n|   |   └── service.yaml\n|   ├── bff\n|   |   ├── deployment.yaml\n|   |   └── service.yaml\n|   ├── db\n|   |   ├── service.yaml\n|   |   └── statefulset.yaml\n|   └── web\n|   |   ├── deployment.yaml\n|   |   └── service.yaml\n└── web\n```\n\n### Web\n\n\u003cdetails\u003e\u003csummary\u003edeployment.yaml\u003c/summary\u003e\n\n```yaml:k8s/web/deployment.yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: life-sync-web\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: life-sync-web\n  template:\n    metadata:\n      labels:\n        app: life-sync-web\n    spec:\n      containers:\n        - name: life-sync-web\n          image: life-sync-web:latest\n          ports:\n            - containerPort: 3000\n```\n\n\u003c/details\u003e\n\n\u003cdetails\u003e\u003csummary\u003eservice.yaml\u003c/summary\u003e\n\n```yaml:k8s/web/service.yaml\napiVersion: v1\nkind: Service\nmetadata:\n  name: life-sync-web\nspec:\n  selector:\n    app: life-sync-web\n  ports:\n    - protocol: TCP\n      port: 3000\n      targetPort: 3000\n  type: LoadBalancer\n```\n\n\u003c/details\u003e\n\n### BFF\n\n\u003cdetails\u003e\u003csummary\u003edeployment.yaml\u003c/summary\u003e\n\n```yaml:k8s/bff/deployment.yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: life-sync-bff\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: life-sync-bff\n  template:\n    metadata:\n      labels:\n        app: life-sync-bff\n    spec:\n      containers:\n        - name: life-sync-bff\n          image: life-sync-bff:latest\n          ports:\n            - containerPort: 3000\n```\n\n\u003c/details\u003e\n\n\u003cdetails\u003e\u003csummary\u003eservice.yaml\u003c/summary\u003e\n\n```yaml:k8s/bff/service.yaml\napiVersion: v1\nkind: Service\nmetadata:\n  name: life-sync-bff\nspec:\n  selector:\n    app: life-sync-bff\n  ports:\n    - protocol: TCP\n      port: 3000\n      targetPort: 3000\n  type: LoadBalancer\n```\n\n\u003c/details\u003e\n\n### API\n\n\u003cdetails\u003e\u003csummary\u003edeployment.yaml\u003c/summary\u003e\n\n```yaml:k8s/api/deployment.yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: life-sync-api\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: life-sync-api\n  template:\n    metadata:\n      labels:\n        app: life-sync-api\n    spec:\n      containers:\n        - name: life-sync-api\n          image: life-sync-api:latest\n          ports:\n            - containerPort: 3000\n```\n\n\u003c/details\u003e\n\n\u003cdetails\u003e\u003csummary\u003eservice.yaml\u003c/summary\u003e\n\n```yaml:k8s/api/service.yaml\napiVersion: v1\nkind: Service\nmetadata:\n  name: life-sync-api\nspec:\n  selector:\n    app: life-sync-api\n  ports:\n    - protocol: TCP\n      port: 3000\n      targetPort: 3000\n  type: LoadBalancer\n```\n\n\u003c/details\u003e\n\n### DB\n\n\u003cdetails\u003e\u003csummary\u003eservice.yaml\u003c/summary\u003e\n\n```yaml:k8s/db/service.yaml\napiVersion: v1\nkind: Service\nmetadata:\n  name: life-sync-db\nspec:\n  ports:\n  - protocol: TCP\n    port: 5432\n    targetPort: 5432\n  selector:\n    app: life-sync-db\n  type: ClusterIP\n```\n\n\u003c/details\u003e\n\n\u003cdetails\u003e\u003csummary\u003estatefulset.yaml\u003c/summary\u003e\n\n```yaml:k8s/db/statefulset.yaml\napiVersion: apps/v1\nkind: StatefulSet\nmetadata:\n  name: life-sync-db\nspec:\n  serviceName: life-sync-db\n  replicas: 1\n  selector:\n    matchLabels:\n      app: life-sync-db\n  template:\n    metadata:\n      labels:\n        app: life-sync-db\n    spec:\n      containers:\n        - name: life-sync-db\n          image: life-sync-db:latest\n          ports:\n            - containerPort: 5432\n          env:\n            - name: POSTGRES_DB\n              value: life-sync\n            - name: POSTGRES_USER\n              value: postgres_user\n            - name: POSTGRES_PASSWORD\n              value: postgres_password\n```\n\n\u003c/details\u003e\n\n\n## 起動\n\nこれで起動してみます！\n\n\n:::note warn\n今回の設定とは別で各サービスで他サービスを指定している個所をENVに移行したり、CORSの設定をしたりしました。本題とはずれるので省略しました。\n:::\n\n```bash\nskaffold dev\n```\n\n起動ができました。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3b4dfc5f-aea4-8f31-aab7-e5d28cf70f30.png)\n\n直接DBに入り、データをいくつか入れてみました。\n\n:::note info\nデータ投入方法\n\n`psql`を利用して、直接アクセスしました。\n\n```bash\npsql -h localhost -p 5432 -U postgres_user -W -d life-sync\n```\n\n好みに合わせて、A5M2や、DBeaverなどのGUIツールを入れてもいいでしょう\n:::\n\nちゃんと表示されました👍\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/bca8a849-d548-e3e8-3cc1-7fb1f3d26a65.png)\n\n## 最後に・アドベントカレンダーを振り返って\n\n去年は一貫性の無いアドベントカレンダーを走りましたが、今年は一つのアプリを構築してみました。\nそのため、**ユーザーストーリー**、**デザイン**、**Webの実装**、**BFFの実装**、**APIの実装**、**各種テスト・モック**、**K8s環境構築**といったWebアプリケーションを作る上で必要な一通りの実装を触ることができました。\n\n（実際にクラウド上にデプロイするとなると、もう少しネットワーク関係やセキュリティ面でやることはあるでしょう）\n\n25個の記事を書くのは大変でしたが、楽しかったです\n\n来年も頑張るぞ！\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/7b1c8110-9442-8d59-2353-ff194929e926.png)\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-12-21T23:38:42+09:00",
    "group": null,
    "id": "16750f0f4fc060497156",
    "likes_count": 6,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "Docker", "versions": [] },
      { "name": "kubernetes", "versions": [] },
      { "name": "skaffold", "versions": [] }
    ],
    "title": "【Day 25】Skaffoldで起動する",
    "updated_at": "2023-12-25T07:00:48+09:00",
    "url": "https://qiita.com/maaaashi/items/16750f0f4fc060497156",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003ch2 data-sourcepos=\"3:1-5:0\"\u003e\n\u003cspan id=\"\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F692fc214-724c-35b3-3200-f522f06983f5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=bbd22f27e49ca8c118807287a6f256fc\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F692fc214-724c-35b3-3200-f522f06983f5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=bbd22f27e49ca8c118807287a6f256fc\" alt=\"スライド24.PNG\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F692fc214-724c-35b3-3200-f522f06983f5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=4f80c770ffebcda4c7f098c120af5bc6 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/692fc214-724c-35b3-3200-f522f06983f5.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003c/h2\u003e\n\u003cp data-sourcepos=\"6:1-6:58\"\u003e\u003cstrong\u003e2023年アドベントカレンダー23日目\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"8:1-8:52\"\u003e\u003ciframe id=\"qiita-embed-content__8cff36b7d8ea0d9c09621c3d8de29743\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__8cff36b7d8ea0d9c09621c3d8de29743\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"10:1-10:159\"\u003e本日は昨日に引き続き、「ユーザーはトップページでブログタイトルの一覧を見ることができる」を進めていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"12:1-12:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6eb0ef2a-c7f4-7a75-add7-a866d28b214d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=95362395afde39dc61920669b1e12f63\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6eb0ef2a-c7f4-7a75-add7-a866d28b214d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=95362395afde39dc61920669b1e12f63\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6eb0ef2a-c7f4-7a75-add7-a866d28b214d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=01ba209fcfb17493331cbe1f2b0b7d0c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6eb0ef2a-c7f4-7a75-add7-a866d28b214d.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"14:1-14:99\"\u003e昨日はDriver以外の実装をしたので、今日はDriverの実装を進めていきます。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"16:1-16:9\"\u003e\n\u003cspan id=\"seaorm\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#seaorm\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eSeaORM\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"18:1-18:16\"\u003e\n\u003cspan id=\"seaormとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#seaorm%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eSeaORMとは\u003c/h3\u003e\n\u003cp data-sourcepos=\"20:1-21:81\"\u003eSeaORMとは、RustのORMです。\u003cbr\u003e\n最近SeaORMをよく見る気がするので、使ってみようと思います\u003c/p\u003e\n\u003cp data-sourcepos=\"23:1-23:30\"\u003e\u003ciframe id=\"qiita-embed-content__2967fc168c247e5c4d6943d6ace0a668\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__2967fc168c247e5c4d6943d6ace0a668\" data-content=\"https%3A%2F%2Fwww.sea-ql.org%2FSeaORM%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch2 data-sourcepos=\"25:1-25:24\"\u003e\n\u003cspan id=\"依存関係の追加\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BE%9D%E5%AD%98%E9%96%A2%E4%BF%82%E3%81%AE%E8%BF%BD%E5%8A%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e依存関係の追加\u003c/h2\u003e\n\u003cp data-sourcepos=\"27:1-27:54\"\u003e公式の例ではこのようになっています。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"toml\" data-sourcepos=\"29:1-31:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eCargo.toml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"py\"\u003esea-orm\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"py\"\u003eversion\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"0.12\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"py\"\u003efeatures\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e \u003cspan class=\"err\"\u003e\u0026lt;DATABASE_DRIVER\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"err\"\u003e\u0026lt;ASYNC_RUNTIME\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"macros\"\u003c/span\u003e \u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"33:1-34:74\"\u003eDBはpostgresqlを選んでいるので、\u003ccode\u003e\u0026lt;DATABASE_DRIVER\u0026gt;\u003c/code\u003eには\u003ccode\u003esqlx-postgres\u003c/code\u003eを選択し、\u003cbr\u003e\n\u003ccode\u003e\u0026lt;ASYNC_RUNTIME\u0026gt;\u003c/code\u003eには\u003ccode\u003eruntime-async-std-native-tls\u003c/code\u003eを設定します。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"toml\" data-sourcepos=\"36:1-38:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eCargo.toml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"py\"\u003esea-orm\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"py\"\u003eversion\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"^0.12.0\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"py\"\u003efeatures\u003c/span\u003e \u003cspan class=\"p\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e \u003cspan class=\"s\"\u003e\"sqlx-postgres\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"runtime-async-std-native-tls\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"macros\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s\"\u003e\"mock\"\u003c/span\u003e \u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"39:1-39:33\"\u003eこのようになりました。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"41:1-41:22\"\u003e\n\u003cspan id=\"database-connection\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#database-connection\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eDatabase Connection\u003c/h2\u003e\n\u003cp data-sourcepos=\"43:1-43:35\"\u003e次にDatabaseと接続します。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"rust\" data-sourcepos=\"45:1-51:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eblog/src/driver/blog_driver.rs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nd\"\u003e#[mry::mry]\u003c/span\u003e\n\u003cspan class=\"k\"\u003epub\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"k\"\u003efn\u003c/span\u003e \u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"k\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eEyreResult\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eBlogsJson\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003elet\u003c/span\u003e \u003cspan class=\"n\"\u003edb_url\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"postgres://blog:blog@localhost:5432/blog\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003elet\u003c/span\u003e \u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eDatabaseConnection\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nn\"\u003eDatabase\u003c/span\u003e\u003cspan class=\"p\"\u003e::\u003c/span\u003e\u003cspan class=\"nf\"\u003econnect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edb_url\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"k\"\u003e.await\u003c/span\u003e\u003cspan class=\"o\"\u003e?\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"53:1-54:108\"\u003eこのように設定します。\u003cbr\u003e\n\u003ccode\u003edb\u003c/code\u003eだけ別にしたり、\u003ccode\u003edb_url\u003c/code\u003eを環境変数にしたりということはするべきでしょう。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"56:1-56:39\"\u003e\n\u003cspan id=\"generate-entities-with-sea-orm-cli\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#generate-entities-with-sea-orm-cli\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGenerate Entities With \u003ccode\u003esea-orm-cli\u003c/code\u003e\n\u003c/h2\u003e\n\u003cp data-sourcepos=\"58:1-58:55\"\u003eまず、\u003ccode\u003esea-orm-cli\u003c/code\u003eをインストールします。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"60:1-62:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003ecargo \u003cspan class=\"nb\"\u003einstall \u003c/span\u003esea-orm-cli\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"64:1-64:84\"\u003eインストールが完了したら、エンティティを作成しましょう！\u003c/p\u003e\n\u003cdiv data-sourcepos=\"66:1-69:3\" class=\"note warn\"\u003e\n\u003cspan class=\"fa fa-fw fa-exclamation-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"67:1-68:112\"\u003e実行前にDBを起動するのを忘れないようにしましょう\u003cbr\u003e\nPostgresqlに関しては\u003ca href=\"https://qiita.com/maaaashi/items/5ac7cb6f8791f00b4972\" id=\"reference-8c3096ffb76216e65e07\"\u003eDay 18\u003c/a\u003eで作成しています\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"71:1-73:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003esea-orm-cli generate entity \u003cspan class=\"nt\"\u003e-u\u003c/span\u003e postgres://blog:blog@localhost/blog \u003cspan class=\"nt\"\u003e-o\u003c/span\u003e ./blog/src/entity\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"75:1-75:66\"\u003e実行すると以下のようなファイルが作成されます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"77:1-82:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eblog/src/entiry\n├── blog.rs\n├── mod.rs\n└── prelude.rs\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"rust\" data-sourcepos=\"84:1-90:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003emod.rs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"cd\"\u003e//! `SeaORM` Entity. Generated by sea-orm-codegen 0.12.6\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epub\u003c/span\u003e \u003cspan class=\"k\"\u003emod\u003c/span\u003e \u003cspan class=\"n\"\u003eprelude\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epub\u003c/span\u003e \u003cspan class=\"k\"\u003emod\u003c/span\u003e \u003cspan class=\"n\"\u003eblog\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"rust\" data-sourcepos=\"92:1-96:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eprelude.rs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"cd\"\u003e//! `SeaORM` Entity. Generated by sea-orm-codegen 0.12.6\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003epub\u003c/span\u003e \u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"k\"\u003esuper\u003c/span\u003e\u003cspan class=\"p\"\u003e::\u003c/span\u003e\u003cspan class=\"nn\"\u003eblog\u003c/span\u003e\u003cspan class=\"p\"\u003e::\u003c/span\u003e\u003cspan class=\"n\"\u003eEntity\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003eBlog\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"rust\" data-sourcepos=\"98:1-119:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eblog.rs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"cd\"\u003e//! `SeaORM` Entity. Generated by sea-orm-codegen 0.12.6\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"nn\"\u003esea_orm\u003c/span\u003e\u003cspan class=\"p\"\u003e::\u003c/span\u003e\u003cspan class=\"nn\"\u003eentity\u003c/span\u003e\u003cspan class=\"p\"\u003e::\u003c/span\u003e\u003cspan class=\"nn\"\u003eprelude\u003c/span\u003e\u003cspan class=\"p\"\u003e::\u003c/span\u003e\u003cspan class=\"o\"\u003e*\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"nd\"\u003e#[derive(Clone,\u003c/span\u003e \u003cspan class=\"nd\"\u003eDebug,\u003c/span\u003e \u003cspan class=\"nd\"\u003ePartialEq,\u003c/span\u003e \u003cspan class=\"nd\"\u003eDeriveEntityModel,\u003c/span\u003e \u003cspan class=\"nd\"\u003eEq)]\u003c/span\u003e\n\u003cspan class=\"nd\"\u003e#[sea_orm(table_name\u003c/span\u003e \u003cspan class=\"nd\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"blog\"\u003c/span\u003e\u003cspan class=\"nd\"\u003e)]\u003c/span\u003e\n\u003cspan class=\"k\"\u003epub\u003c/span\u003e \u003cspan class=\"k\"\u003estruct\u003c/span\u003e \u003cspan class=\"n\"\u003eModel\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nd\"\u003e#[sea_orm(primary_key,\u003c/span\u003e \u003cspan class=\"nd\"\u003eauto_increment\u003c/span\u003e \u003cspan class=\"nd\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003efalse\u003c/span\u003e\u003cspan class=\"nd\"\u003e)]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epub\u003c/span\u003e \u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eUuid\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epub\u003c/span\u003e \u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epub\u003c/span\u003e \u003cspan class=\"n\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"nd\"\u003e#[sea_orm(column_type\u003c/span\u003e \u003cspan class=\"nd\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"Text\"\u003c/span\u003e\u003cspan class=\"nd\"\u003e)]\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epub\u003c/span\u003e \u003cspan class=\"n\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epub\u003c/span\u003e \u003cspan class=\"n\"\u003ecreated_at\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"nd\"\u003e#[derive(Copy,\u003c/span\u003e \u003cspan class=\"nd\"\u003eClone,\u003c/span\u003e \u003cspan class=\"nd\"\u003eDebug,\u003c/span\u003e \u003cspan class=\"nd\"\u003eEnumIter,\u003c/span\u003e \u003cspan class=\"nd\"\u003eDeriveRelation)]\u003c/span\u003e\n\u003cspan class=\"k\"\u003epub\u003c/span\u003e \u003cspan class=\"k\"\u003eenum\u003c/span\u003e \u003cspan class=\"n\"\u003eRelation\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eimpl\u003c/span\u003e \u003cspan class=\"n\"\u003eActiveModelBehavior\u003c/span\u003e \u003cspan class=\"k\"\u003efor\u003c/span\u003e \u003cspan class=\"n\"\u003eActiveModel\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"121:1-121:15\"\u003e\n\u003cspan id=\"driver実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#driver%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eDriver実装\u003c/h2\u003e\n\u003cp data-sourcepos=\"123:1-123:86\"\u003e作成したEntityを使って、DBから、ブログデータの取得をします。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"rust\" data-sourcepos=\"125:1-148:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eblog/src/driver/blog_driver.rs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003euse\u003c/span\u003e \u003cspan class=\"k\"\u003ecrate\u003c/span\u003e\u003cspan class=\"p\"\u003e::\u003c/span\u003e\u003cspan class=\"nn\"\u003eentity\u003c/span\u003e\u003cspan class=\"p\"\u003e::\u003c/span\u003e\u003cspan class=\"nn\"\u003eblog\u003c/span\u003e\u003cspan class=\"p\"\u003e::\u003c/span\u003e\u003cspan class=\"n\"\u003eEntity\u003c/span\u003e \u003cspan class=\"k\"\u003eas\u003c/span\u003e \u003cspan class=\"n\"\u003eBlogEntity\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"nd\"\u003e#[mry::mry]\u003c/span\u003e\n\u003cspan class=\"k\"\u003epub\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"k\"\u003efn\u003c/span\u003e \u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"k\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003eEyreResult\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"n\"\u003eBlogsJson\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003elet\u003c/span\u003e \u003cspan class=\"n\"\u003edb_url\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s\"\u003e\"postgres://blog:blog@localhost:5432/blog\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003elet\u003c/span\u003e \u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eDatabaseConnection\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nn\"\u003eDatabase\u003c/span\u003e\u003cspan class=\"p\"\u003e::\u003c/span\u003e\u003cspan class=\"nf\"\u003econnect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003edb_url\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"k\"\u003e.await\u003c/span\u003e\u003cspan class=\"o\"\u003e?\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003elet\u003c/span\u003e \u003cspan class=\"n\"\u003eblogs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nn\"\u003eBlogEntity\u003c/span\u003e\u003cspan class=\"p\"\u003e::\u003c/span\u003e\u003cspan class=\"nf\"\u003efind\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"nf\"\u003e.all\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"n\"\u003edb\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"k\"\u003e.await\u003c/span\u003e\u003cspan class=\"nf\"\u003e.unwrap\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003elet\u003c/span\u003e \u003cspan class=\"n\"\u003eblogs_json\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003eBlogsJson\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"n\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eblogs\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003e.into_iter\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003e.map\u003c/span\u003e\u003cspan class=\"p\"\u003e(|\u003c/span\u003e\u003cspan class=\"n\"\u003eblog\u003c/span\u003e\u003cspan class=\"p\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003eBlogJson\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eblog\u003c/span\u003e\u003cspan class=\"py\"\u003e.id\u003c/span\u003e\u003cspan class=\"nf\"\u003e.to_string\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e\n                \u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eblog\u003c/span\u003e\u003cspan class=\"py\"\u003e.title\u003c/span\u003e\u003cspan class=\"nf\"\u003e.to_string\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e\n                \u003cspan class=\"n\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eblog\u003c/span\u003e\u003cspan class=\"py\"\u003e.author\u003c/span\u003e\u003cspan class=\"nf\"\u003e.to_string\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eblog\u003c/span\u003e\u003cspan class=\"py\"\u003e.body\u003c/span\u003e\u003cspan class=\"nf\"\u003e.to_string\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e\n                \u003cspan class=\"n\"\u003ecreated_at\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eblog\u003c/span\u003e\u003cspan class=\"py\"\u003e.created_at\u003c/span\u003e\u003cspan class=\"nf\"\u003e.to_string\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003e.collect\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003eOk\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eblogs_json\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"150:1-150:110\"\u003eこれで昨日と合わせて\u003ccode\u003eRest\u003c/code\u003e, \u003ccode\u003eUsecase\u003c/code\u003e, \u003ccode\u003eGateway\u003c/code\u003e, \u003ccode\u003eDriver\u003c/code\u003eのすべての実装が終わりました\u003c/p\u003e\n\u003cp data-sourcepos=\"152:1-152:117\"\u003e\u003ca href=\"https://qiita.com/maaaashi/items/25817610bb1175d48599\" id=\"reference-cf60b0bd3a9bd36f4c56\"\u003e【Day 19】\u003c/a\u003eで作成したE2Eテストを流してみます\u003c/p\u003e\n\u003cdiv data-sourcepos=\"154:1-169:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"155:1-155:78\"\u003e参考として、テストスペックファイルを載せておきます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"markdown\" data-sourcepos=\"156:1-168:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ee2e/specs/blog.spec\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"gh\"\u003e# Blog E2E\u003c/span\u003e\n\n\u003cspan class=\"gu\"\u003e## Get Blogs\u003c/span\u003e\n\u003cspan class=\"p\"\u003e\n*\u003c/span\u003e URL\"http://localhost:3000/blogs\"にGETリクエストを送る\n\u003cspan class=\"p\"\u003e*\u003c/span\u003e レスポンスステータスコードが\"200\"である\n\u003cspan class=\"p\"\u003e*\u003c/span\u003e レスポンス内JsonBodyの\"blogs[0].id\"が文字列の\"123e4567-e89b-12d3-a456-426614174000\"である\n\u003cspan class=\"p\"\u003e*\u003c/span\u003e レスポンス内JsonBodyの\"blogs[0].title\"が文字列の\"カフェの隅で見つけた幸せ：私のお気に入りの隠れ家\"である\n\u003cspan class=\"p\"\u003e*\u003c/span\u003e レスポンス内JsonBodyの\"blogs[0].author\"が文字列の\"田中太郎\"である\n\u003cspan class=\"p\"\u003e*\u003c/span\u003e レスポンス内JsonBodyの\"blogs[0].body\"が文字列の\"ブログの本文\"である\n\u003cspan class=\"p\"\u003e*\u003c/span\u003e レスポンス内JsonBodyの\"blogs[0].createdAt\"が文字列の\"2023-12-09 09:00:00\"である\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"173:1-177:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egauge run specs\n\u003cspan class=\"c\"\u003e# Blog E2E\u003c/span\u003e\n  \u003cspan class=\"c\"\u003e## Get Blogs   ✔ ✔ ✔ ✔ ✔ ✔ ✔\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"180:1-181:95\"\u003eすべて通りました👍\u003cbr\u003e\n無事DBからデータを取得し、Rest層がJSONデータを返しているようです👍\u003c/p\u003e\n\u003cp data-sourcepos=\"183:1-183:78\"\u003e明日、明後日でアドベントカレンダーも終了を迎えます。\u003c/p\u003e\n\u003cp data-sourcepos=\"185:1-185:294\"\u003eLifeSyncのアプリケーションとしてはトップページでブログの一覧を見せることまでしか機能の作りこみはできていませんが、残りの2日間を使ってK8s環境でWeb, Bff, API, DBのすべてが起動するようにしていこうと思います👍\u003c/p\u003e\n",
    "body": "## はじめに\n\n![スライド24.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/692fc214-724c-35b3-3200-f522f06983f5.png)\n---\n\n**2023年アドベントカレンダー23日目**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n本日は昨日に引き続き、「ユーザーはトップページでブログタイトルの一覧を見ることができる」を進めていきます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6eb0ef2a-c7f4-7a75-add7-a866d28b214d.png)\n\n昨日はDriver以外の実装をしたので、今日はDriverの実装を進めていきます。\n\n## SeaORM\n\n### SeaORMとは\n\nSeaORMとは、RustのORMです。\n最近SeaORMをよく見る気がするので、使ってみようと思います\n\nhttps://www.sea-ql.org/SeaORM/\n\n## 依存関係の追加\n\n公式の例ではこのようになっています。\n\n```toml:Cargo.toml\nsea-orm = { version = \"0.12\", features = [ \u003cDATABASE_DRIVER\u003e, \u003cASYNC_RUNTIME\u003e, \"macros\" ] }\n```\n\nDBはpostgresqlを選んでいるので、`\u003cDATABASE_DRIVER\u003e`には`sqlx-postgres`を選択し、\n`\u003cASYNC_RUNTIME\u003e`には`runtime-async-std-native-tls`を設定します。\n\n```toml:Cargo.toml\nsea-orm = { version = \"^0.12.0\", features = [ \"sqlx-postgres\", \"runtime-async-std-native-tls\", \"macros\", \"mock\" ] }\n```\nこのようになりました。\n\n## Database Connection\n\n次にDatabaseと接続します。\n\n```rust:blog/src/driver/blog_driver.rs\n#[mry::mry]\npub async fn get() -\u003e EyreResult\u003cBlogsJson\u003e {\n    let db_url = \"postgres://blog:blog@localhost:5432/blog\";\n    let db: DatabaseConnection = Database::connect(db_url).await?;\n}\n```\n\nこのように設定します。\n`db`だけ別にしたり、`db_url`を環境変数にしたりということはするべきでしょう。\n\n## Generate Entities With `sea-orm-cli`\n\nまず、`sea-orm-cli`をインストールします。\n\n```bash\ncargo install sea-orm-cli\n```\n\nインストールが完了したら、エンティティを作成しましょう！\n\n:::note warn\n実行前にDBを起動するのを忘れないようにしましょう\nPostgresqlに関しては[Day 18](https://qiita.com/maaaashi/items/5ac7cb6f8791f00b4972)で作成しています\n:::\n\n```bash\nsea-orm-cli generate entity -u postgres://blog:blog@localhost/blog -o ./blog/src/entity\n```\n\n実行すると以下のようなファイルが作成されます\n\n```\nblog/src/entiry\n├── blog.rs\n├── mod.rs\n└── prelude.rs\n```\n\n```rust:mod.rs\n//! `SeaORM` Entity. Generated by sea-orm-codegen 0.12.6\n\npub mod prelude;\n\npub mod blog;\n```\n\n```rust:prelude.rs\n//! `SeaORM` Entity. Generated by sea-orm-codegen 0.12.6\n\npub use super::blog::Entity as Blog;\n```\n\n```rust:blog.rs\n//! `SeaORM` Entity. Generated by sea-orm-codegen 0.12.6\n\nuse sea_orm::entity::prelude::*;\n\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Eq)]\n#[sea_orm(table_name = \"blog\")]\npub struct Model {\n    #[sea_orm(primary_key, auto_increment = false)]\n    pub id: Uuid,\n    pub title: String,\n    pub author: String,\n    #[sea_orm(column_type = \"Text\")]\n    pub body: String,\n    pub created_at: String,\n}\n\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\npub enum Relation {}\n\nimpl ActiveModelBehavior for ActiveModel {}\n```\n\n## Driver実装\n\n作成したEntityを使って、DBから、ブログデータの取得をします。\n\n```rust:blog/src/driver/blog_driver.rs\nuse crate::entity::blog::Entity as BlogEntity;\n\n#[mry::mry]\npub async fn get() -\u003e EyreResult\u003cBlogsJson\u003e {\n    let db_url = \"postgres://blog:blog@localhost:5432/blog\";\n    let db: DatabaseConnection = Database::connect(db_url).await?;\n    let blogs = BlogEntity::find().all(\u0026db).await.unwrap();\n\n    let blogs_json = BlogsJson {\n        blogs: blogs\n            .into_iter()\n            .map(|blog| BlogJson {\n                id: blog.id.to_string(),\n                title: blog.title.to_string(),\n                author: blog.author.to_string(),\n                body: blog.body.to_string(),\n                created_at: blog.created_at.to_string(),\n            })\n            .collect(),\n    };\n    Ok(blogs_json)\n}\n```\n\nこれで昨日と合わせて`Rest`, `Usecase`, `Gateway`, `Driver`のすべての実装が終わりました\n\n[【Day 19】](https://qiita.com/maaaashi/items/25817610bb1175d48599)で作成したE2Eテストを流してみます\n\n:::note\n参考として、テストスペックファイルを載せておきます。\n```markdown:e2e/specs/blog.spec\n# Blog E2E\n\n## Get Blogs\n\n* URL\"http://localhost:3000/blogs\"にGETリクエストを送る\n* レスポンスステータスコードが\"200\"である\n* レスポンス内JsonBodyの\"blogs[0].id\"が文字列の\"123e4567-e89b-12d3-a456-426614174000\"である\n* レスポンス内JsonBodyの\"blogs[0].title\"が文字列の\"カフェの隅で見つけた幸せ：私のお気に入りの隠れ家\"である\n* レスポンス内JsonBodyの\"blogs[0].author\"が文字列の\"田中太郎\"である\n* レスポンス内JsonBodyの\"blogs[0].body\"が文字列の\"ブログの本文\"である\n* レスポンス内JsonBodyの\"blogs[0].createdAt\"が文字列の\"2023-12-09 09:00:00\"である\n```\n:::\n\n\n\n```bash\n$ gauge run specs\n# Blog E2E\n  ## Get Blogs   ✔ ✔ ✔ ✔ ✔ ✔ ✔\n```\n\n\nすべて通りました👍\n無事DBからデータを取得し、Rest層がJSONデータを返しているようです👍\n\n明日、明後日でアドベントカレンダーも終了を迎えます。\n\nLifeSyncのアプリケーションとしてはトップページでブログの一覧を見せることまでしか機能の作りこみはできていませんが、残りの2日間を使ってK8s環境でWeb, Bff, API, DBのすべてが起動するようにしていこうと思います👍\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-12-21T23:29:56+09:00",
    "group": null,
    "id": "f85f173cdf1ab3fe6e0d",
    "likes_count": 3,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "Rust", "versions": [] },
      { "name": "SeaORM", "versions": [] }
    ],
    "title": "【Day 23】ブログ一覧を取得し、表示する - SeaORM",
    "updated_at": "2023-12-23T07:00:30+09:00",
    "url": "https://qiita.com/maaaashi/items/f85f173cdf1ab3fe6e0d",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-3:131\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fff60b5e6-310f-e808-6f97-cdb4f386889b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6a49a9871d39737e26c1453eb43e4517\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fff60b5e6-310f-e808-6f97-cdb4f386889b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6a49a9871d39737e26c1453eb43e4517\" alt=\"スライド22.PNG\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fff60b5e6-310f-e808-6f97-cdb4f386889b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=56f761c896d41305b081ba75f1ab0a1e 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/ff60b5e6-310f-e808-6f97-cdb4f386889b.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr data-sourcepos=\"6:1-7:0\"\u003e\n\u003cp data-sourcepos=\"8:1-8:58\"\u003e\u003cstrong\u003e2023年アドベントカレンダー20日目\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"10:1-10:52\"\u003e\u003ciframe id=\"qiita-embed-content__ee421338e517d6d58ff017efe51e61be\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__ee421338e517d6d58ff017efe51e61be\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"12:1-12:150\"\u003e昨日に引き続き、「ユーザーはトップページでブログタイトルの一覧を見ることができる」を進めていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"14:1-14:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6eb0ef2a-c7f4-7a75-add7-a866d28b214d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=95362395afde39dc61920669b1e12f63\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6eb0ef2a-c7f4-7a75-add7-a866d28b214d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=95362395afde39dc61920669b1e12f63\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6eb0ef2a-c7f4-7a75-add7-a866d28b214d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=01ba209fcfb17493331cbe1f2b0b7d0c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6eb0ef2a-c7f4-7a75-add7-a866d28b214d.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"16:1-16:100\"\u003e現在はRustのAPIを作成しており、本日はアーキテクチャを検討していきます\u003c/p\u003e\n\u003ch2 data-sourcepos=\"18:1-18:30\"\u003e\n\u003cspan id=\"モジュラーモノリス\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%A9%E3%83%BC%E3%83%A2%E3%83%8E%E3%83%AA%E3%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eモジュラーモノリス\u003c/h2\u003e\n\u003cp data-sourcepos=\"20:1-20:210\"\u003eモジュラーモノリスとは、モノリシックな構造を持ちつつも内部でモジュールに分割されているのが特徴である、ソフトウェアアーキテクチャの一つです。\u003c/p\u003e\n\u003cp data-sourcepos=\"22:1-22:126\"\u003eソフトウェアアーキテクチャの一つで、簡潔にアプリケーションを表現することが可能です。\u003c/p\u003e\n\u003cp data-sourcepos=\"24:1-25:28\"\u003eアプリケーションが大きくなる際は、マイクロサービスのようなアーキテクチャを採用すると良いと思いますが、今回のAPIではそれほど複雑になる予定は今のところないので、モジュラーモノリスを選択しました。\u003cbr\u003e\n(作ってみたかった）\u003c/p\u003e\n\u003cp data-sourcepos=\"27:1-27:146\"\u003e今回は図のように\u003ccode\u003eブログモジュール\u003c/code\u003eだけで良さそうなので、ブログモジュールを持ったAPIを作っていきます\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fdfcab05e-8600-fbba-d69e-2101f138e7eb.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=de22e9f7c4caa8ef30b42c5f26b3f07d\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fdfcab05e-8600-fbba-d69e-2101f138e7eb.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=de22e9f7c4caa8ef30b42c5f26b3f07d\" width=\"400\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fdfcab05e-8600-fbba-d69e-2101f138e7eb.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=982cd199cac8b05b687d437ec0550c28 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/dfcab05e-8600-fbba-d69e-2101f138e7eb.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003ch3 data-sourcepos=\"31:1-31:28\"\u003e\n\u003cspan id=\"ディレクトリ構造\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E6%A7%8B%E9%80%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eディレクトリ構造\u003c/h3\u003e\n\u003cp data-sourcepos=\"33:1-33:94\"\u003eブログモジュールを持つ、RustのAPIのディレクトリ構造を考えました。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"35:1-45:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\n├── Cargo.lock\n├── Cargo.toml\n├── blog      ・・・・ブログモジュール\n|   ├── src/\n|   └── Cargo.toml\n├── db　　   　・・・・DB\n├── e2e　　　　・・・・E2Eテスト\n├── src       ・・・・メインモジュール\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"47:1-47:42\"\u003eこれをベースに作っていきます\u003c/p\u003e\n\u003ch2 data-sourcepos=\"49:1-49:36\"\u003e\n\u003cspan id=\"クリーンアーキテクチャ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eクリーンアーキテクチャ\u003c/h2\u003e\n\u003cp data-sourcepos=\"51:1-51:108\"\u003eWebと同様にクリーンアーキテクチャの思想に基づいてアプリを構築していきます\u003c/p\u003e\n\u003cp data-sourcepos=\"53:1-53:87\"\u003eクリーンアーキテクチャについては【Day 11】で解説しています。\u003c/p\u003e\n\u003cp data-sourcepos=\"55:1-55:53\"\u003e\u003ciframe id=\"qiita-embed-content__36694842c637c68e6a31f8447d00f2ac\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__36694842c637c68e6a31f8447d00f2ac\" data-content=\"https%3A%2F%2Fqiita.com%2Fmaaaashi%2Fitems%2F449709d121214c51eab1\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch3 data-sourcepos=\"57:1-57:28\"\u003e\n\u003cspan id=\"アーキテクチャ図\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E5%9B%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eアーキテクチャ図\u003c/h3\u003e\n\u003cp data-sourcepos=\"59:1-59:33\"\u003eこのようになりました。\u003c/p\u003e\n\u003cimg src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIxMDkzcHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo3MjZweDtoZWlnaHQ6MTA5M3B4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDcyNiAxMDkzIiB3aWR0aD0iNzI2cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48IS0tY2x1c3RlciBEb21haW5zLS0+PGcgaWQ9ImNsdXN0ZXJfRG9tYWlucyI+PHJlY3QgZmlsbD0iI0ZGRkZBQSIgaGVpZ2h0PSIzMDUuNzkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjY1MiIgeD0iNjgiIHk9IjciLz48cGF0aCBkPSJNMTQ1LDcgTDE0NSwxNi4yOTY5IEwxMzUsMjYuMjk2OSBMNjgsMjYuMjk2OSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NyIgeD0iNzEiIHk9IjIwLjk5NTEiPkRvbWFpbnM8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIFVzZWNhc2VzLS0+PGcgaWQ9ImNsdXN0ZXJfVXNlY2FzZXMiPjxyZWN0IGZpbGw9IiNGRkFBQUEiIGhlaWdodD0iMzAzLjU5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIyOTgiIHg9IjIzOSIgeT0iMzQ1Ljc5Ii8+PHBhdGggZD0iTTMyNSwzNDUuNzkgTDMyNSwzNTUuMDg2OSBMMzE1LDM2NS4wODY5IEwyMzksMzY1LjA4NjkgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzYiIHg9IjI0MiIgeT0iMzU5Ljc4NTEiPlVzZWNhc2VzPC90ZXh0PjwvZz48IS0tY2x1c3RlciBQb3J0LS0+PGcgaWQ9ImNsdXN0ZXJfUG9ydCI+PHBhdGggZD0iTTI2NS41LDUxMC4wOCBMMjk5LjUsNTEwLjA4IEEzLjc1LDMuNzUgMCAwIDEgMzAyLDUxMi41OCBMMzA5LDUzMi4zNzY5IEw1MTAuNSw1MzIuMzc2OSBBMi41LDIuNSAwIDAgMSA1MTMsNTM0Ljg3NjkgTDUxMyw2MjIuODggQTIuNSwyLjUgMCAwIDEgNTEwLjUsNjI1LjM4IEwyNjUuNSw2MjUuMzggQTIuNSwyLjUgMCAwIDEgMjYzLDYyMi44OCBMMjYzLDUxMi41OCBBMi41LDIuNSAwIDAgMSAyNjUuNSw1MTAuMDggIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIyNjMiIHgyPSIzMDkiIHkxPSI1MzIuMzc2OSIgeTI9IjUzMi4zNzY5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMzIiB4PSIyNjciIHk9IjUyNS4wNzUxIj5Qb3J0PC90ZXh0PjwvZz48IS0tY2x1c3RlciBHYXRld2F5cy0tPjxnIGlkPSJjbHVzdGVyX0dhdGV3YXlzIj48cmVjdCBmaWxsPSIjQUFGRkFBIiBoZWlnaHQ9IjExNS4zIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIyNTAiIHg9IjI2MyIgeT0iNjk4LjM4Ii8+PHBhdGggZD0iTTM1MSw2OTguMzggTDM1MSw3MDcuNjc2OSBMMzQxLDcxNy42NzY5IEwyNjMsNzE3LjY3NjkgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzgiIHg9IjI2NiIgeT0iNzEyLjM3NTEiPkdhdGV3YXlzPC90ZXh0PjwvZz48IS0tY2x1c3RlciBEcml2ZXJzLS0+PGcgaWQ9ImNsdXN0ZXJfRHJpdmVycyI+PHJlY3QgZmlsbD0iI0FBQUFGRiIgaGVpZ2h0PSIxMTUuMjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjIzNiIgeD0iMjcwIiB5PSI4NjIuNjgiLz48cGF0aCBkPSJNMzM3LDg2Mi42OCBMMzM3LDg3MS45NzY5IEwzMjcsODgxLjk3NjkgTDI3MCw4ODEuOTc2OSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NyIgeD0iMjczIiB5PSI4NzYuNjc1MSI+RHJpdmVyczwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgUmVzdC0tPjxnIGlkPSJjbHVzdGVyX1Jlc3QiPjxyZWN0IGZpbGw9IiNBQUFBRkYiIGhlaWdodD0iMTE1LjI5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIyMDgiIHg9IjciIHk9IjM0NS43OSIvPjxwYXRoIGQ9Ik01MiwzNDUuNzkgTDUyLDM1NS4wODY5IEw0MiwzNjUuMDg2OSBMNywzNjUuMDg2OSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNSIgeD0iMTAiIHk9IjM1OS43ODUxIj5SZXN0PC90ZXh0PjwvZz48IS0tY2xhc3MgQmxvZ0lkLS0+PGcgaWQ9ImVsZW1fQmxvZ0lkIj48cmVjdCBjb2RlTGluZT0iMiIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2NC4yOTY5IiBpZD0iQmxvZ0lkIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI4MyIgeD0iODQuNSIgeT0iNDIiLz48ZWxsaXBzZSBjeD0iMTAzLjEiIGN5PSI1OCIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0xMDYuMDY4OCw2My42NDA2IFExMDUuNDkwNiw2My45Mzc1IDEwNC44NSw2NC4wNzgxIFExMDQuMjA5NCw2NC4yMzQ0IDEwMy41MDYzLDY0LjIzNDQgUTEwMS4wMDYzLDY0LjIzNDQgOTkuNjc4MSw2Mi41OTM4IFE5OC4zNjU2LDYwLjkzNzUgOTguMzY1Niw1Ny44MTI1IFE5OC4zNjU2LDU0LjY4NzUgOTkuNjc4MSw1My4wMzEzIFExMDEuMDA2Myw1MS4zNzUgMTAzLjUwNjMsNTEuMzc1IFExMDQuMjA5NCw1MS4zNzUgMTA0Ljg1LDUxLjUzMTMgUTEwNS41MDYzLDUxLjY4NzUgMTA2LjA2ODgsNTEuOTg0NCBMMTA2LjA2ODgsNTQuNzAzMSBRMTA1LjQ0MzgsNTQuMTI1IDEwNC44NSw1My44NTk0IFExMDQuMjU2Myw1My41NzgxIDEwMy42MzEzLDUzLjU3ODEgUTEwMi4yODc1LDUzLjU3ODEgMTAxLjYsNTQuNjU2MyBRMTAwLjkxMjUsNTUuNzE4OCAxMDAuOTEyNSw1Ny44MTI1IFExMDAuOTEyNSw1OS45MDYzIDEwMS42LDYwLjk4NDQgUTEwMi4yODc1LDYyLjA0NjkgMTAzLjYzMTMsNjIuMDQ2OSBRMTA0LjI1NjMsNjIuMDQ2OSAxMDQuODUsNjEuNzgxMyBRMTA1LjQ0MzgsNjEuNSAxMDYuMDY4OCw2MC45MjE5IEwxMDYuMDY4OCw2My42NDA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDMiIHg9IjExNy45IiB5PSI2Mi44NDY3Ij5CbG9nSWQ8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iODUuNSIgeDI9IjE2Ni41IiB5MT0iNzQiIHkyPSI3NCIvPjxlbGxpcHNlIGN4PSI5NS41IiBjeT0iODcuNjQ4NCIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NyIgeD0iMTA0LjUiIHk9IjkwLjk5NTEiPjA6IHN0cmluZzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI4NS41IiB4Mj0iMTY2LjUiIHkxPSI5OC4yOTY5IiB5Mj0iOTguMjk2OSIvPjwvZz48IS0tY2xhc3MgQmxvZ1RpdGxlLS0+PGcgaWQ9ImVsZW1fQmxvZ1RpdGxlIj48cmVjdCBjb2RlTGluZT0iNSIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2NC4yOTY5IiBpZD0iQmxvZ1RpdGxlIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI5MiIgeD0iMjAzIiB5PSI0MiIvPjxlbGxpcHNlIGN4PSIyMTgiIGN5PSI1OCIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0yMjAuOTY4OCw2My42NDA2IFEyMjAuMzkwNiw2My45Mzc1IDIxOS43NSw2NC4wNzgxIFEyMTkuMTA5NCw2NC4yMzQ0IDIxOC40MDYzLDY0LjIzNDQgUTIxNS45MDYzLDY0LjIzNDQgMjE0LjU3ODEsNjIuNTkzOCBRMjEzLjI2NTYsNjAuOTM3NSAyMTMuMjY1Niw1Ny44MTI1IFEyMTMuMjY1Niw1NC42ODc1IDIxNC41NzgxLDUzLjAzMTMgUTIxNS45MDYzLDUxLjM3NSAyMTguNDA2Myw1MS4zNzUgUTIxOS4xMDk0LDUxLjM3NSAyMTkuNzUsNTEuNTMxMyBRMjIwLjQwNjMsNTEuNjg3NSAyMjAuOTY4OCw1MS45ODQ0IEwyMjAuOTY4OCw1NC43MDMxIFEyMjAuMzQzOCw1NC4xMjUgMjE5Ljc1LDUzLjg1OTQgUTIxOS4xNTYzLDUzLjU3ODEgMjE4LjUzMTMsNTMuNTc4MSBRMjE3LjE4NzUsNTMuNTc4MSAyMTYuNSw1NC42NTYzIFEyMTUuODEyNSw1NS43MTg4IDIxNS44MTI1LDU3LjgxMjUgUTIxNS44MTI1LDU5LjkwNjMgMjE2LjUsNjAuOTg0NCBRMjE3LjE4NzUsNjIuMDQ2OSAyMTguNTMxMyw2Mi4wNDY5IFEyMTkuMTU2Myw2Mi4wNDY5IDIxOS43NSw2MS43ODEzIFEyMjAuMzQzOCw2MS41IDIyMC45Njg4LDYwLjkyMTkgTDIyMC45Njg4LDYzLjY0MDYgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2MCIgeD0iMjMyIiB5PSI2Mi44NDY3Ij5CbG9nVGl0bGU8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjA0IiB4Mj0iMjk0IiB5MT0iNzQiIHkyPSI3NCIvPjxlbGxpcHNlIGN4PSIyMTQiIGN5PSI4Ny42NDg0IiBmaWxsPSJub25lIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU3IiB4PSIyMjMiIHk9IjkwLjk5NTEiPjA6IHN0cmluZzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyMDQiIHgyPSIyOTQiIHkxPSI5OC4yOTY5IiB5Mj0iOTguMjk2OSIvPjwvZz48IS0tY2xhc3MgQmxvZ0F1dGhvci0tPjxnIGlkPSJlbGVtX0Jsb2dBdXRob3IiPjxyZWN0IGNvZGVMaW5lPSI4IiBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjY0LjI5NjkiIGlkPSJCbG9nQXV0aG9yIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDkiIHg9IjMzMC41IiB5PSI0MiIvPjxlbGxpcHNlIGN4PSIzNDUuNSIgY3k9IjU4IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTM0OC40Njg4LDYzLjY0MDYgUTM0Ny44OTA2LDYzLjkzNzUgMzQ3LjI1LDY0LjA3ODEgUTM0Ni42MDk0LDY0LjIzNDQgMzQ1LjkwNjMsNjQuMjM0NCBRMzQzLjQwNjMsNjQuMjM0NCAzNDIuMDc4MSw2Mi41OTM4IFEzNDAuNzY1Niw2MC45Mzc1IDM0MC43NjU2LDU3LjgxMjUgUTM0MC43NjU2LDU0LjY4NzUgMzQyLjA3ODEsNTMuMDMxMyBRMzQzLjQwNjMsNTEuMzc1IDM0NS45MDYzLDUxLjM3NSBRMzQ2LjYwOTQsNTEuMzc1IDM0Ny4yNSw1MS41MzEzIFEzNDcuOTA2Myw1MS42ODc1IDM0OC40Njg4LDUxLjk4NDQgTDM0OC40Njg4LDU0LjcwMzEgUTM0Ny44NDM4LDU0LjEyNSAzNDcuMjUsNTMuODU5NCBRMzQ2LjY1NjMsNTMuNTc4MSAzNDYuMDMxMyw1My41NzgxIFEzNDQuNjg3NSw1My41NzgxIDM0NCw1NC42NTYzIFEzNDMuMzEyNSw1NS43MTg4IDM0My4zMTI1LDU3LjgxMjUgUTM0My4zMTI1LDU5LjkwNjMgMzQ0LDYwLjk4NDQgUTM0NC42ODc1LDYyLjA0NjkgMzQ2LjAzMTMsNjIuMDQ2OSBRMzQ2LjY1NjMsNjIuMDQ2OSAzNDcuMjUsNjEuNzgxMyBRMzQ3Ljg0MzgsNjEuNSAzNDguNDY4OCw2MC45MjE5IEwzNDguNDY4OCw2My42NDA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzciIHg9IjM1OS41IiB5PSI2Mi44NDY3Ij5CbG9nQXV0aG9yPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjMzMS41IiB4Mj0iNDM4LjUiIHkxPSI3NCIgeTI9Ijc0Ii8+PGVsbGlwc2UgY3g9IjM0MS41IiBjeT0iODcuNjQ4NCIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NyIgeD0iMzUwLjUiIHk9IjkwLjk5NTEiPjA6IHN0cmluZzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIzMzEuNSIgeDI9IjQzOC41IiB5MT0iOTguMjk2OSIgeTI9Ijk4LjI5NjkiLz48L2c+PCEtLWNsYXNzIEJsb2dCb2R5LS0+PGcgaWQ9ImVsZW1fQmxvZ0JvZHkiPjxyZWN0IGNvZGVMaW5lPSIxMSIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2NC4yOTY5IiBpZD0iQmxvZ0JvZHkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9Ijk4IiB4PSI0NzUiIHk9IjQyIi8+PGVsbGlwc2UgY3g9IjQ5MCIgY3k9IjU4IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTQ5Mi45Njg4LDYzLjY0MDYgUTQ5Mi4zOTA2LDYzLjkzNzUgNDkxLjc1LDY0LjA3ODEgUTQ5MS4xMDk0LDY0LjIzNDQgNDkwLjQwNjMsNjQuMjM0NCBRNDg3LjkwNjMsNjQuMjM0NCA0ODYuNTc4MSw2Mi41OTM4IFE0ODUuMjY1Niw2MC45Mzc1IDQ4NS4yNjU2LDU3LjgxMjUgUTQ4NS4yNjU2LDU0LjY4NzUgNDg2LjU3ODEsNTMuMDMxMyBRNDg3LjkwNjMsNTEuMzc1IDQ5MC40MDYzLDUxLjM3NSBRNDkxLjEwOTQsNTEuMzc1IDQ5MS43NSw1MS41MzEzIFE0OTIuNDA2Myw1MS42ODc1IDQ5Mi45Njg4LDUxLjk4NDQgTDQ5Mi45Njg4LDU0LjcwMzEgUTQ5Mi4zNDM4LDU0LjEyNSA0OTEuNzUsNTMuODU5NCBRNDkxLjE1NjMsNTMuNTc4MSA0OTAuNTMxMyw1My41NzgxIFE0ODkuMTg3NSw1My41NzgxIDQ4OC41LDU0LjY1NjMgUTQ4Ny44MTI1LDU1LjcxODggNDg3LjgxMjUsNTcuODEyNSBRNDg3LjgxMjUsNTkuOTA2MyA0ODguNSw2MC45ODQ0IFE0ODkuMTg3NSw2Mi4wNDY5IDQ5MC41MzEzLDYyLjA0NjkgUTQ5MS4xNTYzLDYyLjA0NjkgNDkxLjc1LDYxLjc4MTMgUTQ5Mi4zNDM4LDYxLjUgNDkyLjk2ODgsNjAuOTIxOSBMNDkyLjk2ODgsNjMuNjQwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY2IiB4PSI1MDQiIHk9IjYyLjg0NjciPkJsb2dCb2R5PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjQ3NiIgeDI9IjU3MiIgeTE9Ijc0IiB5Mj0iNzQiLz48ZWxsaXBzZSBjeD0iNDg2IiBjeT0iODcuNjQ4NCIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NyIgeD0iNDk1IiB5PSI5MC45OTUxIj4wOiBzdHJpbmc8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNDc2IiB4Mj0iNTcyIiB5MT0iOTguMjk2OSIgeTI9Ijk4LjI5NjkiLz48L2c+PCEtLWNsYXNzIEJsb2dEYXRlLS0+PGcgaWQ9ImVsZW1fQmxvZ0RhdGUiPjxyZWN0IGNvZGVMaW5lPSIxNCIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2NC4yOTY5IiBpZD0iQmxvZ0RhdGUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9Ijk2IiB4PSI2MDgiIHk9IjQyIi8+PGVsbGlwc2UgY3g9IjYyMyIgY3k9IjU4IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTYyNS45Njg4LDYzLjY0MDYgUTYyNS4zOTA2LDYzLjkzNzUgNjI0Ljc1LDY0LjA3ODEgUTYyNC4xMDk0LDY0LjIzNDQgNjIzLjQwNjMsNjQuMjM0NCBRNjIwLjkwNjMsNjQuMjM0NCA2MTkuNTc4MSw2Mi41OTM4IFE2MTguMjY1Niw2MC45Mzc1IDYxOC4yNjU2LDU3LjgxMjUgUTYxOC4yNjU2LDU0LjY4NzUgNjE5LjU3ODEsNTMuMDMxMyBRNjIwLjkwNjMsNTEuMzc1IDYyMy40MDYzLDUxLjM3NSBRNjI0LjEwOTQsNTEuMzc1IDYyNC43NSw1MS41MzEzIFE2MjUuNDA2Myw1MS42ODc1IDYyNS45Njg4LDUxLjk4NDQgTDYyNS45Njg4LDU0LjcwMzEgUTYyNS4zNDM4LDU0LjEyNSA2MjQuNzUsNTMuODU5NCBRNjI0LjE1NjMsNTMuNTc4MSA2MjMuNTMxMyw1My41NzgxIFE2MjIuMTg3NSw1My41NzgxIDYyMS41LDU0LjY1NjMgUTYyMC44MTI1LDU1LjcxODggNjIwLjgxMjUsNTcuODEyNSBRNjIwLjgxMjUsNTkuOTA2MyA2MjEuNSw2MC45ODQ0IFE2MjIuMTg3NSw2Mi4wNDY5IDYyMy41MzEzLDYyLjA0NjkgUTYyNC4xNTYzLDYyLjA0NjkgNjI0Ljc1LDYxLjc4MTMgUTYyNS4zNDM4LDYxLjUgNjI1Ljk2ODgsNjAuOTIxOSBMNjI1Ljk2ODgsNjMuNjQwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY0IiB4PSI2MzciIHk9IjYyLjg0NjciPkJsb2dEYXRlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjYwOSIgeDI9IjcwMyIgeTE9Ijc0IiB5Mj0iNzQiLz48ZWxsaXBzZSBjeD0iNjE5IiBjeT0iODcuNjQ4NCIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1MSIgeD0iNjI4IiB5PSI5MC45OTUxIj4wOiBEYXRlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjYwOSIgeDI9IjcwMyIgeTE9Ijk4LjI5NjkiIHkyPSI5OC4yOTY5Ii8+PC9nPjwhLS1jbGFzcyBCbG9nLS0+PGcgaWQ9ImVsZW1fQmxvZyI+PHJlY3QgY29kZUxpbmU9IjE3IiBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjEyOS40ODQ0IiBpZD0iQmxvZyIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTY2IiB4PSIzMDIiIHk9IjE2Ny4zIi8+PGVsbGlwc2UgY3g9IjM2NS4yNSIgY3k9IjE4My4zIiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTM2OC4yMTg4LDE4OC45NDA2IFEzNjcuNjQwNiwxODkuMjM3NSAzNjcsMTg5LjM3ODEgUTM2Ni4zNTk0LDE4OS41MzQ0IDM2NS42NTYzLDE4OS41MzQ0IFEzNjMuMTU2MywxODkuNTM0NCAzNjEuODI4MSwxODcuODkzNyBRMzYwLjUxNTYsMTg2LjIzNzUgMzYwLjUxNTYsMTgzLjExMjUgUTM2MC41MTU2LDE3OS45ODc1IDM2MS44MjgxLDE3OC4zMzEyIFEzNjMuMTU2MywxNzYuNjc1IDM2NS42NTYzLDE3Ni42NzUgUTM2Ni4zNTk0LDE3Ni42NzUgMzY3LDE3Ni44MzEyIFEzNjcuNjU2MywxNzYuOTg3NSAzNjguMjE4OCwxNzcuMjg0NCBMMzY4LjIxODgsMTgwLjAwMzEgUTM2Ny41OTM4LDE3OS40MjUgMzY3LDE3OS4xNTk0IFEzNjYuNDA2MywxNzguODc4MSAzNjUuNzgxMywxNzguODc4MSBRMzY0LjQzNzUsMTc4Ljg3ODEgMzYzLjc1LDE3OS45NTYyIFEzNjMuMDYyNSwxODEuMDE4NyAzNjMuMDYyNSwxODMuMTEyNSBRMzYzLjA2MjUsMTg1LjIwNjIgMzYzLjc1LDE4Ni4yODQ0IFEzNjQuNDM3NSwxODcuMzQ2OSAzNjUuNzgxMywxODcuMzQ2OSBRMzY2LjQwNjMsMTg3LjM0NjkgMzY3LDE4Ny4wODEyIFEzNjcuNTkzOCwxODYuOCAzNjguMjE4OCwxODYuMjIxOSBMMzY4LjIxODgsMTg4Ljk0MDYgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMSIgeD0iMzg1Ljc1IiB5PSIxODguMTQ2NyI+QmxvZzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIzMDMiIHgyPSI0NjciIHkxPSIxOTkuMyIgeTI9IjE5OS4zIi8+PGVsbGlwc2UgY3g9IjMxMyIgY3k9IjIxMi45NDg0IiBmaWxsPSJub25lIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY0IiB4PSIzMjIiIHk9IjIxNi4yOTUxIj5pZDogQmxvZ0lkPC90ZXh0PjxlbGxpcHNlIGN4PSIzMTMiIGN5PSIyMjkuMjQ1MyIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5NCIgeD0iMzIyIiB5PSIyMzIuNTkyIj50aXRsZTogQmxvZ1RpdGxlPC90ZXh0PjxlbGxpcHNlIGN4PSIzMTMiIGN5PSIyNDUuNTQyMiIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMzEiIHg9IjMyMiIgeT0iMjQ4Ljg4ODkiPmF1dGhvcjogQmxvZ0F1dGhvcjwvdGV4dD48ZWxsaXBzZSBjeD0iMzEzIiBjeT0iMjYxLjgzOTEiIGZpbGw9Im5vbmUiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA5IiB4PSIzMjIiIHk9IjI2NS4xODU3Ij5ib2R5OiBCbG9nQm9keTwvdGV4dD48ZWxsaXBzZSBjeD0iMzEzIiBjeT0iMjc4LjEzNTkiIGZpbGw9Im5vbmUiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTQwIiB4PSIzMjIiIHk9IjI4MS40ODI2Ij5jcmVhdGVkQXQ6IEJsb2dEYXRlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjMwMyIgeDI9IjQ2NyIgeTE9IjI4OC43ODQ0IiB5Mj0iMjg4Ljc4NDQiLz48L2c+PCEtLWNsYXNzIEdldEJsb2dzVXNlY2FzZS0tPjxnIGlkPSJlbGVtX0dldEJsb2dzVXNlY2FzZSI+PHJlY3QgY29kZUxpbmU9IjMyIiBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjY0LjI5NjkiIGlkPSJHZXRCbG9nc1VzZWNhc2UiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjIwMyIgeD0iMjgzLjUiIHk9IjM4MC43OSIvPjxlbGxpcHNlIGN4PSIzMTkuNjUiIGN5PSIzOTYuNzkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMzIyLjYxODgsNDAyLjQzMDYgUTMyMi4wNDA2LDQwMi43Mjc1IDMyMS40LDQwMi44NjgxIFEzMjAuNzU5NCw0MDMuMDI0NCAzMjAuMDU2Myw0MDMuMDI0NCBRMzE3LjU1NjMsNDAzLjAyNDQgMzE2LjIyODEsNDAxLjM4MzcgUTMxNC45MTU2LDM5OS43Mjc1IDMxNC45MTU2LDM5Ni42MDI1IFEzMTQuOTE1NiwzOTMuNDc3NSAzMTYuMjI4MSwzOTEuODIxMiBRMzE3LjU1NjMsMzkwLjE2NSAzMjAuMDU2MywzOTAuMTY1IFEzMjAuNzU5NCwzOTAuMTY1IDMyMS40LDM5MC4zMjEyIFEzMjIuMDU2MywzOTAuNDc3NSAzMjIuNjE4OCwzOTAuNzc0NCBMMzIyLjYxODgsMzkzLjQ5MzEgUTMyMS45OTM4LDM5Mi45MTUgMzIxLjQsMzkyLjY0OTQgUTMyMC44MDYzLDM5Mi4zNjgxIDMyMC4xODEzLDM5Mi4zNjgxIFEzMTguODM3NSwzOTIuMzY4MSAzMTguMTUsMzkzLjQ0NjIgUTMxNy40NjI1LDM5NC41MDg3IDMxNy40NjI1LDM5Ni42MDI1IFEzMTcuNDYyNSwzOTguNjk2MiAzMTguMTUsMzk5Ljc3NDQgUTMxOC44Mzc1LDQwMC44MzY5IDMyMC4xODEzLDQwMC44MzY5IFEzMjAuODA2Myw0MDAuODM2OSAzMjEuNCw0MDAuNTcxMiBRMzIxLjk5MzgsNDAwLjI5IDMyMi42MTg4LDM5OS43MTE5IEwzMjIuNjE4OCw0MDIuNDMwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyNCIgeD0iMzM4LjM1IiB5PSI0MDEuNjM2NyI+R2V0QmxvZ3NVc2VjYXNlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI4NC41IiB4Mj0iNDg1LjUiIHkxPSI0MTIuNzkiIHkyPSI0MTIuNzkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyODQuNSIgeDI9IjQ4NS41IiB5MT0iNDIwLjc5IiB5Mj0iNDIwLjc5Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTkxIiB4PSIyODkuNSIgeT0iNDM3Ljc4NTEiPnJ1bigpOiBSZXN1bHQmbHQ7VmVjJmx0O0Jsb2cmZ3Q7Jmd0OzwvdGV4dD48L2c+PCEtLWNsYXNzIEJsb2dQb3J0LS0+PGcgaWQ9ImVsZW1fQmxvZ1BvcnQiPjxyZWN0IGNvZGVMaW5lPSIzNyIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2NC4yOTY5IiBpZD0iQmxvZ1BvcnQiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjIxNyIgeD0iMjc5LjUiIHk9IjU0NS4wOCIvPjxlbGxpcHNlIGN4PSIzNTQuMjUiIGN5PSI1NjEuMDgiIGZpbGw9IiNCNEE3RTUiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMzUwLjE3MTksNTU2Ljg0NTYgTDM1MC4xNzE5LDU1NC42ODk0IEwzNTcuNTYyNSw1NTQuNjg5NCBMMzU3LjU2MjUsNTU2Ljg0NTYgTDM1NS4wOTM4LDU1Ni44NDU2IEwzNTUuMDkzOCw1NjQuOTIzNyBMMzU3LjU2MjUsNTY0LjkyMzcgTDM1Ny41NjI1LDU2Ny4wOCBMMzUwLjE3MTksNTY3LjA4IEwzNTAuMTcxOSw1NjQuOTIzNyBMMzUyLjY0MDYsNTY0LjkyMzcgTDM1Mi42NDA2LDU1Ni44NDU2IEwzNTAuMTcxOSw1NTYuODQ1NiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTkiIHg9IjM3NC43NSIgeT0iNTY1LjkyNjciPkJsb2dQb3J0PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI4MC41IiB4Mj0iNDk1LjUiIHkxPSI1NzcuMDgiIHkyPSI1NzcuMDgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyODAuNSIgeDI9IjQ5NS41IiB5MT0iNTg1LjA4IiB5Mj0iNTg1LjA4Ii8+PGVsbGlwc2UgY3g9IjI5MC41IiBjeT0iNTk4LjcyODQiIGZpbGw9IiM4NEJFODQiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTkxIiB4PSIyOTkuNSIgeT0iNjAyLjA3NTEiPmdldCgpOiBSZXN1bHQmbHQ7VmVjJmx0O0Jsb2cmZ3Q7Jmd0OzwvdGV4dD48L2c+PCEtLWNsYXNzIEJsb2dHYXRld2F5LS0+PGcgaWQ9ImVsZW1fQmxvZ0dhdGV3YXkiPjxyZWN0IGNvZGVMaW5lPSI0NiIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2NC4yOTY5IiBpZD0iQmxvZ0dhdGV3YXkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjIxNyIgeD0iMjc5LjUiIHk9IjczMy4zOCIvPjxlbGxpcHNlIGN4PSIzMzguNzUiIGN5PSI3NDkuMzgiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMzQxLjcxODgsNzU1LjAyMDYgUTM0MS4xNDA2LDc1NS4zMTc1IDM0MC41LDc1NS40NTgxIFEzMzkuODU5NCw3NTUuNjE0NCAzMzkuMTU2Myw3NTUuNjE0NCBRMzM2LjY1NjMsNzU1LjYxNDQgMzM1LjMyODEsNzUzLjk3MzggUTMzNC4wMTU2LDc1Mi4zMTc1IDMzNC4wMTU2LDc0OS4xOTI1IFEzMzQuMDE1Niw3NDYuMDY3NSAzMzUuMzI4MSw3NDQuNDExMyBRMzM2LjY1NjMsNzQyLjc1NSAzMzkuMTU2Myw3NDIuNzU1IFEzMzkuODU5NCw3NDIuNzU1IDM0MC41LDc0Mi45MTEzIFEzNDEuMTU2Myw3NDMuMDY3NSAzNDEuNzE4OCw3NDMuMzY0NCBMMzQxLjcxODgsNzQ2LjA4MzEgUTM0MS4wOTM4LDc0NS41MDUgMzQwLjUsNzQ1LjIzOTQgUTMzOS45MDYzLDc0NC45NTgxIDMzOS4yODEzLDc0NC45NTgxIFEzMzcuOTM3NSw3NDQuOTU4MSAzMzcuMjUsNzQ2LjAzNjMgUTMzNi41NjI1LDc0Ny4wOTg4IDMzNi41NjI1LDc0OS4xOTI1IFEzMzYuNTYyNSw3NTEuMjg2MyAzMzcuMjUsNzUyLjM2NDQgUTMzNy45Mzc1LDc1My40MjY5IDMzOS4yODEzLDc1My40MjY5IFEzMzkuOTA2Myw3NTMuNDI2OSAzNDAuNSw3NTMuMTYxMyBRMzQxLjA5MzgsNzUyLjg4IDM0MS43MTg4LDc1Mi4zMDE5IEwzNDEuNzE4OCw3NTUuMDIwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkwIiB4PSIzNTkuMjUiIHk9Ijc1NC4yMjY3Ij5CbG9nR2F0ZXdheTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyODAuNSIgeDI9IjQ5NS41IiB5MT0iNzY1LjM4IiB5Mj0iNzY1LjM4Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjgwLjUiIHgyPSI0OTUuNSIgeTE9Ijc3My4zOCIgeTI9Ijc3My4zOCIvPjxlbGxpcHNlIGN4PSIyOTAuNSIgY3k9Ijc4Ny4wMjg0IiBmaWxsPSIjODRCRTg0IiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE5MSIgeD0iMjk5LjUiIHk9Ijc5MC4zNzUxIj5nZXQoKTogUmVzdWx0Jmx0O1ZlYyZsdDtCbG9nJmd0OyZndDs8L3RleHQ+PC9nPjwhLS1jbGFzcyBCbG9nRHJpdmVyLS0+PGcgaWQ9ImVsZW1fQmxvZ0RyaXZlciI+PHJlY3QgY29kZUxpbmU9IjUzIiBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjY0LjI5NjkiIGlkPSJCbG9nRHJpdmVyIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyMDQiIHg9IjI4NiIgeT0iODk3LjY4Ii8+PGVsbGlwc2UgY3g9IjM0OC4yNSIgY3k9IjkxMy42OCIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0zNTEuMjE4OCw5MTkuMzIwNiBRMzUwLjY0MDYsOTE5LjYxNzUgMzUwLDkxOS43NTgxIFEzNDkuMzU5NCw5MTkuOTE0NCAzNDguNjU2Myw5MTkuOTE0NCBRMzQ2LjE1NjMsOTE5LjkxNDQgMzQ0LjgyODEsOTE4LjI3MzggUTM0My41MTU2LDkxNi42MTc1IDM0My41MTU2LDkxMy40OTI1IFEzNDMuNTE1Niw5MTAuMzY3NSAzNDQuODI4MSw5MDguNzExMyBRMzQ2LjE1NjMsOTA3LjA1NSAzNDguNjU2Myw5MDcuMDU1IFEzNDkuMzU5NCw5MDcuMDU1IDM1MCw5MDcuMjExMyBRMzUwLjY1NjMsOTA3LjM2NzUgMzUxLjIxODgsOTA3LjY2NDQgTDM1MS4yMTg4LDkxMC4zODMxIFEzNTAuNTkzOCw5MDkuODA1IDM1MCw5MDkuNTM5NCBRMzQ5LjQwNjMsOTA5LjI1ODEgMzQ4Ljc4MTMsOTA5LjI1ODEgUTM0Ny40Mzc1LDkwOS4yNTgxIDM0Ni43NSw5MTAuMzM2MyBRMzQ2LjA2MjUsOTExLjM5ODggMzQ2LjA2MjUsOTEzLjQ5MjUgUTM0Ni4wNjI1LDkxNS41ODYzIDM0Ni43NSw5MTYuNjY0NCBRMzQ3LjQzNzUsOTE3LjcyNjkgMzQ4Ljc4MTMsOTE3LjcyNjkgUTM0OS40MDYzLDkxNy43MjY5IDM1MCw5MTcuNDYxMyBRMzUwLjU5MzgsOTE3LjE4IDM1MS4yMTg4LDkxNi42MDE5IEwzNTEuMjE4OCw5MTkuMzIwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjcxIiB4PSIzNjguNzUiIHk9IjkxOC41MjY3Ij5CbG9nRHJpdmVyPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI4NyIgeDI9IjQ4OSIgeTE9IjkyOS42OCIgeTI9IjkyOS42OCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI4NyIgeDI9IjQ4OSIgeTE9IjkzNy42OCIgeTI9IjkzNy42OCIvPjxlbGxpcHNlIGN4PSIyOTciIGN5PSI5NTEuMzI4NCIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNzgiIHg9IjMwNiIgeT0iOTU0LjY3NTEiPmdldCgpOiBSZXN1bHQmbHQ7QmxvZ3NKc29uJmd0OzwvdGV4dD48L2c+PCEtLWNsYXNzIEdldEJsb2dSZXN0LS0+PGcgaWQ9ImVsZW1fR2V0QmxvZ1Jlc3QiPjxyZWN0IGNvZGVMaW5lPSI2MSIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2NC4yOTY5IiBpZD0iR2V0QmxvZ1Jlc3QiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE3NSIgeD0iMjMuNSIgeT0iMzgwLjc5Ii8+PGVsbGlwc2UgY3g9IjYzLjI1IiBjeT0iMzk2Ljc5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTY2LjIxODgsNDAyLjQzMDYgUTY1LjY0MDYsNDAyLjcyNzUgNjUsNDAyLjg2ODEgUTY0LjM1OTQsNDAzLjAyNDQgNjMuNjU2Myw0MDMuMDI0NCBRNjEuMTU2Myw0MDMuMDI0NCA1OS44MjgxLDQwMS4zODM3IFE1OC41MTU2LDM5OS43Mjc1IDU4LjUxNTYsMzk2LjYwMjUgUTU4LjUxNTYsMzkzLjQ3NzUgNTkuODI4MSwzOTEuODIxMiBRNjEuMTU2MywzOTAuMTY1IDYzLjY1NjMsMzkwLjE2NSBRNjQuMzU5NCwzOTAuMTY1IDY1LDM5MC4zMjEyIFE2NS42NTYzLDM5MC40Nzc1IDY2LjIxODgsMzkwLjc3NDQgTDY2LjIxODgsMzkzLjQ5MzEgUTY1LjU5MzgsMzkyLjkxNSA2NSwzOTIuNjQ5NCBRNjQuNDA2MywzOTIuMzY4MSA2My43ODEzLDM5Mi4zNjgxIFE2Mi40Mzc1LDM5Mi4zNjgxIDYxLjc1LDM5My40NDYyIFE2MS4wNjI1LDM5NC41MDg3IDYxLjA2MjUsMzk2LjYwMjUgUTYxLjA2MjUsMzk4LjY5NjIgNjEuNzUsMzk5Ljc3NDQgUTYyLjQzNzUsNDAwLjgzNjkgNjMuNzgxMyw0MDAuODM2OSBRNjQuNDA2Myw0MDAuODM2OSA2NSw0MDAuNTcxMiBRNjUuNTkzOCw0MDAuMjkgNjYuMjE4OCwzOTkuNzExOSBMNjYuMjE4OCw0MDIuNDMwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg4IiB4PSI4Mi43NSIgeT0iNDAxLjYzNjciPkdldEJsb2dSZXN0PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI0LjUiIHgyPSIxOTcuNSIgeTE9IjQxMi43OSIgeTI9IjQxMi43OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI0LjUiIHgyPSIxOTcuNSIgeTE9IjQyMC43OSIgeTI9IjQyMC43OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2MyIgeD0iMjkuNSIgeT0iNDM3Ljc4NTEiPnJ1bigpOiBKc29uJmx0O0Jsb2dzSnNvbiZndDs8L3RleHQ+PC9nPjwhLS1lbnRpdHkgREItLT48ZyBpZD0iZWxlbV9EQiI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0Ni4yOTY5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI2MSIgeD0iMzU3LjUiIHk9IjEwNDAuOTciLz48cGF0aCBkPSJNMzc3LjgzMzMsMTA0MC45NyBMMzc3LjgzMzMsMTA0NS45NyBMMzcwLjgzMzMsMTA1Mi45NyBMMzU3LjUsMTA1Mi45NyAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIxIiB4PSIzNzIuNSIgeT0iMTA3My45NjUxIj5EQjwvdGV4dD48L2c+PCEtLXJldmVyc2UgbGluayBCbG9nSWQgdG8gQmxvZy0tPjxnIGlkPSJsaW5rX0Jsb2dJZF9CbG9nIj48cGF0aCBjb2RlTGluZT0iMjQiIGQ9Ik0xNzMuMDQwMywxMDMuNDY0NyBDMjA5LjA1MDMsMTI1LjE0NDcgMjU2LjkyLDE1My45NiAzMDEuNTUsMTgwLjgyICIgZmlsbD0ibm9uZSIgaWQ9IkJsb2dJZC1iYWNrdG8tQmxvZyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNjcuOSwxMDAuMzcsMTczLjU0NzMsMTA4LjQzOSwxNzIuMTgzNiwxMDIuOTQ4OSwxNzcuNjczNiwxMDEuNTg1MiwxNjcuOSwxMDAuMzciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjwvZz48IS0tcmV2ZXJzZSBsaW5rIEJsb2dUaXRsZSB0byBCbG9nLS0+PGcgaWQ9ImxpbmtfQmxvZ1RpdGxlX0Jsb2ciPjxwYXRoIGNvZGVMaW5lPSIyNSIgZD0iTTI4MC40NjQ5LDExMS4yMjA4IEMyOTUuNjA0OSwxMjguNTcwOCAzMTEsMTQ2LjIyIDMyOS4xNSwxNjcuMDIgIiBmaWxsPSJub25lIiBpZD0iQmxvZ1RpdGxlLWJhY2t0by1CbG9nIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI3Ni41MiwxMDYuNywyNzkuNDIzNSwxMTYuMTExMSwyNzkuODA3NCwxMTAuNDY3MywyODUuNDUxMywxMTAuODUxMiwyNzYuNTIsMTA2LjciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjwvZz48IS0tcmV2ZXJzZSBsaW5rIEJsb2dBdXRob3IgdG8gQmxvZy0tPjxnIGlkPSJsaW5rX0Jsb2dBdXRob3JfQmxvZyI+PHBhdGggY29kZUxpbmU9IjI2IiBkPSJNMzg1LDExMi43IEMzODUsMTMwLjA1IDM4NSwxNDYuMjIgMzg1LDE2Ny4wMiAiIGZpbGw9Im5vbmUiIGlkPSJCbG9nQXV0aG9yLWJhY2t0by1CbG9nIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM4NSwxMDYuNywzODEsMTE1LjcsMzg1LDExMS43LDM4OSwxMTUuNywzODUsMTA2LjciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjwvZz48IS0tcmV2ZXJzZSBsaW5rIEJsb2dCb2R5IHRvIEJsb2ctLT48ZyBpZD0ibGlua19CbG9nQm9keV9CbG9nIj48cGF0aCBjb2RlTGluZT0iMjciIGQ9Ik00OTEuODc2OSwxMTEuMTc4MyBDNDc2LjQwNjksMTI4LjUyODMgNDYwLjYzLDE0Ni4yMiA0NDIuMDksMTY3LjAyICIgZmlsbD0ibm9uZSIgaWQ9IkJsb2dCb2R5LWJhY2t0by1CbG9nIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjQ5NS44NywxMDYuNyw0ODYuODk0OCwxMTAuNzU1NCw0OTIuNTQyNCwxMTAuNDMxOSw0OTIuODY2LDExNi4wNzk1LDQ5NS44NywxMDYuNyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PC9nPjwhLS1yZXZlcnNlIGxpbmsgQmxvZ0RhdGUgdG8gQmxvZy0tPjxnIGlkPSJsaW5rX0Jsb2dEYXRlX0Jsb2ciPjxwYXRoIGNvZGVMaW5lPSIyOCIgZD0iTTYwMi4zNDkyLDEwNi4wMTE5IEM1NjMuNzU5MiwxMjguMjExOSA1MTQuMDIsMTU2LjgyIDQ2OC4zOSwxODMuMDcgIiBmaWxsPSJub25lIiBpZD0iQmxvZ0RhdGUtYmFja3RvLUJsb2ciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iNjA3LjU1LDEwMy4wMiw1OTcuNzU0MiwxMDQuMDQwNyw2MDMuMjE2LDEwNS41MTMzLDYwMS43NDM0LDExMC45NzUxLDYwNy41NSwxMDMuMDIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjwvZz48IS0tbGluayBHZXRCbG9nc1VzZWNhc2UgdG8gQmxvZ1BvcnQtLT48ZyBpZD0ibGlua19HZXRCbG9nc1VzZWNhc2VfQmxvZ1BvcnQiPjxwYXRoIGNvZGVMaW5lPSI0MCIgZD0iTTM4NS41OCw0NDUuMjMgQzM4Ni4xMSw0NzMuODcgMzg2Ljc3OTMsNTEwLjA1MSAzODcuMzA5Myw1MzguNzYxICIgZmlsbD0ibm9uZSIgaWQ9IkdldEJsb2dzVXNlY2FzZS10by1CbG9nUG9ydCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheTo3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzg3LjQyLDU0NC43NiwzOTEuMjUzMiw1MzUuNjg3NywzODcuMzI3Nyw1MzkuNzYwOSwzODMuMjU0Niw1MzUuODM1NCwzODcuNDIsNTQ0Ljc2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0NiIgeD0iMzg3IiB5PSI0OTAuMTQ2OSI+JiMxNzE7dXNlcyYjMTg3OzwvdGV4dD48L2c+PCEtLXJldmVyc2UgbGluayBCbG9nIHRvIEdldEJsb2dzVXNlY2FzZS0tPjxnIGlkPSJsaW5rX0Jsb2dfR2V0QmxvZ3NVc2VjYXNlIj48cGF0aCBjb2RlTGluZT0iNDIiIGQ9Ik0zODUsMzAzLjEyIEMzODUsMzMxLjM5IDM4NSwzNTcuMzUgMzg1LDM4MC4zNiAiIGZpbGw9Im5vbmUiIGlkPSJCbG9nLWJhY2t0by1HZXRCbG9nc1VzZWNhc2UiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzg1LDI5Ny4xMiwzODEsMzA2LjEyLDM4NSwzMDIuMTIsMzg5LDMwNi4xMiwzODUsMjk3LjEyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48L2c+PCEtLXJldmVyc2UgbGluayBCbG9nUG9ydCB0byBCbG9nR2F0ZXdheS0tPjxnIGlkPSJsaW5rX0Jsb2dQb3J0X0Jsb2dHYXRld2F5Ij48cGF0aCBjb2RlTGluZT0iNDkiIGQ9Ik0zODgsNjI3LjgzIEMzODgsNjYyLjIgMzg4LDY5OC43OCAzODgsNzMzLjA4ICIgZmlsbD0ibm9uZSIgaWQ9IkJsb2dQb3J0LWJhY2t0by1CbG9nR2F0ZXdheSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheTo3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMzg4LDYwOS44MywzODIsNjI3LjgzLDM5NCw2MjcuODMsMzg4LDYwOS44MyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODUiIHg9IjM4OSIgeT0iNjc4LjQ0NjkiPiYjMTcxO2ltcGxlbWVudCYjMTg3OzwvdGV4dD48L2c+PCEtLWxpbmsgQmxvZ0dhdGV3YXkgdG8gQmxvZ0RyaXZlci0tPjxnIGlkPSJsaW5rX0Jsb2dHYXRld2F5X0Jsb2dEcml2ZXIiPjxwYXRoIGNvZGVMaW5lPSI1NiIgZD0iTTM4OCw3OTcuODIgQzM4OCw4MjYuNDcgMzg4LDg2Mi42NSAzODgsODkxLjM1ICIgZmlsbD0ibm9uZSIgaWQ9IkJsb2dHYXRld2F5LXRvLUJsb2dEcml2ZXIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzg4LDg5Ny4zNSwzOTIsODg4LjM1LDM4OCw4OTIuMzUsMzg0LDg4OC4zNSwzODgsODk3LjM1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0NiIgeD0iMzg5IiB5PSI4NDIuNzQ2OSI+JiMxNzE7dXNlcyYjMTg3OzwvdGV4dD48L2c+PCEtLWxpbmsgR2V0QmxvZ1Jlc3QgdG8gR2V0QmxvZ3NVc2VjYXNlLS0+PGcgaWQ9ImxpbmtfR2V0QmxvZ1Jlc3RfR2V0QmxvZ3NVc2VjYXNlIj48cGF0aCBjb2RlTGluZT0iNjQiIGQ9Ik0xOTguODMsNDEyLjkzIEMyMjUuNzUsNDEyLjkzIDI0OS41OSw0MTIuOTMgMjc3LjM2LDQxMi45MyAiIGZpbGw9Im5vbmUiIGlkPSJHZXRCbG9nUmVzdC10by1HZXRCbG9nc1VzZWNhc2UiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjgzLjM2LDQxMi45MywyNzQuMzYsNDA4LjkzLDI3OC4zNiw0MTIuOTMsMjc0LjM2LDQxNi45MywyODMuMzYsNDEyLjkzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0NiIgeD0iMjE4IiB5PSI0MDUuOTk2OSI+JiMxNzE7dXNlcyYjMTg3OzwvdGV4dD48L2c+PCEtLWxpbmsgQmxvZ0RyaXZlciB0byBEQi0tPjxnIGlkPSJsaW5rX0Jsb2dEcml2ZXJfREIiPjxwYXRoIGNvZGVMaW5lPSI2OSIgZD0iTTM4OCw5NjIuMTggQzM4OCw5ODYuMzIgMzg4LDEwMTMuMTIgMzg4LDEwMzQuNjggIiBmaWxsPSJub25lIiBpZD0iQmxvZ0RyaXZlci10by1EQiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzODgsMTA0MC42OCwzOTIsMTAzMS42OCwzODgsMTAzNS42OCwzODQsMTAzMS42OCwzODgsMTA0MC42OCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDYiIHg9IjM4OSIgeT0iMTAwNy4wMzY5Ij4mIzE3MTt1c2VzJiMxODc7PC90ZXh0PjwvZz48IS0tU1JDPVtYUEJCSmlDbTQ0TnRfR2doUjQwZTRNaWhZa0dlUVdLaFg4MnpJT1JLOGVfQVRhMUx3Ul9aTG5oUkJNcU5LSnMtdXBkdHNialFWVDQ2cUI4U0VpZndpS0hQamtBcVdwbjdEb2xyOG1KajVtWExCSEsyNVV0R0ZEUWNXRDN6MHFQMlNqT3RRZGE4REF6Q2pkMVRIYVF2NlZYck5KN0trLWtnYWFmX2Zid1VRQVB6TGNEZG5nd2IxaU9wa3dySW11U3pMYmxfSzNwdUk2UGg1R1NyaTJPSTdzN1NUMVRRYllKY2h3bE9ZQUFZMm9JZzZsakhwUFd6cld3Qm5OUXdvM1MxNUhLR3RvR1htS3NrR1VmRXVUR2s1cHhzanRTT2xPME9NdmN6R3ZMZktQdVI5LWVwM05hVWs3R2poOVYwRnNhNVhpSlJLOWFxOEZ5eHBhUTNKWlpJRDl5Rm1paDJnQW11MEVsU2s4eFFXVzNNQWZlVmtXaTM4RUpDS3RSQXdMNVNtOXM2NndwaURxczNWaXQ5a2NxQjdWSEl3TnNRYWhEbHUzNkNuZWJXaEYweVlfN3c5OFJVUHZjYzlxZGs3LTI1ZlpYYzQ3TUtsNHBYR2pOMnkzdGVvUVNDbFpwWGhEYjgxSEJWUHFXcGZyQnVBN2tydnBkR1hpaDJRX3EzXS0tPjwvZz48L3N2Zz4=\" loading=\"lazy\"\u003e\n\u003cp data-sourcepos=\"137:1-137:150\"\u003e明日からはついにモジュラーモノリスで、クリーンアーキテクチャに基づいてアプリの実装を進めていきます！\u003c/p\u003e\n",
    "body": "## はじめに\n\n![スライド22.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/ff60b5e6-310f-e808-6f97-cdb4f386889b.png)\n\n\n---\n\n**2023年アドベントカレンダー20日目**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n昨日に引き続き、「ユーザーはトップページでブログタイトルの一覧を見ることができる」を進めていきます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6eb0ef2a-c7f4-7a75-add7-a866d28b214d.png)\n\n現在はRustのAPIを作成しており、本日はアーキテクチャを検討していきます\n\n## モジュラーモノリス\n\nモジュラーモノリスとは、モノリシックな構造を持ちつつも内部でモジュールに分割されているのが特徴である、ソフトウェアアーキテクチャの一つです。\n\nソフトウェアアーキテクチャの一つで、簡潔にアプリケーションを表現することが可能です。\n\nアプリケーションが大きくなる際は、マイクロサービスのようなアーキテクチャを採用すると良いと思いますが、今回のAPIではそれほど複雑になる予定は今のところないので、モジュラーモノリスを選択しました。\n(作ってみたかった）\n\n今回は図のように`ブログモジュール`だけで良さそうなので、ブログモジュールを持ったAPIを作っていきます\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/dfcab05e-8600-fbba-d69e-2101f138e7eb.png\" width=400 /\u003e\n\n### ディレクトリ構造\n\nブログモジュールを持つ、RustのAPIのディレクトリ構造を考えました。\n\n```bash\n.\n├── Cargo.lock\n├── Cargo.toml\n├── blog      ・・・・ブログモジュール\n|   ├── src/\n|   └── Cargo.toml\n├── db　　   　・・・・DB\n├── e2e　　　　・・・・E2Eテスト\n├── src       ・・・・メインモジュール\n```\n\nこれをベースに作っていきます\n\n## クリーンアーキテクチャ\n\nWebと同様にクリーンアーキテクチャの思想に基づいてアプリを構築していきます\n\nクリーンアーキテクチャについては【Day 11】で解説しています。\n\nhttps://qiita.com/maaaashi/items/449709d121214c51eab1\n\n### アーキテクチャ図\n\nこのようになりました。\n\n```plantuml\n@startuml\n\npackage \"Domains\" \u003c\u003cFrame\u003e\u003e #FFFFAA {\n  class BlogId {\n    +0: string\n  }\n  class BlogTitle {\n    +0: string\n  }\n  class BlogAuthor {\n    +0: string\n  }\n  class BlogBody {\n    +0: string\n  }\n  class BlogDate {\n    +0: Date\n  }\n  class Blog {\n    +id: BlogId\n    +title: BlogTitle\n    +author: BlogAuthor\n    +body: BlogBody\n    +createdAt: BlogDate\n  }\n  BlogId \u003c-- Blog\n  BlogTitle \u003c-- Blog\n  BlogAuthor \u003c-- Blog\n  BlogBody \u003c-- Blog\n  BlogDate \u003c-- Blog\n}\n\npackage \"Usecases\" \u003c\u003cFrame\u003e\u003e #FFAAAA {\n  class GetBlogsUsecase {\n    run(): Result\u003cVec\u003cBlog\u003e\u003e\n  }\n\n  package Port {\n    interface BlogPort {\n      +get(): Result\u003cVec\u003cBlog\u003e\u003e\n    }\n    GetBlogsUsecase ..\u003e BlogPort : \u003c\u003cuses\u003e\u003e\n  }\n  Blog \u003c-- GetBlogsUsecase\n}\n\npackage \"Gateways\" \u003c\u003cFrame\u003e\u003e #AAFFAA {\n  class BlogGateway {\n    +get(): Result\u003cVec\u003cBlog\u003e\u003e\n  }\n  BlogPort \u003c|.. BlogGateway : \u003c\u003cimplement\u003e\u003e\n}\n\npackage \"Drivers\" \u003c\u003cFrame\u003e\u003e #AAAAFF {\n  class BlogDriver {\n    +get(): Result\u003cBlogsJson\u003e\n  }\n  BlogGateway --\u003e BlogDriver : \u003c\u003cuses\u003e\u003e\n}\n\n\npackage \"Rest\" \u003c\u003cFrame\u003e\u003e #AAAAFF {\n  class GetBlogRest {\n    run(): Json\u003cBlogsJson\u003e\n  }\n  GetBlogRest -right-\u003e GetBlogsUsecase : \u003c\u003cuses\u003e\u003e\n}\n\npackage \"DB\" \u003c\u003cFrame\u003e\u003e {\n}\nBlogDriver --\u003e DB : \u003c\u003cuses\u003e\u003e\n\n@enduml\n```\n\n明日からはついにモジュラーモノリスで、クリーンアーキテクチャに基づいてアプリの実装を進めていきます！\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-12-21T00:09:03+09:00",
    "group": null,
    "id": "1fc5417cd72e90bd2425",
    "likes_count": 3,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "アーキテクチャ", "versions": [] },
      { "name": "CleanArchitecture", "versions": [] }
    ],
    "title": "【Day 21】ブログ一覧を取得し、表示する - API アーキテクチャ",
    "updated_at": "2023-12-21T00:12:43+09:00",
    "url": "https://qiita.com/maaaashi/items/1fc5417cd72e90bd2425",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-3:131\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4939d6e0-b55f-8ddb-d064-6e73696af850.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=26c1cd2a82f0726d84bc4d85053aab4b\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4939d6e0-b55f-8ddb-d064-6e73696af850.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=26c1cd2a82f0726d84bc4d85053aab4b\" alt=\"スライド21.PNG\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4939d6e0-b55f-8ddb-d064-6e73696af850.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=01372f0a75441079e4cceea486884290 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4939d6e0-b55f-8ddb-d064-6e73696af850.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr data-sourcepos=\"5:1-6:0\"\u003e\n\u003cp data-sourcepos=\"7:1-7:58\"\u003e\u003cstrong\u003e2023年アドベントカレンダー20日目\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:52\"\u003e\u003ciframe id=\"qiita-embed-content__0fa68a7212a3e1a5760216e23f64454f\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__0fa68a7212a3e1a5760216e23f64454f\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-11:138\"\u003e本日から「ユーザーはトップページでブログタイトルの一覧を見ることができる」を進めていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6eb0ef2a-c7f4-7a75-add7-a866d28b214d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=95362395afde39dc61920669b1e12f63\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6eb0ef2a-c7f4-7a75-add7-a866d28b214d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=95362395afde39dc61920669b1e12f63\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6eb0ef2a-c7f4-7a75-add7-a866d28b214d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=01ba209fcfb17493331cbe1f2b0b7d0c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6eb0ef2a-c7f4-7a75-add7-a866d28b214d.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"15:1-15:6\"\u003e\n\u003cspan id=\"e2e\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#e2e\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eE2E\u003c/h2\u003e\n\u003cp data-sourcepos=\"17:1-17:88\"\u003e前回整備したように\u003ccode\u003eGauge\u003c/code\u003e + \u003ccode\u003eTypeScript\u003c/code\u003eでE2Eテストを書いていきます\u003c/p\u003e\n\u003cp data-sourcepos=\"19:1-19:109\"\u003e以前初期値を入れたものを参考にして、次のようにSpecファイルを作成しました。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"spec\" data-sourcepos=\"21:1-33:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eblog.spec\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e# ブログ一覧取得系\n\n## Get Blogs\n\n* URL\"http://localhost:3000/blogs\"にGETリクエストを送る\n* レスポンスステータスコードが\"200\"である\n* レスポンス内JsonBodyの\"blogs[0].id\"が文字列の\"123e4567-e89b-12d3-a456-426614174000\"である\n* レスポンス内JsonBodyの\"blogs[0].title\"が文字列の\"カフェの隅で見つけた幸せ：私のお気に入りの隠れ家\"である\n* レスポンス内JsonBodyの\"blogs[0].author\"が文字列の\"田中太郎\"である\n* レスポンス内JsonBodyの\"blogs[0].body\"が文字列の\"ブログの本文\"である\n* レスポンス内JsonBodyの\"blogs[0].createdAt\"が文字列の\"2023-12-09 09:00:00\"である\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"35:1-35:23\"\u003e作ったStepは3種類\u003c/p\u003e\n\u003cul data-sourcepos=\"37:1-40:0\"\u003e\n\u003cli data-sourcepos=\"37:1-37:42\"\u003eURL\u003ccode\u003e\u0026lt;url\u0026gt;\u003c/code\u003eにGETリクエストを送る\u003c/li\u003e\n\u003cli data-sourcepos=\"38:1-38:67\"\u003eレスポンスステータスコードが\u003ccode\u003e\u0026lt;statusCode\u0026gt;\u003c/code\u003eである\u003c/li\u003e\n\u003cli data-sourcepos=\"39:1-40:0\"\u003eレスポンス内JsonBodyの\u003ccode\u003e\u0026lt;jsonPath\u0026gt;\u003c/code\u003eが文字列の\u003ccode\u003e\u0026lt;value\u0026gt;\u003c/code\u003eである\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"41:1-41:51\"\u003eこのテストコードを実装してみます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"43:1-85:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003efetch.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eaxios\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eAxiosResponse\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eaxios\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eassert\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003echai\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eStep\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eDataStore\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eDataStoreFactory\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003egauge-ts\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// jsonとpathからValueを抽出するメソッド\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eextractValue\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ejson\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eObject\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003epath\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eparts\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003epath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003esplit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"sr\"\u003e/\u003c/span\u003e\u003cspan class=\"se\"\u003e[\\.\\[\\]\\'\\\"]\u003c/span\u003e\u003cspan class=\"sr\"\u003e/\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003efilter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ep\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003evalue\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ejson\u003c/span\u003e\n\n  \u003cspan class=\"nx\"\u003eparts\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003epart\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003epart\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e===\u003c/span\u003e \u003cspan class=\"kc\"\u003eundefined\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"kc\"\u003eundefined\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003evalue\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003epart\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003evalue\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogStep\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e@\u003c/span\u003e\u003cspan class=\"nd\"\u003eStep\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eURL\u0026lt;url\u0026gt;にGETリクエストを送る\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"nf\"\u003erequestGet\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003eaxios\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003esuiteStore\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eDataStore\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eDataStoreFactory\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003egetSuiteDataStore\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003esuiteStore\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eput\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eresponse\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n  \u003cspan class=\"p\"\u003e@\u003c/span\u003e\u003cspan class=\"nd\"\u003eStep\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eレスポンスステータスコードが\u0026lt;statusCode\u0026gt;である\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"nf\"\u003echeckStatusCode\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003estatusCode\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003esuiteStore\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eDataStore\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eDataStoreFactory\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003egetSuiteDataStore\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eAxiosResponse\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kr\"\u003eany\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kr\"\u003eany\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003esuiteStore\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eresponse\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eassert\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eequal\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003estatus\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nf\"\u003eparseInt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003estatusCode\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n  \u003cspan class=\"p\"\u003e@\u003c/span\u003e\u003cspan class=\"nd\"\u003eStep\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eレスポンス内JsonBodyの\u0026lt;jsonPath\u0026gt;が文字列の\u0026lt;str\u0026gt;である\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"nf\"\u003echeckJsonResponseString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ejsonPath\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003esuiteStore\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eDataStore\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eDataStoreFactory\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003egetSuiteDataStore\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eAxiosResponse\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kr\"\u003eany\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kr\"\u003eany\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003esuiteStore\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eresponse\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eassert\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eequal\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eextractValue\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ejsonPath\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"nx\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"87:1-87:30\"\u003e少しだけ解説します。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"89:1-89:22\"\u003e\n\u003cspan id=\"getリクエスト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#get%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGETリクエスト\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"91:1-98:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  \u003cspan class=\"p\"\u003e@\u003c/span\u003e\u003cspan class=\"nd\"\u003eStep\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eURL\u0026lt;url\u0026gt;にGETリクエストを送る\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"nf\"\u003erequestGet\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003eaxios\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003esuiteStore\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eDataStore\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eDataStoreFactory\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003egetSuiteDataStore\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003esuiteStore\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eput\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eresponse\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003col data-sourcepos=\"100:1-102:0\"\u003e\n\u003cli data-sourcepos=\"100:1-100:68\"\u003eパラメータ\u003ccode\u003eURL\u003c/code\u003eを受け取り、GETリクエストを送る\u003c/li\u003e\n\u003cli data-sourcepos=\"101:1-102:0\"\u003egaugeのDataStoreにresponseを格納\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 data-sourcepos=\"103:1-103:40\"\u003e\n\u003cspan id=\"ステータスコードチェック\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B9%E3%83%86%E3%83%BC%E3%82%BF%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eステータスコードチェック\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"105:1-112:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  \u003cspan class=\"p\"\u003e@\u003c/span\u003e\u003cspan class=\"nd\"\u003eStep\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eレスポンスステータスコードが\u0026lt;statusCode\u0026gt;である\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"nf\"\u003echeckStatusCode\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003estatusCode\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003esuiteStore\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eDataStore\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eDataStoreFactory\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003egetSuiteDataStore\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eAxiosResponse\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kr\"\u003eany\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kr\"\u003eany\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003esuiteStore\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eresponse\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eassert\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eequal\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003estatus\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nf\"\u003eparseInt\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003estatusCode\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003col data-sourcepos=\"114:1-116:0\"\u003e\n\u003cli data-sourcepos=\"114:1-114:49\"\u003e先ほど格納した\u003ccode\u003eresponse\u003c/code\u003eを取り出す\u003c/li\u003e\n\u003cli data-sourcepos=\"115:1-116:0\"\u003e\n\u003ccode\u003erespons\u003c/code\u003eの\u003ccode\u003estatus\u003c/code\u003eと、パラメータの\u003ccode\u003eStatusCode\u003c/code\u003eを比べる\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 data-sourcepos=\"117:1-117:28\"\u003e\n\u003cspan id=\"jsonのvalueチェック\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#json%E3%81%AEvalue%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eJsonのValueチェック\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"119:1-143:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// jsonとpathからValueを抽出するメソッド\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eextractValue\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ejson\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eObject\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003epath\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eparts\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003epath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003esplit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"sr\"\u003e/\u003c/span\u003e\u003cspan class=\"se\"\u003e[\\.\\[\\]\\'\\\"]\u003c/span\u003e\u003cspan class=\"sr\"\u003e/\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003efilter\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ep\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003evalue\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ejson\u003c/span\u003e\n\n  \u003cspan class=\"nx\"\u003eparts\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003epart\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003epart\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e===\u003c/span\u003e \u003cspan class=\"kc\"\u003eundefined\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"kc\"\u003eundefined\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003evalue\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003epart\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003evalue\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// ...\u003c/span\u003e\n\n  \u003cspan class=\"p\"\u003e@\u003c/span\u003e\u003cspan class=\"nd\"\u003eStep\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eレスポンス内JsonBodyの\u0026lt;jsonPath\u0026gt;が文字列の\u0026lt;str\u0026gt;である\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"nf\"\u003echeckJsonResponseString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ejsonPath\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003esuiteStore\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eDataStore\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eDataStoreFactory\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003egetSuiteDataStore\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eAxiosResponse\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kr\"\u003eany\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kr\"\u003eany\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003esuiteStore\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eresponse\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eassert\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eequal\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003eextractValue\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ejsonPath\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"nx\"\u003estr\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003col data-sourcepos=\"145:1-148:0\"\u003e\n\u003cli data-sourcepos=\"145:1-145:49\"\u003e先ほど格納した\u003ccode\u003eresponse\u003c/code\u003eを取り出す\u003c/li\u003e\n\u003cli data-sourcepos=\"146:1-146:97\"\u003eオリジナルの、Jsonから、pathを指定してValueを抽出するメソッドを作成\u003c/li\u003e\n\u003cli data-sourcepos=\"147:1-148:0\"\u003e\n\u003ccode\u003erespons\u003c/code\u003eの\u003ccode\u003ejsonPaht\u003c/code\u003eの\u003ccode\u003evalue\u003c/code\u003eと、パラメータの\u003ccode\u003estr\u003c/code\u003eを比べる\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"149:1-149:24\"\u003e解説は以上です。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"151:1-151:10\"\u003e\n\u003cspan id=\"実行\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実行\u003c/h3\u003e\n\u003cp data-sourcepos=\"153:1-153:21\"\u003e実行してみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"155:1-168:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egauge run specs\n\u003cspan class=\"c\"\u003e# Blog E2E\u003c/span\u003e\n  \u003cspan class=\"c\"\u003e## Get Blogs   ✘\u003c/span\u003e\n\n\u0026lt;\u0026lt;省略\u0026gt;\u0026gt;\n\nSuccessfully generated html-report to \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e /your/path/reports/html-report/index.html\n\nSpecifications: 1 executed      0 passed        1 failed        0 skipped\nScenarios:      1 executed      0 passed        1 failed        0 skipped\n\nTotal \u003cspan class=\"nb\"\u003etime \u003c/span\u003etaken: 128ms\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"170:1-170:62\"\u003e実装がまだなので、予想通り失敗しました \u003cimg alt=\":ok:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f197.png\" title=\":ok:\" width=\"20\" loading=\"lazy\"\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"172:1-172:110\"\u003e次回はAPIをRust + Axumを使ってクリーンアーキテクチャに基づいて作成していきます\u003c/p\u003e\n",
    "body": "## はじめに\n\n![スライド21.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4939d6e0-b55f-8ddb-d064-6e73696af850.png)\n\n---\n\n**2023年アドベントカレンダー20日目**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n本日から「ユーザーはトップページでブログタイトルの一覧を見ることができる」を進めていきます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6eb0ef2a-c7f4-7a75-add7-a866d28b214d.png)\n\n## E2E\n\n前回整備したように`Gauge` + `TypeScript`でE2Eテストを書いていきます\n\n以前初期値を入れたものを参考にして、次のようにSpecファイルを作成しました。\n\n```spec:blog.spec\n# ブログ一覧取得系\n\n## Get Blogs\n\n* URL\"http://localhost:3000/blogs\"にGETリクエストを送る\n* レスポンスステータスコードが\"200\"である\n* レスポンス内JsonBodyの\"blogs[0].id\"が文字列の\"123e4567-e89b-12d3-a456-426614174000\"である\n* レスポンス内JsonBodyの\"blogs[0].title\"が文字列の\"カフェの隅で見つけた幸せ：私のお気に入りの隠れ家\"である\n* レスポンス内JsonBodyの\"blogs[0].author\"が文字列の\"田中太郎\"である\n* レスポンス内JsonBodyの\"blogs[0].body\"が文字列の\"ブログの本文\"である\n* レスポンス内JsonBodyの\"blogs[0].createdAt\"が文字列の\"2023-12-09 09:00:00\"である\n```\n\n作ったStepは3種類\n\n- URL`\u003curl\u003e`にGETリクエストを送る\n- レスポンスステータスコードが`\u003cstatusCode\u003e`である\n- レスポンス内JsonBodyの`\u003cjsonPath\u003e`が文字列の`\u003cvalue\u003e`である\n\nこのテストコードを実装してみます。\n\n```typescript:fetch.ts\nimport axios, { AxiosResponse } from 'axios'\nimport { assert } from 'chai'\nimport { Step, DataStore, DataStoreFactory } from 'gauge-ts'\n\n// jsonとpathからValueを抽出するメソッド\nconst extractValue = (json: Object, path: string) =\u003e {\n  const parts = path.split(/[\\.\\[\\]\\'\\\"]/).filter(p =\u003e p);\n  let value = json\n\n  parts.map((part) =\u003e {\n    if (value[part] === undefined) {\n      return undefined\n    }\n    value = value[part]\n  })\n\n  return value\n}\n\nexport default class BlogStep {\n  @Step('URL\u003curl\u003eにGETリクエストを送る')\n  public async requestGet(url: string) {\n    const response = await axios.get(url)\n    let suiteStore: DataStore = DataStoreFactory.getSuiteDataStore()\n    suiteStore.put('response', response)\n  }\n\n  @Step('レスポンスステータスコードが\u003cstatusCode\u003eである')\n  public async checkStatusCode(statusCode: string) {\n    let suiteStore: DataStore = DataStoreFactory.getSuiteDataStore()\n    const response: AxiosResponse\u003cany, any\u003e = suiteStore.get('response')\n    assert.equal(response.status, parseInt(statusCode))\n  }\n\n  @Step('レスポンス内JsonBodyの\u003cjsonPath\u003eが文字列の\u003cstr\u003eである')\n  public async checkJsonResponseString(jsonPath: string, str: string) {\n    let suiteStore: DataStore = DataStoreFactory.getSuiteDataStore()\n    const response: AxiosResponse\u003cany, any\u003e = suiteStore.get('response')\n    assert.equal(extractValue(response.data, jsonPath), str)\n  }\n}\n```\n\n少しだけ解説します。\n\n### GETリクエスト\n\n```typescript\n  @Step('URL\u003curl\u003eにGETリクエストを送る')\n  public async requestGet(url: string) {\n    const response = await axios.get(url)\n    let suiteStore: DataStore = DataStoreFactory.getSuiteDataStore()\n    suiteStore.put('response', response)\n  }\n```\n\n1. パラメータ`URL`を受け取り、GETリクエストを送る\n1. gaugeのDataStoreにresponseを格納\n\n### ステータスコードチェック\n\n```typescript\n  @Step('レスポンスステータスコードが\u003cstatusCode\u003eである')\n  public async checkStatusCode(statusCode: string) {\n    let suiteStore: DataStore = DataStoreFactory.getSuiteDataStore()\n    const response: AxiosResponse\u003cany, any\u003e = suiteStore.get('response')\n    assert.equal(response.status, parseInt(statusCode))\n  }\n```\n\n1. 先ほど格納した`response`を取り出す\n1. `respons`の`status`と、パラメータの`StatusCode`を比べる\n\n### JsonのValueチェック\n\n```typescript\n// jsonとpathからValueを抽出するメソッド\nconst extractValue = (json: Object, path: string) =\u003e {\n  const parts = path.split(/[\\.\\[\\]\\'\\\"]/).filter(p =\u003e p);\n  let value = json\n\n  parts.map((part) =\u003e {\n    if (value[part] === undefined) {\n      return undefined\n    }\n    value = value[part]\n  })\n\n  return value\n}\n\n// ...\n\n  @Step('レスポンス内JsonBodyの\u003cjsonPath\u003eが文字列の\u003cstr\u003eである')\n  public async checkJsonResponseString(jsonPath: string, str: string) {\n    let suiteStore: DataStore = DataStoreFactory.getSuiteDataStore()\n    const response: AxiosResponse\u003cany, any\u003e = suiteStore.get('response')\n    assert.equal(extractValue(response.data, jsonPath), str)\n  }\n```\n\n1. 先ほど格納した`response`を取り出す\n1. オリジナルの、Jsonから、pathを指定してValueを抽出するメソッドを作成\n1. `respons`の`jsonPaht`の`value`と、パラメータの`str`を比べる\n\n解説は以上です。\n\n### 実行\n\n実行してみます\n\n```bash\n$ gauge run specs\n# Blog E2E\n  ## Get Blogs   ✘\n\n\u003c\u003c省略\u003e\u003e\n\nSuccessfully generated html-report to =\u003e /your/path/reports/html-report/index.html\n\nSpecifications: 1 executed      0 passed        1 failed        0 skipped\nScenarios:      1 executed      0 passed        1 failed        0 skipped\n\nTotal time taken: 128ms\n```\n\n実装がまだなので、予想通り失敗しました :ok:\n\n次回はAPIをRust + Axumを使ってクリーンアーキテクチャに基づいて作成していきます\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-12-17T21:46:06+09:00",
    "group": null,
    "id": "8317d1457191c9366d7c",
    "likes_count": 3,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "TypeScript", "versions": [] },
      { "name": "e2e", "versions": [] },
      { "name": "gauge", "versions": [] }
    ],
    "title": "【Day 20】ブログ一覧を取得し、表示する - API E2E",
    "updated_at": "2023-12-20T07:00:34+09:00",
    "url": "https://qiita.com/maaaashi/items/8317d1457191c9366d7c",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-3:131\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa9bd06e4-c2d3-2bd9-b2f9-b643c9eb0e88.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=40dffb4af74a7b2c7c62dbd16e782820\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa9bd06e4-c2d3-2bd9-b2f9-b643c9eb0e88.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=40dffb4af74a7b2c7c62dbd16e782820\" alt=\"スライド20.PNG\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa9bd06e4-c2d3-2bd9-b2f9-b643c9eb0e88.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b328f3a2d259f4cb1420bfaec0c8a598 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a9bd06e4-c2d3-2bd9-b2f9-b643c9eb0e88.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr data-sourcepos=\"5:1-6:0\"\u003e\n\u003cp data-sourcepos=\"7:1-7:58\"\u003e\u003cstrong\u003e2023年アドベントカレンダー19日目\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:52\"\u003e\u003ciframe id=\"qiita-embed-content__308234e6a07dd1ae0dcb916c8d59d7fc\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__308234e6a07dd1ae0dcb916c8d59d7fc\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-11:135\"\u003e本日は「ユーザーはトップページでブログタイトルの一覧を見ることができる」を進めていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6eb0ef2a-c7f4-7a75-add7-a866d28b214d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=95362395afde39dc61920669b1e12f63\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6eb0ef2a-c7f4-7a75-add7-a866d28b214d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=95362395afde39dc61920669b1e12f63\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6eb0ef2a-c7f4-7a75-add7-a866d28b214d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=01ba209fcfb17493331cbe1f2b0b7d0c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6eb0ef2a-c7f4-7a75-add7-a866d28b214d.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"15:1-15:76\"\u003eAPIのE2Eテスト環境を\u003ccode\u003eGauge\u003c/code\u003eと\u003ccode\u003eTypeScript\u003c/code\u003eで構築していきます\u003c/p\u003e\n\u003cp data-sourcepos=\"17:1-17:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe4ec391c-9816-dcf3-16e6-36163fb38e54.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6e3af9de480b6dc2ce35eba977611afb\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe4ec391c-9816-dcf3-16e6-36163fb38e54.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6e3af9de480b6dc2ce35eba977611afb\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe4ec391c-9816-dcf3-16e6-36163fb38e54.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9a6a1fefa27a03f7e5bd21f41e1894b6 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e4ec391c-9816-dcf3-16e6-36163fb38e54.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"19:1-19:8\"\u003e\n\u003cspan id=\"gauge\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#gauge\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGauge\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"21:1-21:15\"\u003e\n\u003cspan id=\"gaugeとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#gauge%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGaugeとは\u003c/h3\u003e\n\u003cp data-sourcepos=\"23:1-24:188\"\u003eGaugeとは、オープンソースのテスト自動化フレームワークです。\u003cbr\u003e\n大きな特徴として、テストケースをMarkdown形式で書くことができます。これにより、テスト仕様を非技術者にとっても読みやすくなります。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"26:1-26:11\"\u003e\n\u003cspan id=\"install\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#install\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eInstall\u003c/h3\u003e\n\u003cp data-sourcepos=\"28:1-28:85\"\u003eこちらのページから自分に合ったものをInstallしていきましょう\u003c/p\u003e\n\u003cp data-sourcepos=\"30:1-30:100\"\u003e\u003ciframe id=\"qiita-embed-content__b069761f30a8fc27c3a00d0f3db64c91\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__b069761f30a8fc27c3a00d0f3db64c91\" data-content=\"https%3A%2F%2Fdocs.gauge.org%2Fgetting_started%2Finstalling-gauge.html%3Fos%3Dlinux%26language%3Djavascript%26ide%3Dvscode\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"32:1-32:47\"\u003eversionが出ていればInstall完了です。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"34:1-44:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egauge version\nGauge version: 1.5.6\nCommit Hash: 9b96118\n\nPlugins\n\u003cspan class=\"nt\"\u003e-------\u003c/span\u003e\nhtml-report \u003cspan class=\"o\"\u003e(\u003c/span\u003e4.2.0\u003cspan class=\"o\"\u003e)\u003c/span\u003e\njava \u003cspan class=\"o\"\u003e(\u003c/span\u003e0.10.3\u003cspan class=\"o\"\u003e)\u003c/span\u003e\nscreenshot \u003cspan class=\"o\"\u003e(\u003c/span\u003e0.1.0\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"46:1-46:60\"\u003e次にお使いのIDEに拡張機能も入れていきます\u003c/p\u003e\n\u003cul data-sourcepos=\"48:1-52:0\"\u003e\n\u003cli data-sourcepos=\"48:1-49:126\"\u003eVSCode\n\u003cul data-sourcepos=\"49:3-49:126\"\u003e\n\u003cli data-sourcepos=\"49:3-49:126\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fb7792d30-dba6-630f-23b4-76b916797e89.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8e5934c33cc7114eaac79e9d6e9b7316\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fb7792d30-dba6-630f-23b4-76b916797e89.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8e5934c33cc7114eaac79e9d6e9b7316\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fb7792d30-dba6-630f-23b4-76b916797e89.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=dd4f6a843c055d1c835b63897267ce96 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/b7792d30-dba6-630f-23b4-76b916797e89.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"50:1-52:0\"\u003eIntelliJ\n\u003cul data-sourcepos=\"51:5-52:0\"\u003e\n\u003cli data-sourcepos=\"51:5-52:0\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcfe1ff23-1543-b1fe-9e5f-165c0b4fdfca.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9184fe2a3b282f1c2e3afae1ce460885\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcfe1ff23-1543-b1fe-9e5f-165c0b4fdfca.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9184fe2a3b282f1c2e3afae1ce460885\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcfe1ff23-1543-b1fe-9e5f-165c0b4fdfca.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=279e731f5fe88e9ab935c0afbd16acfe 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/cfe1ff23-1543-b1fe-9e5f-165c0b4fdfca.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"53:1-53:72\"\u003eいれなくてもCLIからの操作であれば問題ありません。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"55:1-55:17\"\u003e\n\u003cspan id=\"createproject\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#createproject\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eCreateProject\u003c/h3\u003e\n\u003cp data-sourcepos=\"57:1-57:83\"\u003eGaugeではテンプレートが用意されているのでそれを利用します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"59:1-74:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egauge init \u003cspan class=\"nt\"\u003e-t\u003c/span\u003e\ndotnet\njava\njava_gradle\njava_maven\njava_maven_selenium\njs\njs_simple\nkotlin_maven\npython\npython_selenium\nruby\nruby_selenium\nts\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"76:1-76:70\"\u003e今回は\u003ccode\u003eTypeScript\u003c/code\u003eで開発していくので\u003ccode\u003ets\u003c/code\u003eを選択します\u003c/p\u003e\n\u003ch4 data-sourcepos=\"78:1-78:15\"\u003e\n\u003cspan id=\"gauge-init\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#gauge-init\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003egauge init\u003c/h4\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"80:1-82:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egauge init ts\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"84:1-84:109\"\u003e2023/12/16現在、この方法でインストールすると404エラーになってしまうようです。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"86:1-102:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eInitializing template from https://github.com/getgauge/template-ts/releases/latest/download/ts.zip\nError \u003cspan class=\"nt\"\u003e----------------------------------\u003c/span\u003e\n\n\u003cspan class=\"o\"\u003e[\u003c/span\u003eGauge]\nFailed to initialize project. Error downloading file: https://github.com/getgauge/template-ts/releases/latest/download/ts.zip.\n404 Not Found. Please use a valid Gauge template URI or check network connection\n\nGet Support \u003cspan class=\"nt\"\u003e----------------------------\u003c/span\u003e\n        Docs:          https://docs.gauge.org\n        Bugs:          https://github.com/getgauge/gauge/issues\n        Chat:          https://github.com/getgauge/gauge/discussions\n\nYour Environment Information \u003cspan class=\"nt\"\u003e-----------\u003c/span\u003e\n        linux, 1.5.6, 9b96118\n        html-report \u003cspan class=\"o\"\u003e(\u003c/span\u003e4.2.0\u003cspan class=\"o\"\u003e)\u003c/span\u003e, java \u003cspan class=\"o\"\u003e(\u003c/span\u003e0.10.3\u003cspan class=\"o\"\u003e)\u003c/span\u003e, screenshot \u003cspan class=\"o\"\u003e(\u003c/span\u003e0.1.0\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch4 data-sourcepos=\"104:1-104:23\"\u003e\n\u003cspan id=\"zipからの作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#zip%E3%81%8B%E3%82%89%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ezipからの作成\u003c/h4\u003e\n\u003col data-sourcepos=\"106:1-108:0\"\u003e\n\u003cli data-sourcepos=\"106:1-106:156\"\u003e\n\u003ca href=\"https://github.com/getgauge/template-ts/releases\" rel=\"nofollow noopener\" target=\"_blank\"\u003eこちら\u003c/a\u003eのリリースページを開き、\u003ccode\u003eLatest\u003c/code\u003eをzip形式でダウンロードしてきます\u003c/li\u003e\n\u003cli data-sourcepos=\"107:1-108:0\"\u003eダウンロードしたzipファイルを指定してinitします\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"109:1-111:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003egauge init ./template-ts-0.0.9.zip\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"113:1-113:54\"\u003eこれで↓のようなものが作成されました\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"115:1-128:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e$ tree -L 1\n.\n├── LICENSE\n├── README.md\n├── env\n├── manifest.json\n├── node_modules\n├── package-lock.json\n├── package.json\n├── specs\n├── tests\n└── tsconfig.json\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"130:1-130:45\"\u003eテスト仕様をのぞいてみましょう\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"spec\" data-sourcepos=\"132:1-186:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003especs/example.spec\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e# Getting Started with Gauge\n\nThis is an example markdown specification file.\nEvery heading in this file is a scenario.\nEvery bulleted point is a step.\n\nTo execute this specification, use\n\tgauge run specs\n\nThis is a context step that runs before every scenario\n* Open todo application\n\n## Display number of items\n* Add task \"first task\"\n* Must display \"1 item left\"\n* Add task \"second task\"\n* Must display \"2 items left\"\n\n## Must list only active tasks\n* Add tasks \n\n   |description|\n   |-----------|\n   |first task |\n   |second task|\n   |third task |\n   |fourth task|\n   |fifth task |\n\n* Complete tasks \n\n   |description|\n   |-----------|\n   |second task|\n   |fifth task |\n* View \"Active\" tasks\n* Must have \n\n   |description|\n   |-----------|\n   |first task |\n   |third task |\n   |fourth task|\n* Must not have \n\n   |description|\n   |-----------|\n   |second task|\n   |fifth task |\n\nA tear down step for every scenario\n___\n* Clear all tasks\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"188:1-189:78\"\u003eMarkdownで書かれていましたね\u003cbr\u003e\n複数のデータを扱うときはテーブル構造で書くようです。\u003c/p\u003e\n\u003cp data-sourcepos=\"192:1-192:63\"\u003e試しにサンプルのテストを実行してみましょう\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"194:1-206:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e$ gauge run specs\n# Getting Started with Gauge\n  ## Display number of items     ✔ ✔ ✔ ✔ ✔ ✔\n  ## Must list only active tasks         ✔ ✔ ✔ ✔ ✔ ✔ ✔\n\nSuccessfully generated html-report to =\u0026gt; /home/maaaashi/source/LifeSync/hoge/reports/html-report/index.html\n\nSpecifications: 1 executed      1 passed        0 failed        0 skipped\nScenarios:      2 executed      2 passed        0 failed        0 skipped\n\nTotal time taken: 17.16s\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"208:1-208:37\"\u003eテストが実行できました👍\u003c/p\u003e\n\u003cp data-sourcepos=\"210:1-210:132\"\u003e明日からはこの環境を使って、Rustで構築したAPIのE2Eテスト ⇒ Unitテスト ⇒ 実装と進めていきます\u003c/p\u003e\n",
    "body": "## はじめに\n\n![スライド20.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a9bd06e4-c2d3-2bd9-b2f9-b643c9eb0e88.png)\n\n---\n\n**2023年アドベントカレンダー19日目**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n本日は「ユーザーはトップページでブログタイトルの一覧を見ることができる」を進めていきます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6eb0ef2a-c7f4-7a75-add7-a866d28b214d.png)\n\nAPIのE2Eテスト環境を`Gauge`と`TypeScript`で構築していきます\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e4ec391c-9816-dcf3-16e6-36163fb38e54.png)\n\n## Gauge\n\n### Gaugeとは\n\nGaugeとは、オープンソースのテスト自動化フレームワークです。\n大きな特徴として、テストケースをMarkdown形式で書くことができます。これにより、テスト仕様を非技術者にとっても読みやすくなります。\n\n### Install\n\nこちらのページから自分に合ったものをInstallしていきましょう\n\nhttps://docs.gauge.org/getting_started/installing-gauge.html?os=linux\u0026language=javascript\u0026ide=vscode\n\nversionが出ていればInstall完了です。\n\n```bash\n$ gauge version\nGauge version: 1.5.6\nCommit Hash: 9b96118\n\nPlugins\n-------\nhtml-report (4.2.0)\njava (0.10.3)\nscreenshot (0.1.0)\n```\n\n次にお使いのIDEに拡張機能も入れていきます\n\n- VSCode\n  - ![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/b7792d30-dba6-630f-23b4-76b916797e89.png)\n- IntelliJ\n    - ![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/cfe1ff23-1543-b1fe-9e5f-165c0b4fdfca.png)\n\nいれなくてもCLIからの操作であれば問題ありません。\n\n### CreateProject\n\nGaugeではテンプレートが用意されているのでそれを利用します\n\n```bash\n$ gauge init -t\ndotnet\njava\njava_gradle\njava_maven\njava_maven_selenium\njs\njs_simple\nkotlin_maven\npython\npython_selenium\nruby\nruby_selenium\nts\n```\n\n今回は`TypeScript`で開発していくので`ts`を選択します\n\n#### gauge init\n\n```bash\n$ gauge init ts\n```\n\n2023/12/16現在、この方法でインストールすると404エラーになってしまうようです。\n\n```bash\nInitializing template from https://github.com/getgauge/template-ts/releases/latest/download/ts.zip\nError ----------------------------------\n\n[Gauge]\nFailed to initialize project. Error downloading file: https://github.com/getgauge/template-ts/releases/latest/download/ts.zip.\n404 Not Found. Please use a valid Gauge template URI or check network connection\n\nGet Support ----------------------------\n        Docs:          https://docs.gauge.org\n        Bugs:          https://github.com/getgauge/gauge/issues\n        Chat:          https://github.com/getgauge/gauge/discussions\n\nYour Environment Information -----------\n        linux, 1.5.6, 9b96118\n        html-report (4.2.0), java (0.10.3), screenshot (0.1.0)\n```\n\n#### zipからの作成\n\n1. [こちら](https://github.com/getgauge/template-ts/releases)のリリースページを開き、`Latest`をzip形式でダウンロードしてきます\n1. ダウンロードしたzipファイルを指定してinitします\n\n```bash\ngauge init ./template-ts-0.0.9.zip\n```\n\nこれで↓のようなものが作成されました\n\n```\n$ tree -L 1\n.\n├── LICENSE\n├── README.md\n├── env\n├── manifest.json\n├── node_modules\n├── package-lock.json\n├── package.json\n├── specs\n├── tests\n└── tsconfig.json\n```\n\nテスト仕様をのぞいてみましょう\n\n```spec:specs/example.spec\n# Getting Started with Gauge\n\nThis is an example markdown specification file.\nEvery heading in this file is a scenario.\nEvery bulleted point is a step.\n\nTo execute this specification, use\n\tgauge run specs\n\nThis is a context step that runs before every scenario\n* Open todo application\n\n## Display number of items\n* Add task \"first task\"\n* Must display \"1 item left\"\n* Add task \"second task\"\n* Must display \"2 items left\"\n\n## Must list only active tasks\n* Add tasks \n\n   |description|\n   |-----------|\n   |first task |\n   |second task|\n   |third task |\n   |fourth task|\n   |fifth task |\n\n* Complete tasks \n\n   |description|\n   |-----------|\n   |second task|\n   |fifth task |\n* View \"Active\" tasks\n* Must have \n\n   |description|\n   |-----------|\n   |first task |\n   |third task |\n   |fourth task|\n* Must not have \n\n   |description|\n   |-----------|\n   |second task|\n   |fifth task |\n\nA tear down step for every scenario\n___\n* Clear all tasks\n```\n\nMarkdownで書かれていましたね\n複数のデータを扱うときはテーブル構造で書くようです。\n\n\n試しにサンプルのテストを実行してみましょう\n\n```\n$ gauge run specs\n# Getting Started with Gauge\n  ## Display number of items     ✔ ✔ ✔ ✔ ✔ ✔\n  ## Must list only active tasks         ✔ ✔ ✔ ✔ ✔ ✔ ✔\n\nSuccessfully generated html-report to =\u003e /home/maaaashi/source/LifeSync/hoge/reports/html-report/index.html\n\nSpecifications: 1 executed      1 passed        0 failed        0 skipped\nScenarios:      2 executed      2 passed        0 failed        0 skipped\n\nTotal time taken: 17.16s\n```\n\nテストが実行できました👍\n\n明日からはこの環境を使って、Rustで構築したAPIのE2Eテスト ⇒ Unitテスト ⇒ 実装と進めていきます\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-12-17T09:11:49+09:00",
    "group": null,
    "id": "25817610bb1175d48599",
    "likes_count": 4,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "TypeScript", "versions": [] },
      { "name": "gauge", "versions": [] }
    ],
    "title": "【Day 19】E2Eテスト - gauge ts",
    "updated_at": "2023-12-19T07:00:34+09:00",
    "url": "https://qiita.com/maaaashi/items/25817610bb1175d48599",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd7af57e3-0459-1631-d638-501f5a1d2ab8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9478bc735b7b11b495960b740e38e551\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd7af57e3-0459-1631-d638-501f5a1d2ab8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9478bc735b7b11b495960b740e38e551\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd7af57e3-0459-1631-d638-501f5a1d2ab8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ff90ac5c202e940137377421102e1711 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/d7af57e3-0459-1631-d638-501f5a1d2ab8.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr data-sourcepos=\"3:1-4:0\"\u003e\n\u003ch2 data-sourcepos=\"5:1-5:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"7:1-7:66\"\u003e本記事はUzabase Advent Calendar 2023の20日目の記事です\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:46\"\u003e\u003ciframe id=\"qiita-embed-content__bf2d523a459af6e12b633bb161fd74dd\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__bf2d523a459af6e12b633bb161fd74dd\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Fuzabase\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-11:77\"\u003e株式会社Uzabaseに入社して1か月半が経ちました\u003ca href=\"/maaaashi\" class=\"user-mention js-hovercard\" title=\"maaaashi\" data-hovercard-target-type=\"user\" data-hovercard-target-name=\"maaaashi\"\u003e@maaaashi\u003c/a\u003eです\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:27\"\u003e\u003ciframe id=\"qiita-embed-content__52b6bdb306e3f6d7be04e9f666220b85\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__52b6bdb306e3f6d7be04e9f666220b85\" data-content=\"https%3A%2F%2Fwww.uzabase.com%2Fjp%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"15:1-15:61\"\u003eUzabaseでは、アジャイル開発を採用しています\u003c/p\u003e\n\u003cp data-sourcepos=\"17:1-17:200\"\u003e前職でもアジャイル開発をしていましたが、Uzabaseに入社してから理解が深まったことの一つに\u003cstrong\u003eストーリーポイント\u003c/strong\u003eについての考え方があります。\u003c/p\u003e\n\u003cp data-sourcepos=\"19:1-19:87\"\u003e本記事ではその気付き・学びについての共有をしたいと思います\u003c/p\u003e\n\u003ch2 data-sourcepos=\"21:1-21:48\"\u003e\n\u003cspan id=\"そもそもユーザーストーリーとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%9D%E3%82%82%E3%81%9D%E3%82%82%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AA%E3%83%BC%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eそもそもユーザーストーリーとは\u003c/h2\u003e\n\u003cp data-sourcepos=\"23:1-23:267\"\u003eユーザーストーリーはソフトウェア開発に用いられる手法です。「誰が、何の目的で、何を実現したいか」を示し、内部メンバーなどに向けて、ソフトウェアの機能や利点を伝えることが目的です。\u003c/p\u003e\n\u003cp data-sourcepos=\"25:1-25:57\"\u003e参考）\u003ca href=\"https://products.sint.co.jp/obpm/blog/user-story\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://products.sint.co.jp/obpm/blog/user-story\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"27:1-28:131\"\u003e例：こういうやつです\u003cbr\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa0a20216-d884-5adc-b702-73e4bd2e5191.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0ca6ee0461dd07ba411f4c84598b4f9a\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa0a20216-d884-5adc-b702-73e4bd2e5191.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0ca6ee0461dd07ba411f4c84598b4f9a\" width=\"400/\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa0a20216-d884-5adc-b702-73e4bd2e5191.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c0cfcb436c90108a7cf6c6a445b0d90c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a0a20216-d884-5adc-b702-73e4bd2e5191.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"30:1-30:30\"\u003e\n\u003cspan id=\"ストーリーポイント\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AA%E3%83%BC%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eストーリーポイント\u003c/h2\u003e\n\u003cp data-sourcepos=\"32:1-33:159\"\u003eストーリーポイントとは、タスクの\u003cstrong\u003e難易度\u003c/strong\u003e・\u003cstrong\u003e規模\u003c/strong\u003e・\u003cstrong\u003e複雑性\u003c/strong\u003eを表した指標です。\u003cbr\u003e\nストーリーポイントを利用することで、チームの成長を測ったり、タスクの優先順位を考えたりすることができます。\u003c/p\u003e\n\u003cp data-sourcepos=\"35:1-35:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1bb31523-ca7e-7b75-0ff9-1487fd5614fb.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a3ec8e6355dcef1e3f02329c69879497\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1bb31523-ca7e-7b75-0ff9-1487fd5614fb.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a3ec8e6355dcef1e3f02329c69879497\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1bb31523-ca7e-7b75-0ff9-1487fd5614fb.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ac5d58e2626483ca62290acb55b84202 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/1bb31523-ca7e-7b75-0ff9-1487fd5614fb.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"37:1-37:90\"\u003e\n\u003cspan id=\"本題ストーリーポイントを工数ベースで考えてはいけない理由\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%AC%E9%A1%8C%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AA%E3%83%BC%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88%E3%82%92%E5%B7%A5%E6%95%B0%E3%83%99%E3%83%BC%E3%82%B9%E3%81%A7%E8%80%83%E3%81%88%E3%81%A6%E3%81%AF%E3%81%84%E3%81%91%E3%81%AA%E3%81%84%E7%90%86%E7%94%B1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e本題）ストーリーポイントを工数ベースで考えてはいけない理由\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"39:1-39:58\"\u003e\n\u003cspan id=\"理由1-ベロシティが計測ができなくなる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%90%86%E7%94%B11-%E3%83%99%E3%83%AD%E3%82%B7%E3%83%86%E3%82%A3%E3%81%8C%E8%A8%88%E6%B8%AC%E3%81%8C%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%8F%E3%81%AA%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e理由1. ベロシティが計測ができなくなる\u003c/h3\u003e\n\u003cp data-sourcepos=\"41:1-42:66\"\u003e陸上に例えつつ進めてみようと思います\u003cbr\u003e\n（分かりやすくなっているかはわかりません。）\u003c/p\u003e\n\u003cp data-sourcepos=\"44:1-44:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff88523c7-93ef-f2da-56a8-8e2c6d6c2380.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=08b6d7191774e7835f322b9da3bec106\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff88523c7-93ef-f2da-56a8-8e2c6d6c2380.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=08b6d7191774e7835f322b9da3bec106\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff88523c7-93ef-f2da-56a8-8e2c6d6c2380.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=6f56ba55018ef6b8a40ba49473246c76 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f88523c7-93ef-f2da-56a8-8e2c6d6c2380.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"46:1-46:91\"\u003e試しに\u003cstrong\u003e時間ベース\u003c/strong\u003eでストーリーポイントを見積もってみましょう\u003c/p\u003e\n\u003chr data-sourcepos=\"48:1-48:3\"\u003e\n\u003cp data-sourcepos=\"49:1-50:208\"\u003e例１）\u003cbr\u003e\n\u003cfont color=\"green\"\u003e\u003cstrong\u003e1時間\u003c/strong\u003e\u003c/font\u003e走ったら\u003cfont color=\"green\"\u003e\u003cstrong\u003e10km\u003c/strong\u003e\u003c/font\u003eくらい走れるので、\u003cfont color=\"green\"\u003e\u003cstrong\u003e10km\u003c/strong\u003e\u003c/font\u003e走ったら\u003cfont color=\"green\"\u003e\u003cstrong\u003e1pt\u003c/strong\u003e\u003c/font\u003eとします。\u003c/p\u003e\n\u003cp data-sourcepos=\"52:1-53:110\"\u003eしばらく経ち、徐々に体力がついてきて、1時間で\u003cfont color=\"red\"\u003e\u003cstrong\u003e15km\u003c/strong\u003e\u003c/font\u003e走れるようになったので、\u003cbr\u003e\n途中で\u003cfont color=\"red\"\u003e\u003cstrong\u003e15km\u003c/strong\u003e\u003c/font\u003e走ったら\u003cfont color=\"red\"\u003e\u003cstrong\u003e1pt\u003c/strong\u003e\u003c/font\u003eに変更しました。\u003c/p\u003e\n\u003cp data-sourcepos=\"55:1-55:105\"\u003eこの後も\u003cstrong\u003e1時間\u003c/strong\u003eで走れる量を\u003cstrong\u003e1pt\u003c/strong\u003eとし、距離の変化は許容していきました。\u003c/p\u003e\n\u003cp data-sourcepos=\"57:1-57:108\"\u003eベロシティ計測してみたところ、毎週5pt消化で、変化のない結果になりました。\u003c/p\u003e\n\u003chr data-sourcepos=\"59:1-60:0\"\u003e\n\u003cp data-sourcepos=\"61:1-61:219\"\u003e徐々に体力がついてきて、1ptをこなすスピードが上がったのにも関わらず、ベロシティは一定となっています。この計測結果は有用なデータといえるでしょうか？\u003c/p\u003e\n\u003cp data-sourcepos=\"63:1-63:249\"\u003eベロシティとは、チームがこなしたストーリーポイント数であり、開発スピードを表す指標なので、開発スピードが上がったのであれば、ベロシティはどんどん上がっていくはずです。\u003c/p\u003e\n\u003cp data-sourcepos=\"66:1-66:84\"\u003e次に\u003cstrong\u003e難易度\u003c/strong\u003e・\u003cstrong\u003e規模\u003c/strong\u003e・\u003cstrong\u003e複雑性\u003c/strong\u003eを基準にして考えてみます\u003c/p\u003e\n\u003chr data-sourcepos=\"68:1-68:3\"\u003e\n\u003cp data-sourcepos=\"69:1-72:94\"\u003e例２）\u003cbr\u003e\nひとまず、\u003cfont color=\"green\"\u003e\u003cstrong\u003e10km\u003c/strong\u003e\u003c/font\u003eで\u003cfont color=\"green\"\u003e\u003cstrong\u003e1pt\u003c/strong\u003e\u003c/font\u003eとしました。\u003cbr\u003e\n今後これを一つの指標として相対的にポイントを考えていきます\u003cbr\u003e\n（例えば雨の日は10km走る難易度が上がるので、2ptとしたりします。）\u003c/p\u003e\n\u003cp data-sourcepos=\"74:1-75:87\"\u003e徐々に体力が着いてきて、1日に走れる距離が\u003cfont color=\"red\"\u003e\u003cstrong\u003e15km\u003c/strong\u003e\u003c/font\u003eに増えました。\u003cbr\u003e\n今まで１日で10km ⇒ 1ptでしたが、1日で15km ⇒ 1.5ptになりました。\u003c/p\u003e\n\u003cp data-sourcepos=\"77:1-77:195\"\u003eベロシティを計測してみたところ、体力がある週はポイント消化が多く、体調がすぐれない日はポイント消化が少なかったことがわかりました。\u003c/p\u003e\n\u003chr data-sourcepos=\"79:1-80:0\"\u003e\n\u003cp data-sourcepos=\"81:1-82:139\"\u003e\u003cstrong\u003e規模\u003c/strong\u003eや、\u003cstrong\u003e難易度\u003c/strong\u003eというものは普遍的なものです。\u003cbr\u003e\nそれに比べて、\u003cstrong\u003e工数\u003c/strong\u003eというものはチーム成長や、プロジェクト管理方法によって変化するものです。\u003c/p\u003e\n\u003cp data-sourcepos=\"84:1-84:153\"\u003e変化する工数をベースにしてしまうと、普遍的なデータとしてベロシティが計測できなくなってしまうでしょう。\u003c/p\u003e\n\u003chr data-sourcepos=\"86:1-87:0\"\u003e\n\u003ch3 data-sourcepos=\"88:1-88:43\"\u003e\n\u003cspan id=\"理由2-スキル時間感覚の差\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%90%86%E7%94%B12-%E3%82%B9%E3%82%AD%E3%83%AB%E6%99%82%E9%96%93%E6%84%9F%E8%A6%9A%E3%81%AE%E5%B7%AE\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e理由2. スキル・時間感覚の差\u003c/h3\u003e\n\u003cp data-sourcepos=\"90:1-90:150\"\u003eチームメンバー間でのスキルの差も、ストーリーポイントを工数ベースで考えるべきではない理由の一つです。\u003c/p\u003e\n\u003cp data-sourcepos=\"92:1-92:393\"\u003eたとえば、経験豊富な開発者は特定のタスクを短時間で完了できるかもしれませんが、新しいメンバーにはもっと時間がかかることがあります。同じストーリーであるのにもかかわらず、見積りを行う人のスキルによって結果が変わるのはプロジェクト管理に支障をきたす可能性があります。\u003c/p\u003e\n\u003cp data-sourcepos=\"94:1-94:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3db324fc-32ff-14fb-32e9-7261ef53d78c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3312851d5d1cba9384ffb66e422e3197\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3db324fc-32ff-14fb-32e9-7261ef53d78c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3312851d5d1cba9384ffb66e422e3197\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3db324fc-32ff-14fb-32e9-7261ef53d78c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ea369d496e468ff3dc637e47dc2140fa 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3db324fc-32ff-14fb-32e9-7261ef53d78c.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"98:1-98:207\"\u003eまた、時間ベースでストーリーポイントを割り当てると、チーム内での作業負荷の差異が生まれ、プロジェクトの進行に影響を与える可能性があります。\u003c/p\u003e\n\u003cp data-sourcepos=\"101:1-101:174\"\u003eストーリーポイントは、タスクの難易度や複雑性を表すものであり、個々のメンバーの作業速度を基準にすべきではありません。\u003c/p\u003e\n\u003cp data-sourcepos=\"103:1-103:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8c9a7dda-7b85-55b2-9dd4-4dc972b8c944.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=296c14ac2ee93a732c3ff9ab8ab64680\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8c9a7dda-7b85-55b2-9dd4-4dc972b8c944.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=296c14ac2ee93a732c3ff9ab8ab64680\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8c9a7dda-7b85-55b2-9dd4-4dc972b8c944.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=81a9e702f2452f380be5673e95b6df44 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/8c9a7dda-7b85-55b2-9dd4-4dc972b8c944.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"106:1-106:12\"\u003e\n\u003cspan id=\"まとめ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eまとめ\u003c/h2\u003e\n\u003cp data-sourcepos=\"108:1-108:295\"\u003eストーリーポイントを工数ベースで考えると、\u003cfont color=\"red\"\u003e\u003cstrong\u003eベロシティの計測が不正確\u003c/strong\u003e\u003c/font\u003eになるだけでなく、\u003cfont color=\"red\"\u003e\u003cstrong\u003eスキルや、時間感覚の差による見積りの不正確さ\u003c/strong\u003e\u003c/font\u003eをも引き起こすことがあります。\u003c/p\u003e\n\u003cp data-sourcepos=\"110:1-110:258\"\u003eアジャイル開発では、ストーリーポイントをタスクの\u003cfont color=\"green\"\u003e\u003cstrong\u003e難易度\u003c/strong\u003e\u003c/font\u003e、\u003cfont color=\"green\"\u003e\u003cstrong\u003e規模\u003c/strong\u003e\u003c/font\u003e、\u003cfont color=\"green\"\u003e\u003cstrong\u003e複雑性\u003c/strong\u003e\u003c/font\u003eを反映する指標として用いることが重要です。\u003c/p\u003e\n\u003cp data-sourcepos=\"112:1-112:174\"\u003eこれにより、チーム全体としての進捗をより適切に把握し、プロジェクトの成功に向けて効果的に進めることができるでしょう！\u003c/p\u003e\n",
    "body": "![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/d7af57e3-0459-1631-d638-501f5a1d2ab8.png)\n\n---\n\n## はじめに\n\n本記事はUzabase Advent Calendar 2023の20日目の記事です\n\nhttps://qiita.com/advent-calendar/2023/uzabase\n\n株式会社Uzabaseに入社して1か月半が経ちました@maaaashiです\n\nhttps://www.uzabase.com/jp/\n\nUzabaseでは、アジャイル開発を採用しています\n\n前職でもアジャイル開発をしていましたが、Uzabaseに入社してから理解が深まったことの一つに**ストーリーポイント**についての考え方があります。\n\n本記事ではその気付き・学びについての共有をしたいと思います\n\n## そもそもユーザーストーリーとは\n\nユーザーストーリーはソフトウェア開発に用いられる手法です。「誰が、何の目的で、何を実現したいか」を示し、内部メンバーなどに向けて、ソフトウェアの機能や利点を伝えることが目的です。\n\n参考）https://products.sint.co.jp/obpm/blog/user-story\n\n例：こういうやつです\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a0a20216-d884-5adc-b702-73e4bd2e5191.png\" width=400/\u003e\n\n## ストーリーポイント\n\nストーリーポイントとは、タスクの**難易度**・**規模**・**複雑性**を表した指標です。\nストーリーポイントを利用することで、チームの成長を測ったり、タスクの優先順位を考えたりすることができます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/1bb31523-ca7e-7b75-0ff9-1487fd5614fb.png)\n\n## 本題）ストーリーポイントを工数ベースで考えてはいけない理由\n\n### 理由1. ベロシティが計測ができなくなる\n\n陸上に例えつつ進めてみようと思います\n（分かりやすくなっているかはわかりません。）\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f88523c7-93ef-f2da-56a8-8e2c6d6c2380.png)\n\n試しに**時間ベース**でストーリーポイントを見積もってみましょう\n\n---\n例１）\n\u003cfont color=\"green\"\u003e**1時間**\u003c/font\u003e走ったら\u003cfont color=\"green\"\u003e**10km**\u003c/font\u003eくらい走れるので、\u003cfont color=\"green\"\u003e**10km**\u003c/font\u003e走ったら\u003cfont color=\"green\"\u003e**1pt**\u003c/font\u003eとします。\n\nしばらく経ち、徐々に体力がついてきて、1時間で\u003cfont color=\"red\"\u003e**15km**\u003c/font\u003e走れるようになったので、\n途中で\u003cfont color=\"red\"\u003e**15km**\u003c/font\u003e走ったら\u003cfont color=\"red\"\u003e**1pt**\u003c/font\u003eに変更しました。\n\nこの後も**1時間**で走れる量を**1pt**とし、距離の変化は許容していきました。\n\nベロシティ計測してみたところ、毎週5pt消化で、変化のない結果になりました。\n\n---\n\n徐々に体力がついてきて、1ptをこなすスピードが上がったのにも関わらず、ベロシティは一定となっています。この計測結果は有用なデータといえるでしょうか？\n\nベロシティとは、チームがこなしたストーリーポイント数であり、開発スピードを表す指標なので、開発スピードが上がったのであれば、ベロシティはどんどん上がっていくはずです。\n\n\n次に**難易度**・**規模**・**複雑性**を基準にして考えてみます\n\n---\n例２）\nひとまず、\u003cfont color=\"green\"\u003e**10km**\u003c/font\u003eで\u003cfont color=\"green\"\u003e**1pt**\u003c/font\u003eとしました。\n今後これを一つの指標として相対的にポイントを考えていきます\n（例えば雨の日は10km走る難易度が上がるので、2ptとしたりします。）\n\n徐々に体力が着いてきて、1日に走れる距離が\u003cfont color=\"red\"\u003e**15km**\u003c/font\u003eに増えました。\n今まで１日で10km ⇒ 1ptでしたが、1日で15km ⇒ 1.5ptになりました。\n\nベロシティを計測してみたところ、体力がある週はポイント消化が多く、体調がすぐれない日はポイント消化が少なかったことがわかりました。\n\n---\n\n**規模**や、**難易度**というものは普遍的なものです。\nそれに比べて、**工数**というものはチーム成長や、プロジェクト管理方法によって変化するものです。\n\n変化する工数をベースにしてしまうと、普遍的なデータとしてベロシティが計測できなくなってしまうでしょう。\n\n----\n\n### 理由2. スキル・時間感覚の差\n\nチームメンバー間でのスキルの差も、ストーリーポイントを工数ベースで考えるべきではない理由の一つです。\n\nたとえば、経験豊富な開発者は特定のタスクを短時間で完了できるかもしれませんが、新しいメンバーにはもっと時間がかかることがあります。同じストーリーであるのにもかかわらず、見積りを行う人のスキルによって結果が変わるのはプロジェクト管理に支障をきたす可能性があります。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3db324fc-32ff-14fb-32e9-7261ef53d78c.png)\n\n\n\nまた、時間ベースでストーリーポイントを割り当てると、チーム内での作業負荷の差異が生まれ、プロジェクトの進行に影響を与える可能性があります。\n\n\nストーリーポイントは、タスクの難易度や複雑性を表すものであり、個々のメンバーの作業速度を基準にすべきではありません。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/8c9a7dda-7b85-55b2-9dd4-4dc972b8c944.png)\n\n\n## まとめ\n\nストーリーポイントを工数ベースで考えると、\u003cfont color=\"red\"\u003e**ベロシティの計測が不正確**\u003c/font\u003eになるだけでなく、\u003cfont color=\"red\"\u003e**スキルや、時間感覚の差による見積りの不正確さ**\u003c/font\u003eをも引き起こすことがあります。\n\nアジャイル開発では、ストーリーポイントをタスクの\u003cfont color=\"green\"\u003e**難易度**\u003c/font\u003e、\u003cfont color=\"green\"\u003e**規模**\u003c/font\u003e、\u003cfont color=\"green\"\u003e**複雑性**\u003c/font\u003eを反映する指標として用いることが重要です。\n\nこれにより、チーム全体としての進捗をより適切に把握し、プロジェクトの成功に向けて効果的に進めることができるでしょう！\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-12-16T20:58:08+09:00",
    "group": null,
    "id": "af6e82cb606695c5f9f3",
    "likes_count": 8,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 2,
    "tags": [
      { "name": "見積もり", "versions": [] },
      { "name": "ストーリーポイント", "versions": [] }
    ],
    "title": "ストーリーポイントを工数ベースで考えてはいけない理由",
    "updated_at": "2023-12-20T03:24:01+09:00",
    "url": "https://qiita.com/maaaashi/items/af6e82cb606695c5f9f3",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": "uzabase",
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-3:131\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fdd6ea09c-9533-f3b5-66a9-51e9e4a7011e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=df22371054008d1b5594940a7f604a8c\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fdd6ea09c-9533-f3b5-66a9-51e9e4a7011e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=df22371054008d1b5594940a7f604a8c\" alt=\"スライド19.PNG\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fdd6ea09c-9533-f3b5-66a9-51e9e4a7011e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8a9517284257085b1527b3e2a95ba55d 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/dd6ea09c-9533-f3b5-66a9-51e9e4a7011e.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr data-sourcepos=\"6:1-7:0\"\u003e\n\u003cp data-sourcepos=\"8:1-8:58\"\u003e\u003cstrong\u003e2023年アドベントカレンダー18日目\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"10:1-10:52\"\u003e\u003ciframe id=\"qiita-embed-content__8804d8bad3501cf91e0a44d73cf0dcfd\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__8804d8bad3501cf91e0a44d73cf0dcfd\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"12:1-12:114\"\u003e本日は前回に引き続き「開発者はAPIの開発を進めることができる」を進めています。\u003c/p\u003e\n\u003cp data-sourcepos=\"14:1-14:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2b71c2cf-703a-c8de-0753-e49bd0512782.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6390d67cafd2502780c51eaf55b8ec20\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2b71c2cf-703a-c8de-0753-e49bd0512782.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6390d67cafd2502780c51eaf55b8ec20\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2b71c2cf-703a-c8de-0753-e49bd0512782.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=1cfac52431ec1d00bd588633e52a56ad 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/2b71c2cf-703a-c8de-0753-e49bd0512782.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"16:1-16:118\"\u003e今回はPostgresqlをDockerで立てて、初期データを入れるところまでやっていこうと思います\u003c/p\u003e\n\u003ch2 data-sourcepos=\"18:1-18:13\"\u003e\n\u003cspan id=\"postgresql\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#postgresql\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ePostgresql\u003c/h2\u003e\n\u003cp data-sourcepos=\"20:1-20:26\"\u003e\u003ciframe id=\"qiita-embed-content__1ee3c3ac04a62bc0c0ca97b8741db2b8\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__1ee3c3ac04a62bc0c0ca97b8741db2b8\" data-content=\"https%3A%2F%2Fwww.postgresql.jp%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch3 data-sourcepos=\"22:1-22:30\"\u003e\n\u003cspan id=\"postgres-on-docker-compose\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#postgres-on-docker-compose\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ePostgres on Docker Compose\u003c/h3\u003e\n\u003cp data-sourcepos=\"24:1-24:52\"\u003e今回は\u003ccode\u003edocker compose\u003c/code\u003eで構築していきます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"26:1-40:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecompose.yaml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eversion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\u003c/span\u003e\u003cspan class=\"s\"\u003e3'\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003eservices\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003edb\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003epostgres:16\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eports\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003e5432:5432\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePOSTGRES_DB\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eblog\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePOSTGRES_USER\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eblog_user\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePOSTGRES_PASSWORD\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eblog_password\u003c/span\u003e\n    \u003cspan class=\"na\"\u003etty\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n    \u003cspan class=\"na\"\u003estdin_open\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"42:1-42:39\"\u003eこれで起動はできるはずです\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"44:1-46:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003edocker compose up\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"48:1-48:108\"\u003eただし、テスト用の初期値(seed)を入れておきたいので、次のSQLを作成しました。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"sql\" data-sourcepos=\"50:1-62:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003einit/init.sql\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"k\"\u003eTABLE\u003c/span\u003e \u003cspan class=\"n\"\u003eblog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eid\u003c/span\u003e \u003cspan class=\"n\"\u003eUUID\u003c/span\u003e \u003cspan class=\"k\"\u003ePRIMARY\u003c/span\u003e \u003cspan class=\"k\"\u003eKEY\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003etitle\u003c/span\u003e \u003cspan class=\"nb\"\u003eVARCHAR\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e255\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003eNOT\u003c/span\u003e \u003cspan class=\"k\"\u003eNULL\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003eauthor\u003c/span\u003e \u003cspan class=\"nb\"\u003eVARCHAR\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e255\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003eNOT\u003c/span\u003e \u003cspan class=\"k\"\u003eNULL\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ebody\u003c/span\u003e \u003cspan class=\"nb\"\u003eTEXT\u003c/span\u003e \u003cspan class=\"k\"\u003eNOT\u003c/span\u003e \u003cspan class=\"k\"\u003eNULL\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"n\"\u003ecreated_at\u003c/span\u003e \u003cspan class=\"nb\"\u003eVARCHAR\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e255\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003eNOT\u003c/span\u003e \u003cspan class=\"k\"\u003eNULL\u003c/span\u003e\n\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eINSERT\u003c/span\u003e \u003cspan class=\"k\"\u003eINTO\u003c/span\u003e \u003cspan class=\"n\"\u003eblog\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"n\"\u003ecreated_at\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003eVALUES\u003c/span\u003e \n\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s1\"\u003e'123e4567-e89b-12d3-a456-426614174000'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'カフェの隅で見つけた幸せ：私のお気に入りの隠れ家'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'田中太郎'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'ブログの本文'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"s1\"\u003e'2023-12-09 09:00:00'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"64:1-64:71\"\u003e作った初期化SQLを\u003ccode\u003e/docker-entrypoint-initdb.d\u003c/code\u003eに設置します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"diff_yaml\" data-sourcepos=\"66:1-82:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecompose.yaml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eversion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\u003c/span\u003e\u003cspan class=\"s\"\u003e3'\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003eservices\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003edb\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003epostgres:16\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eports\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003e5432:5432\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePOSTGRES_DB\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eblog\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePOSTGRES_USER\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eblog_user\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePOSTGRES_PASSWORD\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eblog_password\u003c/span\u003e\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"na\"\u003e+   volumes\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e    \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003e./init:/docker-entrypoint-initdb.d\u003c/span\u003e\n\u003c/span\u003e    \u003cspan class=\"na\"\u003etty\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n    \u003cspan class=\"na\"\u003estdin_open\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"84:1-84:110\"\u003eこの状態で起動することで、Seedが入った状態でPostgresqlを起動することができます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"86:1-88:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003edocker compose up\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"90:1-90:49\"\u003eこれでRustの開発環境ができました！\u003c/p\u003e\n\u003cp data-sourcepos=\"92:1-92:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2b71c2cf-703a-c8de-0753-e49bd0512782.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6390d67cafd2502780c51eaf55b8ec20\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2b71c2cf-703a-c8de-0753-e49bd0512782.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6390d67cafd2502780c51eaf55b8ec20\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2b71c2cf-703a-c8de-0753-e49bd0512782.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=1cfac52431ec1d00bd588633e52a56ad 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/2b71c2cf-703a-c8de-0753-e49bd0512782.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"95:1-95:62\"\u003e明日からはRustでAPIの実装を進めていきます👍\u003c/p\u003e\n",
    "body": "## はじめに\n\n![スライド19.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/dd6ea09c-9533-f3b5-66a9-51e9e4a7011e.png)\n\n\n---\n\n**2023年アドベントカレンダー18日目**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n本日は前回に引き続き「開発者はAPIの開発を進めることができる」を進めています。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/2b71c2cf-703a-c8de-0753-e49bd0512782.png)\n\n今回はPostgresqlをDockerで立てて、初期データを入れるところまでやっていこうと思います\n\n## Postgresql\n\nhttps://www.postgresql.jp/\n\n### Postgres on Docker Compose\n\n今回は`docker compose`で構築していきます\n\n```yaml:compose.yaml\nversion: '3'\n\nservices:\n  db:\n    image: postgres:16\n    ports:\n      - 5432:5432\n    environment:\n      POSTGRES_DB: blog\n      POSTGRES_USER: blog_user\n      POSTGRES_PASSWORD: blog_password\n    tty: true\n    stdin_open: true\n```\n\nこれで起動はできるはずです\n\n```bash\n$ docker compose up\n```\n\nただし、テスト用の初期値(seed)を入れておきたいので、次のSQLを作成しました。\n\n```sql:init/init.sql\nCREATE TABLE blog (\n    id UUID PRIMARY KEY,\n    title VARCHAR(255) NOT NULL,\n    author VARCHAR(255) NOT NULL,\n    body TEXT NOT NULL,\n    created_at VARCHAR(255) NOT NULL\n);\n\nINSERT INTO blog (id, title, author, body, created_at)\nVALUES \n('123e4567-e89b-12d3-a456-426614174000', 'カフェの隅で見つけた幸せ：私のお気に入りの隠れ家', '田中太郎', 'ブログの本文', '2023-12-09 09:00:00');\n```\n\n作った初期化SQLを`/docker-entrypoint-initdb.d`に設置します\n\n```diff_yaml:compose.yaml\nversion: '3'\n\nservices:\n  db:\n    image: postgres:16\n    ports:\n      - 5432:5432\n    environment:\n      POSTGRES_DB: blog\n      POSTGRES_USER: blog_user\n      POSTGRES_PASSWORD: blog_password\n+   volumes:\n+     - ./init:/docker-entrypoint-initdb.d\n    tty: true\n    stdin_open: true\n```\n\nこの状態で起動することで、Seedが入った状態でPostgresqlを起動することができます\n\n```bash\n$ docker compose up\n```\n\nこれでRustの開発環境ができました！\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/2b71c2cf-703a-c8de-0753-e49bd0512782.png)\n\n\n明日からはRustでAPIの実装を進めていきます👍\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-12-14T08:55:19+09:00",
    "group": null,
    "id": "5ac7cb6f8791f00b4972",
    "likes_count": 3,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "PostgreSQL", "versions": [] },
      { "name": "Docker", "versions": [] }
    ],
    "title": "【Day 18】API 環境構築 - Docker Postgresql",
    "updated_at": "2023-12-18T07:00:39+09:00",
    "url": "https://qiita.com/maaaashi/items/5ac7cb6f8791f00b4972",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-3:131\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6b080079-3378-d09e-1b96-e7a7367e3b23.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c7ea2826a4abf7b646c5c21b9a89fb61\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6b080079-3378-d09e-1b96-e7a7367e3b23.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c7ea2826a4abf7b646c5c21b9a89fb61\" alt=\"スライド18.PNG\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6b080079-3378-d09e-1b96-e7a7367e3b23.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=02d38b7db23156e4c4326ebf867bdd90 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6b080079-3378-d09e-1b96-e7a7367e3b23.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr data-sourcepos=\"5:1-6:0\"\u003e\n\u003cp data-sourcepos=\"7:1-7:58\"\u003e\u003cstrong\u003e2023年アドベントカレンダー17日目\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:52\"\u003e\u003ciframe id=\"qiita-embed-content__f47e9787745014f8219cc826fa31bd05\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__f47e9787745014f8219cc826fa31bd05\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-11:96\"\u003e本日から「開発者はAPIの開発を進めることができる」を進めています。\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2b71c2cf-703a-c8de-0753-e49bd0512782.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6390d67cafd2502780c51eaf55b8ec20\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2b71c2cf-703a-c8de-0753-e49bd0512782.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6390d67cafd2502780c51eaf55b8ec20\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2b71c2cf-703a-c8de-0753-e49bd0512782.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=1cfac52431ec1d00bd588633e52a56ad 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/2b71c2cf-703a-c8de-0753-e49bd0512782.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"15:1-15:7\"\u003e\n\u003cspan id=\"rust\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#rust\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eRust\u003c/h2\u003e\n\u003cp data-sourcepos=\"17:1-17:46\"\u003eAPIにはRustを採用しようと思います\u003c/p\u003e\n\u003ch3 data-sourcepos=\"19:1-19:14\"\u003e\n\u003cspan id=\"rustとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#rust%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eRustとは\u003c/h3\u003e\n\u003cblockquote data-sourcepos=\"21:1-24:154\"\u003e\n\u003cp data-sourcepos=\"21:3-22:149\"\u003e「Rust」は、Mozilla社が開発したプログラミング言語です。\u003cbr\u003e\nRustの大きな魅力は、C言語やC++に匹敵する実行速度を備えていながら、優れた安全性を実現していることです。\u003c/p\u003e\n\u003cp data-sourcepos=\"24:3-24:154\"\u003eそのため、システム開発、Web開発、AI開発など幅広い分野で注目されており、将来性も高いと考えられています。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp data-sourcepos=\"26:1-26:28\"\u003e\u003ciframe id=\"qiita-embed-content__81088c557001e2b23a636602fd5120b9\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__81088c557001e2b23a636602fd5120b9\" data-content=\"https%3A%2F%2Fwww.rust-lang.org%2Fja\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"28:1-28:41\"\u003e\u003ciframe id=\"qiita-embed-content__0ca4c80edf346e2772225959db3e59d1\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__0ca4c80edf346e2772225959db3e59d1\" data-content=\"https%3A%2F%2Ffreelance-start.com%2Farticles%2F1110\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"30:1-30:61\"\u003eではRustの環境をrustupで構築していきましょう\u003c/p\u003e\n\u003ch3 data-sourcepos=\"32:1-32:10\"\u003e\n\u003cspan id=\"rustup\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#rustup\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003erustup\u003c/h3\u003e\n\u003cblockquote data-sourcepos=\"34:1-35:126\"\u003e\n\u003cp data-sourcepos=\"34:3-35:126\"\u003eGPT\u003cbr\u003e\nRustupは、Rustプログラミング言語のインストールやバージョン管理を簡単にするツールです。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cdiv data-sourcepos=\"36:1-38:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"37:1-37:146\"\u003e\u003ccode\u003easdf\u003c/code\u003eでもRustは入れられますが、自分の環境ではVScodeのRust Analyzerが動かなかったので、rustupで入れています。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"40:1-40:18\"\u003e\u003ciframe id=\"qiita-embed-content__bd47452c6e03b0f5d847c4e25f40b692\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__bd47452c6e03b0f5d847c4e25f40b692\" data-content=\"https%3A%2F%2Frustup.rs%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"42:1-42:49\"\u003e公式のInstall方法に従っていきます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"44:1-49:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl \u003cspan class=\"nt\"\u003e--proto\u003c/span\u003e \u003cspan class=\"s1\"\u003e'=https'\u003c/span\u003e \u003cspan class=\"nt\"\u003e--tlsv1\u003c/span\u003e.2 \u003cspan class=\"nt\"\u003e-sSf\u003c/span\u003e https://sh.rustup.rs | sh\n\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecargo version\ncargo 1.73.0 \u003cspan class=\"o\"\u003e(\u003c/span\u003e9c4383fb5 2023-08-26\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"51:1-51:43\"\u003eこれでrustupがinstallできました。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"53:1-53:14\"\u003e\n\u003cspan id=\"hello-world\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#hello-world\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eHello World\u003c/h2\u003e\n\u003cp data-sourcepos=\"55:1-55:62\"\u003ecargo initでRustプロジェクトを作成していきます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"57:1-60:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecargo init\nCreated binary \u003cspan class=\"o\"\u003e(\u003c/span\u003eapplication\u003cspan class=\"o\"\u003e)\u003c/span\u003e package\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"62:1-63:27\"\u003eこれでサンプルプロジェクトができました\u003cbr\u003e\n実行してみましょう\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"65:1-71:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecargo run\n   Compiling rust-tmp v0.1.0 \u003cspan class=\"o\"\u003e(\u003c/span\u003e/home/masashiooka/study/rust-tmp\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n    Finished dev \u003cspan class=\"o\"\u003e[\u003c/span\u003eunoptimized + debuginfo] target\u003cspan class=\"o\"\u003e(\u003c/span\u003es\u003cspan class=\"o\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003ein \u003c/span\u003e0.17s\n     Running \u003cspan class=\"sb\"\u003e`\u003c/span\u003etarget/debug/rust-tmp\u003cspan class=\"sb\"\u003e`\u003c/span\u003e\nHello, world!\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"73:1-73:40\"\u003eHello Worldが出力されました 👍\u003c/p\u003e\n\u003cp data-sourcepos=\"75:1-75:50\"\u003e明日は接続するDBを作成していきます\u003c/p\u003e\n",
    "body": "## はじめに\n\n![スライド18.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6b080079-3378-d09e-1b96-e7a7367e3b23.png)\n\n---\n\n**2023年アドベントカレンダー17日目**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n本日から「開発者はAPIの開発を進めることができる」を進めています。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/2b71c2cf-703a-c8de-0753-e49bd0512782.png)\n\n## Rust\n\nAPIにはRustを採用しようと思います\n\n### Rustとは\n\n\u003e 「Rust」は、Mozilla社が開発したプログラミング言語です。\nRustの大きな魅力は、C言語やC++に匹敵する実行速度を備えていながら、優れた安全性を実現していることです。\n\u003e \n\u003e そのため、システム開発、Web開発、AI開発など幅広い分野で注目されており、将来性も高いと考えられています。\n\nhttps://www.rust-lang.org/ja\n\nhttps://freelance-start.com/articles/1110\n\nではRustの環境をrustupで構築していきましょう\n\n### rustup\n\n\u003e GPT\n\u003e Rustupは、Rustプログラミング言語のインストールやバージョン管理を簡単にするツールです。\n:::note info\n`asdf`でもRustは入れられますが、自分の環境ではVScodeのRust Analyzerが動かなかったので、rustupで入れています。\n:::\n\nhttps://rustup.rs/\n\n公式のInstall方法に従っていきます。\n\n```bash\n$ curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\n\n$ cargo version\ncargo 1.73.0 (9c4383fb5 2023-08-26)\n```\n\nこれでrustupがinstallできました。\n\n## Hello World\n\ncargo initでRustプロジェクトを作成していきます\n\n```bash\n$ cargo init\nCreated binary (application) package\n```\n\nこれでサンプルプロジェクトができました\n実行してみましょう\n\n```bash\n$ cargo run\n   Compiling rust-tmp v0.1.0 (/home/masashiooka/study/rust-tmp)\n    Finished dev [unoptimized + debuginfo] target(s) in 0.17s\n     Running `target/debug/rust-tmp`\nHello, world!\n```\n\nHello Worldが出力されました 👍\n\n明日は接続するDBを作成していきます\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-12-13T15:16:13+09:00",
    "group": null,
    "id": "1863a797198889299b0d",
    "likes_count": 3,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "Rust", "versions": [] },
      { "name": "rustup", "versions": [] }
    ],
    "title": "【Day 17】API 環境構築 - Rust Hello World",
    "updated_at": "2023-12-17T07:00:38+09:00",
    "url": "https://qiita.com/maaaashi/items/1863a797198889299b0d",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-3:131\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7e5ba0db-3902-b78c-df9c-100bc9cee9b3.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=518be158017c04cb5f4c7b17ba79af5e\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7e5ba0db-3902-b78c-df9c-100bc9cee9b3.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=518be158017c04cb5f4c7b17ba79af5e\" alt=\"スライド17.PNG\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7e5ba0db-3902-b78c-df9c-100bc9cee9b3.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=2775abbcbc29c2319389e1b891991ea6 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/7e5ba0db-3902-b78c-df9c-100bc9cee9b3.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr data-sourcepos=\"6:1-7:0\"\u003e\n\u003cp data-sourcepos=\"8:1-8:58\"\u003e\u003cstrong\u003e2023年アドベントカレンダー16日目\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"10:1-10:52\"\u003e\u003ciframe id=\"qiita-embed-content__8e7ef4363a14148e9323d3b082721e7a\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__8e7ef4363a14148e9323d3b082721e7a\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"12:1-12:117\"\u003e現在「ユーザーはトップページでブログの一覧を見ることができる」を進めています。\u003c/p\u003e\n\u003cp data-sourcepos=\"14:1-14:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2fc8082f717e35f5591d5288c9297e53\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2fc8082f717e35f5591d5288c9297e53\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5cfd5a99328c75d5bd883ebfed8d9ea0 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"16:1-17:54\"\u003e前回はGraphQLModuleの設定を行いました。\u003cbr\u003e\n今回はメインの実装を進めていきます。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"19:1-19:15\"\u003e\n\u003cspan id=\"e2eテスト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#e2e%E3%83%86%E3%82%B9%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eE2Eテスト\u003c/h2\u003e\n\u003cp data-sourcepos=\"21:1-21:139\"\u003e\u003ccode\u003enest new\u003c/code\u003eでNestJSを作成したときにすでにE2Eテストの概形はできているので、テストを追加していきます。\u003c/p\u003e\n\u003cdiv data-sourcepos=\"23:1-25:3\" class=\"note warn\"\u003e\n\u003cspan class=\"fa fa-fw fa-exclamation-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"24:1-24:82\"\u003eもっとGraphQLサーバーに特化した書き方があるかもしれません\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"27:1-27:93\"\u003ePOSTでqueryを受け取り、期待するレスポンスを返せるかを確認します。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"ts\" data-sourcepos=\"29:1-46:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eapp.e2e-spec.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  \u003cspan class=\"nf\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e/ (Query) GET BLOGS\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eresult\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nf\"\u003erequest\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eapp\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003egetHttpServer\u003c/span\u003e\u003cspan class=\"p\"\u003e()).\u003c/span\u003e\u003cspan class=\"nf\"\u003epost\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e/\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003esend\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n      \u003cspan class=\"na\"\u003equery\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e{ blogs { id title author body createdAt } }\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n    \u003cspan class=\"nf\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003estatus\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003etoEqual\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003etoEqual\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e8c7cf457-5ffe-44c3-98b3-c529c09e9999\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003etitle1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eauthor1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"na\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ebody1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"na\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e2019-01-01T00:00:00.000Z\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e]);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"48:1-53:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003ebff\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpm run \u003cspan class=\"nb\"\u003etest\u003c/span\u003e:e2e\n\nTest Suites: 1 failed, 1 total\nTests:       1 failed, 1 total\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"55:1-55:86\"\u003e\u003cimg alt=\":ok:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f197.png\" title=\":ok:\" width=\"20\" loading=\"lazy\"\u003e 実装前なので、\u003cstrong\u003e期待通り\u003cfont color=\"red\"\u003e失敗\u003c/font\u003e\u003c/strong\u003e しました\u003c/p\u003e\n\u003ch2 data-sourcepos=\"57:1-57:9\"\u003e\n\u003cspan id=\"実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装\u003c/h2\u003e\n\u003cp data-sourcepos=\"59:1-59:57\"\u003e今回はこのような構成を目指しています。\u003c/p\u003e\n\u003cimg src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI0MzNweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjUyNnB4O2hlaWdodDo0MzNweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1MjYgNDMzIiB3aWR0aD0iNTI2cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48IS0tY2x1c3RlciBBcHAtLT48ZyBpZD0iY2x1c3Rlcl9BcHAiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMTE1LjMiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjE3MCIgeD0iMTAwIiB5PSI3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMxIiB4PSIxNjkuNSIgeT0iMjEuOTk1MSI+QXBwPC90ZXh0PjwvZz48IS0tY2x1c3RlciBHcmFwaFFMLS0+PGcgaWQ9ImNsdXN0ZXJfR3JhcGhRTCI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI5OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTc0IiB4PSIzMjQiIHk9IjE1LjE1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5IiB4PSIzNzYuNSIgeT0iMzAuMTQ1MSI+R3JhcGhRTDwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgQmxvZy0tPjxnIGlkPSJjbHVzdGVyX0Jsb2ciPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMjU2LjU5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSI1MTMiIHg9IjciIHk9IjE3MS4zIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM0IiB4PSIyNDYuNSIgeT0iMTg2LjI5NTEiPkJsb2c8L3RleHQ+PC9nPjwhLS1jbGFzcyBBcHBNb2R1bGUtLT48ZyBpZD0iZWxlbV9BcHBNb2R1bGUiPjxyZWN0IGNvZGVMaW5lPSIyIiBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjY0LjI5NjkiIGlkPSJBcHBNb2R1bGUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEzNyIgeD0iMTE2LjUiIHk9IjQyIi8+PGVsbGlwc2UgY3g9IjE0My42NSIgY3k9IjU4IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTE0Ni42MTg4LDYzLjY0MDYgUTE0Ni4wNDA2LDYzLjkzNzUgMTQ1LjQsNjQuMDc4MSBRMTQ0Ljc1OTQsNjQuMjM0NCAxNDQuMDU2Myw2NC4yMzQ0IFExNDEuNTU2Myw2NC4yMzQ0IDE0MC4yMjgxLDYyLjU5MzggUTEzOC45MTU2LDYwLjkzNzUgMTM4LjkxNTYsNTcuODEyNSBRMTM4LjkxNTYsNTQuNjg3NSAxNDAuMjI4MSw1My4wMzEzIFExNDEuNTU2Myw1MS4zNzUgMTQ0LjA1NjMsNTEuMzc1IFExNDQuNzU5NCw1MS4zNzUgMTQ1LjQsNTEuNTMxMyBRMTQ2LjA1NjMsNTEuNjg3NSAxNDYuNjE4OCw1MS45ODQ0IEwxNDYuNjE4OCw1NC43MDMxIFExNDUuOTkzOCw1NC4xMjUgMTQ1LjQsNTMuODU5NCBRMTQ0LjgwNjMsNTMuNTc4MSAxNDQuMTgxMyw1My41NzgxIFExNDIuODM3NSw1My41NzgxIDE0Mi4xNSw1NC42NTYzIFExNDEuNDYyNSw1NS43MTg4IDE0MS40NjI1LDU3LjgxMjUgUTE0MS40NjI1LDU5LjkwNjMgMTQyLjE1LDYwLjk4NDQgUTE0Mi44Mzc1LDYyLjA0NjkgMTQ0LjE4MTMsNjIuMDQ2OSBRMTQ0LjgwNjMsNjIuMDQ2OSAxNDUuNCw2MS43ODEzIFExNDUuOTkzOCw2MS41IDE0Ni42MTg4LDYwLjkyMTkgTDE0Ni42MTg4LDYzLjY0MDYgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OCIgeD0iMTYwLjM1IiB5PSI2Mi44NDY3Ij5BcHBNb2R1bGU8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTE3LjUiIHgyPSIyNTIuNSIgeTE9Ijc0IiB5Mj0iNzQiLz48ZWxsaXBzZSBjeD0iMTI3LjUiIGN5PSI4Ny42NDg0IiBmaWxsPSJub25lIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMSIgeD0iMTM2LjUiIHk9IjkwLjk5NTEiPkdyYXBoUUxNb2R1bGU8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTE3LjUiIHgyPSIyNTIuNSIgeTE9Ijk4LjI5NjkiIHkyPSI5OC4yOTY5Ii8+PC9nPjwhLS1jbGFzcyBHcmFwaFFMTW9kdWxlLS0+PGcgaWQ9ImVsZW1fR3JhcGhRTE1vZHVsZSI+PHJlY3QgY29kZUxpbmU9IjgiIGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDgiIGlkPSJHcmFwaFFMTW9kdWxlIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNDMiIHg9IjMzOS41IiB5PSI1MC4xNSIvPjxlbGxpcHNlIGN4PSIzNTQuNSIgY3k9IjY2LjE1IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTM1Ny40Njg4LDcxLjc5MDYgUTM1Ni44OTA2LDcyLjA4NzUgMzU2LjI1LDcyLjIyODEgUTM1NS42MDk0LDcyLjM4NDQgMzU0LjkwNjMsNzIuMzg0NCBRMzUyLjQwNjMsNzIuMzg0NCAzNTEuMDc4MSw3MC43NDM3IFEzNDkuNzY1Niw2OS4wODc1IDM0OS43NjU2LDY1Ljk2MjUgUTM0OS43NjU2LDYyLjgzNzUgMzUxLjA3ODEsNjEuMTgxMiBRMzUyLjQwNjMsNTkuNTI1IDM1NC45MDYzLDU5LjUyNSBRMzU1LjYwOTQsNTkuNTI1IDM1Ni4yNSw1OS42ODEyIFEzNTYuOTA2Myw1OS44Mzc1IDM1Ny40Njg4LDYwLjEzNDQgTDM1Ny40Njg4LDYyLjg1MzEgUTM1Ni44NDM4LDYyLjI3NSAzNTYuMjUsNjIuMDA5NCBRMzU1LjY1NjMsNjEuNzI4MSAzNTUuMDMxMyw2MS43MjgxIFEzNTMuNjg3NSw2MS43MjgxIDM1Myw2Mi44MDYyIFEzNTIuMzEyNSw2My44Njg3IDM1Mi4zMTI1LDY1Ljk2MjUgUTM1Mi4zMTI1LDY4LjA1NjIgMzUzLDY5LjEzNDQgUTM1My42ODc1LDcwLjE5NjkgMzU1LjAzMTMsNzAuMTk2OSBRMzU1LjY1NjMsNzAuMTk2OSAzNTYuMjUsNjkuOTMxMiBRMzU2Ljg0MzgsNjkuNjUgMzU3LjQ2ODgsNjkuMDcxOSBMMzU3LjQ2ODgsNzEuNzkwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMSIgeD0iMzY4LjUiIHk9IjcwLjk5NjciPkdyYXBoUUxNb2R1bGU8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMzQwLjUiIHgyPSI0ODEuNSIgeTE9IjgyLjE1IiB5Mj0iODIuMTUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIzNDAuNSIgeDI9IjQ4MS41IiB5MT0iOTAuMTUiIHkyPSI5MC4xNSIvPjwvZz48IS0tY2xhc3MgQmxvZ01vZHVsZS0tPjxnIGlkPSJlbGVtX0Jsb2dNb2R1bGUiPjxyZWN0IGNvZGVMaW5lPSIxMiIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgaWQ9IkJsb2dNb2R1bGUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExNCIgeD0iMTI4IiB5PSIyMDYuMyIvPjxlbGxpcHNlIGN4PSIxNDMiIGN5PSIyMjIuMyIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0xNDUuOTY4OCwyMjcuOTQwNiBRMTQ1LjM5MDYsMjI4LjIzNzUgMTQ0Ljc1LDIyOC4zNzgxIFExNDQuMTA5NCwyMjguNTM0NCAxNDMuNDA2MywyMjguNTM0NCBRMTQwLjkwNjMsMjI4LjUzNDQgMTM5LjU3ODEsMjI2Ljg5MzcgUTEzOC4yNjU2LDIyNS4yMzc1IDEzOC4yNjU2LDIyMi4xMTI1IFExMzguMjY1NiwyMTguOTg3NSAxMzkuNTc4MSwyMTcuMzMxMiBRMTQwLjkwNjMsMjE1LjY3NSAxNDMuNDA2MywyMTUuNjc1IFExNDQuMTA5NCwyMTUuNjc1IDE0NC43NSwyMTUuODMxMiBRMTQ1LjQwNjMsMjE1Ljk4NzUgMTQ1Ljk2ODgsMjE2LjI4NDQgTDE0NS45Njg4LDIxOS4wMDMxIFExNDUuMzQzOCwyMTguNDI1IDE0NC43NSwyMTguMTU5NCBRMTQ0LjE1NjMsMjE3Ljg3ODEgMTQzLjUzMTMsMjE3Ljg3ODEgUTE0Mi4xODc1LDIxNy44NzgxIDE0MS41LDIxOC45NTYyIFExNDAuODEyNSwyMjAuMDE4NyAxNDAuODEyNSwyMjIuMTEyNSBRMTQwLjgxMjUsMjI0LjIwNjIgMTQxLjUsMjI1LjI4NDQgUTE0Mi4xODc1LDIyNi4zNDY5IDE0My41MzEzLDIyNi4zNDY5IFExNDQuMTU2MywyMjYuMzQ2OSAxNDQuNzUsMjI2LjA4MTIgUTE0NS4zNDM4LDIyNS44IDE0NS45Njg4LDIyNS4yMjE5IEwxNDUuOTY4OCwyMjcuOTQwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgyIiB4PSIxNTciIHk9IjIyNy4xNDY3Ij5CbG9nTW9kdWxlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjEyOSIgeDI9IjI0MSIgeTE9IjIzOC4zIiB5Mj0iMjM4LjMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxMjkiIHgyPSIyNDEiIHkxPSIyNDYuMyIgeTI9IjI0Ni4zIi8+PC9nPjwhLS1jbGFzcyBCbG9nUmVzb2x2ZXItLT48ZyBpZD0iZWxlbV9CbG9nUmVzb2x2ZXIiPjxyZWN0IGNvZGVMaW5lPSIxNSIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI4MC41OTM4IiBpZD0iQmxvZ1Jlc29sdmVyIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxOTYiIHg9IjIzIiB5PSIzMzEuMyIvPjxlbGxpcHNlIGN4PSI3MS4yNSIgY3k9IjM0Ny4zIiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTc0LjIxODgsMzUyLjk0MDYgUTczLjY0MDYsMzUzLjIzNzUgNzMsMzUzLjM3ODEgUTcyLjM1OTQsMzUzLjUzNDQgNzEuNjU2MywzNTMuNTM0NCBRNjkuMTU2MywzNTMuNTM0NCA2Ny44MjgxLDM1MS44OTM3IFE2Ni41MTU2LDM1MC4yMzc1IDY2LjUxNTYsMzQ3LjExMjUgUTY2LjUxNTYsMzQzLjk4NzUgNjcuODI4MSwzNDIuMzMxMiBRNjkuMTU2MywzNDAuNjc1IDcxLjY1NjMsMzQwLjY3NSBRNzIuMzU5NCwzNDAuNjc1IDczLDM0MC44MzEyIFE3My42NTYzLDM0MC45ODc1IDc0LjIxODgsMzQxLjI4NDQgTDc0LjIxODgsMzQ0LjAwMzEgUTczLjU5MzgsMzQzLjQyNSA3MywzNDMuMTU5NCBRNzIuNDA2MywzNDIuODc4MSA3MS43ODEzLDM0Mi44NzgxIFE3MC40Mzc1LDM0Mi44NzgxIDY5Ljc1LDM0My45NTYyIFE2OS4wNjI1LDM0NS4wMTg3IDY5LjA2MjUsMzQ3LjExMjUgUTY5LjA2MjUsMzQ5LjIwNjIgNjkuNzUsMzUwLjI4NDQgUTcwLjQzNzUsMzUxLjM0NjkgNzEuNzgxMywzNTEuMzQ2OSBRNzIuNDA2MywzNTEuMzQ2OSA3MywzNTEuMDgxMiBRNzMuNTkzOCwzNTAuOCA3NC4yMTg4LDM1MC4yMjE5IEw3NC4yMTg4LDM1Mi45NDA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEiIHg9IjkxLjc1IiB5PSIzNTIuMTQ2NyI+QmxvZ1Jlc29sdmVyPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI0IiB4Mj0iMjE4IiB5MT0iMzYzLjMiIHkyPSIzNjMuMyIvPjxlbGxpcHNlIGN4PSIzNCIgY3k9IjM3Ni45NDg0IiBmaWxsPSJub25lIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE3MCIgeD0iNDMiIHk9IjM4MC4yOTUxIj5ibG9nU2VydmljZTogQmxvZ1NlcnZpY2U8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjQiIHgyPSIyMTgiIHkxPSIzODcuNTk2OSIgeTI9IjM4Ny41OTY5Ii8+PGVsbGlwc2UgY3g9IjM0IiBjeT0iNDAxLjI0NTMiIGZpbGw9IiM4NEJFODQiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTYzIiB4PSI0MyIgeT0iNDA0LjU5MiI+Z2V0KCk6IFByb21pc2UmbHQ7QmxvZ1tdJmd0OzwvdGV4dD48L2c+PCEtLWNsYXNzIEJsb2dTZXJ2aWNlLS0+PGcgaWQ9ImVsZW1fQmxvZ1NlcnZpY2UiPjxyZWN0IGNvZGVMaW5lPSIxOSIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2NC4yOTY5IiBpZD0iQmxvZ1NlcnZpY2UiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjIxOCIgeD0iMjg2IiB5PSIzMzkuNDQiLz48ZWxsaXBzZSBjeD0iMzUwLjI1IiBjeT0iMzU1LjQ0IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTM1My4yMTg4LDM2MS4wODA2IFEzNTIuNjQwNiwzNjEuMzc3NSAzNTIsMzYxLjUxODEgUTM1MS4zNTk0LDM2MS42NzQ0IDM1MC42NTYzLDM2MS42NzQ0IFEzNDguMTU2MywzNjEuNjc0NCAzNDYuODI4MSwzNjAuMDMzOCBRMzQ1LjUxNTYsMzU4LjM3NzUgMzQ1LjUxNTYsMzU1LjI1MjUgUTM0NS41MTU2LDM1Mi4xMjc1IDM0Ni44MjgxLDM1MC40NzEzIFEzNDguMTU2MywzNDguODE1IDM1MC42NTYzLDM0OC44MTUgUTM1MS4zNTk0LDM0OC44MTUgMzUyLDM0OC45NzEzIFEzNTIuNjU2MywzNDkuMTI3NSAzNTMuMjE4OCwzNDkuNDI0NCBMMzUzLjIxODgsMzUyLjE0MzEgUTM1Mi41OTM4LDM1MS41NjUgMzUyLDM1MS4yOTk0IFEzNTEuNDA2MywzNTEuMDE4MSAzNTAuNzgxMywzNTEuMDE4MSBRMzQ5LjQzNzUsMzUxLjAxODEgMzQ4Ljc1LDM1Mi4wOTYzIFEzNDguMDYyNSwzNTMuMTU4OCAzNDguMDYyNSwzNTUuMjUyNSBRMzQ4LjA2MjUsMzU3LjM0NjMgMzQ4Ljc1LDM1OC40MjQ0IFEzNDkuNDM3NSwzNTkuNDg2OSAzNTAuNzgxMywzNTkuNDg2OSBRMzUxLjQwNjMsMzU5LjQ4NjkgMzUyLDM1OS4yMjEzIFEzNTIuNTkzOCwzNTguOTQgMzUzLjIxODgsMzU4LjM2MTkgTDM1My4yMTg4LDM2MS4wODA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODEiIHg9IjM3MC43NSIgeT0iMzYwLjI4NjciPkJsb2dTZXJ2aWNlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI4NyIgeDI9IjUwMyIgeTE9IjM3MS40NCIgeTI9IjM3MS40NCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI4NyIgeDI9IjUwMyIgeTE9IjM3OS40NCIgeTI9IjM3OS40NCIvPjxlbGxpcHNlIGN4PSIyOTciIGN5PSIzOTMuMDg4NCIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTIiIHg9IjMwNiIgeT0iMzk2LjQzNTEiPmdldCgpOiBQcm9taXNlJmx0O0Jsb2dKc29uW10mZ3Q7PC90ZXh0PjwvZz48IS0tbGluayBBcHBNb2R1bGUgdG8gR3JhcGhRTE1vZHVsZS0tPjxnIGlkPSJsaW5rX0FwcE1vZHVsZV9HcmFwaFFMTW9kdWxlIj48cGF0aCBjb2RlTGluZT0iMjQiIGQ9Ik0yNTMuNzMsNzQuMTUgQzI4MC43NCw3NC4xNSAzMDUuNzYsNzQuMTUgMzMzLjA3LDc0LjE1ICIgZmlsbD0ibm9uZSIgaWQ9IkFwcE1vZHVsZS10by1HcmFwaFFMTW9kdWxlIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjMzOS4wNyw3NC4xNSwzMzAuMDcsNzAuMTUsMzM0LjA3LDc0LjE1LDMzMC4wNyw3OC4xNSwzMzkuMDcsNzQuMTUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ5IiB4PSIyNzIiIHk9IjY3LjIxNjkiPmltcG9ydHM8L3RleHQ+PC9nPjwhLS1saW5rIEFwcE1vZHVsZSB0byBCbG9nTW9kdWxlLS0+PGcgaWQ9ImxpbmtfQXBwTW9kdWxlX0Jsb2dNb2R1bGUiPjxwYXRoIGNvZGVMaW5lPSIyNSIgZD0iTTE4NSwxMDYuNzEgQzE4NSwxMzYuMTMgMTg1LDE3My4zMyAxODUsMTk5LjgyICIgZmlsbD0ibm9uZSIgaWQ9IkFwcE1vZHVsZS10by1CbG9nTW9kdWxlIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjE4NSwyMDUuODIsMTg5LDE5Ni44MiwxODUsMjAwLjgyLDE4MSwxOTYuODIsMTg1LDIwNS44MiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDkiIHg9IjE4NiIgeT0iMTUxLjM2NjkiPmltcG9ydHM8L3RleHQ+PC9nPjwhLS1saW5rIEJsb2dNb2R1bGUgdG8gQmxvZ1Jlc29sdmVyLS0+PGcgaWQ9ImxpbmtfQmxvZ01vZHVsZV9CbG9nUmVzb2x2ZXIiPjxwYXRoIGNvZGVMaW5lPSIyNiIgZD0iTTE3NC4yOSwyNTQuNjEgQzE2NC43NSwyNzUuMzcgMTUzLjEwNTgsMzAwLjcxODMgMTQxLjc3NTgsMzI1LjM2ODMgIiBmaWxsPSJub25lIiBpZD0iQmxvZ01vZHVsZS10by1CbG9nUmVzb2x2ZXIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTM5LjI3LDMzMC44MiwxNDYuNjYzMiwzMjQuMzEzLDE0MS4zNTgyLDMyNi4yNzY5LDEzOS4zOTQyLDMyMC45NzE5LDEzOS4yNywzMzAuODIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjU5IiB4PSIxNjEiIHk9IjI5Ny4zNjY5Ij5wcm92aWRlcnM8L3RleHQ+PC9nPjwhLS1saW5rIEJsb2dNb2R1bGUgdG8gQmxvZ1NlcnZpY2UtLT48ZyBpZD0ibGlua19CbG9nTW9kdWxlX0Jsb2dTZXJ2aWNlIj48cGF0aCBjb2RlTGluZT0iMjciIGQ9Ik0yMjAuMTUsMjU0LjYxIEMyNTUuMDYsMjc3Ljc3IDMwMy44MzA0LDMxMC4xMTI4IDM0Mi41MjA0LDMzNS43ODI4ICIgZmlsbD0ibm9uZSIgaWQ9IkJsb2dNb2R1bGUtdG8tQmxvZ1NlcnZpY2UiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzQ3LjUyLDMzOS4xLDM0Mi4yMzIsMzMwLjc5MTIsMzQzLjM1MzYsMzM2LjMzNTcsMzM3LjgwOTEsMzM3LjQ1NzQsMzQ3LjUyLDMzOS4xIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1OSIgeD0iMjkxIiB5PSIyOTcuMzY2OSI+cHJvdmlkZXJzPC90ZXh0PjwvZz48IS0tbGluayBCbG9nUmVzb2x2ZXIgdG8gQmxvZ1NlcnZpY2UtLT48ZyBpZD0ibGlua19CbG9nUmVzb2x2ZXJfQmxvZ1NlcnZpY2UiPjxwYXRoIGNvZGVMaW5lPSIyOCIgZD0iTTIxOS4xNSwzNzEuNTkgQzI0MC44LDM3MS41OSAyNTcuODYsMzcxLjU5IDI3OS45MiwzNzEuNTkgIiBmaWxsPSJub25lIiBpZD0iQmxvZ1Jlc29sdmVyLXRvLUJsb2dTZXJ2aWNlIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjI4NS45MiwzNzEuNTksMjc2LjkyLDM2Ny41OSwyODAuOTIsMzcxLjU5LDI3Ni45MiwzNzUuNTksMjg1LjkyLDM3MS41OSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzAiIHg9IjIzNy41IiB5PSIzNjQuNjU2OSI+dXNlczwvdGV4dD48L2c+PCEtLVNSQz1bVFAzRDNlOG00OEpsRkNLVURPT044OEg0Qm9QNjR5TVp5TDFYS25lQlJMaFdHZFh0b3EtWDQzbnN2Zmw5UjJMOWxlR1k3QU00QzhtbkFLYjFFS09IRDF2MG1lZE1kTlNKUVNNbnJtMEVQcUxhemhXRWVmNVFoX0t5RUpRRHZqLXNISFlRSFZSNDFWcVJ4NG5kWHVjdkplblF5MWdMdFZXbnNYRExwSDhDVWMxeTMyeDVTaFNGdUF2NHBaSTZkVnp3SHRzaE1wZmNSRVQ2d2c5NU9QRGNxVm5MbGM4cUFfcmVUTXkwQjlUMmJUZjFtSlVPU3p0Q0VBOWJmWmkzYTRoS0I0TXJvVGRmUXNwQUptRU5UQUxIX20wMF0tLT48L2c+PC9zdmc+\" loading=\"lazy\"\u003e\n\u003cp data-sourcepos=\"95:1-95:51\"\u003eその中のこの部分を作っていきます！\u003c/p\u003e\n\u003cimg src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI0MzNweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjUyNnB4O2hlaWdodDo0MzNweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1MjYgNDMzIiB3aWR0aD0iNTI2cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48IS0tY2x1c3RlciBBcHAtLT48ZyBpZD0iY2x1c3Rlcl9BcHAiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMTE1LjMiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjE3MCIgeD0iMTI5IiB5PSI3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMxIiB4PSIxOTguNSIgeT0iMjEuOTk1MSI+QXBwPC90ZXh0PjwvZz48IS0tY2x1c3RlciBCbG9nLS0+PGcgaWQ9ImNsdXN0ZXJfQmxvZyI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIyNTYuNTkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjUxMyIgeD0iNyIgeT0iMTcxLjMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzQiIHg9IjI0Ni41IiB5PSIxODYuMjk1MSI+QmxvZzwvdGV4dD48L2c+PCEtLWNsYXNzIEFwcE1vZHVsZS0tPjxnIGlkPSJlbGVtX0FwcE1vZHVsZSI+PHJlY3QgY29kZUxpbmU9IjIiIGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNjQuMjk2OSIgaWQ9IkFwcE1vZHVsZSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTM3IiB4PSIxNDUuNSIgeT0iNDIiLz48ZWxsaXBzZSBjeD0iMTcyLjY1IiBjeT0iNTgiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMTc1LjYxODgsNjMuNjQwNiBRMTc1LjA0MDYsNjMuOTM3NSAxNzQuNCw2NC4wNzgxIFExNzMuNzU5NCw2NC4yMzQ0IDE3My4wNTYzLDY0LjIzNDQgUTE3MC41NTYzLDY0LjIzNDQgMTY5LjIyODEsNjIuNTkzOCBRMTY3LjkxNTYsNjAuOTM3NSAxNjcuOTE1Niw1Ny44MTI1IFExNjcuOTE1Niw1NC42ODc1IDE2OS4yMjgxLDUzLjAzMTMgUTE3MC41NTYzLDUxLjM3NSAxNzMuMDU2Myw1MS4zNzUgUTE3My43NTk0LDUxLjM3NSAxNzQuNCw1MS41MzEzIFExNzUuMDU2Myw1MS42ODc1IDE3NS42MTg4LDUxLjk4NDQgTDE3NS42MTg4LDU0LjcwMzEgUTE3NC45OTM4LDU0LjEyNSAxNzQuNCw1My44NTk0IFExNzMuODA2Myw1My41NzgxIDE3My4xODEzLDUzLjU3ODEgUTE3MS44Mzc1LDUzLjU3ODEgMTcxLjE1LDU0LjY1NjMgUTE3MC40NjI1LDU1LjcxODggMTcwLjQ2MjUsNTcuODEyNSBRMTcwLjQ2MjUsNTkuOTA2MyAxNzEuMTUsNjAuOTg0NCBRMTcxLjgzNzUsNjIuMDQ2OSAxNzMuMTgxMyw2Mi4wNDY5IFExNzMuODA2Myw2Mi4wNDY5IDE3NC40LDYxLjc4MTMgUTE3NC45OTM4LDYxLjUgMTc1LjYxODgsNjAuOTIxOSBMMTc1LjYxODgsNjMuNjQwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4IiB4PSIxODkuMzUiIHk9IjYyLjg0NjciPkFwcE1vZHVsZTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxNDYuNSIgeDI9IjI4MS41IiB5MT0iNzQiIHkyPSI3NCIvPjxlbGxpcHNlIGN4PSIxNTYuNSIgY3k9Ijg3LjY0ODQiIGZpbGw9Im5vbmUiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTExIiB4PSIxNjUuNSIgeT0iOTAuOTk1MSI+R3JhcGhRTE1vZHVsZTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxNDYuNSIgeDI9IjI4MS41IiB5MT0iOTguMjk2OSIgeTI9Ijk4LjI5NjkiLz48L2c+PCEtLWNsYXNzIEJsb2dNb2R1bGUtLT48ZyBpZD0iZWxlbV9CbG9nTW9kdWxlIj48cmVjdCBjb2RlTGluZT0iOCIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgaWQ9IkJsb2dNb2R1bGUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExNCIgeD0iMTU3IiB5PSIyMDYuMyIvPjxlbGxpcHNlIGN4PSIxNzIiIGN5PSIyMjIuMyIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0xNzQuOTY4OCwyMjcuOTQwNiBRMTc0LjM5MDYsMjI4LjIzNzUgMTczLjc1LDIyOC4zNzgxIFExNzMuMTA5NCwyMjguNTM0NCAxNzIuNDA2MywyMjguNTM0NCBRMTY5LjkwNjMsMjI4LjUzNDQgMTY4LjU3ODEsMjI2Ljg5MzcgUTE2Ny4yNjU2LDIyNS4yMzc1IDE2Ny4yNjU2LDIyMi4xMTI1IFExNjcuMjY1NiwyMTguOTg3NSAxNjguNTc4MSwyMTcuMzMxMiBRMTY5LjkwNjMsMjE1LjY3NSAxNzIuNDA2MywyMTUuNjc1IFExNzMuMTA5NCwyMTUuNjc1IDE3My43NSwyMTUuODMxMiBRMTc0LjQwNjMsMjE1Ljk4NzUgMTc0Ljk2ODgsMjE2LjI4NDQgTDE3NC45Njg4LDIxOS4wMDMxIFExNzQuMzQzOCwyMTguNDI1IDE3My43NSwyMTguMTU5NCBRMTczLjE1NjMsMjE3Ljg3ODEgMTcyLjUzMTMsMjE3Ljg3ODEgUTE3MS4xODc1LDIxNy44NzgxIDE3MC41LDIxOC45NTYyIFExNjkuODEyNSwyMjAuMDE4NyAxNjkuODEyNSwyMjIuMTEyNSBRMTY5LjgxMjUsMjI0LjIwNjIgMTcwLjUsMjI1LjI4NDQgUTE3MS4xODc1LDIyNi4zNDY5IDE3Mi41MzEzLDIyNi4zNDY5IFExNzMuMTU2MywyMjYuMzQ2OSAxNzMuNzUsMjI2LjA4MTIgUTE3NC4zNDM4LDIyNS44IDE3NC45Njg4LDIyNS4yMjE5IEwxNzQuOTY4OCwyMjcuOTQwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgyIiB4PSIxODYiIHk9IjIyNy4xNDY3Ij5CbG9nTW9kdWxlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjE1OCIgeDI9IjI3MCIgeTE9IjIzOC4zIiB5Mj0iMjM4LjMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxNTgiIHgyPSIyNzAiIHkxPSIyNDYuMyIgeTI9IjI0Ni4zIi8+PC9nPjwhLS1jbGFzcyBCbG9nUmVzb2x2ZXItLT48ZyBpZD0iZWxlbV9CbG9nUmVzb2x2ZXIiPjxyZWN0IGNvZGVMaW5lPSIxMSIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI4MC41OTM4IiBpZD0iQmxvZ1Jlc29sdmVyIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxOTYiIHg9IjIzIiB5PSIzMzEuMyIvPjxlbGxpcHNlIGN4PSI3MS4yNSIgY3k9IjM0Ny4zIiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTc0LjIxODgsMzUyLjk0MDYgUTczLjY0MDYsMzUzLjIzNzUgNzMsMzUzLjM3ODEgUTcyLjM1OTQsMzUzLjUzNDQgNzEuNjU2MywzNTMuNTM0NCBRNjkuMTU2MywzNTMuNTM0NCA2Ny44MjgxLDM1MS44OTM3IFE2Ni41MTU2LDM1MC4yMzc1IDY2LjUxNTYsMzQ3LjExMjUgUTY2LjUxNTYsMzQzLjk4NzUgNjcuODI4MSwzNDIuMzMxMiBRNjkuMTU2MywzNDAuNjc1IDcxLjY1NjMsMzQwLjY3NSBRNzIuMzU5NCwzNDAuNjc1IDczLDM0MC44MzEyIFE3My42NTYzLDM0MC45ODc1IDc0LjIxODgsMzQxLjI4NDQgTDc0LjIxODgsMzQ0LjAwMzEgUTczLjU5MzgsMzQzLjQyNSA3MywzNDMuMTU5NCBRNzIuNDA2MywzNDIuODc4MSA3MS43ODEzLDM0Mi44NzgxIFE3MC40Mzc1LDM0Mi44NzgxIDY5Ljc1LDM0My45NTYyIFE2OS4wNjI1LDM0NS4wMTg3IDY5LjA2MjUsMzQ3LjExMjUgUTY5LjA2MjUsMzQ5LjIwNjIgNjkuNzUsMzUwLjI4NDQgUTcwLjQzNzUsMzUxLjM0NjkgNzEuNzgxMywzNTEuMzQ2OSBRNzIuNDA2MywzNTEuMzQ2OSA3MywzNTEuMDgxMiBRNzMuNTkzOCwzNTAuOCA3NC4yMTg4LDM1MC4yMjE5IEw3NC4yMTg4LDM1Mi45NDA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEiIHg9IjkxLjc1IiB5PSIzNTIuMTQ2NyI+QmxvZ1Jlc29sdmVyPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI0IiB4Mj0iMjE4IiB5MT0iMzYzLjMiIHkyPSIzNjMuMyIvPjxlbGxpcHNlIGN4PSIzNCIgY3k9IjM3Ni45NDg0IiBmaWxsPSJub25lIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE3MCIgeD0iNDMiIHk9IjM4MC4yOTUxIj5ibG9nU2VydmljZTogQmxvZ1NlcnZpY2U8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjQiIHgyPSIyMTgiIHkxPSIzODcuNTk2OSIgeTI9IjM4Ny41OTY5Ii8+PGVsbGlwc2UgY3g9IjM0IiBjeT0iNDAxLjI0NTMiIGZpbGw9IiM4NEJFODQiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTYzIiB4PSI0MyIgeT0iNDA0LjU5MiI+Z2V0KCk6IFByb21pc2UmbHQ7QmxvZ1tdJmd0OzwvdGV4dD48L2c+PCEtLWNsYXNzIEJsb2dTZXJ2aWNlLS0+PGcgaWQ9ImVsZW1fQmxvZ1NlcnZpY2UiPjxyZWN0IGNvZGVMaW5lPSIxNSIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2NC4yOTY5IiBpZD0iQmxvZ1NlcnZpY2UiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjIxOCIgeD0iMjg2IiB5PSIzMzkuNDQiLz48ZWxsaXBzZSBjeD0iMzUwLjI1IiBjeT0iMzU1LjQ0IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTM1My4yMTg4LDM2MS4wODA2IFEzNTIuNjQwNiwzNjEuMzc3NSAzNTIsMzYxLjUxODEgUTM1MS4zNTk0LDM2MS42NzQ0IDM1MC42NTYzLDM2MS42NzQ0IFEzNDguMTU2MywzNjEuNjc0NCAzNDYuODI4MSwzNjAuMDMzOCBRMzQ1LjUxNTYsMzU4LjM3NzUgMzQ1LjUxNTYsMzU1LjI1MjUgUTM0NS41MTU2LDM1Mi4xMjc1IDM0Ni44MjgxLDM1MC40NzEzIFEzNDguMTU2MywzNDguODE1IDM1MC42NTYzLDM0OC44MTUgUTM1MS4zNTk0LDM0OC44MTUgMzUyLDM0OC45NzEzIFEzNTIuNjU2MywzNDkuMTI3NSAzNTMuMjE4OCwzNDkuNDI0NCBMMzUzLjIxODgsMzUyLjE0MzEgUTM1Mi41OTM4LDM1MS41NjUgMzUyLDM1MS4yOTk0IFEzNTEuNDA2MywzNTEuMDE4MSAzNTAuNzgxMywzNTEuMDE4MSBRMzQ5LjQzNzUsMzUxLjAxODEgMzQ4Ljc1LDM1Mi4wOTYzIFEzNDguMDYyNSwzNTMuMTU4OCAzNDguMDYyNSwzNTUuMjUyNSBRMzQ4LjA2MjUsMzU3LjM0NjMgMzQ4Ljc1LDM1OC40MjQ0IFEzNDkuNDM3NSwzNTkuNDg2OSAzNTAuNzgxMywzNTkuNDg2OSBRMzUxLjQwNjMsMzU5LjQ4NjkgMzUyLDM1OS4yMjEzIFEzNTIuNTkzOCwzNTguOTQgMzUzLjIxODgsMzU4LjM2MTkgTDM1My4yMTg4LDM2MS4wODA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODEiIHg9IjM3MC43NSIgeT0iMzYwLjI4NjciPkJsb2dTZXJ2aWNlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI4NyIgeDI9IjUwMyIgeTE9IjM3MS40NCIgeTI9IjM3MS40NCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI4NyIgeDI9IjUwMyIgeTE9IjM3OS40NCIgeTI9IjM3OS40NCIvPjxlbGxpcHNlIGN4PSIyOTciIGN5PSIzOTMuMDg4NCIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTIiIHg9IjMwNiIgeT0iMzk2LjQzNTEiPmdldCgpOiBQcm9taXNlJmx0O0Jsb2dKc29uW10mZ3Q7PC90ZXh0PjwvZz48IS0tbGluayBBcHBNb2R1bGUgdG8gQmxvZ01vZHVsZS0tPjxnIGlkPSJsaW5rX0FwcE1vZHVsZV9CbG9nTW9kdWxlIj48cGF0aCBjb2RlTGluZT0iMjAiIGQ9Ik0yMTQsMTA2LjcxIEMyMTQsMTM2LjEzIDIxNCwxNzMuMzMgMjE0LDE5OS44MiAiIGZpbGw9Im5vbmUiIGlkPSJBcHBNb2R1bGUtdG8tQmxvZ01vZHVsZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMTQsMjA1LjgyLDIxOCwxOTYuODIsMjE0LDIwMC44MiwyMTAsMTk2LjgyLDIxNCwyMDUuODIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ5IiB4PSIyMTUiIHk9IjE1MS4zNjY5Ij5pbXBvcnRzPC90ZXh0PjwvZz48IS0tbGluayBCbG9nTW9kdWxlIHRvIEJsb2dSZXNvbHZlci0tPjxnIGlkPSJsaW5rX0Jsb2dNb2R1bGVfQmxvZ1Jlc29sdmVyIj48cGF0aCBjb2RlTGluZT0iMjEiIGQ9Ik0xOTguNDMsMjU0LjYxIEMxODQuNTgsMjc1LjM3IDE2Ny4zNDE5LDMwMS4xODAyIDE1MC44ODE5LDMyNS44MzAyICIgZmlsbD0ibm9uZSIgaWQ9IkJsb2dNb2R1bGUtdG8tQmxvZ1Jlc29sdmVyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjE0Ny41NSwzMzAuODIsMTU1Ljg3NDQsMzI1LjU1NjYsMTUwLjMyNjYsMzI2LjY2MTgsMTQ5LjIyMTQsMzIxLjExNCwxNDcuNTUsMzMwLjgyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1OSIgeD0iMTc5IiB5PSIyOTcuMzY2OSI+cHJvdmlkZXJzPC90ZXh0PjwvZz48IS0tbGluayBCbG9nTW9kdWxlIHRvIEJsb2dTZXJ2aWNlLS0+PGcgaWQ9ImxpbmtfQmxvZ01vZHVsZV9CbG9nU2VydmljZSI+PHBhdGggY29kZUxpbmU9IjIyIiBkPSJNMjQ0LjMsMjU0LjYxIEMyNzQuMzksMjc3Ljc3IDMxNS45NzU0LDMwOS43NzAzIDM0OS4zMjU0LDMzNS40NDAzICIgZmlsbD0ibm9uZSIgaWQ9IkJsb2dNb2R1bGUtdG8tQmxvZ1NlcnZpY2UiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzU0LjA4LDMzOS4xLDM0OS4zODc5LDMzMC40NDA3LDM1MC4xMTc4LDMzNi4wNTAyLDM0NC41MDgyLDMzNi43ODAyLDM1NC4wOCwzMzkuMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTkiIHg9IjMwNSIgeT0iMjk3LjM2NjkiPnByb3ZpZGVyczwvdGV4dD48L2c+PCEtLWxpbmsgQmxvZ1Jlc29sdmVyIHRvIEJsb2dTZXJ2aWNlLS0+PGcgaWQ9ImxpbmtfQmxvZ1Jlc29sdmVyX0Jsb2dTZXJ2aWNlIj48cGF0aCBjb2RlTGluZT0iMjMiIGQ9Ik0yMTkuMTUsMzcxLjU5IEMyNDAuOCwzNzEuNTkgMjU3Ljg2LDM3MS41OSAyNzkuOTIsMzcxLjU5ICIgZmlsbD0ibm9uZSIgaWQ9IkJsb2dSZXNvbHZlci10by1CbG9nU2VydmljZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyODUuOTIsMzcxLjU5LDI3Ni45MiwzNjcuNTksMjgwLjkyLDM3MS41OSwyNzYuOTIsMzc1LjU5LDI4NS45MiwzNzEuNTkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMwIiB4PSIyMzcuNSIgeT0iMzY0LjY1NjkiPnVzZXM8L3RleHQ+PC9nPjwhLS1TUkM9W1RPLXgyaThtNThSdEZDS1A1VWFCYjVCR0hIMDVoUUN1bkZRRzFqQ2M5NmFOd1JrUk5iQTNyWjdfdlNqXzVDc1ZiMjVpYk84YW9KMnRqNk8ycW5IVTEyME5yOVpVRXljWTRKWGUwOWt6ZmdneTc0VkhJSHRmMjU0SlFJU2EtdWxncE8zYlFnNkplUDZZSFV0X1VKWmpZaGhiRVNQM083Z0NCYUV4TWlUbXJoQlkxZkZVbHp0SldIZjJmdXZkQmhHRUhqUS13SFB6cGVLZUlpRjlDVjFBSU1xRDJLSVZjU1Y3ZUJIaVVPNXdDVVZ0VkNWY1ZnR3ZBLXJGa1o1ZXRXMDBdLS0+PC9nPjwvc3ZnPg==\" loading=\"lazy\"\u003e\n\u003ch3 data-sourcepos=\"124:1-124:14\"\u003e\n\u003cspan id=\"blogmodule\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#blogmodule\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eBlogModule\u003c/h3\u003e\n\u003cimg src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNzZweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjE4M3B4O2hlaWdodDoyNzZweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxODMgMjc2IiB3aWR0aD0iMTgzcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48IS0tY2x1c3RlciBBcHAtLT48ZyBpZD0iY2x1c3Rlcl9BcHAiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMTE1LjMiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjE3MCIgeD0iNyIgeT0iNyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMSIgeD0iNzYuNSIgeT0iMjEuOTk1MSI+QXBwPC90ZXh0PjwvZz48IS0tY2x1c3RlciBCbG9nLS0+PGcgaWQ9ImNsdXN0ZXJfQmxvZyI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI5OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTQ2IiB4PSIxOSIgeT0iMTcxLjMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzQiIHg9Ijc1IiB5PSIxODYuMjk1MSI+QmxvZzwvdGV4dD48L2c+PCEtLWNsYXNzIEFwcE1vZHVsZS0tPjxnIGlkPSJlbGVtX0FwcE1vZHVsZSI+PHJlY3QgY29kZUxpbmU9IjIiIGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNjQuMjk2OSIgaWQ9IkFwcE1vZHVsZSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTM3IiB4PSIyMy41IiB5PSI0MiIvPjxlbGxpcHNlIGN4PSI1MC42NSIgY3k9IjU4IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTUzLjYxODgsNjMuNjQwNiBRNTMuMDQwNiw2My45Mzc1IDUyLjQsNjQuMDc4MSBRNTEuNzU5NCw2NC4yMzQ0IDUxLjA1NjMsNjQuMjM0NCBRNDguNTU2Myw2NC4yMzQ0IDQ3LjIyODEsNjIuNTkzOCBRNDUuOTE1Niw2MC45Mzc1IDQ1LjkxNTYsNTcuODEyNSBRNDUuOTE1Niw1NC42ODc1IDQ3LjIyODEsNTMuMDMxMyBRNDguNTU2Myw1MS4zNzUgNTEuMDU2Myw1MS4zNzUgUTUxLjc1OTQsNTEuMzc1IDUyLjQsNTEuNTMxMyBRNTMuMDU2Myw1MS42ODc1IDUzLjYxODgsNTEuOTg0NCBMNTMuNjE4OCw1NC43MDMxIFE1Mi45OTM4LDU0LjEyNSA1Mi40LDUzLjg1OTQgUTUxLjgwNjMsNTMuNTc4MSA1MS4xODEzLDUzLjU3ODEgUTQ5LjgzNzUsNTMuNTc4MSA0OS4xNSw1NC42NTYzIFE0OC40NjI1LDU1LjcxODggNDguNDYyNSw1Ny44MTI1IFE0OC40NjI1LDU5LjkwNjMgNDkuMTUsNjAuOTg0NCBRNDkuODM3NSw2Mi4wNDY5IDUxLjE4MTMsNjIuMDQ2OSBRNTEuODA2Myw2Mi4wNDY5IDUyLjQsNjEuNzgxMyBRNTIuOTkzOCw2MS41IDUzLjYxODgsNjAuOTIxOSBMNTMuNjE4OCw2My42NDA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzgiIHg9IjY3LjM1IiB5PSI2Mi44NDY3Ij5BcHBNb2R1bGU8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjQuNSIgeDI9IjE1OS41IiB5MT0iNzQiIHkyPSI3NCIvPjxlbGxpcHNlIGN4PSIzNC41IiBjeT0iODcuNjQ4NCIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTEiIHg9IjQzLjUiIHk9IjkwLjk5NTEiPkdyYXBoUUxNb2R1bGU8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjQuNSIgeDI9IjE1OS41IiB5MT0iOTguMjk2OSIgeTI9Ijk4LjI5NjkiLz48L2c+PCEtLWNsYXNzIEJsb2dNb2R1bGUtLT48ZyBpZD0iZWxlbV9CbG9nTW9kdWxlIj48cmVjdCBjb2RlTGluZT0iOCIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgaWQ9IkJsb2dNb2R1bGUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExNCIgeD0iMzUiIHk9IjIwNi4zIi8+PGVsbGlwc2UgY3g9IjUwIiBjeT0iMjIyLjMiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNNTIuOTY4OCwyMjcuOTQwNiBRNTIuMzkwNiwyMjguMjM3NSA1MS43NSwyMjguMzc4MSBRNTEuMTA5NCwyMjguNTM0NCA1MC40MDYzLDIyOC41MzQ0IFE0Ny45MDYzLDIyOC41MzQ0IDQ2LjU3ODEsMjI2Ljg5MzggUTQ1LjI2NTYsMjI1LjIzNzUgNDUuMjY1NiwyMjIuMTEyNSBRNDUuMjY1NiwyMTguOTg3NSA0Ni41NzgxLDIxNy4zMzEzIFE0Ny45MDYzLDIxNS42NzUgNTAuNDA2MywyMTUuNjc1IFE1MS4xMDk0LDIxNS42NzUgNTEuNzUsMjE1LjgzMTMgUTUyLjQwNjMsMjE1Ljk4NzUgNTIuOTY4OCwyMTYuMjg0NCBMNTIuOTY4OCwyMTkuMDAzMSBRNTIuMzQzOCwyMTguNDI1IDUxLjc1LDIxOC4xNTk0IFE1MS4xNTYzLDIxNy44NzgxIDUwLjUzMTMsMjE3Ljg3ODEgUTQ5LjE4NzUsMjE3Ljg3ODEgNDguNSwyMTguOTU2MyBRNDcuODEyNSwyMjAuMDE4OCA0Ny44MTI1LDIyMi4xMTI1IFE0Ny44MTI1LDIyNC4yMDYzIDQ4LjUsMjI1LjI4NDQgUTQ5LjE4NzUsMjI2LjM0NjkgNTAuNTMxMywyMjYuMzQ2OSBRNTEuMTU2MywyMjYuMzQ2OSA1MS43NSwyMjYuMDgxMyBRNTIuMzQzOCwyMjUuOCA1Mi45Njg4LDIyNS4yMjE5IEw1Mi45Njg4LDIyNy45NDA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODIiIHg9IjY0IiB5PSIyMjcuMTQ2NyI+QmxvZ01vZHVsZTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIzNiIgeDI9IjE0OCIgeTE9IjIzOC4zIiB5Mj0iMjM4LjMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIzNiIgeDI9IjE0OCIgeTE9IjI0Ni4zIiB5Mj0iMjQ2LjMiLz48L2c+PCEtLWxpbmsgQXBwTW9kdWxlIHRvIEJsb2dNb2R1bGUtLT48ZyBpZD0ibGlua19BcHBNb2R1bGVfQmxvZ01vZHVsZSI+PHBhdGggY29kZUxpbmU9IjEyIiBkPSJNOTIsMTA2LjcyIEM5MiwxMzYuMTQgOTIsMTczLjM0IDkyLDE5OS44MiAiIGZpbGw9Im5vbmUiIGlkPSJBcHBNb2R1bGUtdG8tQmxvZ01vZHVsZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI5MiwyMDUuODIsOTYsMTk2LjgyLDkyLDIwMC44Miw4OCwxOTYuODIsOTIsMjA1LjgyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OSIgeD0iOTMiIHk9IjE1MS4zNjY5Ij5pbXBvcnRzPC90ZXh0PjwvZz48IS0tU1JDPVtBcVhDcGF2Q0pyTG1CMlhHaUI0OUlhcWtJU25CcHFjcmlyRWV2YjlHSUN2OUIydTZvVmRjZnZKY2Y4QjU1MUlxdE9pSTJwODJWSTIyR0E1UWhiZWtoV0FlSUt1di1VYXVaRzk5OGZhNXJlV21OYTVOcm12UFlQTDJQY3YxVmI1OUNHMDBdLS0+PC9nPjwvc3ZnPg==\" loading=\"lazy\"\u003e\n\u003cp data-sourcepos=\"142:1-142:30\"\u003eCLIで作成していきます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"144:1-148:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enest g module blog\nCREATE src/blog/blog.module.ts \u003cspan class=\"o\"\u003e(\u003c/span\u003e88 bytes\u003cspan class=\"o\"\u003e)\u003c/span\u003e\nUPDATE src/app.module.ts \u003cspan class=\"o\"\u003e(\u003c/span\u003e700 bytes\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"150:1-151:66\"\u003eAppModuleへのインポートまでやってくれます\u003cbr\u003e\nModuleでやりたいことはもう無いので次に行きます\u003c/p\u003e\n\u003chr data-sourcepos=\"153:1-154:0\"\u003e\n\u003cdiv data-sourcepos=\"155:1-159:3\" class=\"note warn\"\u003e\n\u003cspan class=\"fa fa-fw fa-exclamation-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"156:1-156:111\"\u003eこの先は単体テストを書いていくので、下の図のような流れで実装していきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"158:1-158:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe718faa1-3ddd-a7e2-da7d-f2a402d4e2f8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a9a969056fb87efee5f12b6bc6ac2820\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe718faa1-3ddd-a7e2-da7d-f2a402d4e2f8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a9a969056fb87efee5f12b6bc6ac2820\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe718faa1-3ddd-a7e2-da7d-f2a402d4e2f8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c8f7a35d97c8a194ab9d9e94767963a0 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e718faa1-3ddd-a7e2-da7d-f2a402d4e2f8.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003ch3 data-sourcepos=\"161:1-161:15\"\u003e\n\u003cspan id=\"blogservice\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#blogservice\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eBlogService\u003c/h3\u003e\n\u003cp data-sourcepos=\"163:1-163:38\"\u003eBlogServiceを作っていきます。\u003c/p\u003e\n\u003cimg src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIxMjhweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjI2M3B4O2hlaWdodDoxMjhweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAyNjMgMTI4IiB3aWR0aD0iMjYzcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48IS0tY2x1c3RlciBCbG9nLS0+PGcgaWQ9ImNsdXN0ZXJfQmxvZyI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIxMTUuMyIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMjUwIiB4PSI3IiB5PSI3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM0IiB4PSIxMTUiIHk9IjIxLjk5NTEiPkJsb2c8L3RleHQ+PC9nPjwhLS1jbGFzcyBCbG9nU2VydmljZS0tPjxnIGlkPSJlbGVtX0Jsb2dTZXJ2aWNlIj48cmVjdCBjb2RlTGluZT0iMiIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2NC4yOTY5IiBpZD0iQmxvZ1NlcnZpY2UiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjIxOCIgeD0iMjMiIHk9IjQyIi8+PGVsbGlwc2UgY3g9Ijg3LjI1IiBjeT0iNTgiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNOTAuMjE4OCw2My42NDA2IFE4OS42NDA2LDYzLjkzNzUgODksNjQuMDc4MSBRODguMzU5NCw2NC4yMzQ0IDg3LjY1NjMsNjQuMjM0NCBRODUuMTU2Myw2NC4yMzQ0IDgzLjgyODEsNjIuNTkzOCBRODIuNTE1Niw2MC45Mzc1IDgyLjUxNTYsNTcuODEyNSBRODIuNTE1Niw1NC42ODc1IDgzLjgyODEsNTMuMDMxMyBRODUuMTU2Myw1MS4zNzUgODcuNjU2Myw1MS4zNzUgUTg4LjM1OTQsNTEuMzc1IDg5LDUxLjUzMTMgUTg5LjY1NjMsNTEuNjg3NSA5MC4yMTg4LDUxLjk4NDQgTDkwLjIxODgsNTQuNzAzMSBRODkuNTkzOCw1NC4xMjUgODksNTMuODU5NCBRODguNDA2Myw1My41NzgxIDg3Ljc4MTMsNTMuNTc4MSBRODYuNDM3NSw1My41NzgxIDg1Ljc1LDU0LjY1NjMgUTg1LjA2MjUsNTUuNzE4OCA4NS4wNjI1LDU3LjgxMjUgUTg1LjA2MjUsNTkuOTA2MyA4NS43NSw2MC45ODQ0IFE4Ni40Mzc1LDYyLjA0NjkgODcuNzgxMyw2Mi4wNDY5IFE4OC40MDYzLDYyLjA0NjkgODksNjEuNzgxMyBRODkuNTkzOCw2MS41IDkwLjIxODgsNjAuOTIxOSBMOTAuMjE4OCw2My42NDA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODEiIHg9IjEwNy43NSIgeT0iNjIuODQ2NyI+QmxvZ1NlcnZpY2U8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjQiIHgyPSIyNDAiIHkxPSI3NCIgeTI9Ijc0Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjQiIHgyPSIyNDAiIHkxPSI4MiIgeTI9IjgyIi8+PGVsbGlwc2UgY3g9IjM0IiBjeT0iOTUuNjQ4NCIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTIiIHg9IjQzIiB5PSI5OC45OTUxIj5nZXQoKTogUHJvbWlzZSZsdDtCbG9nSnNvbltdJmd0OzwvdGV4dD48L2c+PCEtLVNSQz1bQXFYQ3BhdkNKckxtb2liRkx4Mm4yS2ZEQmFkQ0l5ejlqUkRKZ0VQSUs0WkVJSW1rMWFpNmZuUUxQSVFkV2FLTDVCSkpLcWlxREFxSzBlaG9TcEVCS3NyMEFob0F5X0VZTy1zMHloTFNqRzAwXS0tPjwvZz48L3N2Zz4=\" loading=\"lazy\"\u003e\n\u003cdiv data-sourcepos=\"174:1-177:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003ch4 data-sourcepos=\"175:1-175:11\"\u003e\n\u003cspan id=\"責務\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%B2%AC%E5%8B%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e責務\u003c/h4\u003e\n\u003cp data-sourcepos=\"176:1-176:128\"\u003eこのServiceでは、APIからデータを取得して、BlogJsonに変換し、Resolverに返すことを責務としました\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"179:1-184:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enest g service blog\nCREATE src/blog/blog.service.spec.ts \u003cspan class=\"o\"\u003e(\u003c/span\u003e446 bytes\u003cspan class=\"o\"\u003e)\u003c/span\u003e\nCREATE src/blog/blog.service.ts \u003cspan class=\"o\"\u003e(\u003c/span\u003e88 bytes\u003cspan class=\"o\"\u003e)\u003c/span\u003e\nUPDATE src/blog/blog.module.ts \u003cspan class=\"o\"\u003e(\u003c/span\u003e155 bytes\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"186:1-186:120\"\u003e単体テスト用のSpecファイルと、BlogModuleへのインポートまでやってくれます(\u003cstrong\u003e便利!!\u003c/strong\u003e) 👍\u003c/p\u003e\n\u003ch4 data-sourcepos=\"188:1-188:14\"\u003e\n\u003cspan id=\"テスト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%86%E3%82%B9%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eテスト\u003c/h4\u003e\n\u003cdiv data-sourcepos=\"190:1-193:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"191:1-192:101\"\u003e工夫したポイント\u003cbr\u003e\naxiosのgetメソッドをモックして、思った結果が返ってくるかを確認しました\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdetails\u003e\u003csummary\u003eblog.service.spec.ts\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"ts\" data-sourcepos=\"197:1-229:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  \u003cspan class=\"nf\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eshould return blogs json\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eoriginalAxiosGet\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eaxios\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"kd\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"na\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eid 1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBlog 1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eAuthor 1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"na\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBody 1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"na\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e2023-12-01 09:00:00\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eid 2\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBlog 2\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eAuthor 2\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"na\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBody 2\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"na\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e2023-12-02 09:00:00\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e],\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n    \u003cspan class=\"nx\"\u003eaxios\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"kd\"\u003eget\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ejest\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003efn\u003c/span\u003e\u003cspan class=\"p\"\u003e().\u003c/span\u003e\u003cspan class=\"nf\"\u003emockResolvedValue\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eactual\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003eservice\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eexpected\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogsJson\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"nf\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eactual\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003etoEqual\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eexpected\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"nx\"\u003eaxios\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"kd\"\u003eget\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eoriginalAxiosGet\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/details\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"233:1-240:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e FAIL  src/blog/blog.service.spec.ts\n\nTest Suites: 1 failed, 1 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1.02 s, estimated 2 s\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"242:1-242:86\"\u003e\u003cimg alt=\":ok:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f197.png\" title=\":ok:\" width=\"20\" loading=\"lazy\"\u003e 実装前なので、\u003cstrong\u003e期待通り\u003cfont color=\"red\"\u003e失敗\u003c/font\u003e\u003c/strong\u003e しました\u003c/p\u003e\n\u003ch4 data-sourcepos=\"244:1-244:11\"\u003e\n\u003cspan id=\"実装-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装\u003c/h4\u003e\n\u003cdetails\u003e\u003csummary\u003eblog.service.ts\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"ts\" data-sourcepos=\"248:1-278:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eInjectable\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@nestjs/common\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eaxios\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eaxios\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogJson\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003econstructor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogsJson\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003econstructor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003eany\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ed\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003eany\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogJson\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ed\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ed\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ed\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ed\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ed\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogJson\u003c/span\u003e\u003cspan class=\"p\"\u003e[];\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"p\"\u003e@\u003c/span\u003e\u003cspan class=\"nd\"\u003eInjectable\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogService\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e():\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eBlogsJson\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003eaxios\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehttp://localhost:8080/blogs\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogsJson\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/details\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"281:1-291:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e PASS  src/blog/blog.service.spec.ts\n  BlogResolver\n    ✓ should be defined \u003cspan class=\"o\"\u003e(\u003c/span\u003e4 ms\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n    ✓ should \u003cspan class=\"k\"\u003ereturn \u003c/span\u003eblogs json \u003cspan class=\"o\"\u003e(\u003c/span\u003e1 ms\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\nTest Suites: 1 passed, 1 total\nTests:       2 passed, 2 total\nSnapshots:   0 total\nTime:        1.02 s, estimated 2 s\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"293:1-293:37\"\u003e実装したので通りました👍\u003c/p\u003e\n\u003ch3 data-sourcepos=\"295:1-295:16\"\u003e\n\u003cspan id=\"blogresolver\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#blogresolver\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eBlogResolver\u003c/h3\u003e\n\u003cp data-sourcepos=\"297:1-297:48\"\u003e最後にBlogResolverを作っていきます。\u003c/p\u003e\n\u003cimg src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIxNDRweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjI0MXB4O2hlaWdodDoxNDRweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAyNDEgMTQ0IiB3aWR0aD0iMjQxcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48IS0tY2x1c3RlciBCbG9nLS0+PGcgaWQ9ImNsdXN0ZXJfQmxvZyI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIxMzEuNTkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjIyOCIgeD0iNyIgeT0iNyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzNCIgeD0iMTA0IiB5PSIyMS45OTUxIj5CbG9nPC90ZXh0PjwvZz48IS0tY2xhc3MgQmxvZ1Jlc29sdmVyLS0+PGcgaWQ9ImVsZW1fQmxvZ1Jlc29sdmVyIj48cmVjdCBjb2RlTGluZT0iMiIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI4MC41OTM4IiBpZD0iQmxvZ1Jlc29sdmVyIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxOTYiIHg9IjIzIiB5PSI0MiIvPjxlbGxpcHNlIGN4PSI3MS4yNSIgY3k9IjU4IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTc0LjIxODgsNjMuNjQwNiBRNzMuNjQwNiw2My45Mzc1IDczLDY0LjA3ODEgUTcyLjM1OTQsNjQuMjM0NCA3MS42NTYzLDY0LjIzNDQgUTY5LjE1NjMsNjQuMjM0NCA2Ny44MjgxLDYyLjU5MzggUTY2LjUxNTYsNjAuOTM3NSA2Ni41MTU2LDU3LjgxMjUgUTY2LjUxNTYsNTQuNjg3NSA2Ny44MjgxLDUzLjAzMTMgUTY5LjE1NjMsNTEuMzc1IDcxLjY1NjMsNTEuMzc1IFE3Mi4zNTk0LDUxLjM3NSA3Myw1MS41MzEzIFE3My42NTYzLDUxLjY4NzUgNzQuMjE4OCw1MS45ODQ0IEw3NC4yMTg4LDU0LjcwMzEgUTczLjU5MzgsNTQuMTI1IDczLDUzLjg1OTQgUTcyLjQwNjMsNTMuNTc4MSA3MS43ODEzLDUzLjU3ODEgUTcwLjQzNzUsNTMuNTc4MSA2OS43NSw1NC42NTYzIFE2OS4wNjI1LDU1LjcxODggNjkuMDYyNSw1Ny44MTI1IFE2OS4wNjI1LDU5LjkwNjMgNjkuNzUsNjAuOTg0NCBRNzAuNDM3NSw2Mi4wNDY5IDcxLjc4MTMsNjIuMDQ2OSBRNzIuNDA2Myw2Mi4wNDY5IDczLDYxLjc4MTMgUTczLjU5MzgsNjEuNSA3NC4yMTg4LDYwLjkyMTkgTDc0LjIxODgsNjMuNjQwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxIiB4PSI5MS43NSIgeT0iNjIuODQ2NyI+QmxvZ1Jlc29sdmVyPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI0IiB4Mj0iMjE4IiB5MT0iNzQiIHkyPSI3NCIvPjxlbGxpcHNlIGN4PSIzNCIgY3k9Ijg3LjY0ODQiIGZpbGw9Im5vbmUiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTcwIiB4PSI0MyIgeT0iOTAuOTk1MSI+YmxvZ1NlcnZpY2U6IEJsb2dTZXJ2aWNlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI0IiB4Mj0iMjE4IiB5MT0iOTguMjk2OSIgeTI9Ijk4LjI5NjkiLz48ZWxsaXBzZSBjeD0iMzQiIGN5PSIxMTEuOTQ1MyIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjMiIHg9IjQzIiB5PSIxMTUuMjkyIj5nZXQoKTogUHJvbWlzZSZsdDtCbG9nW10mZ3Q7PC90ZXh0PjwvZz48IS0tU1JDPVtBcVhDcGF2Q0pyTG1vaWJGTHgybjJLZkRCYWRDSXl6OWpSREpnRVBJSzRaRUlJbWsxYWk2ZkhSZHZ2SWI1ZTY1NUhJcWF1MVltUWI1UFBkOWdMUFcxTDBFSDNPempLSDNxcWVYZTJXX0R4Q3VyR09hN25yaDF2SWh2UWU1MDAwMF0tLT48L2c+PC9zdmc+\" loading=\"lazy\"\u003e\n\u003cdiv data-sourcepos=\"309:1-313:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003ch4 data-sourcepos=\"311:1-311:11\"\u003e\n\u003cspan id=\"責務-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%B2%AC%E5%8B%99-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e責務\u003c/h4\u003e\n\u003cp data-sourcepos=\"312:1-312:160\"\u003eこのResolverでは、BlogServiceから受け取ったBlogJsonオブジェクトをSchemaファイルに合わせたBlogオブジェクトに変換して返す\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"315:1-320:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enest g resolver blog\nCREATE src/blog/blog.resolver.spec.ts \u003cspan class=\"o\"\u003e(\u003c/span\u003e456 bytes\u003cspan class=\"o\"\u003e)\u003c/span\u003e\nCREATE src/blog/blog.resolver.ts \u003cspan class=\"o\"\u003e(\u003c/span\u003e86 bytes\u003cspan class=\"o\"\u003e)\u003c/span\u003e\nUPDATE src/blog/blog.module.ts \u003cspan class=\"o\"\u003e(\u003c/span\u003e217 bytes\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"322:1-322:120\"\u003e単体テスト用のSpecファイルと、BlogModuleへのインポートまでやってくれます(\u003cstrong\u003e便利!!\u003c/strong\u003e) 👍\u003c/p\u003e\n\u003ch4 data-sourcepos=\"324:1-324:14\"\u003e\n\u003cspan id=\"テスト-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%86%E3%82%B9%E3%83%88-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eテスト\u003c/h4\u003e\n\u003cdiv data-sourcepos=\"326:1-329:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"327:1-328:37\"\u003e工夫したポイント\u003cbr\u003e\nserviceのgetをモックしました\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdetails\u003e\u003csummary\u003eblog.resolver.spec.ts\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"ts\" data-sourcepos=\"333:1-367:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eblog.resolver.spec.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  \u003cspan class=\"nf\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eshould return blogs\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003emockBlogService\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e \u003cspan class=\"kd\"\u003eas \u003c/span\u003e\u003cspan class=\"nx\"\u003eBlogService\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003emockBlogService\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"kd\"\u003eget\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ejest\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003efn\u003c/span\u003e\u003cspan class=\"p\"\u003e().\u003c/span\u003e\u003cspan class=\"nf\"\u003emockResolvedValue\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n      \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogsJson\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eid 1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBlog 1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eAuthor 1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"na\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBody 1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"na\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e2023-12-01 09:00:00\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eid 2\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBlog 2\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eAuthor 2\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"na\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBody 2\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"na\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e2023-12-02 09:00:00\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e],\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eexpected\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n      \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eid 1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBlog 1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eAuthor 1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBody 1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e2023-12-01 09:00:00\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n      \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eid 2\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBlog 2\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eAuthor 2\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBody 2\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e2023-12-02 09:00:00\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e];\u003c/span\u003e\n\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eresolver\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogResolver\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003emockBlogService\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eactual\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003eresolver\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n    \u003cspan class=\"nf\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eactual\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003etoEqual\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eexpected\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/details\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"371:1-378:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e FAIL  src/blog/blog.resolver.spec.ts\n\nTest Suites: 1 failed, 1 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1.02 s, estimated 2 s\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"380:1-380:86\"\u003e\u003cimg alt=\":ok:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f197.png\" title=\":ok:\" width=\"20\" loading=\"lazy\"\u003e 実装前なので、\u003cstrong\u003e期待通り\u003cfont color=\"red\"\u003e失敗\u003c/font\u003e\u003c/strong\u003e しました\u003c/p\u003e\n\u003ch4 data-sourcepos=\"382:1-382:11\"\u003e\n\u003cspan id=\"実装-2\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85-2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装\u003c/h4\u003e\n\u003cdiv data-sourcepos=\"384:1-387:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"385:1-386:139\"\u003e工夫したポイント\u003cbr\u003e\n自動生成されるSchemaの型ファイルをimplementした、Blogクラスを作成し、それを返却するようにしました。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdetails\u003e\u003csummary\u003eblog.resolver.ts\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"ts\" data-sourcepos=\"391:1-425:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eblog.resolver.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eResolver\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@nestjs/graphql\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogService\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e./blog.service\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlog\u003c/span\u003e \u003cspan class=\"kd\"\u003eas \u003c/span\u003e\u003cspan class=\"nx\"\u003eIBlog\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/graphql/generated\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlog\u003c/span\u003e \u003cspan class=\"k\"\u003eimplements\u003c/span\u003e \u003cspan class=\"nx\"\u003eIBlog\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003econstructor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"p\"\u003e@\u003c/span\u003e\u003cspan class=\"nd\"\u003eResolver\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBlog\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogResolver\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003econstructor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogService\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogService\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n\n  \u003cspan class=\"p\"\u003e@\u003c/span\u003e\u003cspan class=\"nd\"\u003eQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eblogs\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e():\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eBlog\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogsJson\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eblogService\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogsJson\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eblogJson\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n          \u003cspan class=\"nx\"\u003eblogJson\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n          \u003cspan class=\"nx\"\u003eblogJson\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n          \u003cspan class=\"nx\"\u003eblogJson\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n          \u003cspan class=\"nx\"\u003eblogJson\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n          \u003cspan class=\"nx\"\u003eblogJson\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/details\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"429:1-439:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e PASS  src/blog/blog.resolver.spec.ts\n  BlogResolver\n    ✓ should be defined \u003cspan class=\"o\"\u003e(\u003c/span\u003e4 ms\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n    ✓ should \u003cspan class=\"k\"\u003ereturn \u003c/span\u003eblogs \u003cspan class=\"o\"\u003e(\u003c/span\u003e1 ms\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\nTest Suites: 1 passed, 1 total\nTests:       2 passed, 2 total\nSnapshots:   0 total\nTime:        1.02 s, estimated 2 s\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"441:1-441:37\"\u003e実装したので通りました👍\u003c/p\u003e\n\u003ch2 data-sourcepos=\"443:1-443:6\"\u003e\n\u003cspan id=\"e2e\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#e2e\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eE2E\u003c/h2\u003e\n\u003cp data-sourcepos=\"445:1-445:57\"\u003e最後に環境を立ち上げてE2Eを回してみます\u003c/p\u003e\n\u003cp data-sourcepos=\"447:1-447:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F985f26bc-a2d1-ce28-3015-3f8319ce5333.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=1f69afac5a246ae75e7acb7ca5d98ec1\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F985f26bc-a2d1-ce28-3015-3f8319ce5333.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=1f69afac5a246ae75e7acb7ca5d98ec1\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F985f26bc-a2d1-ce28-3015-3f8319ce5333.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=cd77322aa82f69a1d7d7a0b724ac526d 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/985f26bc-a2d1-ce28-3015-3f8319ce5333.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"449:1-458:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e PASS  \u003cspan class=\"nb\"\u003etest\u003c/span\u003e/app.e2e-spec.ts\n  AppController \u003cspan class=\"o\"\u003e(\u003c/span\u003ee2e\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n    ✓ / \u003cspan class=\"o\"\u003e(\u003c/span\u003eQuery\u003cspan class=\"o\"\u003e)\u003c/span\u003e GET BLOGS \u003cspan class=\"o\"\u003e(\u003c/span\u003e327 ms\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   0 total\nTime:        1.466 s\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"460:1-460:19\"\u003e通りました👍\u003c/p\u003e\n\u003cp data-sourcepos=\"462:1-463:67\"\u003eこれでBFFの実装は終了なので、APIの実装に移ります。\u003cbr\u003e\n次回はまずRustでのAPI開発の準備を進めていきます\u003c/p\u003e\n\u003cp data-sourcepos=\"465:1-465:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F31801d92-3fcc-04fd-0b80-a797b8f34896.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=902564c3e97964130bf8e326e2891726\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F31801d92-3fcc-04fd-0b80-a797b8f34896.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=902564c3e97964130bf8e326e2891726\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F31801d92-3fcc-04fd-0b80-a797b8f34896.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=47407bfa47de779f8cba5e46d9197103 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/31801d92-3fcc-04fd-0b80-a797b8f34896.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n",
    "body": "## はじめに\n\n![スライド17.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/7e5ba0db-3902-b78c-df9c-100bc9cee9b3.png)\n\n\n---\n\n**2023年アドベントカレンダー16日目**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n現在「ユーザーはトップページでブログの一覧を見ることができる」を進めています。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png)\n\n前回はGraphQLModuleの設定を行いました。\n今回はメインの実装を進めていきます。\n\n## E2Eテスト\n\n`nest new`でNestJSを作成したときにすでにE2Eテストの概形はできているので、テストを追加していきます。\n\n:::note warn\nもっとGraphQLサーバーに特化した書き方があるかもしれません\n:::\n\nPOSTでqueryを受け取り、期待するレスポンスを返せるかを確認します。\n\n```ts:app.e2e-spec.ts\n  it('/ (Query) GET BLOGS', async () =\u003e {\n    const result = await request(app.getHttpServer()).post('/').send({\n      query: '{ blogs { id title author body createdAt } }',\n    });\n\n    expect(result.status).toEqual(200);\n    expect(result.body.data.blogs).toEqual([\n      {\n        id: '8c7cf457-5ffe-44c3-98b3-c529c09e9999',\n        title: 'title1',\n        author: 'author1',\n        body: 'body1',\n        createdAt: '2019-01-01T00:00:00.000Z',\n      },\n    ]);\n  });\n```\n\n```bash\nbff$ npm run test:e2e\n\nTest Suites: 1 failed, 1 total\nTests:       1 failed, 1 total\n```\n\n:ok: 実装前なので、**期待通り\u003cfont color=\"red\"\u003e失敗\u003c/font\u003e** しました\n\n## 実装\n\n今回はこのような構成を目指しています。\n\n```plantuml\n@startuml\n\npackage App \u003c\u003cRectangle\u003e\u003e {\n  class AppModule {\n    +GraphQLModule\n  }\n}\n\npackage GraphQL \u003c\u003cRectangle\u003e\u003e {\n  class GraphQLModule {}\n}\n\npackage Blog \u003c\u003cRectangle\u003e\u003e {\n  class BlogModule {\n  }\n\n  class BlogResolver {\n    +blogService: BlogService\n    +get(): Promise\u003cBlog[]\u003e\n  }\n  class BlogService {\n    +get(): Promise\u003cBlogJson[]\u003e\n  }\n}\n\nAppModule -right-\u003e GraphQLModule : imports\nAppModule  --\u003e BlogModule : imports\nBlogModule --\u003e BlogResolver : providers\nBlogModule --\u003e BlogService : providers\nBlogResolver -right-\u003e BlogService : uses\n@enduml\n```\n\nその中のこの部分を作っていきます！\n\n```plantuml\npackage App \u003c\u003cRectangle\u003e\u003e {\n  class AppModule {\n    +GraphQLModule\n  }\n}\n\npackage Blog \u003c\u003cRectangle\u003e\u003e {\n  class BlogModule {\n  }\n\n  class BlogResolver {\n    +blogService: BlogService\n    +get(): Promise\u003cBlog[]\u003e\n  }\n  class BlogService {\n    +get(): Promise\u003cBlogJson[]\u003e\n  }\n}\n\nAppModule  --\u003e BlogModule : imports\nBlogModule --\u003e BlogResolver : providers\nBlogModule --\u003e BlogService : providers\nBlogResolver -right-\u003e BlogService : uses\n@enduml\n```\n\n### BlogModule\n\n```plantuml\npackage App \u003c\u003cRectangle\u003e\u003e {\n  class AppModule {\n    +GraphQLModule\n  }\n}\n\npackage Blog \u003c\u003cRectangle\u003e\u003e {\n  class BlogModule {\n  }\n}\n\nAppModule  --\u003e BlogModule : imports\n@enduml\n```\n\nCLIで作成していきます\n\n```bash\n$ nest g module blog\nCREATE src/blog/blog.module.ts (88 bytes)\nUPDATE src/app.module.ts (700 bytes)\n```\n\nAppModuleへのインポートまでやってくれます\nModuleでやりたいことはもう無いので次に行きます\n\n---\n\n:::note warn\nこの先は単体テストを書いていくので、下の図のような流れで実装していきます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e718faa1-3ddd-a7e2-da7d-f2a402d4e2f8.png)\n:::\n\n### BlogService\n\nBlogServiceを作っていきます。\n\n```plantuml\npackage Blog \u003c\u003cRectangle\u003e\u003e {\n  class BlogService {\n    +get(): Promise\u003cBlogJson[]\u003e\n  }\n}\n@enduml\n```\n\n:::note info\n#### 責務\nこのServiceでは、APIからデータを取得して、BlogJsonに変換し、Resolverに返すことを責務としました\n:::\n\n```bash\n$ nest g service blog\nCREATE src/blog/blog.service.spec.ts (446 bytes)\nCREATE src/blog/blog.service.ts (88 bytes)\nUPDATE src/blog/blog.module.ts (155 bytes)\n```\n\n単体テスト用のSpecファイルと、BlogModuleへのインポートまでやってくれます(**便利!!**) 👍\n\n#### テスト\n\n:::note info\n工夫したポイント\naxiosのgetメソッドをモックして、思った結果が返ってくるかを確認しました\n:::\n\n\u003cdetails\u003e\u003csummary\u003eblog.service.spec.ts\u003c/summary\u003e\n\n```ts\n  it('should return blogs json', async () =\u003e {\n    const originalAxiosGet = axios.get;\n    const response = {\n      data: {\n        blogs: [\n          {\n            id: 'id 1',\n            title: 'Blog 1',\n            author: 'Author 1',\n            body: 'Body 1',\n            createdAt: '2023-12-01 09:00:00',\n          },\n          {\n            id: 'id 2',\n            title: 'Blog 2',\n            author: 'Author 2',\n            body: 'Body 2',\n            createdAt: '2023-12-02 09:00:00',\n          },\n        ],\n      },\n    };\n\n    axios.get = jest.fn().mockResolvedValue(response);\n    const actual = await service.get();\n    const expected = new BlogsJson(response.data);\n\n    expect(actual).toEqual(expected);\n\n    axios.get = originalAxiosGet;\n  });\n```\n\n\u003c/details\u003e\n\n```bash\n FAIL  src/blog/blog.service.spec.ts\n\nTest Suites: 1 failed, 1 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1.02 s, estimated 2 s\n```\n\n:ok: 実装前なので、**期待通り\u003cfont color=\"red\"\u003e失敗\u003c/font\u003e** しました\n\n#### 実装\n\n\u003cdetails\u003e\u003csummary\u003eblog.service.ts\u003c/summary\u003e\n\n```ts\nimport { Injectable } from '@nestjs/common';\nimport axios from 'axios';\n\nexport class BlogJson {\n  constructor(\n    public id: string,\n    public title: string,\n    public author: string,\n    public body: string,\n    public createdAt: string,\n  ) {}\n}\n\nexport class BlogsJson {\n  constructor(data: any) {\n    this.blogs = data.blogs.map(\n      (d: any) =\u003e new BlogJson(d.id, d.title, d.author, d.body, d.createdAt),\n    );\n  }\n  blogs: BlogJson[];\n}\n\n@Injectable()\nexport class BlogService {\n  async get(): Promise\u003cBlogsJson\u003e {\n    const response = await axios.get('http://localhost:8080/blogs');\n    return new BlogsJson(response.data);\n  }\n}\n```\n\u003c/details\u003e\n\n```bash\n PASS  src/blog/blog.service.spec.ts\n  BlogResolver\n    ✓ should be defined (4 ms)\n    ✓ should return blogs json (1 ms)\n\nTest Suites: 1 passed, 1 total\nTests:       2 passed, 2 total\nSnapshots:   0 total\nTime:        1.02 s, estimated 2 s\n```\n\n実装したので通りました👍\n\n### BlogResolver\n\n最後にBlogResolverを作っていきます。\n\n```plantuml\npackage Blog \u003c\u003cRectangle\u003e\u003e {\n  class BlogResolver {\n    +blogService: BlogService\n    +get(): Promise\u003cBlog[]\u003e\n  }\n}\n@enduml\n```\n\n:::note info\n\n#### 責務\nこのResolverでは、BlogServiceから受け取ったBlogJsonオブジェクトをSchemaファイルに合わせたBlogオブジェクトに変換して返す\n:::\n\n```bash\n$ nest g resolver blog\nCREATE src/blog/blog.resolver.spec.ts (456 bytes)\nCREATE src/blog/blog.resolver.ts (86 bytes)\nUPDATE src/blog/blog.module.ts (217 bytes)\n```\n\n単体テスト用のSpecファイルと、BlogModuleへのインポートまでやってくれます(**便利!!**) 👍\n\n#### テスト\n\n:::note info\n工夫したポイント\nserviceのgetをモックしました\n:::\n\n\u003cdetails\u003e\u003csummary\u003eblog.resolver.spec.ts\u003c/summary\u003e\n\n```ts:blog.resolver.spec.ts\n  it('should return blogs', async () =\u003e {\n    const mockBlogService = {} as BlogService;\n    mockBlogService.get = jest.fn().mockResolvedValue(\n      new BlogsJson({\n        blogs: [\n          {\n            id: 'id 1',\n            title: 'Blog 1',\n            author: 'Author 1',\n            body: 'Body 1',\n            createdAt: '2023-12-01 09:00:00',\n          },\n          {\n            id: 'id 2',\n            title: 'Blog 2',\n            author: 'Author 2',\n            body: 'Body 2',\n            createdAt: '2023-12-02 09:00:00',\n          },\n        ],\n      }),\n    );\n\n    const expected = [\n      new Blog('id 1', 'Blog 1', 'Author 1', 'Body 1', '2023-12-01 09:00:00'),\n      new Blog('id 2', 'Blog 2', 'Author 2', 'Body 2', '2023-12-02 09:00:00'),\n    ];\n\n    const resolver = new BlogResolver(mockBlogService);\n    const actual = await resolver.get();\n\n    expect(actual).toEqual(expected);\n  });\n```\n\n\u003c/details\u003e\n\n```bash\n FAIL  src/blog/blog.resolver.spec.ts\n\nTest Suites: 1 failed, 1 total\nTests:       0 total\nSnapshots:   0 total\nTime:        1.02 s, estimated 2 s\n```\n\n:ok: 実装前なので、**期待通り\u003cfont color=\"red\"\u003e失敗\u003c/font\u003e** しました\n\n#### 実装\n\n:::note info\n工夫したポイント\n自動生成されるSchemaの型ファイルをimplementした、Blogクラスを作成し、それを返却するようにしました。\n:::\n\n\u003cdetails\u003e\u003csummary\u003eblog.resolver.ts\u003c/summary\u003e\n\n```ts:blog.resolver.ts\nimport { Query, Resolver } from '@nestjs/graphql';\nimport { BlogService } from './blog.service';\nimport { Blog as IBlog } from '@/graphql/generated';\n\nexport class Blog implements IBlog {\n  constructor(\n    public id: string,\n    public title: string,\n    public author: string,\n    public body: string,\n    public createdAt: string,\n  ) {}\n}\n\n@Resolver('Blog')\nexport class BlogResolver {\n  constructor(private blogService: BlogService) {}\n\n  @Query('blogs')\n  async get(): Promise\u003cBlog[]\u003e {\n    const blogsJson = await this.blogService.get();\n    return blogsJson.blogs.map(\n      (blogJson) =\u003e\n        new Blog(\n          blogJson.id,\n          blogJson.title,\n          blogJson.author,\n          blogJson.body,\n          blogJson.createdAt,\n        ),\n    );\n  }\n}\n```\n\n\u003c/details\u003e\n\n```bash\n PASS  src/blog/blog.resolver.spec.ts\n  BlogResolver\n    ✓ should be defined (4 ms)\n    ✓ should return blogs (1 ms)\n\nTest Suites: 1 passed, 1 total\nTests:       2 passed, 2 total\nSnapshots:   0 total\nTime:        1.02 s, estimated 2 s\n```\n\n実装したので通りました👍\n\n## E2E\n\n最後に環境を立ち上げてE2Eを回してみます\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/985f26bc-a2d1-ce28-3015-3f8319ce5333.png)\n\n```bash\n PASS  test/app.e2e-spec.ts\n  AppController (e2e)\n    ✓ / (Query) GET BLOGS (327 ms)\n\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   0 total\nTime:        1.466 s\n```\n\n通りました👍\n\nこれでBFFの実装は終了なので、APIの実装に移ります。\n次回はまずRustでのAPI開発の準備を進めていきます\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/31801d92-3fcc-04fd-0b80-a797b8f34896.png)\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-12-13T00:08:27+09:00",
    "group": null,
    "id": "1dc82eb828da2b140c66",
    "likes_count": 2,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "TypeScript", "versions": [] },
      { "name": "Jest", "versions": [] },
      { "name": "NestJS", "versions": [] }
    ],
    "title": "【Day 16】ブログ一覧を取得し、表示する - BFF Module",
    "updated_at": "2023-12-16T07:00:41+09:00",
    "url": "https://qiita.com/maaaashi/items/1dc82eb828da2b140c66",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-3:131\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7c012c9e-a7ed-93cc-b402-acd5f8c5567f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6817cddc9f423905136733b45f9336c4\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7c012c9e-a7ed-93cc-b402-acd5f8c5567f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6817cddc9f423905136733b45f9336c4\" alt=\"スライド15.PNG\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7c012c9e-a7ed-93cc-b402-acd5f8c5567f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=0fc91a0f9eb7f5e517584ca2ba2ddd6c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/7c012c9e-a7ed-93cc-b402-acd5f8c5567f.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr data-sourcepos=\"5:1-6:0\"\u003e\n\u003cp data-sourcepos=\"7:1-7:58\"\u003e\u003cstrong\u003e2023年アドベントカレンダー14日目\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:52\"\u003e\u003ciframe id=\"qiita-embed-content__dbfdfe50c0bfbb9578c47a311a983295\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__dbfdfe50c0bfbb9578c47a311a983295\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-11:75\"\u003e前回からBFFの開発を始めるために環境構築をしています\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe36b1dc4-814d-49b3-43bc-61c9f978400f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b6a7c1ca8f35e4f5e32acdf4c076dbd6\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe36b1dc4-814d-49b3-43bc-61c9f978400f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b6a7c1ca8f35e4f5e32acdf4c076dbd6\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe36b1dc4-814d-49b3-43bc-61c9f978400f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e5a01be0601a0c350e1a9c451e1d74e1 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e36b1dc4-814d-49b3-43bc-61c9f978400f.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"15:1-15:11\"\u003e\n\u003cspan id=\"wiremock\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#wiremock\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eWireMock\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"17:1-17:18\"\u003e\n\u003cspan id=\"wiremockとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#wiremock%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eWireMockとは\u003c/h3\u003e\n\u003cp data-sourcepos=\"19:1-20:129\"\u003eWireMockは、モックサーバーを簡単に構築するためのツールです。\u003cbr\u003e\n主にテストで使われて、実際のサーバーの代わりに動作し、APIのモックをすることができます。\u003c/p\u003e\n\u003cp data-sourcepos=\"22:1-22:20\"\u003e\u003ciframe id=\"qiita-embed-content__162385d6c85dff2033579719cf780538\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__162385d6c85dff2033579719cf780538\" data-content=\"https%3A%2F%2Fwiremock.org\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch3 data-sourcepos=\"24:1-24:19\"\u003e\n\u003cspan id=\"dockerで起動\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#docker%E3%81%A7%E8%B5%B7%E5%8B%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eDockerで起動\u003c/h3\u003e\n\u003cp data-sourcepos=\"26:1-26:117\"\u003ewiremockはjava上で動作するアプリケーションなので、javaのimageを使って構築していきます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"Dockerfile\" data-sourcepos=\"28:1-38:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eDockerfile\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eFROM\u003c/span\u003e\u003cspan class=\"s\"\u003e openjdk:8-jre-alpine\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eENV\u003c/span\u003e\u003cspan class=\"s\"\u003e WIREMOCK_VERSION 2.27.2\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eRUN \u003c/span\u003ewget https://repo1.maven.org/maven2/com/github/tomakehurst/wiremock-standalone/\u003cspan class=\"k\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eWIREMOCK_VERSION\u003c/span\u003e\u003cspan class=\"k\"\u003e}\u003c/span\u003e/wiremock-standalone-\u003cspan class=\"k\"\u003e${\u003c/span\u003e\u003cspan class=\"nv\"\u003eWIREMOCK_VERSION\u003c/span\u003e\u003cspan class=\"k\"\u003e}\u003c/span\u003e.jar \u003cspan class=\"nt\"\u003e-O\u003c/span\u003e wiremock-standalone.jar\n\n\u003cspan class=\"k\"\u003eEXPOSE\u003c/span\u003e\u003cspan class=\"s\"\u003e 8080\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eENTRYPOINT\u003c/span\u003e\u003cspan class=\"s\"\u003e [\"java\", \"-jar\", \"wiremock-standalone.jar\"]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"40:1-40:57\"\u003eモックしたい情報を./mappings/*に設置します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"json\" data-sourcepos=\"42:1-67:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003emock_get_blogs.json\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"request\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"method\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"GET\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"url\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"/blogs\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"response\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"status\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"headers\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"Content-Type\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"application/json\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"jsonBody\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"blogs\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n          \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"id\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"8c7cf457-5ffe-44c3-98b3-c529c09e9999\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n          \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"title\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"title1\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n          \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"author\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"author1\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n          \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"body\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"body1\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n          \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"createdAt\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"2019-01-01T00:00:00.000Z\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n        \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n      \u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"69:1-69:21\"\u003e起動してみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"71:1-79:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c\"\u003e#!/bin/bash\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# イメージをビルドする\u003c/span\u003e\ndocker build \u003cspan class=\"nt\"\u003e-t\u003c/span\u003e wiremock \u003cspan class=\"nb\"\u003e.\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# コンテナを実行する\u003c/span\u003e\ndocker run \u003cspan class=\"nt\"\u003e-it\u003c/span\u003e \u003cspan class=\"nt\"\u003e--rm\u003c/span\u003e \u003cspan class=\"nt\"\u003e-p\u003c/span\u003e 8080:8080 \u003cspan class=\"nt\"\u003e-v\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"si\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003epwd\u003c/span\u003e\u003cspan class=\"si\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e/mappings:/mappings\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e--name\u003c/span\u003e wiremock wiremock\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv data-sourcepos=\"81:1-102:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"83:1-83:131\"\u003eDockerのみでも十分動きますが、一応docker composeでも動くようにcompose.yamlファイルを載せておきます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"85:1-97:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecompose.yaml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eversion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\u003c/span\u003e\u003cspan class=\"s\"\u003e3'\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003eservices\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eapp\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ebuild\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e.\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eports\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\u003c/span\u003e\u003cspan class=\"s\"\u003e8080:8080'\u003c/span\u003e\n    \u003cspan class=\"na\"\u003evolumes\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\u003c/span\u003e\u003cspan class=\"s\"\u003e./mappings/:/mappings'\u003c/span\u003e\n    \u003cspan class=\"na\"\u003etty\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n    \u003cspan class=\"na\"\u003estdin_open\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"99:1-101:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003edocker compose up\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"104:1-104:30\"\u003eでは起動していきます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"106:1-126:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003edocker run \u003cspan class=\"nt\"\u003e-it\u003c/span\u003e \u003cspan class=\"nt\"\u003e--rm\u003c/span\u003e \u003cspan class=\"nt\"\u003e-p\u003c/span\u003e 8080:8080 \u003cspan class=\"nt\"\u003e-v\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"si\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003epwd\u003c/span\u003e\u003cspan class=\"si\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e/mappings:/mappings\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e--name\u003c/span\u003e wiremock wiremock\n\nSLF4J: Failed to load class \u003cspan class=\"s2\"\u003e\"org.slf4j.impl.StaticLoggerBinder\"\u003c/span\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\nSLF4J: Defaulting to no-operation \u003cspan class=\"o\"\u003e(\u003c/span\u003eNOP\u003cspan class=\"o\"\u003e)\u003c/span\u003e logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder \u003cspan class=\"k\"\u003efor \u003c/span\u003efurther details.\n /\u003cspan class=\"nv\"\u003e$$\u003c/span\u003e      /\u003cspan class=\"nv\"\u003e$$\u003c/span\u003e /\u003cspan class=\"nv\"\u003e$$\u003c/span\u003e                     /\u003cspan class=\"nv\"\u003e$$\u003c/span\u003e      /\u003cspan class=\"nv\"\u003e$$\u003c/span\u003e                     /\u003cspan class=\"nv\"\u003e$$\u003c/span\u003e      \n| \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e  /\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e| \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e|__/                    | \u003cspan class=\"nv\"\u003e$$$ \u003c/span\u003e   /\u003cspan class=\"nv\"\u003e$$$ \u003c/span\u003e                   | \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e      \n| \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e /\u003cspan class=\"nv\"\u003e$$$|\u003c/span\u003e \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e /\u003cspan class=\"nv\"\u003e$$\u003c/span\u003e  /\u003cspan class=\"nv\"\u003e$$$$$$\u003c/span\u003e   /\u003cspan class=\"nv\"\u003e$$$$$$\u003c/span\u003e | \u003cspan class=\"nv\"\u003e$$$$\u003c/span\u003e  /\u003cspan class=\"nv\"\u003e$$$$\u003c/span\u003e  /\u003cspan class=\"nv\"\u003e$$$$$$\u003c/span\u003e   /\u003cspan class=\"nv\"\u003e$$$$$$$|\u003c/span\u003e \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e   /\u003cspan class=\"nv\"\u003e$$\u003c/span\u003e\n| \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e/\u003cspan class=\"nv\"\u003e$$\u003c/span\u003e \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e| \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e /\u003cspan class=\"nv\"\u003e$$\u003c/span\u003e__  \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e /\u003cspan class=\"nv\"\u003e$$\u003c/span\u003e__  \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e| \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e/\u003cspan class=\"nv\"\u003e$$\u003c/span\u003e \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e /\u003cspan class=\"nv\"\u003e$$\u003c/span\u003e__  \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e /\u003cspan class=\"nv\"\u003e$$\u003c/span\u003e_____/| \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e  /\u003cspan class=\"nv\"\u003e$$\u003c/span\u003e/\n| \u003cspan class=\"nv\"\u003e$$$$\u003c/span\u003e_  \u003cspan class=\"nv\"\u003e$$$$\u003c/span\u003e| \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e| \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e  \u003cspan class=\"se\"\u003e\\_\u003c/span\u003e_/| \u003cspan class=\"nv\"\u003e$$$$$$$$\u003c/span\u003e| \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e  \u003cspan class=\"nv\"\u003e$$$|\u003c/span\u003e \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e| \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e  \u003cspan class=\"se\"\u003e\\ \u003c/span\u003e\u003cspan class=\"nv\"\u003e$$\u003c/span\u003e| \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e      | \u003cspan class=\"nv\"\u003e$$$$$$\u003c/span\u003e/ \n| \u003cspan class=\"nv\"\u003e$$$/\u003c/span\u003e \u003cspan class=\"se\"\u003e\\ \u003c/span\u003e \u003cspan class=\"nv\"\u003e$$$|\u003c/span\u003e \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e| \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e      | \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e_____/| \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e\u003cspan class=\"se\"\u003e\\ \u003c/span\u003e \u003cspan class=\"nv\"\u003e$ \u003c/span\u003e| \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e| \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e  | \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e| \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e      | \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e_  \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e \n| \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e/   \u003cspan class=\"se\"\u003e\\ \u003c/span\u003e \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e| \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e| \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e      |  \u003cspan class=\"nv\"\u003e$$$$$$$|\u003c/span\u003e \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e \u003cspan class=\"se\"\u003e\\/\u003c/span\u003e  | \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e|  \u003cspan class=\"nv\"\u003e$$$$$$\u003c/span\u003e/|  \u003cspan class=\"nv\"\u003e$$$$$$$|\u003c/span\u003e \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e \u003cspan class=\"se\"\u003e\\ \u003c/span\u003e \u003cspan class=\"nv\"\u003e$$\u003c/span\u003e\n|__/     \u003cspan class=\"se\"\u003e\\_\u003c/span\u003e_/|__/|__/       \u003cspan class=\"se\"\u003e\\_\u003c/span\u003e______/|__/     |__/ \u003cspan class=\"se\"\u003e\\_\u003c/span\u003e_____/  \u003cspan class=\"se\"\u003e\\_\u003c/span\u003e______/|__/  \u003cspan class=\"se\"\u003e\\_\u003c/span\u003e_/\n\nport:                         8080\nenable-browser-proxying:      \u003cspan class=\"nb\"\u003efalse\n\u003c/span\u003edisable-banner:               \u003cspan class=\"nb\"\u003efalse\n\u003c/span\u003eno-request-journal:           \u003cspan class=\"nb\"\u003efalse\n\u003c/span\u003everbose:                      \u003cspan class=\"nb\"\u003efalse\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"128:1-128:23\"\u003e起動しました 👍\u003c/p\u003e\n\u003cp data-sourcepos=\"130:1-130:51\"\u003eではマッピングを確認してみましょう\u003c/p\u003e\n\u003cdiv data-sourcepos=\"132:1-134:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"133:1-133:82\"\u003e\u003ccode\u003e/__admin/mappings\u003c/code\u003eで登録されているマッピングを確認できます。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"136:1-174:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl http://localhost:8080/__admin/mappings | jq \u003cspan class=\"nb\"\u003e.\u003c/span\u003e\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   619    0   619    0     0   276k      0 \u003cspan class=\"nt\"\u003e--\u003c/span\u003e:--:-- \u003cspan class=\"nt\"\u003e--\u003c/span\u003e:--:-- \u003cspan class=\"nt\"\u003e--\u003c/span\u003e:--:--  302k\n\n\u003cspan class=\"o\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"s2\"\u003e\"mappings\"\u003c/span\u003e: \u003cspan class=\"o\"\u003e[\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"s2\"\u003e\"id\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"2b7edb61-beec-4ad7-bab5-a430f6871278\"\u003c/span\u003e,\n      \u003cspan class=\"s2\"\u003e\"request\"\u003c/span\u003e: \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"s2\"\u003e\"url\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"/blogs\"\u003c/span\u003e,\n        \u003cspan class=\"s2\"\u003e\"method\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"GET\"\u003c/span\u003e\n      \u003cspan class=\"o\"\u003e}\u003c/span\u003e,\n      \u003cspan class=\"s2\"\u003e\"response\"\u003c/span\u003e: \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"s2\"\u003e\"status\"\u003c/span\u003e: 200,\n        \u003cspan class=\"s2\"\u003e\"jsonBody\"\u003c/span\u003e: \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n          \u003cspan class=\"s2\"\u003e\"blogs\"\u003c/span\u003e: \u003cspan class=\"o\"\u003e[\u003c/span\u003e\n            \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n              \u003cspan class=\"s2\"\u003e\"id\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"8c7cf457-5ffe-44c3-98b3-c529c09e9999\"\u003c/span\u003e,\n              \u003cspan class=\"s2\"\u003e\"title\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"title1\"\u003c/span\u003e,\n              \u003cspan class=\"s2\"\u003e\"author\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"author1\"\u003c/span\u003e,\n              \u003cspan class=\"s2\"\u003e\"body\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"body1\"\u003c/span\u003e,\n              \u003cspan class=\"s2\"\u003e\"createdAt\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"2019-01-01T00:00:00.000Z\"\u003c/span\u003e\n            \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n          \u003cspan class=\"o\"\u003e]\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e}\u003c/span\u003e,\n        \u003cspan class=\"s2\"\u003e\"headers\"\u003c/span\u003e: \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n          \u003cspan class=\"s2\"\u003e\"Content-Type\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"application/json\"\u003c/span\u003e\n        \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"o\"\u003e}\u003c/span\u003e,\n      \u003cspan class=\"s2\"\u003e\"uuid\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"2b7edb61-beec-4ad7-bab5-a430f6871278\"\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"o\"\u003e]\u003c/span\u003e,\n  \u003cspan class=\"s2\"\u003e\"meta\"\u003c/span\u003e: \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"s2\"\u003e\"total\"\u003c/span\u003e: 1\n  \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"176:1-176:119\"\u003e\u003ccode\u003e/blogs\u003c/code\u003eにマッピングされていることが確認できましたので、リクエストを送ってみます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"178:1-194:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl http://localhost:8080/blogs | jq \u003cspan class=\"nb\"\u003e.\u003c/span\u003e\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   147    0   147    0     0  32967      0 \u003cspan class=\"nt\"\u003e--\u003c/span\u003e:--:-- \u003cspan class=\"nt\"\u003e--\u003c/span\u003e:--:-- \u003cspan class=\"nt\"\u003e--\u003c/span\u003e:--:-- 36750\n\u003cspan class=\"o\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"s2\"\u003e\"blogs\"\u003c/span\u003e: \u003cspan class=\"o\"\u003e[\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"s2\"\u003e\"id\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"8c7cf457-5ffe-44c3-98b3-c529c09e9999\"\u003c/span\u003e,\n      \u003cspan class=\"s2\"\u003e\"title\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"title1\"\u003c/span\u003e,\n      \u003cspan class=\"s2\"\u003e\"author\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"author1\"\u003c/span\u003e,\n      \u003cspan class=\"s2\"\u003e\"body\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"body1\"\u003c/span\u003e,\n      \u003cspan class=\"s2\"\u003e\"createdAt\"\u003c/span\u003e: \u003cspan class=\"s2\"\u003e\"2019-01-01T00:00:00.000Z\"\u003c/span\u003e\n    \u003cspan class=\"o\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"o\"\u003e]\u003c/span\u003e\n\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"196:1-196:25\"\u003eいい感じですね👍\u003c/p\u003e\n\u003cp data-sourcepos=\"198:1-198:100\"\u003eこれでBFFの開発を進められるので、こちらのストーリーはDoneになりました\u003c/p\u003e\n\u003cp data-sourcepos=\"200:1-200:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe36b1dc4-814d-49b3-43bc-61c9f978400f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b6a7c1ca8f35e4f5e32acdf4c076dbd6\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe36b1dc4-814d-49b3-43bc-61c9f978400f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b6a7c1ca8f35e4f5e32acdf4c076dbd6\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe36b1dc4-814d-49b3-43bc-61c9f978400f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e5a01be0601a0c350e1a9c451e1d74e1 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e36b1dc4-814d-49b3-43bc-61c9f978400f.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"202:1-202:60\"\u003e次回からは実際にBFFの実装を進めていきます\u003c/p\u003e\n",
    "body": "## はじめに\n\n![スライド15.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/7c012c9e-a7ed-93cc-b402-acd5f8c5567f.png)\n\n---\n\n**2023年アドベントカレンダー14日目**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n前回からBFFの開発を始めるために環境構築をしています\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e36b1dc4-814d-49b3-43bc-61c9f978400f.png)\n\n## WireMock\n\n### WireMockとは\n\nWireMockは、モックサーバーを簡単に構築するためのツールです。\n主にテストで使われて、実際のサーバーの代わりに動作し、APIのモックをすることができます。\n\nhttps://wiremock.org\n\n### Dockerで起動\n\nwiremockはjava上で動作するアプリケーションなので、javaのimageを使って構築していきます\n\n```Dockerfile:Dockerfile\nFROM openjdk:8-jre-alpine\n\nENV WIREMOCK_VERSION 2.27.2\n\nRUN wget https://repo1.maven.org/maven2/com/github/tomakehurst/wiremock-standalone/${WIREMOCK_VERSION}/wiremock-standalone-${WIREMOCK_VERSION}.jar -O wiremock-standalone.jar\n\nEXPOSE 8080\n\nENTRYPOINT [\"java\", \"-jar\", \"wiremock-standalone.jar\"]\n```\n\nモックしたい情報を./mappings/*に設置します\n\n```json:mock_get_blogs.json\n{\n  \"request\": {\n    \"method\": \"GET\",\n    \"url\": \"/blogs\"\n  },\n  \"response\": {\n    \"status\": 200,\n    \"headers\": {\n      \"Content-Type\": \"application/json\"\n    },\n    \"jsonBody\": {\n      \"blogs\": [\n        {\n          \"id\": \"8c7cf457-5ffe-44c3-98b3-c529c09e9999\",\n          \"title\": \"title1\",\n          \"author\": \"author1\",\n          \"body\": \"body1\",\n          \"createdAt\": \"2019-01-01T00:00:00.000Z\"\n        }\n      ]\n    }\n  }\n}\n\n```\n\n起動してみます\n\n```bash\n#!/bin/bash\n\n# イメージをビルドする\ndocker build -t wiremock .\n\n# コンテナを実行する\ndocker run -it --rm -p 8080:8080 -v \"$(pwd)/mappings:/mappings\" --name wiremock wiremock\n```\n\n:::note info\n\nDockerのみでも十分動きますが、一応docker composeでも動くようにcompose.yamlファイルを載せておきます\n\n```yaml:compose.yaml\nversion: '3'\n\nservices:\n  app:\n    build: .\n    ports:\n      - '8080:8080'\n    volumes:\n      - './mappings/:/mappings'\n    tty: true\n    stdin_open: true\n```\n\n```bash\ndocker compose up\n```\n:::\n\nでは起動していきます\n\n```bash\n$ docker run -it --rm -p 8080:8080 -v \"$(pwd)/mappings:/mappings\" --name wiremock wiremock\n\nSLF4J: Failed to load class \"org.slf4j.impl.StaticLoggerBinder\".\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n /$$      /$$ /$$                     /$$      /$$                     /$$      \n| $$  /$ | $$|__/                    | $$$    /$$$                    | $$      \n| $$ /$$$| $$ /$$  /$$$$$$   /$$$$$$ | $$$$  /$$$$  /$$$$$$   /$$$$$$$| $$   /$$\n| $$/$$ $$ $$| $$ /$$__  $$ /$$__  $$| $$ $$/$$ $$ /$$__  $$ /$$_____/| $$  /$$/\n| $$$$_  $$$$| $$| $$  \\__/| $$$$$$$$| $$  $$$| $$| $$  \\ $$| $$      | $$$$$$/ \n| $$$/ \\  $$$| $$| $$      | $$_____/| $$\\  $ | $$| $$  | $$| $$      | $$_  $$ \n| $$/   \\  $$| $$| $$      |  $$$$$$$| $$ \\/  | $$|  $$$$$$/|  $$$$$$$| $$ \\  $$\n|__/     \\__/|__/|__/       \\_______/|__/     |__/ \\______/  \\_______/|__/  \\__/\n\nport:                         8080\nenable-browser-proxying:      false\ndisable-banner:               false\nno-request-journal:           false\nverbose:                      false\n```\n\n起動しました 👍\n\nではマッピングを確認してみましょう\n\n:::note info\n`/__admin/mappings`で登録されているマッピングを確認できます。\n:::\n\n```bash\n$ curl http://localhost:8080/__admin/mappings | jq .\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   619    0   619    0     0   276k      0 --:--:-- --:--:-- --:--:--  302k\n\n{\n  \"mappings\": [\n    {\n      \"id\": \"2b7edb61-beec-4ad7-bab5-a430f6871278\",\n      \"request\": {\n        \"url\": \"/blogs\",\n        \"method\": \"GET\"\n      },\n      \"response\": {\n        \"status\": 200,\n        \"jsonBody\": {\n          \"blogs\": [\n            {\n              \"id\": \"8c7cf457-5ffe-44c3-98b3-c529c09e9999\",\n              \"title\": \"title1\",\n              \"author\": \"author1\",\n              \"body\": \"body1\",\n              \"createdAt\": \"2019-01-01T00:00:00.000Z\"\n            }\n          ]\n        },\n        \"headers\": {\n          \"Content-Type\": \"application/json\"\n        }\n      },\n      \"uuid\": \"2b7edb61-beec-4ad7-bab5-a430f6871278\"\n    }\n  ],\n  \"meta\": {\n    \"total\": 1\n  }\n}\n```\n\n`/blogs`にマッピングされていることが確認できましたので、リクエストを送ってみます。\n\n```bash\n$ curl http://localhost:8080/blogs | jq .\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   147    0   147    0     0  32967      0 --:--:-- --:--:-- --:--:-- 36750\n{\n  \"blogs\": [\n    {\n      \"id\": \"8c7cf457-5ffe-44c3-98b3-c529c09e9999\",\n      \"title\": \"title1\",\n      \"author\": \"author1\",\n      \"body\": \"body1\",\n      \"createdAt\": \"2019-01-01T00:00:00.000Z\"\n    }\n  ]\n}\n```\n\nいい感じですね👍\n\nこれでBFFの開発を進められるので、こちらのストーリーはDoneになりました\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e36b1dc4-814d-49b3-43bc-61c9f978400f.png)\n\n次回からは実際にBFFの実装を進めていきます\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-12-12T18:42:48+09:00",
    "group": null,
    "id": "9a6717001f18bce17983",
    "likes_count": 3,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 1,
    "tags": [
      { "name": "Docker", "versions": [] },
      { "name": "docker-compose", "versions": [] },
      { "name": "WireMock", "versions": [] }
    ],
    "title": "【Day 14】BFF 環境構築 - WireMock",
    "updated_at": "2023-12-14T07:00:36+09:00",
    "url": "https://qiita.com/maaaashi/items/9a6717001f18bce17983",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-3:131\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0f5840ac-89f4-ad7d-1d3a-8f617c8db10e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b948772d690845bcf3e066755226258e\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0f5840ac-89f4-ad7d-1d3a-8f617c8db10e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b948772d690845bcf3e066755226258e\" alt=\"スライド16.PNG\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0f5840ac-89f4-ad7d-1d3a-8f617c8db10e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=332db07b10bb8e01278700799f950bb6 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/0f5840ac-89f4-ad7d-1d3a-8f617c8db10e.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr data-sourcepos=\"5:1-6:0\"\u003e\n\u003cp data-sourcepos=\"7:1-7:58\"\u003e\u003cstrong\u003e2023年アドベントカレンダー15日目\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:52\"\u003e\u003ciframe id=\"qiita-embed-content__8108ae4db6d734705ae73c0e322b8cde\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__8108ae4db6d734705ae73c0e322b8cde\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-11:117\"\u003e現在「ユーザーはトップページでブログの一覧を見ることができる」を進めています。\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2fc8082f717e35f5591d5288c9297e53\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2fc8082f717e35f5591d5288c9297e53\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5cfd5a99328c75d5bd883ebfed8d9ea0 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"15:1-16:58\"\u003e前回はBFFで使うWiremockの環境構築を行いました。\u003cbr\u003e\n今回はGraphQLModuleの設定を進めていきます。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"18:1-18:9\"\u003e\n\u003cspan id=\"nestjs\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#nestjs\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNestJS\u003c/h2\u003e\n\u003cp data-sourcepos=\"20:1-20:94\"\u003eNestJSは、Node.js上で動作するバックエンド開発のフレームワークです。\u003c/p\u003e\n\u003cp data-sourcepos=\"22:1-22:19\"\u003e\u003ciframe id=\"qiita-embed-content__f658e119c928d55a417b1328ade0ab86\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__f658e119c928d55a417b1328ade0ab86\" data-content=\"https%3A%2F%2Fnestjs.com%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"24:1-24:27\"\u003e\u003ciframe id=\"qiita-embed-content__2e916150584890bfe099b3bdfd8c0fa6\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__2e916150584890bfe099b3bdfd8c0fa6\" data-content=\"https%3A%2F%2Ftechtionary.jp%2F3534\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch2 data-sourcepos=\"26:1-26:24\"\u003e\n\u003cspan id=\"アーキテクチャ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eアーキテクチャ\u003c/h2\u003e\n\u003cp data-sourcepos=\"28:1-28:75\"\u003eこのようなアーキテクチャで作成していこうと思います\u003c/p\u003e\n\u003cimg src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI0MzNweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjQ5N3B4O2hlaWdodDo0MzNweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA0OTcgNDMzIiB3aWR0aD0iNDk3cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48IS0tY2x1c3RlciBBcHAtLT48ZyBpZD0iY2x1c3Rlcl9BcHAiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMTE1LjMiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjE3MCIgeD0iNzgiIHk9IjciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzEiIHg9IjE0Ny41IiB5PSIyMS45OTUxIj5BcHA8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIEdyYXBoUUwtLT48ZyBpZD0iY2x1c3Rlcl9HcmFwaFFMIj48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9Ijk5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIxNzQiIHg9IjMwMiIgeT0iMTUuMTUiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjkiIHg9IjM1NC41IiB5PSIzMC4xNDUxIj5HcmFwaFFMPC90ZXh0PjwvZz48IS0tY2x1c3RlciBCbG9nLS0+PGcgaWQ9ImNsdXN0ZXJfQmxvZyI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIyNTYuNTkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjQ4NCIgeD0iNyIgeT0iMTcxLjMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzQiIHg9IjIzMiIgeT0iMTg2LjI5NTEiPkJsb2c8L3RleHQ+PC9nPjwhLS1jbGFzcyBBcHBNb2R1bGUtLT48ZyBpZD0iZWxlbV9BcHBNb2R1bGUiPjxyZWN0IGNvZGVMaW5lPSIyIiBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjY0LjI5NjkiIGlkPSJBcHBNb2R1bGUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEzNyIgeD0iOTQuNSIgeT0iNDIiLz48ZWxsaXBzZSBjeD0iMTIxLjY1IiBjeT0iNTgiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMTI0LjYxODgsNjMuNjQwNiBRMTI0LjA0MDYsNjMuOTM3NSAxMjMuNCw2NC4wNzgxIFExMjIuNzU5NCw2NC4yMzQ0IDEyMi4wNTYzLDY0LjIzNDQgUTExOS41NTYzLDY0LjIzNDQgMTE4LjIyODEsNjIuNTkzOCBRMTE2LjkxNTYsNjAuOTM3NSAxMTYuOTE1Niw1Ny44MTI1IFExMTYuOTE1Niw1NC42ODc1IDExOC4yMjgxLDUzLjAzMTMgUTExOS41NTYzLDUxLjM3NSAxMjIuMDU2Myw1MS4zNzUgUTEyMi43NTk0LDUxLjM3NSAxMjMuNCw1MS41MzEzIFExMjQuMDU2Myw1MS42ODc1IDEyNC42MTg4LDUxLjk4NDQgTDEyNC42MTg4LDU0LjcwMzEgUTEyMy45OTM4LDU0LjEyNSAxMjMuNCw1My44NTk0IFExMjIuODA2Myw1My41NzgxIDEyMi4xODEzLDUzLjU3ODEgUTEyMC44Mzc1LDUzLjU3ODEgMTIwLjE1LDU0LjY1NjMgUTExOS40NjI1LDU1LjcxODggMTE5LjQ2MjUsNTcuODEyNSBRMTE5LjQ2MjUsNTkuOTA2MyAxMjAuMTUsNjAuOTg0NCBRMTIwLjgzNzUsNjIuMDQ2OSAxMjIuMTgxMyw2Mi4wNDY5IFExMjIuODA2Myw2Mi4wNDY5IDEyMy40LDYxLjc4MTMgUTEyMy45OTM4LDYxLjUgMTI0LjYxODgsNjAuOTIxOSBMMTI0LjYxODgsNjMuNjQwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4IiB4PSIxMzguMzUiIHk9IjYyLjg0NjciPkFwcE1vZHVsZTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI5NS41IiB4Mj0iMjMwLjUiIHkxPSI3NCIgeTI9Ijc0Ii8+PGVsbGlwc2UgY3g9IjEwNS41IiBjeT0iODcuNjQ4NCIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTEiIHg9IjExNC41IiB5PSI5MC45OTUxIj5HcmFwaFFMTW9kdWxlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9Ijk1LjUiIHgyPSIyMzAuNSIgeTE9Ijk4LjI5NjkiIHkyPSI5OC4yOTY5Ii8+PC9nPjwhLS1jbGFzcyBHcmFwaFFMTW9kdWxlLS0+PGcgaWQ9ImVsZW1fR3JhcGhRTE1vZHVsZSI+PHJlY3QgY29kZUxpbmU9IjgiIGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDgiIGlkPSJHcmFwaFFMTW9kdWxlIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxNDMiIHg9IjMxNy41IiB5PSI1MC4xNSIvPjxlbGxpcHNlIGN4PSIzMzIuNSIgY3k9IjY2LjE1IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTMzNS40Njg4LDcxLjc5MDYgUTMzNC44OTA2LDcyLjA4NzUgMzM0LjI1LDcyLjIyODEgUTMzMy42MDk0LDcyLjM4NDQgMzMyLjkwNjMsNzIuMzg0NCBRMzMwLjQwNjMsNzIuMzg0NCAzMjkuMDc4MSw3MC43NDM3IFEzMjcuNzY1Niw2OS4wODc1IDMyNy43NjU2LDY1Ljk2MjUgUTMyNy43NjU2LDYyLjgzNzUgMzI5LjA3ODEsNjEuMTgxMiBRMzMwLjQwNjMsNTkuNTI1IDMzMi45MDYzLDU5LjUyNSBRMzMzLjYwOTQsNTkuNTI1IDMzNC4yNSw1OS42ODEyIFEzMzQuOTA2Myw1OS44Mzc1IDMzNS40Njg4LDYwLjEzNDQgTDMzNS40Njg4LDYyLjg1MzEgUTMzNC44NDM4LDYyLjI3NSAzMzQuMjUsNjIuMDA5NCBRMzMzLjY1NjMsNjEuNzI4MSAzMzMuMDMxMyw2MS43MjgxIFEzMzEuNjg3NSw2MS43MjgxIDMzMSw2Mi44MDYyIFEzMzAuMzEyNSw2My44Njg3IDMzMC4zMTI1LDY1Ljk2MjUgUTMzMC4zMTI1LDY4LjA1NjIgMzMxLDY5LjEzNDQgUTMzMS42ODc1LDcwLjE5NjkgMzMzLjAzMTMsNzAuMTk2OSBRMzMzLjY1NjMsNzAuMTk2OSAzMzQuMjUsNjkuOTMxMiBRMzM0Ljg0MzgsNjkuNjUgMzM1LjQ2ODgsNjkuMDcxOSBMMzM1LjQ2ODgsNzEuNzkwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExMSIgeD0iMzQ2LjUiIHk9IjcwLjk5NjciPkdyYXBoUUxNb2R1bGU8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMzE4LjUiIHgyPSI0NTkuNSIgeTE9IjgyLjE1IiB5Mj0iODIuMTUiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIzMTguNSIgeDI9IjQ1OS41IiB5MT0iOTAuMTUiIHkyPSI5MC4xNSIvPjwvZz48IS0tY2xhc3MgQmxvZ01vZHVsZS0tPjxnIGlkPSJlbGVtX0Jsb2dNb2R1bGUiPjxyZWN0IGNvZGVMaW5lPSIxMiIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgaWQ9IkJsb2dNb2R1bGUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExNCIgeD0iMTA2IiB5PSIyMDYuMyIvPjxlbGxpcHNlIGN4PSIxMjEiIGN5PSIyMjIuMyIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0xMjMuOTY4OCwyMjcuOTQwNiBRMTIzLjM5MDYsMjI4LjIzNzUgMTIyLjc1LDIyOC4zNzgxIFExMjIuMTA5NCwyMjguNTM0NCAxMjEuNDA2MywyMjguNTM0NCBRMTE4LjkwNjMsMjI4LjUzNDQgMTE3LjU3ODEsMjI2Ljg5MzcgUTExNi4yNjU2LDIyNS4yMzc1IDExNi4yNjU2LDIyMi4xMTI1IFExMTYuMjY1NiwyMTguOTg3NSAxMTcuNTc4MSwyMTcuMzMxMiBRMTE4LjkwNjMsMjE1LjY3NSAxMjEuNDA2MywyMTUuNjc1IFExMjIuMTA5NCwyMTUuNjc1IDEyMi43NSwyMTUuODMxMiBRMTIzLjQwNjMsMjE1Ljk4NzUgMTIzLjk2ODgsMjE2LjI4NDQgTDEyMy45Njg4LDIxOS4wMDMxIFExMjMuMzQzOCwyMTguNDI1IDEyMi43NSwyMTguMTU5NCBRMTIyLjE1NjMsMjE3Ljg3ODEgMTIxLjUzMTMsMjE3Ljg3ODEgUTEyMC4xODc1LDIxNy44NzgxIDExOS41LDIxOC45NTYyIFExMTguODEyNSwyMjAuMDE4NyAxMTguODEyNSwyMjIuMTEyNSBRMTE4LjgxMjUsMjI0LjIwNjIgMTE5LjUsMjI1LjI4NDQgUTEyMC4xODc1LDIyNi4zNDY5IDEyMS41MzEzLDIyNi4zNDY5IFExMjIuMTU2MywyMjYuMzQ2OSAxMjIuNzUsMjI2LjA4MTIgUTEyMy4zNDM4LDIyNS44IDEyMy45Njg4LDIyNS4yMjE5IEwxMjMuOTY4OCwyMjcuOTQwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgyIiB4PSIxMzUiIHk9IjIyNy4xNDY3Ij5CbG9nTW9kdWxlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjEwNyIgeDI9IjIxOSIgeTE9IjIzOC4zIiB5Mj0iMjM4LjMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxMDciIHgyPSIyMTkiIHkxPSIyNDYuMyIgeTI9IjI0Ni4zIi8+PC9nPjwhLS1jbGFzcyBCbG9nUmVzb2x2ZXItLT48ZyBpZD0iZWxlbV9CbG9nUmVzb2x2ZXIiPjxyZWN0IGNvZGVMaW5lPSIxNSIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI4MC41OTM4IiBpZD0iQmxvZ1Jlc29sdmVyIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxOTYiIHg9IjIzIiB5PSIzMzEuMyIvPjxlbGxpcHNlIGN4PSI3MS4yNSIgY3k9IjM0Ny4zIiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTc0LjIxODgsMzUyLjk0MDYgUTczLjY0MDYsMzUzLjIzNzUgNzMsMzUzLjM3ODEgUTcyLjM1OTQsMzUzLjUzNDQgNzEuNjU2MywzNTMuNTM0NCBRNjkuMTU2MywzNTMuNTM0NCA2Ny44MjgxLDM1MS44OTM3IFE2Ni41MTU2LDM1MC4yMzc1IDY2LjUxNTYsMzQ3LjExMjUgUTY2LjUxNTYsMzQzLjk4NzUgNjcuODI4MSwzNDIuMzMxMiBRNjkuMTU2MywzNDAuNjc1IDcxLjY1NjMsMzQwLjY3NSBRNzIuMzU5NCwzNDAuNjc1IDczLDM0MC44MzEyIFE3My42NTYzLDM0MC45ODc1IDc0LjIxODgsMzQxLjI4NDQgTDc0LjIxODgsMzQ0LjAwMzEgUTczLjU5MzgsMzQzLjQyNSA3MywzNDMuMTU5NCBRNzIuNDA2MywzNDIuODc4MSA3MS43ODEzLDM0Mi44NzgxIFE3MC40Mzc1LDM0Mi44NzgxIDY5Ljc1LDM0My45NTYyIFE2OS4wNjI1LDM0NS4wMTg3IDY5LjA2MjUsMzQ3LjExMjUgUTY5LjA2MjUsMzQ5LjIwNjIgNjkuNzUsMzUwLjI4NDQgUTcwLjQzNzUsMzUxLjM0NjkgNzEuNzgxMywzNTEuMzQ2OSBRNzIuNDA2MywzNTEuMzQ2OSA3MywzNTEuMDgxMiBRNzMuNTkzOCwzNTAuOCA3NC4yMTg4LDM1MC4yMjE5IEw3NC4yMTg4LDM1Mi45NDA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEiIHg9IjkxLjc1IiB5PSIzNTIuMTQ2NyI+QmxvZ1Jlc29sdmVyPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI0IiB4Mj0iMjE4IiB5MT0iMzYzLjMiIHkyPSIzNjMuMyIvPjxlbGxpcHNlIGN4PSIzNCIgY3k9IjM3Ni45NDg0IiBmaWxsPSJub25lIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE3MCIgeD0iNDMiIHk9IjM4MC4yOTUxIj5ibG9nU2VydmljZTogQmxvZ1NlcnZpY2U8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjQiIHgyPSIyMTgiIHkxPSIzODcuNTk2OSIgeTI9IjM4Ny41OTY5Ii8+PGVsbGlwc2UgY3g9IjM0IiBjeT0iNDAxLjI0NTMiIGZpbGw9IiM4NEJFODQiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTYzIiB4PSI0MyIgeT0iNDA0LjU5MiI+Z2V0KCk6IFByb21pc2UmbHQ7QmxvZ1tdJmd0OzwvdGV4dD48L2c+PCEtLWNsYXNzIEJsb2dTZXJ2aWNlLS0+PGcgaWQ9ImVsZW1fQmxvZ1NlcnZpY2UiPjxyZWN0IGNvZGVMaW5lPSIxOSIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2NC4yOTY5IiBpZD0iQmxvZ1NlcnZpY2UiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE4OSIgeD0iMjg1LjUiIHk9IjMzOS40NCIvPjxlbGxpcHNlIGN4PSIzMzUuMjUiIGN5PSIzNTUuNDQiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMzM4LjIxODgsMzYxLjA4MDYgUTMzNy42NDA2LDM2MS4zNzc1IDMzNywzNjEuNTE4MSBRMzM2LjM1OTQsMzYxLjY3NDQgMzM1LjY1NjMsMzYxLjY3NDQgUTMzMy4xNTYzLDM2MS42NzQ0IDMzMS44MjgxLDM2MC4wMzM4IFEzMzAuNTE1NiwzNTguMzc3NSAzMzAuNTE1NiwzNTUuMjUyNSBRMzMwLjUxNTYsMzUyLjEyNzUgMzMxLjgyODEsMzUwLjQ3MTMgUTMzMy4xNTYzLDM0OC44MTUgMzM1LjY1NjMsMzQ4LjgxNSBRMzM2LjM1OTQsMzQ4LjgxNSAzMzcsMzQ4Ljk3MTMgUTMzNy42NTYzLDM0OS4xMjc1IDMzOC4yMTg4LDM0OS40MjQ0IEwzMzguMjE4OCwzNTIuMTQzMSBRMzM3LjU5MzgsMzUxLjU2NSAzMzcsMzUxLjI5OTQgUTMzNi40MDYzLDM1MS4wMTgxIDMzNS43ODEzLDM1MS4wMTgxIFEzMzQuNDM3NSwzNTEuMDE4MSAzMzMuNzUsMzUyLjA5NjMgUTMzMy4wNjI1LDM1My4xNTg4IDMzMy4wNjI1LDM1NS4yNTI1IFEzMzMuMDYyNSwzNTcuMzQ2MyAzMzMuNzUsMzU4LjQyNDQgUTMzNC40Mzc1LDM1OS40ODY5IDMzNS43ODEzLDM1OS40ODY5IFEzMzYuNDA2MywzNTkuNDg2OSAzMzcsMzU5LjIyMTMgUTMzNy41OTM4LDM1OC45NCAzMzguMjE4OCwzNTguMzYxOSBMMzM4LjIxODgsMzYxLjA4MDYgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4MSIgeD0iMzU1Ljc1IiB5PSIzNjAuMjg2NyI+QmxvZ1NlcnZpY2U8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjg2LjUiIHgyPSI0NzMuNSIgeTE9IjM3MS40NCIgeTI9IjM3MS40NCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI4Ni41IiB4Mj0iNDczLjUiIHkxPSIzNzkuNDQiIHkyPSIzNzkuNDQiLz48ZWxsaXBzZSBjeD0iMjk2LjUiIGN5PSIzOTMuMDg4NCIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjMiIHg9IjMwNS41IiB5PSIzOTYuNDM1MSI+Z2V0KCk6IFByb21pc2UmbHQ7QmxvZ1tdJmd0OzwvdGV4dD48L2c+PCEtLWxpbmsgQXBwTW9kdWxlIHRvIEdyYXBoUUxNb2R1bGUtLT48ZyBpZD0ibGlua19BcHBNb2R1bGVfR3JhcGhRTE1vZHVsZSI+PHBhdGggY29kZUxpbmU9IjI0IiBkPSJNMjMxLjczLDc0LjE1IEMyNTguNzQsNzQuMTUgMjgzLjc2LDc0LjE1IDMxMS4wNyw3NC4xNSAiIGZpbGw9Im5vbmUiIGlkPSJBcHBNb2R1bGUtdG8tR3JhcGhRTE1vZHVsZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIzMTcuMDcsNzQuMTUsMzA4LjA3LDcwLjE1LDMxMi4wNyw3NC4xNSwzMDguMDcsNzguMTUsMzE3LjA3LDc0LjE1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OSIgeD0iMjUwIiB5PSI2Ny4yMTY5Ij5pbXBvcnRzPC90ZXh0PjwvZz48IS0tbGluayBBcHBNb2R1bGUgdG8gQmxvZ01vZHVsZS0tPjxnIGlkPSJsaW5rX0FwcE1vZHVsZV9CbG9nTW9kdWxlIj48cGF0aCBjb2RlTGluZT0iMjUiIGQ9Ik0xNjMsMTA2LjcxIEMxNjMsMTM2LjEzIDE2MywxNzMuMzMgMTYzLDE5OS44MiAiIGZpbGw9Im5vbmUiIGlkPSJBcHBNb2R1bGUtdG8tQmxvZ01vZHVsZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxNjMsMjA1LjgyLDE2NywxOTYuODIsMTYzLDIwMC44MiwxNTksMTk2LjgyLDE2MywyMDUuODIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ5IiB4PSIxNjQiIHk9IjE1MS4zNjY5Ij5pbXBvcnRzPC90ZXh0PjwvZz48IS0tbGluayBCbG9nTW9kdWxlIHRvIEJsb2dSZXNvbHZlci0tPjxnIGlkPSJsaW5rX0Jsb2dNb2R1bGVfQmxvZ1Jlc29sdmVyIj48cGF0aCBjb2RlTGluZT0iMjYiIGQ9Ik0xNTUuOTcsMjU0LjYxIEMxNDkuNzEsMjc1LjM3IDE0Mi4xNTE2LDMwMC40MjUzIDEzNC43MjE2LDMyNS4wNzUzICIgZmlsbD0ibm9uZSIgaWQ9IkJsb2dNb2R1bGUtdG8tQmxvZ1Jlc29sdmVyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjEzMi45OSwzMzAuODIsMTM5LjQxNzIsMzIzLjM1NzMsMTM0LjQzMywzMjYuMDMyNywxMzEuNzU3NSwzMjEuMDQ4NiwxMzIuOTksMzMwLjgyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1OSIgeD0iMTQ3IiB5PSIyOTcuMzY2OSI+cHJvdmlkZXJzPC90ZXh0PjwvZz48IS0tbGluayBCbG9nTW9kdWxlIHRvIEJsb2dTZXJ2aWNlLS0+PGcgaWQ9ImxpbmtfQmxvZ01vZHVsZV9CbG9nU2VydmljZSI+PHBhdGggY29kZUxpbmU9IjI3IiBkPSJNMTk5LjMyLDI1NC42MSBDMjM1LjQsMjc3Ljc3IDI4NS45MTExLDMxMC4xODgzIDMyNS44OTExLDMzNS44NTgzICIgZmlsbD0ibm9uZSIgaWQ9IkJsb2dNb2R1bGUtdG8tQmxvZ1NlcnZpY2UiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzMwLjk0LDMzOS4xLDMyNS41Mjc4LDMzMC44NzE1LDMyNi43MzI2LDMzNi4zOTg2LDMyMS4yMDU1LDMzNy42MDMzLDMzMC45NCwzMzkuMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTkiIHg9IjI3MiIgeT0iMjk3LjM2NjkiPnByb3ZpZGVyczwvdGV4dD48L2c+PCEtLWxpbmsgQmxvZ1Jlc29sdmVyIHRvIEJsb2dTZXJ2aWNlLS0+PGcgaWQ9ImxpbmtfQmxvZ1Jlc29sdmVyX0Jsb2dTZXJ2aWNlIj48cGF0aCBjb2RlTGluZT0iMjgiIGQ9Ik0yMTkuMjksMzcxLjU5IEMyNDAuODksMzcxLjU5IDI1Ny43NCwzNzEuNTkgMjc5LjIsMzcxLjU5ICIgZmlsbD0ibm9uZSIgaWQ9IkJsb2dSZXNvbHZlci10by1CbG9nU2VydmljZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyODUuMiwzNzEuNTksMjc2LjIsMzY3LjU5LDI4MC4yLDM3MS41OSwyNzYuMiwzNzUuNTksMjg1LjIsMzcxLjU5IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMCIgeD0iMjM3LjI1IiB5PSIzNjQuNjU2OSI+dXNlczwvdGV4dD48L2c+PCEtLVNSQz1bVlAzRDNlOG00OEpsRkNLVURPT044QUk5TmhuZWVkV3E3Y2hQYkNQZ2NuUXU0RHhUeWItOFVFcENEdkZQUWlmVWIyRmlqT091SmYzYnpDQ2I0VzlMMEMwYWpSUm5wWWVqOUJPUW1FdmVnQ3drZnF2cUtYdEtHUTN4Zmp2U1JQazVlUGZiM3JCbnJNMVpVWmpTcDdTSWo0Z01ROFFESndWVHE5STJPVEcyX1FEcEVVUVJSR0dOZXp4Mk9qcHV6bVRmTV90SUZaRHFfYWN2RFRDdFhLUm1CMF85dWpPOG41aWhhcmlGWFQxWHRjS0p1dWEzQ3p1T1dKUWc1MmNRZHptbVV1Y0QtTjdXZDJ1aXNZeTBdLS0+PC9nPjwvc3ZnPg==\" loading=\"lazy\"\u003e\n\u003cp data-sourcepos=\"64:1-64:57\"\u003e今回はこの中のこの部分を作っていきます\u003c/p\u003e\n\u003cimg src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIxMjhweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjQxMXB4O2hlaWdodDoxMjhweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA0MTEgMTI4IiB3aWR0aD0iNDExcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48IS0tY2x1c3RlciBBcHAtLT48ZyBpZD0iY2x1c3Rlcl9BcHAiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMTE1LjMiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjE3MCIgeD0iNyIgeT0iNyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMSIgeD0iNzYuNSIgeT0iMjEuOTk1MSI+QXBwPC90ZXh0PjwvZz48IS0tY2x1c3RlciBHcmFwaFFMLS0+PGcgaWQ9ImNsdXN0ZXJfR3JhcGhRTCI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI5OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMTc0IiB4PSIyMzEiIHk9IjE1LjE1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY5IiB4PSIyODMuNSIgeT0iMzAuMTQ1MSI+R3JhcGhRTDwvdGV4dD48L2c+PCEtLWNsYXNzIEFwcE1vZHVsZS0tPjxnIGlkPSJlbGVtX0FwcE1vZHVsZSI+PHJlY3QgY29kZUxpbmU9IjIiIGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNjQuMjk2OSIgaWQ9IkFwcE1vZHVsZSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTM3IiB4PSIyMy41IiB5PSI0MiIvPjxlbGxpcHNlIGN4PSI1MC42NSIgY3k9IjU4IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTUzLjYxODgsNjMuNjQwNiBRNTMuMDQwNiw2My45Mzc1IDUyLjQsNjQuMDc4MSBRNTEuNzU5NCw2NC4yMzQ0IDUxLjA1NjMsNjQuMjM0NCBRNDguNTU2Myw2NC4yMzQ0IDQ3LjIyODEsNjIuNTkzOCBRNDUuOTE1Niw2MC45Mzc1IDQ1LjkxNTYsNTcuODEyNSBRNDUuOTE1Niw1NC42ODc1IDQ3LjIyODEsNTMuMDMxMyBRNDguNTU2Myw1MS4zNzUgNTEuMDU2Myw1MS4zNzUgUTUxLjc1OTQsNTEuMzc1IDUyLjQsNTEuNTMxMyBRNTMuMDU2Myw1MS42ODc1IDUzLjYxODgsNTEuOTg0NCBMNTMuNjE4OCw1NC43MDMxIFE1Mi45OTM4LDU0LjEyNSA1Mi40LDUzLjg1OTQgUTUxLjgwNjMsNTMuNTc4MSA1MS4xODEzLDUzLjU3ODEgUTQ5LjgzNzUsNTMuNTc4MSA0OS4xNSw1NC42NTYzIFE0OC40NjI1LDU1LjcxODggNDguNDYyNSw1Ny44MTI1IFE0OC40NjI1LDU5LjkwNjMgNDkuMTUsNjAuOTg0NCBRNDkuODM3NSw2Mi4wNDY5IDUxLjE4MTMsNjIuMDQ2OSBRNTEuODA2Myw2Mi4wNDY5IDUyLjQsNjEuNzgxMyBRNTIuOTkzOCw2MS41IDUzLjYxODgsNjAuOTIxOSBMNTMuNjE4OCw2My42NDA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzgiIHg9IjY3LjM1IiB5PSI2Mi44NDY3Ij5BcHBNb2R1bGU8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjQuNSIgeDI9IjE1OS41IiB5MT0iNzQiIHkyPSI3NCIvPjxlbGxpcHNlIGN4PSIzNC41IiBjeT0iODcuNjQ4NCIgZmlsbD0ibm9uZSIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTEiIHg9IjQzLjUiIHk9IjkwLjk5NTEiPkdyYXBoUUxNb2R1bGU8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjQuNSIgeDI9IjE1OS41IiB5MT0iOTguMjk2OSIgeTI9Ijk4LjI5NjkiLz48L2c+PCEtLWNsYXNzIEdyYXBoUUxNb2R1bGUtLT48ZyBpZD0iZWxlbV9HcmFwaFFMTW9kdWxlIj48cmVjdCBjb2RlTGluZT0iOCIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgaWQ9IkdyYXBoUUxNb2R1bGUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE0MyIgeD0iMjQ2LjUiIHk9IjUwLjE1Ii8+PGVsbGlwc2UgY3g9IjI2MS41IiBjeT0iNjYuMTUiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMjY0LjQ2ODgsNzEuNzkwNiBRMjYzLjg5MDYsNzIuMDg3NSAyNjMuMjUsNzIuMjI4MSBRMjYyLjYwOTQsNzIuMzg0NCAyNjEuOTA2Myw3Mi4zODQ0IFEyNTkuNDA2Myw3Mi4zODQ0IDI1OC4wNzgxLDcwLjc0MzggUTI1Ni43NjU2LDY5LjA4NzUgMjU2Ljc2NTYsNjUuOTYyNSBRMjU2Ljc2NTYsNjIuODM3NSAyNTguMDc4MSw2MS4xODEzIFEyNTkuNDA2Myw1OS41MjUgMjYxLjkwNjMsNTkuNTI1IFEyNjIuNjA5NCw1OS41MjUgMjYzLjI1LDU5LjY4MTMgUTI2My45MDYzLDU5LjgzNzUgMjY0LjQ2ODgsNjAuMTM0NCBMMjY0LjQ2ODgsNjIuODUzMSBRMjYzLjg0MzgsNjIuMjc1IDI2My4yNSw2Mi4wMDk0IFEyNjIuNjU2Myw2MS43MjgxIDI2Mi4wMzEzLDYxLjcyODEgUTI2MC42ODc1LDYxLjcyODEgMjYwLDYyLjgwNjMgUTI1OS4zMTI1LDYzLjg2ODggMjU5LjMxMjUsNjUuOTYyNSBRMjU5LjMxMjUsNjguMDU2MyAyNjAsNjkuMTM0NCBRMjYwLjY4NzUsNzAuMTk2OSAyNjIuMDMxMyw3MC4xOTY5IFEyNjIuNjU2Myw3MC4xOTY5IDI2My4yNSw2OS45MzEzIFEyNjMuODQzOCw2OS42NSAyNjQuNDY4OCw2OS4wNzE5IEwyNjQuNDY4OCw3MS43OTA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTExIiB4PSIyNzUuNSIgeT0iNzAuOTk2NyI+R3JhcGhRTE1vZHVsZTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyNDcuNSIgeDI9IjM4OC41IiB5MT0iODIuMTUiIHkyPSI4Mi4xNSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI0Ny41IiB4Mj0iMzg4LjUiIHkxPSI5MC4xNSIgeTI9IjkwLjE1Ii8+PC9nPjwhLS1saW5rIEFwcE1vZHVsZSB0byBHcmFwaFFMTW9kdWxlLS0+PGcgaWQ9ImxpbmtfQXBwTW9kdWxlX0dyYXBoUUxNb2R1bGUiPjxwYXRoIGNvZGVMaW5lPSIxMCIgZD0iTTE2MC43Myw3NC4xNSBDMTg3Ljc0LDc0LjE1IDIxMi43Niw3NC4xNSAyNDAuMDcsNzQuMTUgIiBmaWxsPSJub25lIiBpZD0iQXBwTW9kdWxlLXRvLUdyYXBoUUxNb2R1bGUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjQ2LjA3LDc0LjE1LDIzNy4wNyw3MC4xNSwyNDEuMDcsNzQuMTUsMjM3LjA3LDc4LjE1LDI0Ni4wNyw3NC4xNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDkiIHg9IjE3OSIgeT0iNjcuMjE2OSI+aW1wb3J0czwvdGV4dD48L2c+PCEtLVNSQz1bQXFYQ3BhdkNKckxtQjJYR2lCNDlJYXFrSVNuQnBxY3JpckVldmI5R0lDdjlCMnU2b1ZkY2Z2SmNmOEI1NTFJcXRPaUkycDgyVkkyMkdBNVFoYmVraFdBZUlMMTlkQVFYUTVRZTFrYjVNQTFSYjljVUtROWhYd1JBSVk0cGpvMl9nQUdPMDAwMF0tLT48L2c+PC9zdmc+\" loading=\"lazy\"\u003e\n\u003ch2 data-sourcepos=\"79:1-79:9\"\u003e\n\u003cspan id=\"実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"81:1-81:17\"\u003e\n\u003cspan id=\"graphqlmodule\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#graphqlmodule\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGraphQLModule\u003c/h3\u003e\n\u003cp data-sourcepos=\"83:1-83:82\"\u003eAppModuleにGraphQLModuleをimportし、schemaなどの設定をしていきます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"diff_typescript\" data-sourcepos=\"85:1-111:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eapp.module.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eModule\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@nestjs/common\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eGraphQLModule\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@nestjs/graphql\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eApolloDriver\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@nestjs/apollo\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003ejoin\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003epath\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogModule\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e./blog/blog.module\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\n\u003cspan class=\"p\"\u003e@\u003c/span\u003e\u003cspan class=\"nd\"\u003eModule\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eimports\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"nx\"\u003eGraphQLModule\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eforRoot\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e    \u003cspan class=\"na\"\u003edriver\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eApolloDriver\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e    \u003cspan class=\"na\"\u003etypePaths\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003ejoin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eprocess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ecwd\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003esrc/graphql/*.graphql\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)],\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e    \u003cspan class=\"na\"\u003epath\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e/\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e    \u003cspan class=\"na\"\u003edefinitions\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e      \u003cspan class=\"na\"\u003epath\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nf\"\u003ejoin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eprocess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ecwd\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003esrc/graphql/graphql.ts\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e      \u003cspan class=\"na\"\u003ewatch\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"p\"\u003e}),\u003c/span\u003e\n\u003c/span\u003e    \u003cspan class=\"nx\"\u003eBlogModule\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e],\u003c/span\u003e\n\u003cspan class=\"hdl\"\u003e\u003cspan class=\"o\"\u003e- \u003c/span\u003e\u003cspan class=\"na\"\u003econtrollers\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eAppController\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e\u003cspan class=\"na\"\u003econtrollers\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[],\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e\u003cspan class=\"o\"\u003e- \u003c/span\u003e\u003cspan class=\"na\"\u003eproviders\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eAppService\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogService\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogResolver\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e\u003cspan class=\"na\"\u003eproviders\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[],\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eAppModule\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv data-sourcepos=\"113:1-125:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"114:1-114:39\"\u003e\u003cstrong\u003edefinitionsに設定できる項目\u003c/strong\u003e\u003c/p\u003e\n\u003ctable data-sourcepos=\"116:1-124:249\"\u003e\n\u003cthead\u003e\n\u003ctr data-sourcepos=\"116:1-116:24\"\u003e\n\u003cth data-sourcepos=\"116:2-116:16\"\u003eプロパティ\u003c/th\u003e\n\u003cth data-sourcepos=\"116:18-116:23\"\u003e説明\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr data-sourcepos=\"118:1-118:196\"\u003e\n\u003ctd data-sourcepos=\"118:2-118:5\"\u003epath\u003c/td\u003e\n\u003ctd data-sourcepos=\"118:7-118:195\"\u003eTypeScriptの型定義ファイルを生成する場所を指定します。このファイルは、GraphQLスキーマの各型に対応するTypeScriptの型定義を含んでいます。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"119:1-119:181\"\u003e\n\u003ctd data-sourcepos=\"119:2-119:6\"\u003ewatch\u003c/td\u003e\n\u003ctd data-sourcepos=\"119:8-119:180\"\u003etrueに設定されると、GraphQLスキーマが変更されたときに型定義ファイルが自動的に更新されます。これは開発中に特に便利です。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"120:1-120:197\"\u003e\n\u003ctd data-sourcepos=\"120:2-120:9\"\u003eoutputAs\u003c/td\u003e\n\u003ctd data-sourcepos=\"120:11-120:196\"\u003e型定義の出力形式を指定します。たとえば、classやinterfaceなど。これにより、生成されるTypeScriptの型のスタイルをカスタマイズできます。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"121:1-121:132\"\u003e\n\u003ctd data-sourcepos=\"121:2-121:19\"\u003etypeFileNameSuffix\u003c/td\u003e\n\u003ctd data-sourcepos=\"121:21-121:131\"\u003e生成される型定義ファイルのファイル名のサフィックス（接尾辞）を指定します。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"122:1-122:224\"\u003e\n\u003ctd data-sourcepos=\"122:2-122:24\"\u003ecustomScalarTypeMapping\u003c/td\u003e\n\u003ctd data-sourcepos=\"122:26-122:223\"\u003eカスタムスカラー型をTypeScriptの型にマッピングするために使用します。GraphQLのカスタムスカラー型とそれに対応するTypeScriptの型を定義できます。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"123:1-123:187\"\u003e\n\u003ctd data-sourcepos=\"123:2-123:17\"\u003eadditionalHeader\u003c/td\u003e\n\u003ctd data-sourcepos=\"123:19-123:186\"\u003e生成される型定義ファイルの先頭に追加する追加のヘッダーを指定します。たとえば、特定のインポート文やコメントなど。\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"124:1-124:249\"\u003e\n\u003ctd data-sourcepos=\"124:2-124:18\"\u003eemitTypenameField\u003c/td\u003e\n\u003ctd data-sourcepos=\"124:20-124:248\"\u003etrueに設定されると、各GraphQLオブジェクト型に__typenameフィールドの型定義が含まれます。これは、特定のGraphQLクライアントの要件に基づいて使用されることがあります。\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"128:1-128:152\"\u003etypePathおよびに設定している\u003ccode\u003esrc/graphql/*.graphql\u003c/code\u003eを\u003cstrong\u003eWeb\u003c/strong\u003e側で\u003cstrong\u003eDay 7\u003c/strong\u003eで設定した\u003ccode\u003eGraphQL Code Generator\u003c/code\u003eで作成していきます\u003c/p\u003e\n\u003cp data-sourcepos=\"130:1-130:53\"\u003e\u003ciframe id=\"qiita-embed-content__2a998e8ee87897322cbd201086651692\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__2a998e8ee87897322cbd201086651692\" data-content=\"https%3A%2F%2Fqiita.com%2Fmaaaashi%2Fitems%2Ffbafb74ea98f5cfbeb5f\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch3 data-sourcepos=\"132:1-132:26\"\u003e\n\u003cspan id=\"graphql-code-generator\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#graphql-code-generator\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGraphQL Code Generator\u003c/h3\u003e\n\u003cp data-sourcepos=\"134:1-134:37\"\u003e\u003ciframe id=\"qiita-embed-content__a724e5254b56b5c917fa9d7cb8590096\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__a724e5254b56b5c917fa9d7cb8590096\" data-content=\"https%3A%2F%2Fthe-guild.dev%2Fgraphql%2Fcodegen\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch4 data-sourcepos=\"136:1-136:11\"\u003e\n\u003cspan id=\"schema\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#schema\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eSchema\u003c/h4\u003e\n\u003cp data-sourcepos=\"138:1-138:45\"\u003eまず、Schemaファイルを生成します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"diff_typescript\" data-sourcepos=\"140:1-165:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eweb/codegen.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eCodegenConfig\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@graphql-codegen/cli\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003econfig\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eCodegenConfig\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eoverwrite\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eschema\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e./schema.graphql\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003edocuments\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003esrc/graphql/*.graphql\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003egenerates\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003esrc/graphql/generated.tsx\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eplugins\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n        \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003etypescript\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003etypescript-operations\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003etypescript-react-apollo\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e],\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003emock/schema.graphql\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eplugins\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eschema-ast\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e../bff/src/graphql/schema.graphql\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e    \u003cspan class=\"na\"\u003eplugins\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eschema-ast\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\u003c/span\u003e  \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"nx\"\u003econfig\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"167:1-167:48\"\u003eこれでSchemaファイルは生成されます\u003c/p\u003e\n\u003ch4 data-sourcepos=\"169:1-169:14\"\u003e\n\u003cspan id=\"operation\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#operation\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eOperation\u003c/h4\u003e\n\u003cp data-sourcepos=\"171:1-171:204\"\u003eSchemaファイルは↑の方法で生成できますが、operation.graphqlをまとめて、generateするようなpluginは用意されていないので、\u003cstrong\u003ecustom-plugin\u003c/strong\u003eを作成していきます\u003c/p\u003e\n\u003ch3 data-sourcepos=\"173:1-173:17\"\u003e\n\u003cspan id=\"custom-plugin\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#custom-plugin\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eCustom Plugin\u003c/h3\u003e\n\u003cp data-sourcepos=\"175:1-175:111\"\u003eこのあたりを参考にしていきながら、\u003ccode\u003ecustom-plugin.js\u003c/code\u003eのファイルを作成していきます\u003c/p\u003e\n\u003cp data-sourcepos=\"177:1-177:74\"\u003e\u003ciframe id=\"qiita-embed-content__5ff5457ac89fc09fbef59b34f0630c1e\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__5ff5457ac89fc09fbef59b34f0630c1e\" data-content=\"https%3A%2F%2Fthe-guild.dev%2Fgraphql%2Fcodegen%2Fdocs%2Fcustom-codegen%2Fplugin-structure\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"js\" data-sourcepos=\"180:1-197:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecustom-plugin.js\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eprint\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003erequire\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003egraphql\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"nx\"\u003emodule\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eexports\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eplugin\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eschema\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003edocuments\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003econfig\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ecombinedDocuments\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003edocuments\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003edoc\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003edocContent\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003edoc\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nb\"\u003edocument\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edefinitions\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003edef\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nf\"\u003eprint\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003edef\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ejoin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003edocContent\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ejoin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\\n\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003ecombinedDocuments\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"199:1-199:48\"\u003eこれを\u003ccode\u003ecodegen.ts\u003c/code\u003eで指定していきます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"diff_typescript\" data-sourcepos=\"201:1-230:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecodegen.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eCodegenConfig\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@graphql-codegen/cli\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003econfig\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eCodegenConfig\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eoverwrite\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eschema\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e./schema.graphql\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003edocuments\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003esrc/graphql/*.graphql\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003egenerates\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003esrc/graphql/generated.tsx\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eplugins\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n        \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003etypescript\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003etypescript-operations\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003etypescript-react-apollo\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e],\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003emock/schema.graphql\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eplugins\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eschema-ast\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e../bff/src/graphql/schema.graphql\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eplugins\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eschema-ast\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e../bff/src/graphql/operation.graphql\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e    \u003cspan class=\"na\"\u003eschema\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003esrc/graphql/*.graphql\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e    \u003cspan class=\"na\"\u003eplugins\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ecustom-plugin\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\n\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e  \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"nx\"\u003econfig\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"232:1-232:168\"\u003eこれで、\u003ccode\u003esrc/graphql/\u003c/code\u003eに置いたoperationのgraphqlファイルを参照して、新しくファイルを作成することができるようになりました。\u003c/p\u003e\n\u003cp data-sourcepos=\"234:1-234:30\"\u003e実際に動かしてみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"236:1-243:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eweb\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpm run codegen\n\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e life-sync-web@0.1.0 codegen\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e graphql-codegen \u003cspan class=\"nt\"\u003e--config\u003c/span\u003e codegen.ts\n✔ Parse Configuration\n✔ Generate outputs\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"245:1-245:51\"\u003e無事ファイルが作成されていました！\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"247:1-253:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e├── bff\n│   ├── src/\n│   │   ├── graphql/\n│   │   │   ├── operation.graphql  ・・・ オペレーションファイル\n│   │   │   ├── schema.graphql     ・・・ スキーマファイル\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"256:1-256:19\"\u003e\n\u003cspan id=\"アプリ起動\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E8%B5%B7%E5%8B%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eアプリ起動\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"258:1-260:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003enpm run start\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"262:1-262:109\"\u003eアプリが起動し、\u003ccode\u003esrc/graphql/graphql.ts\u003c/code\u003eのエンティティファイルが生成されました👍\u003c/p\u003e\n\u003cp data-sourcepos=\"264:1-264:77\"\u003e明日は\u003ccode\u003eBlogModule\u003c/code\u003e \u003ccode\u003eBlogResolver\u003c/code\u003e \u003ccode\u003eBlogService\u003c/code\u003eを作成していきます\u003c/p\u003e\n\u003cimg src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI0MzNweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjUyNnB4O2hlaWdodDo0MzNweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1MjYgNDMzIiB3aWR0aD0iNTI2cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48IS0tY2x1c3RlciBBcHAtLT48ZyBpZD0iY2x1c3Rlcl9BcHAiPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMTE1LjMiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjE3MCIgeD0iMTI5IiB5PSI3Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMxIiB4PSIxOTguNSIgeT0iMjEuOTk1MSI+QXBwPC90ZXh0PjwvZz48IS0tY2x1c3RlciBCbG9nLS0+PGcgaWQ9ImNsdXN0ZXJfQmxvZyI+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSIyNTYuNTkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjUxMyIgeD0iNyIgeT0iMTcxLjMiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzQiIHg9IjI0Ni41IiB5PSIxODYuMjk1MSI+QmxvZzwvdGV4dD48L2c+PCEtLWNsYXNzIEFwcE1vZHVsZS0tPjxnIGlkPSJlbGVtX0FwcE1vZHVsZSI+PHJlY3QgY29kZUxpbmU9IjIiIGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNjQuMjk2OSIgaWQ9IkFwcE1vZHVsZSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTM3IiB4PSIxNDUuNSIgeT0iNDIiLz48ZWxsaXBzZSBjeD0iMTcyLjY1IiBjeT0iNTgiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMTc1LjYxODgsNjMuNjQwNiBRMTc1LjA0MDYsNjMuOTM3NSAxNzQuNCw2NC4wNzgxIFExNzMuNzU5NCw2NC4yMzQ0IDE3My4wNTYzLDY0LjIzNDQgUTE3MC41NTYzLDY0LjIzNDQgMTY5LjIyODEsNjIuNTkzOCBRMTY3LjkxNTYsNjAuOTM3NSAxNjcuOTE1Niw1Ny44MTI1IFExNjcuOTE1Niw1NC42ODc1IDE2OS4yMjgxLDUzLjAzMTMgUTE3MC41NTYzLDUxLjM3NSAxNzMuMDU2Myw1MS4zNzUgUTE3My43NTk0LDUxLjM3NSAxNzQuNCw1MS41MzEzIFExNzUuMDU2Myw1MS42ODc1IDE3NS42MTg4LDUxLjk4NDQgTDE3NS42MTg4LDU0LjcwMzEgUTE3NC45OTM4LDU0LjEyNSAxNzQuNCw1My44NTk0IFExNzMuODA2Myw1My41NzgxIDE3My4xODEzLDUzLjU3ODEgUTE3MS44Mzc1LDUzLjU3ODEgMTcxLjE1LDU0LjY1NjMgUTE3MC40NjI1LDU1LjcxODggMTcwLjQ2MjUsNTcuODEyNSBRMTcwLjQ2MjUsNTkuOTA2MyAxNzEuMTUsNjAuOTg0NCBRMTcxLjgzNzUsNjIuMDQ2OSAxNzMuMTgxMyw2Mi4wNDY5IFExNzMuODA2Myw2Mi4wNDY5IDE3NC40LDYxLjc4MTMgUTE3NC45OTM4LDYxLjUgMTc1LjYxODgsNjAuOTIxOSBMMTc1LjYxODgsNjMuNjQwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4IiB4PSIxODkuMzUiIHk9IjYyLjg0NjciPkFwcE1vZHVsZTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxNDYuNSIgeDI9IjI4MS41IiB5MT0iNzQiIHkyPSI3NCIvPjxlbGxpcHNlIGN4PSIxNTYuNSIgY3k9Ijg3LjY0ODQiIGZpbGw9Im5vbmUiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTExIiB4PSIxNjUuNSIgeT0iOTAuOTk1MSI+R3JhcGhRTE1vZHVsZTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxNDYuNSIgeDI9IjI4MS41IiB5MT0iOTguMjk2OSIgeTI9Ijk4LjI5NjkiLz48L2c+PCEtLWNsYXNzIEJsb2dNb2R1bGUtLT48ZyBpZD0iZWxlbV9CbG9nTW9kdWxlIj48cmVjdCBjb2RlTGluZT0iOCIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgaWQ9IkJsb2dNb2R1bGUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExNCIgeD0iMTU3IiB5PSIyMDYuMyIvPjxlbGxpcHNlIGN4PSIxNzIiIGN5PSIyMjIuMyIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0xNzQuOTY4OCwyMjcuOTQwNiBRMTc0LjM5MDYsMjI4LjIzNzUgMTczLjc1LDIyOC4zNzgxIFExNzMuMTA5NCwyMjguNTM0NCAxNzIuNDA2MywyMjguNTM0NCBRMTY5LjkwNjMsMjI4LjUzNDQgMTY4LjU3ODEsMjI2Ljg5MzcgUTE2Ny4yNjU2LDIyNS4yMzc1IDE2Ny4yNjU2LDIyMi4xMTI1IFExNjcuMjY1NiwyMTguOTg3NSAxNjguNTc4MSwyMTcuMzMxMiBRMTY5LjkwNjMsMjE1LjY3NSAxNzIuNDA2MywyMTUuNjc1IFExNzMuMTA5NCwyMTUuNjc1IDE3My43NSwyMTUuODMxMiBRMTc0LjQwNjMsMjE1Ljk4NzUgMTc0Ljk2ODgsMjE2LjI4NDQgTDE3NC45Njg4LDIxOS4wMDMxIFExNzQuMzQzOCwyMTguNDI1IDE3My43NSwyMTguMTU5NCBRMTczLjE1NjMsMjE3Ljg3ODEgMTcyLjUzMTMsMjE3Ljg3ODEgUTE3MS4xODc1LDIxNy44NzgxIDE3MC41LDIxOC45NTYyIFExNjkuODEyNSwyMjAuMDE4NyAxNjkuODEyNSwyMjIuMTEyNSBRMTY5LjgxMjUsMjI0LjIwNjIgMTcwLjUsMjI1LjI4NDQgUTE3MS4xODc1LDIyNi4zNDY5IDE3Mi41MzEzLDIyNi4zNDY5IFExNzMuMTU2MywyMjYuMzQ2OSAxNzMuNzUsMjI2LjA4MTIgUTE3NC4zNDM4LDIyNS44IDE3NC45Njg4LDIyNS4yMjE5IEwxNzQuOTY4OCwyMjcuOTQwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgyIiB4PSIxODYiIHk9IjIyNy4xNDY3Ij5CbG9nTW9kdWxlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjE1OCIgeDI9IjI3MCIgeTE9IjIzOC4zIiB5Mj0iMjM4LjMiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxNTgiIHgyPSIyNzAiIHkxPSIyNDYuMyIgeTI9IjI0Ni4zIi8+PC9nPjwhLS1jbGFzcyBCbG9nUmVzb2x2ZXItLT48ZyBpZD0iZWxlbV9CbG9nUmVzb2x2ZXIiPjxyZWN0IGNvZGVMaW5lPSIxMSIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI4MC41OTM4IiBpZD0iQmxvZ1Jlc29sdmVyIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxOTYiIHg9IjIzIiB5PSIzMzEuMyIvPjxlbGxpcHNlIGN4PSI3MS4yNSIgY3k9IjM0Ny4zIiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTc0LjIxODgsMzUyLjk0MDYgUTczLjY0MDYsMzUzLjIzNzUgNzMsMzUzLjM3ODEgUTcyLjM1OTQsMzUzLjUzNDQgNzEuNjU2MywzNTMuNTM0NCBRNjkuMTU2MywzNTMuNTM0NCA2Ny44MjgxLDM1MS44OTM3IFE2Ni41MTU2LDM1MC4yMzc1IDY2LjUxNTYsMzQ3LjExMjUgUTY2LjUxNTYsMzQzLjk4NzUgNjcuODI4MSwzNDIuMzMxMiBRNjkuMTU2MywzNDAuNjc1IDcxLjY1NjMsMzQwLjY3NSBRNzIuMzU5NCwzNDAuNjc1IDczLDM0MC44MzEyIFE3My42NTYzLDM0MC45ODc1IDc0LjIxODgsMzQxLjI4NDQgTDc0LjIxODgsMzQ0LjAwMzEgUTczLjU5MzgsMzQzLjQyNSA3MywzNDMuMTU5NCBRNzIuNDA2MywzNDIuODc4MSA3MS43ODEzLDM0Mi44NzgxIFE3MC40Mzc1LDM0Mi44NzgxIDY5Ljc1LDM0My45NTYyIFE2OS4wNjI1LDM0NS4wMTg3IDY5LjA2MjUsMzQ3LjExMjUgUTY5LjA2MjUsMzQ5LjIwNjIgNjkuNzUsMzUwLjI4NDQgUTcwLjQzNzUsMzUxLjM0NjkgNzEuNzgxMywzNTEuMzQ2OSBRNzIuNDA2MywzNTEuMzQ2OSA3MywzNTEuMDgxMiBRNzMuNTkzOCwzNTAuOCA3NC4yMTg4LDM1MC4yMjE5IEw3NC4yMTg4LDM1Mi45NDA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEiIHg9IjkxLjc1IiB5PSIzNTIuMTQ2NyI+QmxvZ1Jlc29sdmVyPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI0IiB4Mj0iMjE4IiB5MT0iMzYzLjMiIHkyPSIzNjMuMyIvPjxlbGxpcHNlIGN4PSIzNCIgY3k9IjM3Ni45NDg0IiBmaWxsPSJub25lIiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE3MCIgeD0iNDMiIHk9IjM4MC4yOTUxIj5ibG9nU2VydmljZTogQmxvZ1NlcnZpY2U8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjQiIHgyPSIyMTgiIHkxPSIzODcuNTk2OSIgeTI9IjM4Ny41OTY5Ii8+PGVsbGlwc2UgY3g9IjM0IiBjeT0iNDAxLjI0NTMiIGZpbGw9IiM4NEJFODQiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTYzIiB4PSI0MyIgeT0iNDA0LjU5MiI+Z2V0KCk6IFByb21pc2UmbHQ7QmxvZ1tdJmd0OzwvdGV4dD48L2c+PCEtLWNsYXNzIEJsb2dTZXJ2aWNlLS0+PGcgaWQ9ImVsZW1fQmxvZ1NlcnZpY2UiPjxyZWN0IGNvZGVMaW5lPSIxNSIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2NC4yOTY5IiBpZD0iQmxvZ1NlcnZpY2UiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjIxOCIgeD0iMjg2IiB5PSIzMzkuNDQiLz48ZWxsaXBzZSBjeD0iMzUwLjI1IiBjeT0iMzU1LjQ0IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTM1My4yMTg4LDM2MS4wODA2IFEzNTIuNjQwNiwzNjEuMzc3NSAzNTIsMzYxLjUxODEgUTM1MS4zNTk0LDM2MS42NzQ0IDM1MC42NTYzLDM2MS42NzQ0IFEzNDguMTU2MywzNjEuNjc0NCAzNDYuODI4MSwzNjAuMDMzOCBRMzQ1LjUxNTYsMzU4LjM3NzUgMzQ1LjUxNTYsMzU1LjI1MjUgUTM0NS41MTU2LDM1Mi4xMjc1IDM0Ni44MjgxLDM1MC40NzEzIFEzNDguMTU2MywzNDguODE1IDM1MC42NTYzLDM0OC44MTUgUTM1MS4zNTk0LDM0OC44MTUgMzUyLDM0OC45NzEzIFEzNTIuNjU2MywzNDkuMTI3NSAzNTMuMjE4OCwzNDkuNDI0NCBMMzUzLjIxODgsMzUyLjE0MzEgUTM1Mi41OTM4LDM1MS41NjUgMzUyLDM1MS4yOTk0IFEzNTEuNDA2MywzNTEuMDE4MSAzNTAuNzgxMywzNTEuMDE4MSBRMzQ5LjQzNzUsMzUxLjAxODEgMzQ4Ljc1LDM1Mi4wOTYzIFEzNDguMDYyNSwzNTMuMTU4OCAzNDguMDYyNSwzNTUuMjUyNSBRMzQ4LjA2MjUsMzU3LjM0NjMgMzQ4Ljc1LDM1OC40MjQ0IFEzNDkuNDM3NSwzNTkuNDg2OSAzNTAuNzgxMywzNTkuNDg2OSBRMzUxLjQwNjMsMzU5LjQ4NjkgMzUyLDM1OS4yMjEzIFEzNTIuNTkzOCwzNTguOTQgMzUzLjIxODgsMzU4LjM2MTkgTDM1My4yMTg4LDM2MS4wODA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODEiIHg9IjM3MC43NSIgeT0iMzYwLjI4NjciPkJsb2dTZXJ2aWNlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI4NyIgeDI9IjUwMyIgeTE9IjM3MS40NCIgeTI9IjM3MS40NCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI4NyIgeDI9IjUwMyIgeTE9IjM3OS40NCIgeTI9IjM3OS40NCIvPjxlbGxpcHNlIGN4PSIyOTciIGN5PSIzOTMuMDg4NCIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxOTIiIHg9IjMwNiIgeT0iMzk2LjQzNTEiPmdldCgpOiBQcm9taXNlJmx0O0Jsb2dKc29uW10mZ3Q7PC90ZXh0PjwvZz48IS0tbGluayBBcHBNb2R1bGUgdG8gQmxvZ01vZHVsZS0tPjxnIGlkPSJsaW5rX0FwcE1vZHVsZV9CbG9nTW9kdWxlIj48cGF0aCBjb2RlTGluZT0iMjAiIGQ9Ik0yMTQsMTA2LjcxIEMyMTQsMTM2LjEzIDIxNCwxNzMuMzMgMjE0LDE5OS44MiAiIGZpbGw9Im5vbmUiIGlkPSJBcHBNb2R1bGUtdG8tQmxvZ01vZHVsZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMTQsMjA1LjgyLDIxOCwxOTYuODIsMjE0LDIwMC44MiwyMTAsMTk2LjgyLDIxNCwyMDUuODIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ5IiB4PSIyMTUiIHk9IjE1MS4zNjY5Ij5pbXBvcnRzPC90ZXh0PjwvZz48IS0tbGluayBCbG9nTW9kdWxlIHRvIEJsb2dSZXNvbHZlci0tPjxnIGlkPSJsaW5rX0Jsb2dNb2R1bGVfQmxvZ1Jlc29sdmVyIj48cGF0aCBjb2RlTGluZT0iMjEiIGQ9Ik0xOTguNDMsMjU0LjYxIEMxODQuNTgsMjc1LjM3IDE2Ny4zNDE5LDMwMS4xODAyIDE1MC44ODE5LDMyNS44MzAyICIgZmlsbD0ibm9uZSIgaWQ9IkJsb2dNb2R1bGUtdG8tQmxvZ1Jlc29sdmVyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjE0Ny41NSwzMzAuODIsMTU1Ljg3NDQsMzI1LjU1NjYsMTUwLjMyNjYsMzI2LjY2MTgsMTQ5LjIyMTQsMzIxLjExNCwxNDcuNTUsMzMwLjgyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1OSIgeD0iMTc5IiB5PSIyOTcuMzY2OSI+cHJvdmlkZXJzPC90ZXh0PjwvZz48IS0tbGluayBCbG9nTW9kdWxlIHRvIEJsb2dTZXJ2aWNlLS0+PGcgaWQ9ImxpbmtfQmxvZ01vZHVsZV9CbG9nU2VydmljZSI+PHBhdGggY29kZUxpbmU9IjIyIiBkPSJNMjQ0LjMsMjU0LjYxIEMyNzQuMzksMjc3Ljc3IDMxNS45NzU0LDMwOS43NzAzIDM0OS4zMjU0LDMzNS40NDAzICIgZmlsbD0ibm9uZSIgaWQ9IkJsb2dNb2R1bGUtdG8tQmxvZ1NlcnZpY2UiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzU0LjA4LDMzOS4xLDM0OS4zODc5LDMzMC40NDA3LDM1MC4xMTc4LDMzNi4wNTAyLDM0NC41MDgyLDMzNi43ODAyLDM1NC4wOCwzMzkuMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNTkiIHg9IjMwNSIgeT0iMjk3LjM2NjkiPnByb3ZpZGVyczwvdGV4dD48L2c+PCEtLWxpbmsgQmxvZ1Jlc29sdmVyIHRvIEJsb2dTZXJ2aWNlLS0+PGcgaWQ9ImxpbmtfQmxvZ1Jlc29sdmVyX0Jsb2dTZXJ2aWNlIj48cGF0aCBjb2RlTGluZT0iMjMiIGQ9Ik0yMTkuMTUsMzcxLjU5IEMyNDAuOCwzNzEuNTkgMjU3Ljg2LDM3MS41OSAyNzkuOTIsMzcxLjU5ICIgZmlsbD0ibm9uZSIgaWQ9IkJsb2dSZXNvbHZlci10by1CbG9nU2VydmljZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyODUuOTIsMzcxLjU5LDI3Ni45MiwzNjcuNTksMjgwLjkyLDM3MS41OSwyNzYuOTIsMzc1LjU5LDI4NS45MiwzNzEuNTkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMwIiB4PSIyMzcuNSIgeT0iMzY0LjY1NjkiPnVzZXM8L3RleHQ+PC9nPjwhLS1TUkM9W1RPLXgyaThtNThSdEZDS1A1VWFCYjVCR0hIMDVoUUN1bkZRRzFqQ2M5NmFOd1JrUk5iQTNyWjdfdlNqXzVDc1ZiMjVpYk84YW9KMnRqNk8ycW5IVTEyME5yOVpVRXljWTRKWGUwOWt6ZmdneTc0VkhJSHRmMjU0SlFJU2EtdWxncE8zYlFnNkplUDZZSFV0X1VKWmpZaGhiRVNQM083Z0NCYUV4TWlUbXJoQlkxZkZVbHp0SldIZjJmdXZkQmhHRUhqUS13SFB6cGVLZUlpRjlDVjFBSU1xRDJLSVZjU1Y3ZUJIaVVPNXdDVVZ0VkNWY1ZnR3ZBLXJGa1o1ZXRXMDBdLS0+PC9nPjwvc3ZnPg==\" loading=\"lazy\"\u003e\n",
    "body": "## はじめに\n\n![スライド16.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/0f5840ac-89f4-ad7d-1d3a-8f617c8db10e.png)\n\n---\n\n**2023年アドベントカレンダー15日目**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n現在「ユーザーはトップページでブログの一覧を見ることができる」を進めています。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png)\n\n前回はBFFで使うWiremockの環境構築を行いました。\n今回はGraphQLModuleの設定を進めていきます。\n\n## NestJS\n\nNestJSは、Node.js上で動作するバックエンド開発のフレームワークです。\n\nhttps://nestjs.com/\n\nhttps://techtionary.jp/3534\n\n## アーキテクチャ\n\nこのようなアーキテクチャで作成していこうと思います\n\n```plantuml\n@startuml\n\npackage App \u003c\u003cRectangle\u003e\u003e {\n  class AppModule {\n    +GraphQLModule\n  }\n}\n\npackage GraphQL \u003c\u003cRectangle\u003e\u003e {\n  class GraphQLModule {}\n}\n\npackage Blog \u003c\u003cRectangle\u003e\u003e {\n  class BlogModule {\n  }\n\n  class BlogResolver {\n    +blogService: BlogService\n    +get(): Promise\u003cBlog[]\u003e\n  }\n  class BlogService {\n    +get(): Promise\u003cBlog[]\u003e\n  }\n}\n\nAppModule -right-\u003e GraphQLModule : imports\nAppModule  --\u003e BlogModule : imports\nBlogModule --\u003e BlogResolver : providers\nBlogModule --\u003e BlogService : providers\nBlogResolver -right-\u003e BlogService : uses\n@enduml\n```\n\n今回はこの中のこの部分を作っていきます\n\n```plantuml\npackage App \u003c\u003cRectangle\u003e\u003e {\n  class AppModule {\n    +GraphQLModule\n  }\n}\n\npackage GraphQL \u003c\u003cRectangle\u003e\u003e {\n  class GraphQLModule {}\n}\nAppModule -right-\u003e GraphQLModule : imports\n```\n\n## 実装\n\n### GraphQLModule\n\nAppModuleにGraphQLModuleをimportし、schemaなどの設定をしていきます\n\n```diff_typescript:app.module.ts\nimport { Module } from '@nestjs/common';\n+ import { GraphQLModule } from '@nestjs/graphql';\n+ import { ApolloDriver } from '@nestjs/apollo';\n+ import { join } from 'path';\n+ import { BlogModule } from './blog/blog.module';\n\n@Module({\n  imports: [\n+   GraphQLModule.forRoot({\n+     driver: ApolloDriver,\n+     typePaths: [join(process.cwd(), 'src/graphql/*.graphql')],\n+     path: '/',\n+     definitions: {\n+       path: join(process.cwd(), 'src/graphql/graphql.ts'),\n+       watch: true\n+     },\n+   }),\n    BlogModule\n  ],\n- controllers: [AppController],\n+ controllers: [],\n- providers: [AppService, BlogService, BlogResolver],\n+ providers: [],\n})\nexport class AppModule {}\n```\n\n:::note\n**definitionsに設定できる項目**\n\n|プロパティ|説明|\n|----|----|\n|path|TypeScriptの型定義ファイルを生成する場所を指定します。このファイルは、GraphQLスキーマの各型に対応するTypeScriptの型定義を含んでいます。|\n|watch|trueに設定されると、GraphQLスキーマが変更されたときに型定義ファイルが自動的に更新されます。これは開発中に特に便利です。|\n|outputAs|型定義の出力形式を指定します。たとえば、classやinterfaceなど。これにより、生成されるTypeScriptの型のスタイルをカスタマイズできます。|\n|typeFileNameSuffix|生成される型定義ファイルのファイル名のサフィックス（接尾辞）を指定します。|\n|customScalarTypeMapping|カスタムスカラー型をTypeScriptの型にマッピングするために使用します。GraphQLのカスタムスカラー型とそれに対応するTypeScriptの型を定義できます。|\n|additionalHeader|生成される型定義ファイルの先頭に追加する追加のヘッダーを指定します。たとえば、特定のインポート文やコメントなど。|\n|emitTypenameField|trueに設定されると、各GraphQLオブジェクト型に__typenameフィールドの型定義が含まれます。これは、特定のGraphQLクライアントの要件に基づいて使用されることがあります。|\n:::\n\n\ntypePathおよびに設定している`src/graphql/*.graphql`を**Web**側で**Day 7**で設定した`GraphQL Code Generator`で作成していきます\n\nhttps://qiita.com/maaaashi/items/fbafb74ea98f5cfbeb5f\n\n### GraphQL Code Generator\n\nhttps://the-guild.dev/graphql/codegen\n\n#### Schema\n\nまず、Schemaファイルを生成します\n\n```diff_typescript:web/codegen.ts\nimport type { CodegenConfig } from '@graphql-codegen/cli'\n\nconst config: CodegenConfig = {\n  overwrite: true,\n  schema: './schema.graphql',\n  documents: 'src/graphql/*.graphql',\n  generates: {\n    'src/graphql/generated.tsx': {\n      plugins: [\n        'typescript',\n        'typescript-operations',\n        'typescript-react-apollo',\n      ],\n    },\n    'mock/schema.graphql': {\n      plugins: ['schema-ast'],\n    },\n+   '../bff/src/graphql/schema.graphql': {\n+     plugins: ['schema-ast'],\n+   },\n  },\n}\n\nexport default config\n```\n\nこれでSchemaファイルは生成されます\n\n#### Operation\n\nSchemaファイルは↑の方法で生成できますが、operation.graphqlをまとめて、generateするようなpluginは用意されていないので、**custom-plugin**を作成していきます\n\n### Custom Plugin\n\nこのあたりを参考にしていきながら、`custom-plugin.js`のファイルを作成していきます\n\nhttps://the-guild.dev/graphql/codegen/docs/custom-codegen/plugin-structure\n\n\n```js:custom-plugin.js\nconst { print } = require('graphql')\nmodule.exports = {\n  plugin: (schema, documents, config) =\u003e {\n    const combinedDocuments = documents\n      .map((doc) =\u003e {\n        const docContent = doc.document.definitions\n          .map((def) =\u003e print(def))\n          .join('\\n')\n\n        return docContent\n      })\n      .join('\\n\\n')\n\n    return combinedDocuments\n  },\n}\n```\n\nこれを`codegen.ts`で指定していきます\n\n```diff_typescript:codegen.ts\nimport type { CodegenConfig } from '@graphql-codegen/cli'\n\nconst config: CodegenConfig = {\n  overwrite: true,\n  schema: './schema.graphql',\n  documents: 'src/graphql/*.graphql',\n  generates: {\n    'src/graphql/generated.tsx': {\n      plugins: [\n        'typescript',\n        'typescript-operations',\n        'typescript-react-apollo',\n      ],\n    },\n    'mock/schema.graphql': {\n      plugins: ['schema-ast'],\n    },\n    '../bff/src/graphql/schema.graphql': {\n      plugins: ['schema-ast'],\n    },\n+   '../bff/src/graphql/operation.graphql': {\n+     schema: 'src/graphql/*.graphql',\n+     plugins: ['custom-plugin'],\n +  },\n  },\n}\n\nexport default config\n```\n\nこれで、`src/graphql/`に置いたoperationのgraphqlファイルを参照して、新しくファイルを作成することができるようになりました。\n\n実際に動かしてみます\n\n```bash\nweb$ npm run codegen\n\n\u003e life-sync-web@0.1.0 codegen\n\u003e graphql-codegen --config codegen.ts\n✔ Parse Configuration\n✔ Generate outputs\n```\n\n無事ファイルが作成されていました！\n\n```\n├── bff\n│   ├── src/\n│   │   ├── graphql/\n│   │   │   ├── operation.graphql  ・・・ オペレーションファイル\n│   │   │   ├── schema.graphql     ・・・ スキーマファイル\n```\n\n\n### アプリ起動\n\n```bash\nnpm run start\n```\n\nアプリが起動し、`src/graphql/graphql.ts`のエンティティファイルが生成されました👍\n\n明日は`BlogModule` `BlogResolver` `BlogService`を作成していきます\n\n```plantuml\npackage App \u003c\u003cRectangle\u003e\u003e {\n  class AppModule {\n    +GraphQLModule\n  }\n}\n\npackage Blog \u003c\u003cRectangle\u003e\u003e {\n  class BlogModule {\n  }\n\n  class BlogResolver {\n    +blogService: BlogService\n    +get(): Promise\u003cBlog[]\u003e\n  }\n  class BlogService {\n    +get(): Promise\u003cBlogJson[]\u003e\n  }\n}\n\nAppModule  --\u003e BlogModule : imports\nBlogModule --\u003e BlogResolver : providers\nBlogModule --\u003e BlogService : providers\nBlogResolver -right-\u003e BlogService : uses\n@enduml\n```\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-12-10T20:30:18+09:00",
    "group": null,
    "id": "a26f6df4f5d6b8469552",
    "likes_count": 3,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "GraphQL", "versions": [] },
      { "name": "NestJS", "versions": [] },
      { "name": "graphql-codegen", "versions": [] }
    ],
    "title": "【Day 15】ブログ一覧を取得し、表示する - GraphQLModule",
    "updated_at": "2023-12-15T07:00:42+09:00",
    "url": "https://qiita.com/maaaashi/items/a26f6df4f5d6b8469552",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-3:131\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F05992929-c734-1c77-3585-d6cdac6e1a9c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2e8d9c9e6f2a32495b1fc659aba94009\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F05992929-c734-1c77-3585-d6cdac6e1a9c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2e8d9c9e6f2a32495b1fc659aba94009\" alt=\"スライド14.PNG\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F05992929-c734-1c77-3585-d6cdac6e1a9c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=fc4542942ed208d280406deb19a5bdc1 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/05992929-c734-1c77-3585-d6cdac6e1a9c.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr data-sourcepos=\"5:1-6:0\"\u003e\n\u003cp data-sourcepos=\"7:1-7:58\"\u003e\u003cstrong\u003e2023年アドベントカレンダー13日目\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:52\"\u003e\u003ciframe id=\"qiita-embed-content__8aa936fc64f8c25c36a7e47412ea66eb\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__8aa936fc64f8c25c36a7e47412ea66eb\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-11:75\"\u003e今回はBFFの開発を始めるために環境構築をしていきます\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe36b1dc4-814d-49b3-43bc-61c9f978400f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b6a7c1ca8f35e4f5e32acdf4c076dbd6\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe36b1dc4-814d-49b3-43bc-61c9f978400f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b6a7c1ca8f35e4f5e32acdf4c076dbd6\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe36b1dc4-814d-49b3-43bc-61c9f978400f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e5a01be0601a0c350e1a9c451e1d74e1 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e36b1dc4-814d-49b3-43bc-61c9f978400f.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"15:1-15:6\"\u003e\n\u003cspan id=\"bff\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#bff\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eBFF\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"17:1-17:13\"\u003e\n\u003cspan id=\"bffとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#bff%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eBFFとは\u003c/h3\u003e\n\u003cblockquote data-sourcepos=\"19:1-20:448\"\u003e\n\u003cp data-sourcepos=\"19:3-20:448\"\u003eFrom ChatGPT\u003cbr\u003e\nBFF（Backend For Frontend）は、ソフトウェア開発のアーキテクチャパターンの一つです。このパターンでは、フロントエンド（例えば、ウェブアプリケーションやモバイルアプリ）専用のバックエンドを提供します。これにより、フロントエンドのニーズに特化したAPIを実現し、フロントエンドの開発とメンテナンスが容易になります。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp data-sourcepos=\"22:1-22:117\"\u003eフロントエンドのために存在し、バックエンドとの仲介をするものと理解しています。\u003c/p\u003e\n\u003cp data-sourcepos=\"24:1-24:79\"\u003e今回はBFFをGraphQLを利用して構築していきたいと思います。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"26:1-26:32\"\u003e\n\u003cspan id=\"graphqlを採用した理由\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#graphql%E3%82%92%E6%8E%A1%E7%94%A8%E3%81%97%E3%81%9F%E7%90%86%E7%94%B1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGraphQLを採用した理由\u003c/h3\u003e\n\u003cp data-sourcepos=\"28:1-28:39\"\u003e主な採用した理由は２つです\u003c/p\u003e\n\u003col data-sourcepos=\"30:1-32:0\"\u003e\n\u003cli data-sourcepos=\"30:1-30:69\"\u003eクライアントがリクエストしたデータのみを返す\u003c/li\u003e\n\u003cli data-sourcepos=\"31:1-32:0\"\u003e少ないリクエストで複数のリソースにアクセスできる\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv data-sourcepos=\"33:1-44:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003ch4 data-sourcepos=\"34:1-34:74\"\u003e\n\u003cspan id=\"1-クライアントがリクエストしたデータのみを返す\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E3%81%8C%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%81%97%E3%81%9F%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E3%81%BF%E3%82%92%E8%BF%94%E3%81%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. クライアントがリクエストしたデータのみを返す\u003c/h4\u003e\n\u003cp data-sourcepos=\"36:1-36:154\"\u003eGraphQLはクライアントが要求したデータだけを取得できるように設計されていて、過剰なデータ取得を防止できます\u003c/p\u003e\n\u003ch4 data-sourcepos=\"38:1-38:80\"\u003e\n\u003cspan id=\"2-少ないリクエストで複数のリソースにアクセスできる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-%E5%B0%91%E3%81%AA%E3%81%84%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%81%A7%E8%A4%87%E6%95%B0%E3%81%AE%E3%83%AA%E3%82%BD%E3%83%BC%E3%82%B9%E3%81%AB%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%A7%E3%81%8D%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. 少ないリクエストで複数のリソースにアクセスできる\u003c/h4\u003e\n\u003cp data-sourcepos=\"40:1-41:182\"\u003eクエリライクで複数リクエストなしに情報を取得できます。\u003cbr\u003e\nこれによりRESTful APIにありがちな問題である「情報にアクセスするために必要なエンドポイント多くなる」問題を防ぐことができます。\u003c/p\u003e\n\u003cp data-sourcepos=\"43:1-43:58\"\u003e参考) \u003ca href=\"https://qiita.com/hirac/items/d4b470afa14e1741ab99\" class=\"autolink\" id=\"reference-d5f94d652d425c77fdd0\"\u003ehttps://qiita.com/hirac/items/d4b470afa14e1741ab99\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"46:1-46:67\"\u003eではNestJS上にGraphQLのサーバーを作成していきます\u003c/p\u003e\n\u003ch2 data-sourcepos=\"48:1-48:9\"\u003e\n\u003cspan id=\"nestjs\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#nestjs\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNestJS\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"50:1-50:16\"\u003e\n\u003cspan id=\"nestjsとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#nestjs%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNestJSとは\u003c/h3\u003e\n\u003cp data-sourcepos=\"52:1-52:94\"\u003eNestJSは、Node.js上で動作するバックエンド開発のフレームワークです。\u003c/p\u003e\n\u003cp data-sourcepos=\"54:1-54:19\"\u003e\u003ciframe id=\"qiita-embed-content__af3313d47fbc39f0bf2afc30479441c1\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__af3313d47fbc39f0bf2afc30479441c1\" data-content=\"https%3A%2F%2Fnestjs.com%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"56:1-56:27\"\u003e\u003ciframe id=\"qiita-embed-content__05558a145080946ec81db04b72cc956b\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__05558a145080946ec81db04b72cc956b\" data-content=\"https%3A%2F%2Ftechtionary.jp%2F3534\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch3 data-sourcepos=\"58:1-58:19\"\u003e\n\u003cspan id=\"環境構築\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e環境構築！\u003c/h3\u003e\n\u003cp data-sourcepos=\"60:1-60:137\"\u003e実は公式のリファレンスにGraphQL + TypeScriptの構築方法が乗っているので、それに則って進めていきます\u003c/p\u003e\n\u003cp data-sourcepos=\"62:1-62:43\"\u003e\u003ciframe id=\"qiita-embed-content__186ab077495b07eac40519995818925c\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__186ab077495b07eac40519995818925c\" data-content=\"https%3A%2F%2Fdocs.nestjs.com%2Fgraphql%2Fquick-start\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"64:1-64:51\"\u003eまずは\u003ccode\u003eNestJS\u003c/code\u003e環境をinstallしていきます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"66:1-88:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003enpm i \u003cspan class=\"nt\"\u003e-g\u003c/span\u003e @nestjs/cli\nnest new bff\n\n? Which package manager would you ❤️  to use? npm\nCREATE bff/.eslintrc.js\n...\n\n✔ Installation \u003cspan class=\"k\"\u003ein \u003c/span\u003eprogress... ☕\n\n🚀  Successfully created project bff\n👉  Get started with the following commands:\n\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003ecd \u003c/span\u003ebff\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpm run start\n                                         \n                          Thanks \u003cspan class=\"k\"\u003efor \u003c/span\u003einstalling Nest 🙏\n                 Please consider donating to our open collective\n                        to \u003cspan class=\"nb\"\u003ehelp \u003c/span\u003eus maintain this package.\n                                         \n                                         \n               🍷  Donate: https://opencollective.com/nest\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"90:1-90:97\"\u003e次にNestJSでGraphQLサーバーを立てるために必要なものをそろえていきます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"92:1-95:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nb\"\u003ecd \u003c/span\u003ebff\nnpm i @nestjs/graphql @nestjs/apollo @apollo/server graphql\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"97:1-97:33\"\u003eこれで準備は整いました\u003c/p\u003e\n\u003cp data-sourcepos=\"99:1-99:80\"\u003e次回はテストで使うWireMockのセットアップをしていきます！\u003c/p\u003e\n",
    "body": "## はじめに\n\n![スライド14.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/05992929-c734-1c77-3585-d6cdac6e1a9c.png)\n\n---\n\n**2023年アドベントカレンダー13日目**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n今回はBFFの開発を始めるために環境構築をしていきます\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e36b1dc4-814d-49b3-43bc-61c9f978400f.png)\n\n## BFF\n\n### BFFとは\n\n\u003e From ChatGPT\n\u003e BFF（Backend For Frontend）は、ソフトウェア開発のアーキテクチャパターンの一つです。このパターンでは、フロントエンド（例えば、ウェブアプリケーションやモバイルアプリ）専用のバックエンドを提供します。これにより、フロントエンドのニーズに特化したAPIを実現し、フロントエンドの開発とメンテナンスが容易になります。\n\nフロントエンドのために存在し、バックエンドとの仲介をするものと理解しています。\n\n今回はBFFをGraphQLを利用して構築していきたいと思います。\n\n### GraphQLを採用した理由\n\n主な採用した理由は２つです\n\n1. クライアントがリクエストしたデータのみを返す\n1. 少ないリクエストで複数のリソースにアクセスできる\n\n::::note info\n#### 1. クライアントがリクエストしたデータのみを返す\n\nGraphQLはクライアントが要求したデータだけを取得できるように設計されていて、過剰なデータ取得を防止できます\n\n#### 2. 少ないリクエストで複数のリソースにアクセスできる\n\nクエリライクで複数リクエストなしに情報を取得できます。\nこれによりRESTful APIにありがちな問題である「情報にアクセスするために必要なエンドポイント多くなる」問題を防ぐことができます。\n\n参考) https://qiita.com/hirac/items/d4b470afa14e1741ab99\n:::\n\nではNestJS上にGraphQLのサーバーを作成していきます\n\n## NestJS\n\n### NestJSとは\n\nNestJSは、Node.js上で動作するバックエンド開発のフレームワークです。\n\nhttps://nestjs.com/\n\nhttps://techtionary.jp/3534\n\n### 環境構築！\n\n実は公式のリファレンスにGraphQL + TypeScriptの構築方法が乗っているので、それに則って進めていきます\n\nhttps://docs.nestjs.com/graphql/quick-start\n\nまずは`NestJS`環境をinstallしていきます\n\n```bash\nnpm i -g @nestjs/cli\nnest new bff\n\n? Which package manager would you ❤️  to use? npm\nCREATE bff/.eslintrc.js\n...\n\n✔ Installation in progress... ☕\n\n🚀  Successfully created project bff\n👉  Get started with the following commands:\n\n$ cd bff\n$ npm run start\n                                         \n                          Thanks for installing Nest 🙏\n                 Please consider donating to our open collective\n                        to help us maintain this package.\n                                         \n                                         \n               🍷  Donate: https://opencollective.com/nest\n```\n\n次にNestJSでGraphQLサーバーを立てるために必要なものをそろえていきます\n\n```bash\ncd bff\nnpm i @nestjs/graphql @nestjs/apollo @apollo/server graphql\n```\n\nこれで準備は整いました\n\n次回はテストで使うWireMockのセットアップをしていきます！\n\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-12-09T23:10:37+09:00",
    "group": null,
    "id": "9f6013544b2a6f254f87",
    "likes_count": 3,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "TypeScript", "versions": [] },
      { "name": "GraphQL", "versions": [] },
      { "name": "BFF", "versions": [] },
      { "name": "NestJS", "versions": [] }
    ],
    "title": "【Day 13】BFF 環境構築 - NestJS GraphQL",
    "updated_at": "2023-12-13T07:00:32+09:00",
    "url": "https://qiita.com/maaaashi/items/9f6013544b2a6f254f87",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-3:131\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Feadfac9a-bb1e-d3b0-e2fb-f9097b37be0c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5a8fe0f6d1b05d2817e80e463b5d5acb\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Feadfac9a-bb1e-d3b0-e2fb-f9097b37be0c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5a8fe0f6d1b05d2817e80e463b5d5acb\" alt=\"スライド10.PNG\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Feadfac9a-bb1e-d3b0-e2fb-f9097b37be0c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=02d26b9dca6d8974abed42a4862f61c7 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/eadfac9a-bb1e-d3b0-e2fb-f9097b37be0c.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr data-sourcepos=\"5:1-6:0\"\u003e\n\u003cp data-sourcepos=\"7:1-7:57\"\u003e\u003cstrong\u003e2023年アドベントカレンダー9日目\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:52\"\u003e\u003ciframe id=\"qiita-embed-content__b17a5fd8f7ffc25f0a68249217186c14\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__b17a5fd8f7ffc25f0a68249217186c14\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-11:114\"\u003e前回は「ユーザーはトップページを開くことができる」のストーリーを進めました。\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1da0357e-0bef-76cc-d045-61a0da5805c9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5370d0407453efc627f796ce85a41e15\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1da0357e-0bef-76cc-d045-61a0da5805c9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5370d0407453efc627f796ce85a41e15\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1da0357e-0bef-76cc-d045-61a0da5805c9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5f750f0a108f51634ae6ed6925bdb444 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/1da0357e-0bef-76cc-d045-61a0da5805c9.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"15:1-15:141\"\u003e今回から「ユーザーはトップページで固定値のブログタイトルを見ることができる」を進めていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"17:1-17:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F084c5144-d68a-bf61-ec8f-dfaf6e246333.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b670f7292a64b498b88c9314d6511893\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F084c5144-d68a-bf61-ec8f-dfaf6e246333.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b670f7292a64b498b88c9314d6511893\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F084c5144-d68a-bf61-ec8f-dfaf6e246333.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=eabc274d129ada59a8a0d1757bde938e 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/084c5144-d68a-bf61-ec8f-dfaf6e246333.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"19:1-19:40\"\u003e\u003cstrong\u003eWeb\u003c/strong\u003e部分の開発を進めます。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"21:1-21:21\"\u003e\n\u003cspan id=\"画面デザイン\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%94%BB%E9%9D%A2%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e画面デザイン\u003c/h2\u003e\n\u003cp data-sourcepos=\"23:1-23:65\"\u003e以前Figmaで作成したデザインで進めていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"25:1-25:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4619fcee-0a63-e5b0-dd96-1314f59bc174.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=645a1c679a8b922abe1d001aaa931307\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4619fcee-0a63-e5b0-dd96-1314f59bc174.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=645a1c679a8b922abe1d001aaa931307\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4619fcee-0a63-e5b0-dd96-1314f59bc174.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=f0617a9e8358af409061ce63f2a3c3f0 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4619fcee-0a63-e5b0-dd96-1314f59bc174.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"27:1-27:142\"\u003e今回は前回コンポーネント設計をした、\u003ccode\u003eBlogs\u003c/code\u003eコンポーネントを作成していくイメージを持っておきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"29:1-29:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3434b50c-fb98-082b-64ee-41e8d3ea1fec.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=57e56651a7f9a8c021e18535391a99a6\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3434b50c-fb98-082b-64ee-41e8d3ea1fec.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=57e56651a7f9a8c021e18535391a99a6\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3434b50c-fb98-082b-64ee-41e8d3ea1fec.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=277c028c1e0941878e7e0cbe3cb367b4 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3434b50c-fb98-082b-64ee-41e8d3ea1fec.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"31:1-31:15\"\u003e\n\u003cspan id=\"e2eテスト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#e2e%E3%83%86%E3%82%B9%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eE2Eテスト\u003c/h2\u003e\n\u003cp data-sourcepos=\"33:1-33:63\"\u003e前回同様、まずはE2Eテストを書いていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"35:1-35:153\"\u003e今回はブログの固定タイトルと、固定の作成日時が見えていることが確認できるテストを追加しようと思います。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"diff_javascript\" data-sourcepos=\"37:1-65:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003etop/display.cy.js\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e/// \u0026lt;reference types=\"cypress\" /\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nf\"\u003edescribe\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eトップ画面の表示\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003ebeforeEach\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003evisit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003econfig\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ebaseUrl\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eh1タグで\"Life Sync\"が表示されていること\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eh1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eshould\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehave.text\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eLife Sync\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eh2タグで\"ブログ一覧\"の文字が表示されていること\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eh2\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eshould\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehave.text\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eブログ一覧\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e\"新規登作成\"のボタンが表示されていること\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ebutton\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eshould\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehave.text\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e新規作成\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e\u003cspan class=\"nf\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eブログの固定タイトルが表示されていること\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e.blog-card\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eeq\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eshould\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003einclude.text\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eタイトル\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e\u003cspan class=\"nf\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eブログの固定日付が表示されていること\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e.blog-card\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eeq\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eshould\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003einclude.text\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e2021/01/01 09:00:00\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"67:1-67:24\"\u003e実行してみます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"69:1-80:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  トップ画面の表示\n    1\u003cspan class=\"o\"\u003e)\u003c/span\u003e h1タグで\u003cspan class=\"s2\"\u003e\"Life Sync\"\u003c/span\u003eが表示されていること\n    2\u003cspan class=\"o\"\u003e)\u003c/span\u003e h2タグで\u003cspan class=\"s2\"\u003e\"ブログ一覧\"\u003c/span\u003eの文字が表示されていること\n    3\u003cspan class=\"o\"\u003e)\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"新規登作成\"\u003c/span\u003eのボタンが表示されていること\n    4\u003cspan class=\"o\"\u003e)\u003c/span\u003e ブログのタイトルが表示されていること\n    5\u003cspan class=\"o\"\u003e)\u003c/span\u003e ブログの日付が表示されていること\n\n\n  3 passing\n  2 failing\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"82:1-82:75\"\u003e\u003cimg alt=\":ok:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f197.png\" title=\":ok:\" width=\"20\" loading=\"lazy\"\u003e 追加したテストが\u003cstrong\u003e失敗\u003c/strong\u003eすることが確認できました\u003c/p\u003e\n\u003ch2 data-sourcepos=\"84:1-84:9\"\u003e\n\u003cspan id=\"実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装\u003c/h2\u003e\n\u003cp data-sourcepos=\"86:1-86:55\"\u003e\u003ccode\u003eBlogs\u003c/code\u003eコンポーネントを作成していきます\u003c/p\u003e\n\u003cp data-sourcepos=\"88:1-88:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3434b50c-fb98-082b-64ee-41e8d3ea1fec.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=57e56651a7f9a8c021e18535391a99a6\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3434b50c-fb98-082b-64ee-41e8d3ea1fec.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=57e56651a7f9a8c021e18535391a99a6\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3434b50c-fb98-082b-64ee-41e8d3ea1fec.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=277c028c1e0941878e7e0cbe3cb367b4 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3434b50c-fb98-082b-64ee-41e8d3ea1fec.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"90:1-90:72\"\u003e前回同様、まずはテストが通る最低限を目指します。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"92:1-107:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/components/Blogs.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003euse client\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        タイトル\n      \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        2021/01/01 09:00:00\n      \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"109:1-109:30\"\u003eテストを流してみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"111:1-121:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  トップ画面の表示\n    1\u003cspan class=\"o\"\u003e)\u003c/span\u003e h1タグで\u003cspan class=\"s2\"\u003e\"Life Sync\"\u003c/span\u003eが表示されていること\n    2\u003cspan class=\"o\"\u003e)\u003c/span\u003e h2タグで\u003cspan class=\"s2\"\u003e\"ブログ一覧\"\u003c/span\u003eの文字が表示されていること\n    3\u003cspan class=\"o\"\u003e)\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"新規登作成\"\u003c/span\u003eのボタンが表示されていること\n    4\u003cspan class=\"o\"\u003e)\u003c/span\u003e ブログのタイトルが表示されていること\n    5\u003cspan class=\"o\"\u003e)\u003c/span\u003e ブログの日付が表示されていること\n\n\n  5 passing\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"123:1-123:18\"\u003e通りました！\u003c/p\u003e\n\u003cp data-sourcepos=\"125:1-125:45\"\u003e次にスタイルを当てていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"127:1-127:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbf53b2c5-aa8d-e53c-2ffb-6f604778bdf4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=21fcf2340fe9b3d170c6b89784cb8f29\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbf53b2c5-aa8d-e53c-2ffb-6f604778bdf4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=21fcf2340fe9b3d170c6b89784cb8f29\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbf53b2c5-aa8d-e53c-2ffb-6f604778bdf4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=0de21d38dd923cadefcab017277d3248 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/bf53b2c5-aa8d-e53c-2ffb-6f604778bdf4.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"129:1-129:26\"\u003e\u003cimg alt=\":ok:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f197.png\" title=\":ok:\" width=\"20\" loading=\"lazy\"\u003e 完成しました！\u003c/p\u003e\n\u003cdetails\u003e\u003csummary\u003e参考）Blogs.tsx\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"133:1-152:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003euse client\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eReact\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ereact\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBsArrowRightCircle\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ereact-icons/bs\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'flex flex-col gap-4'\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'flex flex-col blog-card'\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'bg-stone-100 p-6 rounded-xl flex justify-between items-center'\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n          タイトル\n          \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eBsArrowRightCircle\u003c/span\u003e \u003cspan class=\"na\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e35\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'self-end'\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e2021/01/01 09:00:00\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/details\u003e\n\u003cp data-sourcepos=\"158:1-158:130\"\u003eこれで「ユーザーはトップページで固定値のブログタイトルを見ることができる」が終了です👍\u003c/p\u003e\n\u003cp data-sourcepos=\"160:1-160:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F084c5144-d68a-bf61-ec8f-dfaf6e246333.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b670f7292a64b498b88c9314d6511893\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F084c5144-d68a-bf61-ec8f-dfaf6e246333.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b670f7292a64b498b88c9314d6511893\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F084c5144-d68a-bf61-ec8f-dfaf6e246333.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=eabc274d129ada59a8a0d1757bde938e 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/084c5144-d68a-bf61-ec8f-dfaf6e246333.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"162:1-162:145\"\u003e明日からは「ユーザーはトップページでブログタイトルの一覧を見ることができる 」をすすめていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"164:1-164:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9c0dd56f-8248-a297-1bac-919c8f1bd3c7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=565e14a367a740279e8be3df84c56c22\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9c0dd56f-8248-a297-1bac-919c8f1bd3c7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=565e14a367a740279e8be3df84c56c22\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9c0dd56f-8248-a297-1bac-919c8f1bd3c7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c845fc24ebaf658cb541b08630596412 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/9c0dd56f-8248-a297-1bac-919c8f1bd3c7.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n",
    "body": "## はじめに\n\n![スライド10.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/eadfac9a-bb1e-d3b0-e2fb-f9097b37be0c.png)\n\n---\n\n**2023年アドベントカレンダー9日目**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n前回は「ユーザーはトップページを開くことができる」のストーリーを進めました。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/1da0357e-0bef-76cc-d045-61a0da5805c9.png)\n\n今回から「ユーザーはトップページで固定値のブログタイトルを見ることができる」を進めていきます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/084c5144-d68a-bf61-ec8f-dfaf6e246333.png)\n\n**Web**部分の開発を進めます。\n\n## 画面デザイン\n\n以前Figmaで作成したデザインで進めていきます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4619fcee-0a63-e5b0-dd96-1314f59bc174.png)\n\n今回は前回コンポーネント設計をした、`Blogs`コンポーネントを作成していくイメージを持っておきます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3434b50c-fb98-082b-64ee-41e8d3ea1fec.png)\n\n## E2Eテスト\n\n前回同様、まずはE2Eテストを書いていきます。\n\n今回はブログの固定タイトルと、固定の作成日時が見えていることが確認できるテストを追加しようと思います。\n\n```diff_javascript:top/display.cy.js\n/// \u003creference types=\"cypress\" /\u003e\n\ndescribe('トップ画面の表示', () =\u003e {\n  beforeEach(() =\u003e {\n    cy.visit(cy.config('baseUrl'))\n  })\n\n  it('h1タグで\"Life Sync\"が表示されていること', () =\u003e {\n    cy.get('h1').should('have.text', 'Life Sync')\n  })\n\n  it('h2タグで\"ブログ一覧\"の文字が表示されていること', () =\u003e {\n    cy.get('h2').should('have.text', 'ブログ一覧')\n  })\n\n  it('\"新規登作成\"のボタンが表示されていること', () =\u003e {\n    cy.get('button').should('have.text', '新規作成')\n  })\n\n+ it('ブログの固定タイトルが表示されていること', () =\u003e {\n+   cy.get('.blog-card').eq(0).should('include.text', 'タイトル')\n+ })\n+\n+ it('ブログの固定日付が表示されていること', () =\u003e {\n+   cy.get('.blog-card').eq(0).should('include.text', '2021/01/01 09:00:00')\n+ })\n})\n```\n\n実行してみます。\n\n```bash\n  トップ画面の表示\n    1) h1タグで\"Life Sync\"が表示されていること\n    2) h2タグで\"ブログ一覧\"の文字が表示されていること\n    3) \"新規登作成\"のボタンが表示されていること\n    4) ブログのタイトルが表示されていること\n    5) ブログの日付が表示されていること\n\n\n  3 passing\n  2 failing\n```\n\n:ok: 追加したテストが**失敗**することが確認できました\n\n## 実装\n\n`Blogs`コンポーネントを作成していきます\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3434b50c-fb98-082b-64ee-41e8d3ea1fec.png)\n\n前回同様、まずはテストが通る最低限を目指します。\n\n```tsx:src/components/Blogs.tsx\n'use client'\n\nexport const Blogs = () =\u003e {\n  return (\n    \u003cdiv\u003e\n      \u003cdiv\u003e\n        タイトル\n      \u003c/div\u003e\n      \u003cdiv\u003e\n        2021/01/01 09:00:00\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n```\n\nテストを流してみます\n\n```bash\n  トップ画面の表示\n    1) h1タグで\"Life Sync\"が表示されていること\n    2) h2タグで\"ブログ一覧\"の文字が表示されていること\n    3) \"新規登作成\"のボタンが表示されていること\n    4) ブログのタイトルが表示されていること\n    5) ブログの日付が表示されていること\n\n\n  5 passing\n```\n\n通りました！\n\n次にスタイルを当てていきます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/bf53b2c5-aa8d-e53c-2ffb-6f604778bdf4.png)\n\n:ok: 完成しました！\n\n\u003cdetails\u003e\u003csummary\u003e参考）Blogs.tsx\u003c/summary\u003e\n\n```tsx\n'use client'\n\nimport React from 'react'\nimport { BsArrowRightCircle } from 'react-icons/bs'\n\nexport const Blogs = () =\u003e {\n  return (\n    \u003cdiv className='flex flex-col gap-4'\u003e\n      \u003cdiv className='flex flex-col blog-card'\u003e\n        \u003cdiv className='bg-stone-100 p-6 rounded-xl flex justify-between items-center'\u003e\n          タイトル\n          \u003cBsArrowRightCircle size={35} /\u003e\n        \u003c/div\u003e\n        \u003cdiv className='self-end'\u003e2021/01/01 09:00:00\u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  )\n}\n```\n\n\u003c/details\u003e\n\n\n\nこれで「ユーザーはトップページで固定値のブログタイトルを見ることができる」が終了です👍\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/084c5144-d68a-bf61-ec8f-dfaf6e246333.png)\n\n明日からは「ユーザーはトップページでブログタイトルの一覧を見ることができる 」をすすめていきます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/9c0dd56f-8248-a297-1bac-919c8f1bd3c7.png)\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-12-01T23:36:42+09:00",
    "group": null,
    "id": "763304a770d2c5ff9f72",
    "likes_count": 3,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "Next.js", "versions": [] },
      { "name": "Cypress", "versions": [] }
    ],
    "title": "【Day 9】ブログタイトルの固定値を表示する",
    "updated_at": "2023-12-09T07:00:42+09:00",
    "url": "https://qiita.com/maaaashi/items/763304a770d2c5ff9f72",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003cp data-sourcepos=\"1:1-1:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6841446c-3ae8-b08a-321c-3ddb53938d98.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e94eff981c26282cb6de7d0d5d00ad7e\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6841446c-3ae8-b08a-321c-3ddb53938d98.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e94eff981c26282cb6de7d0d5d00ad7e\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6841446c-3ae8-b08a-321c-3ddb53938d98.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e977a3116c2c1650e18179c469b4f071 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6841446c-3ae8-b08a-321c-3ddb53938d98.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"3:1-3:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"5:1-5:65\"\u003e本記事はUzabase Advent Calendar 2023の6日目の記事です\u003c/p\u003e\n\u003cp data-sourcepos=\"7:1-7:46\"\u003e\u003ciframe id=\"qiita-embed-content__5348100bb8a15c7f245b06aae0b503e2\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__5348100bb8a15c7f245b06aae0b503e2\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Fuzabase\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-10:144\"\u003e転職を経て、業務中のプログラミングは、\u003cstrong\u003eペアプログラミング\u003c/strong\u003e(ペアプロ)中心となりました。\u003cbr\u003e\nこのブログでは、ペアプロの実践を通じて感じたメリットとデメリット、そして心得について共有します。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"12:1-12:18\"\u003e\n\u003cspan id=\"ペアプとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%9A%E3%82%A2%E3%83%97%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eペアプとは\u003c/h2\u003e\n\u003cp data-sourcepos=\"14:1-15:171\"\u003eペアプロは、二人の開発者が一緒にコードを書く開発手法です。\u003cbr\u003e\n一人がコードを書く（ドライバー）、もう一人がそれをレビューし、提案をする（ナビゲーター）という役割分担が特徴です。\u003c/p\u003e\n\u003cp data-sourcepos=\"17:1-17:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6595f108-ea1d-2f57-4c32-ada525586de4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a15d41d7f29e6fb7e8729933e3968a79\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6595f108-ea1d-2f57-4c32-ada525586de4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a15d41d7f29e6fb7e8729933e3968a79\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6595f108-ea1d-2f57-4c32-ada525586de4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=da097a247b21d284442a266407424f80 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6595f108-ea1d-2f57-4c32-ada525586de4.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"19:1-19:27\"\u003e\n\u003cspan id=\"よく言われること\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%88%E3%81%8F%E8%A8%80%E3%82%8F%E3%82%8C%E3%82%8B%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eよく言われること\u003c/h2\u003e\n\u003cp data-sourcepos=\"21:1-21:95\"\u003e\u003cfont color=\"red\"\u003e\u003cstrong\u003e「二人で開発すると時間かかりすぎじゃない？」\u003c/strong\u003e\u003c/font\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"23:1-23:102\"\u003eこれはよく言われますし、私自身も経験する前はちょっと思っていました。\u003c/p\u003e\n\u003cp data-sourcepos=\"25:1-25:134\"\u003eペアプロのコストと利点についての論文\u003ccode\u003eThe Costs and Benefits of Pair Programming\u003c/code\u003eを読みながら考えてみます\u003c/p\u003e\n\u003cp data-sourcepos=\"27:1-27:63\"\u003e\u003ciframe id=\"qiita-embed-content__deb9bcca1fd88b49a6b6fe7039417b3f\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__deb9bcca1fd88b49a6b6fe7039417b3f\" data-content=\"https%3A%2F%2Fcollaboration.csc.ncsu.edu%2Flaurie%2FPapers%2FXPSardinia.PDF\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cdiv data-sourcepos=\"29:1-31:3\" class=\"note warn\"\u003e\n\u003cspan class=\"fa fa-fw fa-exclamation-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"30:1-30:108\"\u003e大学生ぶりに英訳しているので、ちょっと下手かもしれませんがご容赦ください\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003ch3 data-sourcepos=\"33:1-33:34\"\u003e\n\u003cspan id=\"コストは倍になるのか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%82%B9%E3%83%88%E3%81%AF%E5%80%8D%E3%81%AB%E3%81%AA%E3%82%8B%E3%81%AE%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコストは倍になるのか\u003c/h3\u003e\n\u003cp data-sourcepos=\"35:1-35:138\"\u003e論文の中で、アメリカのユタ大学で行われた対照実験について書かれた箇所にその答えがありました。\u003c/p\u003e\n\u003cblockquote data-sourcepos=\"37:1-40:124\"\u003e\n\u003cp data-sourcepos=\"37:3-37:246\"\u003eAfter the initial adjustment period in the first program (the “jelling” assignment), together the pairs only spent about 15% more time on the program than the individuals [4]. Development costs certainly do not double with pair programming!\u003c/p\u003e\n\u003cp data-sourcepos=\"39:3-40:124\"\u003e意訳) 最初の課題の調整時期(ジェリイング課題）の後、ペアプログラミングのみで課題に取り組んだペアは、一人で取り組んでいる生徒に比べて約15%しか多くの時間がかからなかった。ペアプログラミングによってコストが2倍になるわけではなかったのだ！\u003cbr\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fec95c03d-68f4-48cf-ef5a-c1d4adfb36e0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d8cf2b2055d5e30e68ae94cd73b4c7be\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fec95c03d-68f4-48cf-ef5a-c1d4adfb36e0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d8cf2b2055d5e30e68ae94cd73b4c7be\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fec95c03d-68f4-48cf-ef5a-c1d4adfb36e0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e2b736764386f7f197af06ba20561b98 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/ec95c03d-68f4-48cf-ef5a-c1d4adfb36e0.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp data-sourcepos=\"42:1-42:215\"\u003eつまりペアプログラミングによるコストは、一人でやるプログラミングに比べて\u003cfont color=\"red\"\u003e\u003cstrong\u003e倍になるのではなく、約15%だけ増える\u003c/strong\u003e\u003c/font\u003eということでした。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"44:1-44:28\"\u003e\n\u003cspan id=\"品質はどうなのか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%93%81%E8%B3%AA%E3%81%AF%E3%81%A9%E3%81%86%E3%81%AA%E3%81%AE%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e品質はどうなのか\u003c/h3\u003e\n\u003cp data-sourcepos=\"46:1-46:69\"\u003eこちらも同じ対照実験の結果に答えがありました。\u003c/p\u003e\n\u003cblockquote data-sourcepos=\"48:1-51:124\"\u003e\n\u003cp data-sourcepos=\"48:3-48:270\"\u003eSignificantly, the resulting code has about 15% fewer defects [4]. (These results are statistically significant.) Figure 2 shows the postdevelopment test cases the students passed for each program – essentially the percentage of the instructor’s test cases passed.\u003c/p\u003e\n\u003cp data-sourcepos=\"50:3-51:124\"\u003e意訳）結果としてコードの欠陥は15%減少しました。（これらの結果は統計的に有意です。）図2は、各課題開発後のテストケースをPassした割合を表しています。\u003cbr\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F308d1df2-c7b0-379e-26b2-197551e82cb1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d959c36617a0f715add1b84a0e43b302\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F308d1df2-c7b0-379e-26b2-197551e82cb1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d959c36617a0f715add1b84a0e43b302\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F308d1df2-c7b0-379e-26b2-197551e82cb1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=7ce9fa51b4e25ba2b4b17c942b6fa6f7 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/308d1df2-c7b0-379e-26b2-197551e82cb1.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp data-sourcepos=\"53:1-53:121\"\u003eペアプログラミングを行うと\u003cfont color=\"green\"\u003e\u003cstrong\u003e品質が15%向上する\u003c/strong\u003e\u003c/font\u003eということですね！\u003c/p\u003e\n\u003ch3 data-sourcepos=\"55:1-55:98\"\u003e\n\u003cspan id=\"でも15工数が増えて品質が15向上ってどうなの\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%A7%E3%82%8215%E5%B7%A5%E6%95%B0%E3%81%8C%E5%A2%97%E3%81%88%E3%81%A6%E5%93%81%E8%B3%AA%E3%81%8C15%E5%90%91%E4%B8%8A%E3%81%A3%E3%81%A6%E3%81%A9%E3%81%86%E3%81%AA%E3%81%AE\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cfont color=\"red\"\u003eでも15%工数が増えて、品質が15%向上ってどうなの？\u003c/font\u003e\n\u003c/h3\u003e\n\u003cp data-sourcepos=\"57:1-58:60\"\u003e当然その疑問は出てくると思います。\u003cbr\u003e\nこれも論文の中に答えが書いてありました。\u003c/p\u003e\n\u003cp data-sourcepos=\"60:1-60:26\"\u003e(ちょっと長いです)\u003c/p\u003e\n\u003cblockquote data-sourcepos=\"62:1-66:454\"\u003e\n\u003cp data-sourcepos=\"62:3-63:430\"\u003eThe initial 15% increase in code development expense is recovered in the reduction in defects, as the following example illustrates. Let a program of 50,000 lines of code (LOC) be developed by a group of individual programmers and by a group of collaborative programmers. At a typical rate of 50 LOC/hour, the individuals will develop this code in 1000 hours. It will  take the pairs 15% longer or 1150 hours -- a cost of 150 hours. Based on representative statistics reported in [7], programmers inject 100 defects per thousand lines of code. A thorough development process removes approximately 70% of these defects. Therefore, the individuals would be expected to have 1,500 defects remaining in their program; collaborators would have 15% less or 1,275 – 225 less defects.\u003cbr\u003e\nIn some organizations, developers’ code is passed to a test or quality assurance department, which finds and fixes many of the remaining defects. Typically, in systems test it takes between four [7] and 16 [8] hours per defect. Using a fairly conservative factor of 10 hours/defect, if testing finds these “extra” 225 defects they will spend 2,250 hours – fifteen times more than the collaborators “extra” 150 hours!\u003c/p\u003e\n\u003cp data-sourcepos=\"65:3-66:454\"\u003e意訳）開発工数の15%の増加は、次の例が示すように、欠陥の減少(品質の向上)によって回収されます。例えば、50,000行のコード(LOC)のプログラミングを一人で開発するグループと、ペアプログラミングで開発するグループに分けるとします。50LOC/hで開発が進むとすると、個人で開発する場合は1000時間で開発することになります。ペアプログラミングの場合は15%長い1,150時間(150時間のコスト増)がかかることになります。一般的な統計によると、プログラマーは1,000行のコードにつき100個の欠陥を注入します。開発プロセスの中でこれらの約70%が除去されます。したがって、個人で開発する場合は1,500個の欠陥が残ると予想され、ペアプログラミングの場合は15%少ない、1,275個(225個少ない)の欠陥が残ると予想されます。\u003cbr\u003e\nいくつかの組織では、開発者のコードはテスト部門や品質向上部門に渡され、残りの欠陥を発見、修正されます。一般的にシステムテストの中で、欠陥一つにつき4時間から16時間の時間を必要とします。1つの欠陥につき10時間の必要を要するとすると、225個の欠陥は2250時間の時間を必要とし、これは増加した工数(150時間)の15倍になる！\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp data-sourcepos=\"68:1-68:190\"\u003eつまり中長期的に見たら\u003cfont color=\"green\"\u003e\u003cstrong\u003e15%の品質増加は15%の工数増加のデメリットを大きく上回るメリットになる\u003c/strong\u003e\u003c/font\u003eということですね！\u003c/p\u003e\n\u003ch2 data-sourcepos=\"70:1-70:30\"\u003e\n\u003cspan id=\"ペアプロのメリット\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%9A%E3%82%A2%E3%83%97%E3%83%AD%E3%81%AE%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eペアプロのメリット\u003c/h2\u003e\n\u003cul data-sourcepos=\"72:1-77:0\"\u003e\n\u003cli data-sourcepos=\"72:1-72:72\"\u003e一人で開発するよりも\u003cfont color=\"green\"\u003e\u003cstrong\u003e楽しい\u003c/strong\u003e\u003c/font\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"73:1-73:69\"\u003e一人で開発するよりも\u003cfont color=\"green\"\u003e\u003cstrong\u003e速い\u003c/strong\u003e\u003c/font\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"74:1-74:81\"\u003e一人で開発するよりも\u003cfont color=\"green\"\u003e\u003cstrong\u003eリスクが低い\u003c/strong\u003e\u003c/font\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"75:1-75:84\"\u003e一人で開発するよりも\u003cfont color=\"green\"\u003e\u003cstrong\u003e学びが得られる\u003c/strong\u003e\u003c/font\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"76:1-77:0\"\u003e一人で開発するよりも\u003cfont color=\"green\"\u003e\u003cstrong\u003eコミュニケーション\u003c/strong\u003e\u003c/font\u003eが取れる\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"78:1-78:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3c715308-630d-2e6a-ec97-b67cc7e589cd.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=1b3688f583be388d3b6592e4ba879504\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3c715308-630d-2e6a-ec97-b67cc7e589cd.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=1b3688f583be388d3b6592e4ba879504\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3c715308-630d-2e6a-ec97-b67cc7e589cd.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=6a486abf1e9cc44d806484cdc5f22de3 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3c715308-630d-2e6a-ec97-b67cc7e589cd.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"80:1-80:33\"\u003e\n\u003cspan id=\"ペアプロのデメリット\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%9A%E3%82%A2%E3%83%97%E3%83%AD%E3%81%AE%E3%83%87%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eペアプロのデメリット\u003c/h2\u003e\n\u003cul data-sourcepos=\"81:1-82:0\"\u003e\n\u003cli data-sourcepos=\"81:1-82:0\"\u003e\n\u003cfont color=\"red\"\u003e\u003cstrong\u003e特にない!!\u003c/strong\u003e\u003c/font\u003eと書きたいところですが、気を付けるポイントはあると思います\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 data-sourcepos=\"83:1-83:35\"\u003e\n\u003cspan id=\"-気を付けるポイント\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#-%E6%B0%97%E3%82%92%E4%BB%98%E3%81%91%E3%82%8B%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e◇ 気を付けるポイント\u003c/h3\u003e\n\u003cp data-sourcepos=\"85:1-85:67\"\u003e\u003cstrong\u003eなんでもかんでもペアプログラミングにしない\u003c/strong\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"87:1-88:60\"\u003e先ほど説明したように15%の工数が増えます。単純なタスクで、だれがやっても欠陥が出ないようなものであれば一人で進めてもよいでしょう。\u003cbr\u003e\n（ただしその判断はチームで行うべきです）\u003c/p\u003e\n\u003ch2 data-sourcepos=\"90:1-90:42\"\u003e\n\u003cspan id=\"ペアプロの心得特に新人\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%9A%E3%82%A2%E3%83%97%E3%83%AD%E3%81%AE%E5%BF%83%E5%BE%97%E7%89%B9%E3%81%AB%E6%96%B0%E4%BA%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eペアプロの心得（特に新人）\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"93:1-93:64\"\u003e\n\u003cspan id=\"心得1-分からないならばドライバーは譲るな\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%BF%83%E5%BE%971-%E5%88%86%E3%81%8B%E3%82%89%E3%81%AA%E3%81%84%E3%81%AA%E3%82%89%E3%81%B0%E3%83%89%E3%83%A9%E3%82%A4%E3%83%90%E3%83%BC%E3%81%AF%E8%AD%B2%E3%82%8B%E3%81%AA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e心得1: 分からないならばドライバーは譲るな\u003c/h3\u003e\n\u003cp data-sourcepos=\"95:1-96:129\"\u003e私は変数定義の方法すら知らない言語でもドライバーをやります。\u003cbr\u003e\n知らない技術ほど積極的にドライバーとして参加することで学びを早く深めることができます。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"98:1-98:34\"\u003e\n\u003cspan id=\"心得2-傍観者になるな\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%BF%83%E5%BE%972-%E5%82%8D%E8%A6%B3%E8%80%85%E3%81%AB%E3%81%AA%E3%82%8B%E3%81%AA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e心得2: 傍観者になるな\u003c/h3\u003e\n\u003cp data-sourcepos=\"100:1-101:138\"\u003eナビゲーターはただ見ているだけでなく、ドライバーをサポートするべきです。\u003cbr\u003e\n「はい。じゃあ次書いて」と言われてすぐ書き始められるような参加の仕方をするとよいと思います。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"103:1-103:31\"\u003e\n\u003cspan id=\"心得3-疑問を残すな\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%BF%83%E5%BE%973-%E7%96%91%E5%95%8F%E3%82%92%E6%AE%8B%E3%81%99%E3%81%AA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e心得3: 疑問を残すな\u003c/h3\u003e\n\u003cp data-sourcepos=\"105:1-108:57\"\u003eちょっとの疑問も残さないようにしましょう。\u003cbr\u003e\n\u003cimg alt=\":no_entry_sign:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f6ab.png\" title=\":no_entry_sign:\" width=\"20\" loading=\"lazy\"\u003e 「ちょっとわからなかったから後で調べよう」はNGです。\u003cbr\u003e\nその場で解消し、パートナーとともに成長しましょう。\u003cbr\u003e\n説明する側も新しい発見があるものです。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"111:1-111:55\"\u003e\n\u003cspan id=\"心得4-コミュニケーションを徹底する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%BF%83%E5%BE%974-%E3%82%B3%E3%83%9F%E3%83%A5%E3%83%8B%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E5%BE%B9%E5%BA%95%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e心得4: コミュニケーションを徹底する\u003c/h3\u003e\n\u003cp data-sourcepos=\"113:1-115:66\"\u003eペアプロはコミュニケーションが鍵です。\u003cbr\u003e\n常に意見を交換しましょう。\u003cbr\u003e\n話し過ぎて疲れるくらいがベストだと思います。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"117:1-117:12\"\u003e\n\u003cspan id=\"最後に\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e最後に\u003c/h2\u003e\n\u003cp data-sourcepos=\"119:1-120:138\"\u003eペアプロは単なる開発手法以上の効果があると思います。\u003cbr\u003e\n高品質なコード、チームワーク、コミュニケーションスキルの向上など、多くの利益をもたらします。\u003c/p\u003e\n\u003cp data-sourcepos=\"122:1-122:156\"\u003e個人で開発をしているチームは試しに一つの機能の開発をペアプログラミングで進めてみるのはいかがでしょうか？\u003c/p\u003e\n\u003cp data-sourcepos=\"124:1-124:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbc6f82a3-11ee-fb06-07f9-569ea27ddea4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a3ef3e15b1e14ac6b2a35b2a156ce501\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbc6f82a3-11ee-fb06-07f9-569ea27ddea4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a3ef3e15b1e14ac6b2a35b2a156ce501\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbc6f82a3-11ee-fb06-07f9-569ea27ddea4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=f9f198474a1fd41869442dcb9a7a2e7c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/bc6f82a3-11ee-fb06-07f9-569ea27ddea4.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n",
    "body": "![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6841446c-3ae8-b08a-321c-3ddb53938d98.png)\n\n## はじめに\n\n本記事はUzabase Advent Calendar 2023の6日目の記事です\n\nhttps://qiita.com/advent-calendar/2023/uzabase\n\n転職を経て、業務中のプログラミングは、**ペアプログラミング**(ペアプロ)中心となりました。\nこのブログでは、ペアプロの実践を通じて感じたメリットとデメリット、そして心得について共有します。\n\n## ペアプとは\n\nペアプロは、二人の開発者が一緒にコードを書く開発手法です。\n一人がコードを書く（ドライバー）、もう一人がそれをレビューし、提案をする（ナビゲーター）という役割分担が特徴です。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6595f108-ea1d-2f57-4c32-ada525586de4.png)\n\n## よく言われること\n\n\u003cfont color=\"red\"\u003e**「二人で開発すると時間かかりすぎじゃない？」**\u003c/font\u003e\n\nこれはよく言われますし、私自身も経験する前はちょっと思っていました。\n\nペアプロのコストと利点についての論文`The Costs and Benefits of Pair Programming`を読みながら考えてみます\n\nhttps://collaboration.csc.ncsu.edu/laurie/Papers/XPSardinia.PDF\n\n:::note warn\n大学生ぶりに英訳しているので、ちょっと下手かもしれませんがご容赦ください\n:::\n\n### コストは倍になるのか\n\n論文の中で、アメリカのユタ大学で行われた対照実験について書かれた箇所にその答えがありました。\n\n\u003e After the initial adjustment period in the first program (the “jelling” assignment), together the pairs only spent about 15% more time on the program than the individuals [4]. Development costs certainly do not double with pair programming!\n\u003e \n\u003e 意訳) 最初の課題の調整時期(ジェリイング課題）の後、ペアプログラミングのみで課題に取り組んだペアは、一人で取り組んでいる生徒に比べて約15%しか多くの時間がかからなかった。ペアプログラミングによってコストが2倍になるわけではなかったのだ！\n\u003e ![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/ec95c03d-68f4-48cf-ef5a-c1d4adfb36e0.png)\n\nつまりペアプログラミングによるコストは、一人でやるプログラミングに比べて\u003cfont color=\"red\"\u003e**倍になるのではなく、約15%だけ増える**\u003c/font\u003eということでした。\n\n### 品質はどうなのか\n\nこちらも同じ対照実験の結果に答えがありました。\n\n\u003e Significantly, the resulting code has about 15% fewer defects [4]. (These results are statistically significant.) Figure 2 shows the postdevelopment test cases the students passed for each program – essentially the percentage of the instructor’s test cases passed.\n\u003e \n\u003e 意訳）結果としてコードの欠陥は15%減少しました。（これらの結果は統計的に有意です。）図2は、各課題開発後のテストケースをPassした割合を表しています。\n\u003e ![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/308d1df2-c7b0-379e-26b2-197551e82cb1.png)\n\nペアプログラミングを行うと\u003cfont color=\"green\"\u003e**品質が15%向上する**\u003c/font\u003eということですね！\n\n### \u003cfont color=\"red\"\u003eでも15%工数が増えて、品質が15%向上ってどうなの？\u003c/font\u003e\n\n当然その疑問は出てくると思います。\nこれも論文の中に答えが書いてありました。\n\n(ちょっと長いです)\n\n\u003e The initial 15% increase in code development expense is recovered in the reduction in defects, as the following example illustrates. Let a program of 50,000 lines of code (LOC) be developed by a group of individual programmers and by a group of collaborative programmers. At a typical rate of 50 LOC/hour, the individuals will develop this code in 1000 hours. It will  take the pairs 15% longer or 1150 hours -- a cost of 150 hours. Based on representative statistics reported in [7], programmers inject 100 defects per thousand lines of code. A thorough development process removes approximately 70% of these defects. Therefore, the individuals would be expected to have 1,500 defects remaining in their program; collaborators would have 15% less or 1,275 – 225 less defects.\n\u003e In some organizations, developers’ code is passed to a test or quality assurance department, which finds and fixes many of the remaining defects. Typically, in systems test it takes between four [7] and 16 [8] hours per defect. Using a fairly conservative factor of 10 hours/defect, if testing finds these “extra” 225 defects they will spend 2,250 hours – fifteen times more than the collaborators “extra” 150 hours!\n\u003e \n\u003e 意訳）開発工数の15%の増加は、次の例が示すように、欠陥の減少(品質の向上)によって回収されます。例えば、50,000行のコード(LOC)のプログラミングを一人で開発するグループと、ペアプログラミングで開発するグループに分けるとします。50LOC/hで開発が進むとすると、個人で開発する場合は1000時間で開発することになります。ペアプログラミングの場合は15%長い1,150時間(150時間のコスト増)がかかることになります。一般的な統計によると、プログラマーは1,000行のコードにつき100個の欠陥を注入します。開発プロセスの中でこれらの約70%が除去されます。したがって、個人で開発する場合は1,500個の欠陥が残ると予想され、ペアプログラミングの場合は15%少ない、1,275個(225個少ない)の欠陥が残ると予想されます。\n\u003e いくつかの組織では、開発者のコードはテスト部門や品質向上部門に渡され、残りの欠陥を発見、修正されます。一般的にシステムテストの中で、欠陥一つにつき4時間から16時間の時間を必要とします。1つの欠陥につき10時間の必要を要するとすると、225個の欠陥は2250時間の時間を必要とし、これは増加した工数(150時間)の15倍になる！\n\nつまり中長期的に見たら\u003cfont color=\"green\"\u003e**15%の品質増加は15%の工数増加のデメリットを大きく上回るメリットになる**\u003c/font\u003eということですね！\n\n## ペアプロのメリット\n\n- 一人で開発するよりも\u003cfont color=\"green\"\u003e**楽しい**\u003c/font\u003e\n- 一人で開発するよりも\u003cfont color=\"green\"\u003e**速い**\u003c/font\u003e\n- 一人で開発するよりも\u003cfont color=\"green\"\u003e**リスクが低い**\u003c/font\u003e\n- 一人で開発するよりも\u003cfont color=\"green\"\u003e**学びが得られる**\u003c/font\u003e\n- 一人で開発するよりも\u003cfont color=\"green\"\u003e**コミュニケーション**\u003c/font\u003eが取れる\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3c715308-630d-2e6a-ec97-b67cc7e589cd.png)\n\n## ペアプロのデメリット\n- \u003cfont color=\"red\"\u003e**特にない!!**\u003c/font\u003eと書きたいところですが、気を付けるポイントはあると思います\n\n### ◇ 気を付けるポイント\n\n**なんでもかんでもペアプログラミングにしない**\n\n先ほど説明したように15%の工数が増えます。単純なタスクで、だれがやっても欠陥が出ないようなものであれば一人で進めてもよいでしょう。\n（ただしその判断はチームで行うべきです）\n\n## ペアプロの心得（特に新人）\n\n\n### 心得1: 分からないならばドライバーは譲るな\n\n私は変数定義の方法すら知らない言語でもドライバーをやります。\n知らない技術ほど積極的にドライバーとして参加することで学びを早く深めることができます。\n\n### 心得2: 傍観者になるな\n\nナビゲーターはただ見ているだけでなく、ドライバーをサポートするべきです。\n「はい。じゃあ次書いて」と言われてすぐ書き始められるような参加の仕方をするとよいと思います。\n\n### 心得3: 疑問を残すな\n\nちょっとの疑問も残さないようにしましょう。\n:no_entry_sign: 「ちょっとわからなかったから後で調べよう」はNGです。\nその場で解消し、パートナーとともに成長しましょう。\n説明する側も新しい発見があるものです。\n\n\n### 心得4: コミュニケーションを徹底する\n\nペアプロはコミュニケーションが鍵です。\n常に意見を交換しましょう。\n話し過ぎて疲れるくらいがベストだと思います。\n\n## 最後に\n\nペアプロは単なる開発手法以上の効果があると思います。\n高品質なコード、チームワーク、コミュニケーションスキルの向上など、多くの利益をもたらします。\n\n個人で開発をしているチームは試しに一つの機能の開発をペアプログラミングで進めてみるのはいかがでしょうか？\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/bc6f82a3-11ee-fb06-07f9-569ea27ddea4.png)\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-12-01T08:17:17+09:00",
    "group": null,
    "id": "49dc7e395cf509282768",
    "likes_count": 12,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 5,
    "tags": [{ "name": "ペアプログラミング", "versions": [] }],
    "title": "ペアプログラミングってどうなの？という方へ",
    "updated_at": "2023-12-06T07:01:20+09:00",
    "url": "https://qiita.com/maaaashi/items/49dc7e395cf509282768",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": "uzabase",
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-3:131\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd956353b-516f-b171-27e4-ed53370fae86.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3c36b5a4f353f2fed2cc20c4bbcb97a0\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd956353b-516f-b171-27e4-ed53370fae86.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3c36b5a4f353f2fed2cc20c4bbcb97a0\" alt=\"スライド13.PNG\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd956353b-516f-b171-27e4-ed53370fae86.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c6e365b48fffe05297dd7af9c7177c7a 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/d956353b-516f-b171-27e4-ed53370fae86.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr data-sourcepos=\"5:1-6:0\"\u003e\n\u003cp data-sourcepos=\"7:1-7:58\"\u003e\u003cstrong\u003e2023年アドベントカレンダー12日目\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:52\"\u003e\u003ciframe id=\"qiita-embed-content__2ea73339eee5a7176a4f9573d01c765c\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__2ea73339eee5a7176a4f9573d01c765c\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-11:117\"\u003e現在「ユーザーはトップページでブログの一覧を見ることができる」を進めています。\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2fc8082f717e35f5591d5288c9297e53\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2fc8082f717e35f5591d5288c9297e53\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5cfd5a99328c75d5bd883ebfed8d9ea0 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"15:1-16:54\"\u003e前回はクリーンアーキテクチャに基づいてクラス設計を行いました。\u003cbr\u003e\n今回はそれをもとに実装していきます。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"18:1-18:6\"\u003e\n\u003cspan id=\"web\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#web\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eWeb\u003c/h2\u003e\n\u003cp data-sourcepos=\"20:1-20:120\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F56b7b0b5-fc17-82aa-fe2f-8b96ce610bff.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ee978ef6f9650d99bfd60a82b24527d5\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F56b7b0b5-fc17-82aa-fe2f-8b96ce610bff.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ee978ef6f9650d99bfd60a82b24527d5\" alt=\"Web.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F56b7b0b5-fc17-82aa-fe2f-8b96ce610bff.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b7dbd23410561ec000216daed927d6fb 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/56b7b0b5-fc17-82aa-fe2f-8b96ce610bff.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"22:1-22:102\"\u003eいったんはスタイルを無視して、E2Eテストが通る最低限を目指してみます。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"24:1-24:9\"\u003e\n\u003cspan id=\"state\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#state\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eState\u003c/h3\u003e\n\u003cdetails\u003e\u003csummary\u003eatoms/BlogsState\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"ts\" data-sourcepos=\"28:1-44:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eatoms/BlogsState\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eatom\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003erecoil\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogState\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003econstructor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogsState\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eatom\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eBlogState\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eblogsState\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003edefault\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[],\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/details\u003e\n\u003ch3 data-sourcepos=\"47:1-47:13\"\u003e\n\u003cspan id=\"component\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#component\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eComponent\u003c/h3\u003e\n\u003cdetails\u003e\u003csummary\u003eBlogs.tsx\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"51:1-89:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eBlogs.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003euse client\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogsState\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/atoms/BlogsState\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eReact\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003euseEffect\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ereact\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003euseRecoilValue\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003erecoil\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBsArrowRightCircle\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ereact-icons/bs\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003euseBlogUsecase\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/usecase/BlogUsecase\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogDriver\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/driver/BlogDriver\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogGateway\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/gateway/BlogGateway\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003euseBlogPresenter\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/presenter/BlogPresenter\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003euseRecoilValue\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eblogsState\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogDriver\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogDriver\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogGateway\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogGateway\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eblogDriver\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogPresenter\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003euseBlogPresenter\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eload\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003euseBlogUsecase\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eblogGateway\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogPresenter\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003euseEffect\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003eload\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"p\"\u003e[])\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003ereturn \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'flex flex-col gap-4'\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003eblog\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eindex\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003eindex\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'flex flex-col blog-card'\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'bg-stone-100 p-6 rounded-xl flex justify-between items-center'\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003eblog\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eBsArrowRightCircle\u003c/span\u003e \u003cspan class=\"na\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e35\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'self-end'\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003eblog\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/details\u003e\n\u003ch2 data-sourcepos=\"92:1-92:10\"\u003e\n\u003cspan id=\"usecase\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#usecase\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eUsecase\u003c/h2\u003e\n\u003cp data-sourcepos=\"94:1-94:124\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F535a54ef-c7a3-a87c-2555-963b3eb6d59f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=46aee564f2489905ed05b45a145b9a8e\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F535a54ef-c7a3-a87c-2555-963b3eb6d59f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=46aee564f2489905ed05b45a145b9a8e\" alt=\"Usecase.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F535a54ef-c7a3-a87c-2555-963b3eb6d59f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=703852ffd18e82c9aaa51f206b37dfb3 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/535a54ef-c7a3-a87c-2555-963b3eb6d59f.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"96:1-96:82\"\u003e\u003cstrong\u003eユースケースのみ実装までの流れを詳細に載せていきます\u003c/strong\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"98:1-99:51\"\u003eこのUsecaseでは、\u003ccode\u003eInputPort\u003c/code\u003eから取得したBlogデータを\u003ccode\u003eOutputPort\u003c/code\u003eに渡すことをしたいので、\u003cbr\u003e\n↓のようなアサーションになります。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"101:1-121:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003edescribe\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003etest\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eexpect\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@jest/globals\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"nf\"\u003edescribe\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBlog Usecase\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003etest\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003einputPortで受け取ったドメインオブジェクトを、outputPortに渡していること\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n      \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogTitle\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecasual\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogAuthor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecasual\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogBody\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecasual\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003esentences\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e)),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogDate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eDate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecasual\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eYYYY-MM-DDThh:mm:ssZ\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// inputPortのgetが呼ばれていること\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003emockBlogInputPort\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"kd\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003etoHaveBeenCalled\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// outputPortのstoreがblogsを引数に呼ばれていること\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003emockBlogOutputPort\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003estore\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003etoHaveBeenCalledWith\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"123:1-123:60\"\u003e次に\u003ccode\u003eUsecase\u003c/code\u003eの\u003ccode\u003eload\u003c/code\u003eメソッドを呼び出します。\u003c/p\u003e\n\u003cp data-sourcepos=\"125:1-126:131\"\u003e今回は、\u003ccode\u003eUsecase\u003c/code\u003eをカスタムフックで作りたいと考えているので、\u003cbr\u003e\n\u003ccode\u003e@testing-library/react\u003c/code\u003eの\u003ccode\u003erenderHook\u003c/code\u003e, \u003ccode\u003eact\u003c/code\u003eを使って、Jest内でカスタムフックを呼び出したいと思います。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"128:1-130:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003enpm \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e \u003cspan class=\"nt\"\u003e--save-dev\u003c/span\u003e @testing-library/react\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"diff_tsx\" data-sourcepos=\"132:1-161:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eact\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003erenderHook\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@testing-library/react\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003euseBlogUsecase\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/usecase/BlogUsecase\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"nf\"\u003edescribe\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBlog Usecase\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003etest\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003einputPortで受け取ったドメインオブジェクトを、outputPortに渡していること\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n      \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogTitle\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecasual\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogAuthor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecasual\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogBody\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecasual\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003esentences\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e)),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogDate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eDate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecasual\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eYYYY-MM-DDThh:mm:ssZ\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogUsecase\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003erenderHook\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e    \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nf\"\u003euseBlogUsecase\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e      \u003cspan class=\"na\"\u003ewrapper\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eRecoilRoot\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nf\"\u003eact\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e    \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogUsecase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecurrent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eload\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/span\u003e  \n    \u003cspan class=\"nf\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003emockBlogInputPort\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"kd\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003etoHaveBeenCalled\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003emockBlogOutputPort\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003estore\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003etoHaveBeenCalledWith\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"163:1-164:108\"\u003eここまできたら、インポートのエラーが出ているので、\u003ccode\u003euseBlogUsecase\u003c/code\u003eを作成します。\u003cbr\u003e\nただし、実装はまだしません。あくまで、インポートのエラーを消すためです。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"166:1-174:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/usecase/blogUsecase.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003euseBlogUsecase\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eload\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethrow\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eError\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e未実装\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eload\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"176:1-176:36\"\u003eテストを実行してみます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"178:1-185:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e FAIL  tests/usecase/BlogUsecase.test.tsx\n  ● Blog Usecase › inputPortで受け取ったドメインオブジェクトを、outputPortに渡していること\n\n    未実装\n\nTest Suites: 1 failed, 0 passed, 1 total\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"187:1-188:25\"\u003e未実装でテストが失敗しました。\u003cbr\u003e\n\u003cstrong\u003e予定通りですね\u003c/strong\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"190:1-190:57\"\u003e次にモックをテストに追加していきます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"diff_tsx\" data-sourcepos=\"192:1-230:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003etests/usecase/blogUsecase.test.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003edescribe\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003etest\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ejest\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@jest/globals\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlog\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogAuthor\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogBody\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogDate\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogTitle\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/domain/Blog\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003ecasual\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ecasual\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogInputPort\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogOutputPort\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/usecase/port/BlogUsecasePort\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"nf\"\u003edescribe\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBlog Usecase\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003etest\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003einputPortで受け取ったドメインオブジェクトを、outputPortに渡していること\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n      \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogTitle\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecasual\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogAuthor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecasual\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogBody\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecasual\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003esentences\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e)),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogDate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eDate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecasual\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eYYYY-MM-DDThh:mm:ssZ\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)))\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e]\u003c/span\u003e\n \n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003emockBlogInputPort\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e \u003cspan class=\"kd\"\u003eas \u003c/span\u003e\u003cspan class=\"nx\"\u003eBlogInputPort\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"nx\"\u003emockBlogInputPort\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"kd\"\u003eget\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ejest\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003efn\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003emockBlogOutputPort\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e \u003cspan class=\"kd\"\u003eas \u003c/span\u003e\u003cspan class=\"nx\"\u003eBlogOutputPort\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"nx\"\u003emockBlogOutputPort\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003estore\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ejest\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003efn\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"na\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlog\u003c/span\u003e\u003cspan class=\"p\"\u003e[])\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{})\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\n\u003c/span\u003e    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogUsecase\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003erenderHook\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003cspan class=\"hdl\"\u003e\u003cspan class=\"o\"\u003e- \u003c/span\u003e    \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nf\"\u003euseBlogUsecase\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e    \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nf\"\u003euseBlogUsecase\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003emockBlogInputPort\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003emockBlogOutputPort\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n\u003c/span\u003e      \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"na\"\u003ewrapper\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eRecoilRoot\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nf\"\u003eact\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogUsecase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecurrent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eload\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n    \u003cspan class=\"nf\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003emockBlogInputPort\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"kd\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003etoHaveBeenCalled\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003emockBlogOutputPort\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003estore\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003etoHaveBeenCalledWith\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"232:1-232:61\"\u003eここまで来たらUsecaseの実装をしていきます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"diff_tsx\" data-sourcepos=\"234:1-244:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/usecase/blogUsecase.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003euseBlogUsecase\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eload\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"hdl\"\u003e\u003cspan class=\"o\"\u003e- \u003c/span\u003e  \u003cspan class=\"k\"\u003ethrow\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eError\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e未実装\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003einputPort\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"nx\"\u003eoutputPort\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003estore\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eload\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"246:1-246:10\"\u003e\n\u003cspan id=\"gateway\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#gateway\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGateway\u003c/h2\u003e\n\u003cp data-sourcepos=\"248:1-248:124\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F702c9c00-5a61-6192-0eb5-28324cb3098a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5441dd0c1f08f5cbde1d21233b191a43\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F702c9c00-5a61-6192-0eb5-28324cb3098a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5441dd0c1f08f5cbde1d21233b191a43\" alt=\"Gateway.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F702c9c00-5a61-6192-0eb5-28324cb3098a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5af3c3a546b98bec2dc57964ca0f78a2 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/702c9c00-5a61-6192-0eb5-28324cb3098a.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"250:1-250:155\"\u003eこのGatewayでは、\u003ccode\u003eblogsDriver\u003c/code\u003eから取得したデータをドメインオブジェクトに変換し、\u003ccode\u003eUsecase\u003c/code\u003eに返すことを目指します。\u003c/p\u003e\n\u003cp data-sourcepos=\"252:1-252:116\"\u003eこのようにすることで、外の世界(Driver)から、中の世界(Usecase)を守ることができます。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"254:1-254:13\"\u003e\n\u003cspan id=\"テスト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%86%E3%82%B9%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eテスト\u003c/h3\u003e\n\u003cdetails\u003e\u003csummary\u003eBlogGateway.test.ts\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"258:1-300:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlog\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogAuthor\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogBody\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogDate\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogTitle\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/domain/Blog\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogBlogJson\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogDriver\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogJson\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/driver/BlogDriver\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogGateway\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/gateway/BlogGateway\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003edescribe\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003etest\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ejest\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@jest/globals\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003ecasual\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ecasual\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"nf\"\u003edescribe\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBlog Gateway\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003etest\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eblogs get\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003etitleValue\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ecasual\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eword\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eauthorValue\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ecasual\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ebodyValue\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ecasual\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003esentence\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreatedAtValue\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ecasual\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eYYYY-MM-DD\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"na\"\u003eexpected\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlog\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n      \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogTitle\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003etitleValue\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogAuthor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eauthorValue\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogBody\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ebodyValue\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogDate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eDate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecreatedAtValue\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003emockDriver\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e \u003cspan class=\"kd\"\u003eas \u003c/span\u003e\u003cspan class=\"nx\"\u003eBlogDriver\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003emockDriver\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"kd\"\u003eget\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ejest\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003efn\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n      \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogJson\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\n          \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogBlogJson\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003etitleValue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003eauthorValue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"nx\"\u003ebodyValue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eDate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecreatedAtValue\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e),\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e])\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003etarget\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogGateway\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003emockDriver\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eactual\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003etarget\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n    \u003cspan class=\"nf\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eactual\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003etoStrictEqual\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eexpected\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/details\u003e\n\u003ch3 data-sourcepos=\"304:1-304:10\"\u003e\n\u003cspan id=\"実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装\u003c/h3\u003e\n\u003cdetails\u003e\u003csummary\u003eBlogGateway.ts\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"308:1-329:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlog\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogAuthor\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogBody\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogDate\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogTitle\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/domain/Blog\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogDriver\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/driver/BlogDriver\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogInputPort\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/usecase/port/BlogUsecasePort\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogGateway\u003c/span\u003e \u003cspan class=\"k\"\u003eimplements\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogInputPort\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003econstructor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogDriver\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogDriver\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e():\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eBlog\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogJson\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eblogDriver\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogJson\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e({\u003c/span\u003e \u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreatedAt\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n          \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogTitle\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n          \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogAuthor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n          \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogBody\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n          \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogDate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eDate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/details\u003e\n\u003ch2 data-sourcepos=\"334:1-334:9\"\u003e\n\u003cspan id=\"driver\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#driver\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eDriver\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"336:1-336:10\"\u003e\n\u003cspan id=\"実装-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装\u003c/h3\u003e\n\u003cdetails\u003e\u003csummary\u003eBlogDriver.ts\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"340:1-372:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eGetBlogsDocument\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eGetBlogsQuery\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/graphql/generated\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eApolloClient\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/lib/ApolloClient\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogDriver\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e():\u003c/span\u003e \u003cspan class=\"nb\"\u003ePromise\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eBlogJson\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eclient\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eApolloClient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eclient\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003eclient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003equery\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eGetBlogsQuery\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n      \u003cspan class=\"na\"\u003equery\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eGetBlogsDocument\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogJson\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e({\u003c/span\u003e \u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreatedAt\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogBlogJson\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eDate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogJson\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003econstructor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogBlogJson\u003c/span\u003e\u003cspan class=\"p\"\u003e[])\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogBlogJson\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003econstructor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eDate\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/details\u003e\n\u003ch2 data-sourcepos=\"376:1-376:12\"\u003e\n\u003cspan id=\"presenter\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#presenter\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ePresenter\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"378:1-378:13\"\u003e\n\u003cspan id=\"テスト-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%86%E3%82%B9%E3%83%88-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eテスト\u003c/h3\u003e\n\u003cdetails\u003e\u003csummary\u003eBlogPresenter.test.tsx\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"382:1-422:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogState\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogsState\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogsState\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/atoms/BlogsState\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlog\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogAuthor\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogBody\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogDate\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogTitle\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/domain/Blog\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003euseBlogPresenter\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/presenter/BlogPresenter\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003edescribe\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003etest\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ejest\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@jest/globals\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eact\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003erenderHook\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@testing-library/react\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eReactNode\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ereact\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eRecoilRoot\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003euseRecoilValue\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003erecoil\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"nf\"\u003edescribe\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBlog Presenter\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003etest\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003estore the parameter to the state\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ewrapper\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e({\u003c/span\u003e \u003cspan class=\"nx\"\u003echildren\u003c/span\u003e \u003cspan class=\"p\"\u003e}:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003echildren\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eReactNode\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eRecoilRoot\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003echildren\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nc\"\u003eRecoilRoot\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n      \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogTitle\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003etitle\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogAuthor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eauthor\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogBody\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ebody\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n        \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogDate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eDate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e2021-12-01 09:00:00\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eresult\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003erenderHook\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003estore\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003euseBlogPresenter\u003c/span\u003e\u003cspan class=\"p\"\u003e().\u003c/span\u003e\u003cspan class=\"nx\"\u003estore\u003c/span\u003e\n        \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogsValue\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003euseRecoilValue\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eblogsState\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003estore\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogsValue\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003ewrapper\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003eact\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecurrent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003estore\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eexpected\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogsState\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\n      \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogState\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003etitle\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eauthor\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ebody\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e2021/12/01 09:00:00\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e])\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresult\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecurrent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eblogsValue\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003etoStrictEqual\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eexpected\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/details\u003e\n\u003ch3 data-sourcepos=\"426:1-426:10\"\u003e\n\u003cspan id=\"実装-2\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85-2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装\u003c/h3\u003e\n\u003cdetails\u003e\u003csummary\u003eBlogPresenter.tsx\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"430:1-455:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogState\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogsState\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eblogsState\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/atoms/BlogsState\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlog\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/domain/Blog\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogOutputPort\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/usecase/port/BlogUsecasePort\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003euseSetRecoilState\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003erecoil\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003euseBlogPresenter\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e():\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogOutputPort\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003esetBlogs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003euseSetRecoilState\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eblogsState\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003estore\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"na\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlog\u003c/span\u003e\u003cspan class=\"p\"\u003e[])\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003esetBlogs\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n      \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogsState\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n        \u003cspan class=\"nx\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eblog\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlogState\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n              \u003cspan class=\"nx\"\u003eblog\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n              \u003cspan class=\"nx\"\u003eblog\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n              \u003cspan class=\"nx\"\u003eblog\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n              \u003cspan class=\"nx\"\u003eblog\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eformatted\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003estore\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/details\u003e\n\u003ch2 data-sourcepos=\"458:1-458:7\"\u003e\n\u003cspan id=\"done\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#done\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eDone\u003c/h2\u003e\n\u003cp data-sourcepos=\"460:1-461:50\"\u003e全ての単体テストが通ったので、E2Eテストを通してみます\u003cbr\u003e\n(モックサーバーとアプリを起動して)\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"463:1-470:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  トップ画面の表示\n    ✓ h1タグで\"Life Sync\"が表示されていること (573ms)\n    ✓ h2タグで\"ブログ一覧\"の文字が表示されていること (505ms)\n    ✓ \"新規登作成\"のボタンが表示されていること (452ms)\n    ✓ ブログのタイトルが表示されていること (592ms)\n    ✓ ブログの日付が表示されていること (496ms)\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"472:1-473:48\"\u003e問題なくすべて通ったようです。\u003cbr\u003e\n念のため画面でも確認しておきます\u003c/p\u003e\n\u003cp data-sourcepos=\"475:1-475:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe5779de2-1673-579a-ecec-fe3cf8e8ea0b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a3cbd506b99a451fb1f055274e3d2bdb\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe5779de2-1673-579a-ecec-fe3cf8e8ea0b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a3cbd506b99a451fb1f055274e3d2bdb\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe5779de2-1673-579a-ecec-fe3cf8e8ea0b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5ae2627fe890687d8a0fcaa264f042dd 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e5779de2-1673-579a-ecec-fe3cf8e8ea0b.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"477:1-477:39\"\u003e画面も問題なさそうですね！\u003c/p\u003e\n\u003cp data-sourcepos=\"479:1-479:48\"\u003eこれでWebでの実装が終了しました。\u003c/p\u003e\n\u003cp data-sourcepos=\"481:1-481:54\"\u003e次回からBffの環境構築＋実装に移ります\u003c/p\u003e\n",
    "body": "## はじめに\n\n![スライド13.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/d956353b-516f-b171-27e4-ed53370fae86.png)\n\n---\n\n**2023年アドベントカレンダー12日目**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n現在「ユーザーはトップページでブログの一覧を見ることができる」を進めています。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png)\n\n前回はクリーンアーキテクチャに基づいてクラス設計を行いました。\n今回はそれをもとに実装していきます。\n\n## Web\n\n![Web.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/56b7b0b5-fc17-82aa-fe2f-8b96ce610bff.png)\n\nいったんはスタイルを無視して、E2Eテストが通る最低限を目指してみます。\n\n### State\n\n\u003cdetails\u003e\u003csummary\u003eatoms/BlogsState\u003c/summary\u003e\n\n```ts:atoms/BlogsState\nimport { atom } from 'recoil'\n\nexport class BlogState {\n  constructor(\n    public title: string,\n    public author: string,\n    public body: string,\n    public createdAt: string\n  ) {}\n}\n\nexport const blogsState = atom\u003cBlogState[]\u003e({\n  key: 'blogsState',\n  default: [],\n})\n```\n\u003c/details\u003e\n\n### Component\n\n\u003cdetails\u003e\u003csummary\u003eBlogs.tsx\u003c/summary\u003e\n\n```tsx:Blogs.tsx\n'use client'\n\nimport { blogsState } from '@/atoms/BlogsState'\nimport React, { useEffect } from 'react'\nimport { useRecoilValue } from 'recoil'\nimport { BsArrowRightCircle } from 'react-icons/bs'\nimport { useBlogUsecase } from '@/usecase/BlogUsecase'\nimport { BlogDriver } from '@/driver/BlogDriver'\nimport { BlogGateway } from '@/gateway/BlogGateway'\nimport { useBlogPresenter } from '@/presenter/BlogPresenter'\n\nexport const Blogs = () =\u003e {\n  const blogs = useRecoilValue(blogsState)\n  const blogDriver = new BlogDriver()\n  const blogGateway = new BlogGateway(blogDriver)\n  const blogPresenter = useBlogPresenter()\n\n  const { load } = useBlogUsecase(blogGateway, blogPresenter)\n\n  useEffect(() =\u003e {\n    load()\n  }, [])\n\n  return (\n    \u003cdiv className='flex flex-col gap-4'\u003e\n      {blogs.blogs.map((blog, index) =\u003e (\n        \u003cdiv key={index} className='flex flex-col blog-card'\u003e\n          \u003cdiv className='bg-stone-100 p-6 rounded-xl flex justify-between items-center'\u003e\n            {blog.title}\n            \u003cBsArrowRightCircle size={35} /\u003e\n          \u003c/div\u003e\n          \u003cdiv className='self-end'\u003e{blog.createdAt}\u003c/div\u003e\n        \u003c/div\u003e\n      ))}\n    \u003c/div\u003e\n  )\n}\n```\n\u003c/details\u003e\n\n## Usecase\n\n![Usecase.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/535a54ef-c7a3-a87c-2555-963b3eb6d59f.png)\n\n**ユースケースのみ実装までの流れを詳細に載せていきます**\n\nこのUsecaseでは、`InputPort`から取得したBlogデータを`OutputPort`に渡すことをしたいので、\n↓のようなアサーションになります。\n\n```tsx\nimport { describe, test, expect } from '@jest/globals'\n\ndescribe('Blog Usecase', () =\u003e {\n  test('inputPortで受け取ったドメインオブジェクトを、outputPortに渡していること', async () =\u003e {\n    const blogs = [\n      new Blog(\n        new BlogTitle(casual.title),\n        new BlogAuthor(casual.name),\n        new BlogBody(casual.sentences(3)),\n        new BlogDate(new Date(casual.date('YYYY-MM-DDThh:mm:ssZ')))\n      ),\n    ]\n\n    // inputPortのgetが呼ばれていること\n    expect(mockBlogInputPort.get).toHaveBeenCalled()\n    // outputPortのstoreがblogsを引数に呼ばれていること\n    expect(mockBlogOutputPort.store).toHaveBeenCalledWith(blogs)\n  })\n})\n```\n\n次に`Usecase`の`load`メソッドを呼び出します。\n\n今回は、`Usecase`をカスタムフックで作りたいと考えているので、\n`@testing-library/react`の`renderHook`, `act`を使って、Jest内でカスタムフックを呼び出したいと思います。\n\n```bash\nnpm install --save-dev @testing-library/react\n```\n\n```diff_tsx\nimport { act, renderHook } from '@testing-library/react'\nimport { useBlogUsecase } from '@/usecase/BlogUsecase'\n\ndescribe('Blog Usecase', () =\u003e {\n  test('inputPortで受け取ったドメインオブジェクトを、outputPortに渡していること', async () =\u003e {\n    const blogs = [\n      new Blog(\n        new BlogTitle(casual.title),\n        new BlogAuthor(casual.name),\n        new BlogBody(casual.sentences(3)),\n        new BlogDate(new Date(casual.date('YYYY-MM-DDThh:mm:ssZ')))\n      ),\n    ]\n\n+   const blogUsecase = renderHook(\n+     () =\u003e useBlogUsecase(),\n+     {\n+       wrapper: RecoilRoot,\n+     }\n+   )\n+   await act(async () =\u003e {\n+     await blogUsecase.result.current.load()\n+   })\n  \n    expect(mockBlogInputPort.get).toHaveBeenCalled()\n    expect(mockBlogOutputPort.store).toHaveBeenCalledWith(blogs)\n  })\n})\n```\n\nここまできたら、インポートのエラーが出ているので、`useBlogUsecase`を作成します。\nただし、実装はまだしません。あくまで、インポートのエラーを消すためです。\n\n```tsx:src/usecase/blogUsecase.tsx\nexport const useBlogUsecase = () =\u003e {\n  const load = async () =\u003e {\n    throw new Error('未実装')\n  }\n\n  return { load }\n}\n```\n\nテストを実行してみます。\n\n```bash\n FAIL  tests/usecase/BlogUsecase.test.tsx\n  ● Blog Usecase › inputPortで受け取ったドメインオブジェクトを、outputPortに渡していること\n\n    未実装\n\nTest Suites: 1 failed, 0 passed, 1 total\n```\n\n未実装でテストが失敗しました。\n**予定通りですね**\n\n次にモックをテストに追加していきます。\n\n```diff_tsx:tests/usecase/blogUsecase.test.tsx\nimport { describe, test, expect, jest } from '@jest/globals'\nimport { Blog, BlogAuthor, BlogBody, BlogDate, BlogTitle } from '@/domain/Blog'\nimport casual from 'casual'\nimport { BlogInputPort, BlogOutputPort } from '@/usecase/port/BlogUsecasePort'\n\ndescribe('Blog Usecase', () =\u003e {\n  test('inputPortで受け取ったドメインオブジェクトを、outputPortに渡していること', async () =\u003e {\n    const blogs = [\n      new Blog(\n        new BlogTitle(casual.title),\n        new BlogAuthor(casual.name),\n        new BlogBody(casual.sentences(3)),\n        new BlogDate(new Date(casual.date('YYYY-MM-DDThh:mm:ssZ')))\n      ),\n    ]\n \n+   const mockBlogInputPort = {} as BlogInputPort\n+   mockBlogInputPort.get = jest.fn(async () =\u003e blogs)\n+\n+   const mockBlogOutputPort = {} as BlogOutputPort\n+   mockBlogOutputPort.store = jest.fn(async (blogs: Blog[]) =\u003e {})\n+\n    const blogUsecase = renderHook(\n-     () =\u003e useBlogUsecase(),\n+     () =\u003e useBlogUsecase(mockBlogInputPort, mockBlogOutputPort),\n      {\n        wrapper: RecoilRoot,\n      }\n    )\n    await act(async () =\u003e {\n      await blogUsecase.result.current.load()\n    })\n\n    expect(mockBlogInputPort.get).toHaveBeenCalled()\n    expect(mockBlogOutputPort.store).toHaveBeenCalledWith(blogs)\n  })\n})\n```\n\nここまで来たらUsecaseの実装をしていきます。\n\n```diff_tsx:src/usecase/blogUsecase.tsx\nexport const useBlogUsecase = () =\u003e {\n  const load = async () =\u003e {\n-   throw new Error('未実装')\n+   const blogs = await inputPort.get()\n+   outputPort.store(blogs)\n  }\n\n  return { load }\n}\n```\n\n## Gateway\n\n![Gateway.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/702c9c00-5a61-6192-0eb5-28324cb3098a.png)\n\nこのGatewayでは、`blogsDriver`から取得したデータをドメインオブジェクトに変換し、`Usecase`に返すことを目指します。\n\nこのようにすることで、外の世界(Driver)から、中の世界(Usecase)を守ることができます。\n\n### テスト\n\n\u003cdetails\u003e\u003csummary\u003eBlogGateway.test.ts\u003c/summary\u003e\n\n```tsx\nimport { Blog, BlogAuthor, BlogBody, BlogDate, BlogTitle } from '@/domain/Blog'\nimport { BlogBlogJson, BlogDriver, BlogJson } from '@/driver/BlogDriver'\nimport { BlogGateway } from '@/gateway/BlogGateway'\nimport { describe, test, expect, jest } from '@jest/globals'\nimport casual from 'casual'\n\ndescribe('Blog Gateway', () =\u003e {\n  test('blogs get', async () =\u003e {\n    const titleValue = casual.word\n    const authorValue = casual.name\n    const bodyValue = casual.sentence\n    const createdAtValue = casual.date('YYYY-MM-DD')\n    const expected: Blog[] = [\n      new Blog(\n        new BlogTitle(titleValue),\n        new BlogAuthor(authorValue),\n        new BlogBody(bodyValue),\n        new BlogDate(new Date(createdAtValue))\n      ),\n    ]\n\n    const mockDriver = {} as BlogDriver\n    mockDriver.get = jest.fn(\n      async () =\u003e\n        new BlogJson([\n          new BlogBlogJson(\n            titleValue,\n            authorValue,\n            bodyValue,\n            new Date(createdAtValue)\n          ),\n        ])\n    )\n\n    const target = new BlogGateway(mockDriver)\n    const actual = await target.get()\n\n    expect(actual).toStrictEqual(expected)\n  })\n})\n\n```\n\n\u003c/details\u003e\n\n### 実装\n\n\u003cdetails\u003e\u003csummary\u003eBlogGateway.ts\u003c/summary\u003e\n\n```tsx\nimport { Blog, BlogAuthor, BlogBody, BlogDate, BlogTitle } from '@/domain/Blog'\nimport { BlogDriver } from '@/driver/BlogDriver'\nimport { BlogInputPort } from '@/usecase/port/BlogUsecasePort'\n\nexport class BlogGateway implements BlogInputPort {\n  constructor(private blogDriver: BlogDriver) {}\n\n  async get(): Promise\u003cBlog[]\u003e {\n    const blogJson = await this.blogDriver.get()\n    return blogJson.blogs.map(\n      ({ title, author, body, createdAt }) =\u003e\n        new Blog(\n          new BlogTitle(title),\n          new BlogAuthor(author),\n          new BlogBody(body),\n          new BlogDate(new Date(createdAt))\n        )\n    )\n  }\n}\n```\n\n\u003c/details\u003e\n\n\n## Driver\n\n### 実装\n\n\u003cdetails\u003e\u003csummary\u003eBlogDriver.ts\u003c/summary\u003e\n\n```tsx\nimport { GetBlogsDocument, GetBlogsQuery } from '@/graphql/generated'\nimport { ApolloClient } from '@/lib/ApolloClient'\n\nexport class BlogDriver {\n  async get(): Promise\u003cBlogJson\u003e {\n    const client = ApolloClient.client()\n    const response = await client.query\u003cGetBlogsQuery\u003e({\n      query: GetBlogsDocument,\n    })\n    const blogs = response.data\n    return new BlogJson(\n      blogs.blogs.map(\n        ({ title, author, body, createdAt }) =\u003e\n          new BlogBlogJson(title, author, body, new Date(createdAt))\n      )\n    )\n  }\n}\n\nexport class BlogJson {\n  constructor(public blogs: BlogBlogJson[]) {}\n}\n\nexport class BlogBlogJson {\n  constructor(\n    public title: string,\n    public author: string,\n    public body: string,\n    public createdAt: Date\n  ) {}\n}\n```\n\n\u003c/details\u003e\n\n## Presenter\n\n### テスト\n\n\u003cdetails\u003e\u003csummary\u003eBlogPresenter.test.tsx\u003c/summary\u003e\n\n```tsx\nimport { BlogState, BlogsState, blogsState } from '@/atoms/BlogsState'\nimport { Blog, BlogAuthor, BlogBody, BlogDate, BlogTitle } from '@/domain/Blog'\nimport { useBlogPresenter } from '@/presenter/BlogPresenter'\nimport { describe, test, expect, jest } from '@jest/globals'\nimport { act, renderHook } from '@testing-library/react'\nimport { ReactNode } from 'react'\nimport { RecoilRoot, useRecoilValue } from 'recoil'\n\ndescribe('Blog Presenter', () =\u003e {\n  test('store the parameter to the state', () =\u003e {\n    const wrapper = ({ children }: { children: ReactNode }) =\u003e (\n      \u003cRecoilRoot\u003e{children}\u003c/RecoilRoot\u003e\n    )\n    const blogs = [\n      new Blog(\n        new BlogTitle('title'),\n        new BlogAuthor('author'),\n        new BlogBody('body'),\n        new BlogDate(new Date('2021-12-01 09:00:00'))\n      ),\n    ]\n    const { result } = renderHook(\n      () =\u003e {\n        const store = useBlogPresenter().store\n        const blogsValue = useRecoilValue(blogsState)\n        return { store, blogsValue }\n      },\n      { wrapper }\n    )\n    act(() =\u003e {\n      result.current.store(blogs)\n    })\n\n    const expected = new BlogsState([\n      new BlogState('title', 'author', 'body', '2021/12/01 09:00:00'),\n    ])\n    expect(result.current.blogsValue).toStrictEqual(expected)\n  })\n})\n```\n\n\u003c/details\u003e\n\n### 実装\n\n\u003cdetails\u003e\u003csummary\u003eBlogPresenter.tsx\u003c/summary\u003e\n\n```tsx\nimport { BlogState, BlogsState, blogsState } from '@/atoms/BlogsState'\nimport { Blog } from '@/domain/Blog'\nimport { BlogOutputPort } from '@/usecase/port/BlogUsecasePort'\nimport { useSetRecoilState } from 'recoil'\n\nexport const useBlogPresenter = (): BlogOutputPort =\u003e {\n  const setBlogs = useSetRecoilState(blogsState)\n  const store = (blogs: Blog[]) =\u003e {\n    setBlogs(\n      new BlogsState(\n        blogs.map(\n          (blog) =\u003e\n            new BlogState(\n              blog.title.value,\n              blog.author.value,\n              blog.body.value,\n              blog.createdAt.formatted\n            )\n        )\n      )\n    )\n  }\n  return { store }\n}\n```\n\u003c/details\u003e\n\n## Done\n\n全ての単体テストが通ったので、E2Eテストを通してみます\n(モックサーバーとアプリを起動して)\n\n```\n  トップ画面の表示\n    ✓ h1タグで\"Life Sync\"が表示されていること (573ms)\n    ✓ h2タグで\"ブログ一覧\"の文字が表示されていること (505ms)\n    ✓ \"新規登作成\"のボタンが表示されていること (452ms)\n    ✓ ブログのタイトルが表示されていること (592ms)\n    ✓ ブログの日付が表示されていること (496ms)\n```\n\n問題なくすべて通ったようです。\n念のため画面でも確認しておきます\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e5779de2-1673-579a-ecec-fe3cf8e8ea0b.png)\n\n画面も問題なさそうですね！\n\nこれでWebでの実装が終了しました。\n\n次回からBffの環境構築＋実装に移ります\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-11-30T21:11:25+09:00",
    "group": null,
    "id": "9dbe22467850ad582c4e",
    "likes_count": 3,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "Jest", "versions": [] },
      { "name": "Next.js", "versions": [] }
    ],
    "title": "【Day 12】ブログ一覧を取得し、表示する - Web実装",
    "updated_at": "2023-12-12T07:00:31+09:00",
    "url": "https://qiita.com/maaaashi/items/9dbe22467850ad582c4e",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-3:131\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F85b606d7-da7d-01a1-72f4-a50d3f51ab63.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=711830c4cc9e7340fbeedf198d418efb\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F85b606d7-da7d-01a1-72f4-a50d3f51ab63.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=711830c4cc9e7340fbeedf198d418efb\" alt=\"スライド12.PNG\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F85b606d7-da7d-01a1-72f4-a50d3f51ab63.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=36f00b7d048810ea37ab514fa482a9e9 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/85b606d7-da7d-01a1-72f4-a50d3f51ab63.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr data-sourcepos=\"5:1-6:0\"\u003e\n\u003cp data-sourcepos=\"7:1-7:58\"\u003e\u003cstrong\u003e2023年アドベントカレンダー11日目\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:52\"\u003e\u003ciframe id=\"qiita-embed-content__ce491ac8205120851e6c044eaad8b1e5\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__ce491ac8205120851e6c044eaad8b1e5\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-12:36\"\u003e前回から「ユーザーはトップページでブログの一覧を見ることができる」を進めています。\u003cbr\u003e\n今回はその続きからです。\u003c/p\u003e\n\u003cp data-sourcepos=\"14:1-14:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2fc8082f717e35f5591d5288c9297e53\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2fc8082f717e35f5591d5288c9297e53\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5cfd5a99328c75d5bd883ebfed8d9ea0 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"16:1-16:126\"\u003e今回から「ユーザーはトップページでブログの一覧を見ることができる」を進めていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"18:1-18:46\"\u003e引き続き\u003cstrong\u003eWeb\u003c/strong\u003eの開発を進めます。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"20:1-20:24\"\u003e\n\u003cspan id=\"アーキテクチャ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eアーキテクチャ\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"22:1-22:28\"\u003e\n\u003cspan id=\"アーキテクチャ図\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E5%9B%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eアーキテクチャ図\u003c/h3\u003e\n\u003cp data-sourcepos=\"24:1-24:145\"\u003e今回のブログ記事を取得し、表示するアーキテクチャを\u003cstrong\u003eクリーンアーキテクチャ\u003c/strong\u003eに則って考えてみます。\u003c/p\u003e\n\u003cdiv data-sourcepos=\"26:1-30:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"27:1-29:129\"\u003e\u003cstrong\u003eクリーンアーキテクチャとは\u003c/strong\u003e\u003cbr\u003e\nロバート・Ｃ・マーティン（通称\u003cstrong\u003eボブおじさん\u003c/strong\u003e）によって提唱されたソフトウェア設計の一つです。\u003cbr\u003e\nシステムのメンテナンス性、柔軟性が高く保たれるため、多くのシステムで採用されています。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"32:1-32:53\"\u003e\u003ciframe id=\"qiita-embed-content__c698eed8582e1f9475a03c87e8cb7bbc\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__c698eed8582e1f9475a03c87e8cb7bbc\" data-content=\"https%3A%2F%2Fzenn.dev%2Fsre_holdings%2Farticles%2Fa57f088e9ca07d\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cdiv data-sourcepos=\"35:1-37:3\" class=\"note warn\"\u003e\n\u003cspan class=\"fa fa-fw fa-exclamation-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"36:1-36:96\"\u003eまだまだ私自身理解不足な部分があると思いますが、ご容赦ください。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003ch4 data-sourcepos=\"39:1-39:15\"\u003e\n\u003cspan id=\"完成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%8C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cstrong\u003e完成\u003c/strong\u003e\n\u003c/h4\u003e\n\u003cimg src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIxMjQ1cHgiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiIHN0eWxlPSJ3aWR0aDo2NjVweDtoZWlnaHQ6MTI0NXB4O2JhY2tncm91bmQ6I0ZGRkZGRjsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDY2NSAxMjQ1IiB3aWR0aD0iNjY1cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48IS0tY2x1c3RlciBEb21haW5zLS0+PGcgaWQ9ImNsdXN0ZXJfRG9tYWlucyI+PHJlY3QgZmlsbD0iI0ZGRkZBQSIgaGVpZ2h0PSIyODkuNDgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjU3MSIgeD0iODgiIHk9IjciLz48cGF0aCBkPSJNMTY1LDcgTDE2NSwxNi4yOTY5IEwxNTUsMjYuMjk2OSBMODgsMjYuMjk2OSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NyIgeD0iOTEiIHk9IjIwLjk5NTEiPkRvbWFpbnM8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIFVzZWNhc2VzLS0+PGcgaWQ9ImNsdXN0ZXJfVXNlY2FzZXMiPjxyZWN0IGZpbGw9IiNGRkFBQUEiIGhlaWdodD0iMzAxLjYiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjUwMSIgeD0iMTMiIHk9IjMyOS40OCIvPjxwYXRoIGQ9Ik05OSwzMjkuNDggTDk5LDMzOC43NzY5IEw4OSwzNDguNzc2OSBMMTMsMzQ4Ljc3NjkgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzYiIHg9IjE2IiB5PSIzNDMuNDc1MSI+VXNlY2FzZXM8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIFBvcnQtLT48ZyBpZD0iY2x1c3Rlcl9Qb3J0Ij48cGF0aCBkPSJNMzkuNSw0OTEuNzggTDczLjUsNDkxLjc4IEEzLjc1LDMuNzUgMCAwIDEgNzYsNDk0LjI4IEw4Myw1MTQuMDc2OSBMNDg3LjUsNTE0LjA3NjkgQTIuNSwyLjUgMCAwIDEgNDkwLDUxNi41NzY5IEw0OTAsNjA0LjU4IEEyLjUsMi41IDAgMCAxIDQ4Ny41LDYwNy4wOCBMMzkuNSw2MDcuMDggQTIuNSwyLjUgMCAwIDEgMzcsNjA0LjU4IEwzNyw0OTQuMjggQTIuNSwyLjUgMCAwIDEgMzkuNSw0OTEuNzggIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIzNyIgeDI9IjgzIiB5MT0iNTE0LjA3NjkiIHkyPSI1MTQuMDc2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMyIgeD0iNDEiIHk9IjUwNi43NzUxIj5Qb3J0PC90ZXh0PjwvZz48IS0tY2x1c3RlciBHYXRld2F5cy0tPjxnIGlkPSJjbHVzdGVyX0dhdGV3YXlzIj48cmVjdCBmaWxsPSIjQUFGRkFBIiBoZWlnaHQ9IjEzMS41OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMjIyIiB4PSIxNiIgeT0iNjgwLjA4Ii8+PHBhdGggZD0iTTEwNCw2ODAuMDggTDEwNCw2ODkuMzc2OSBMOTQsNjk5LjM3NjkgTDE2LDY5OS4zNzY5ICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4IiB4PSIxOSIgeT0iNjk0LjA3NTEiPkdhdGV3YXlzPC90ZXh0PjwvZz48IS0tY2x1c3RlciBQcmVzZW50ZXItLT48ZyBpZD0iY2x1c3Rlcl9QcmVzZW50ZXIiPjxyZWN0IGZpbGw9IiNBQUZGQUEiIGhlaWdodD0iMTE1LjI5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIyMjgiIHg9IjI2MiIgeT0iNjg4LjIzIi8+PHBhdGggZD0iTTM1MSw2ODguMjMgTDM1MSw2OTcuNTI2OSBMMzQxLDcwNy41MjY5IEwyNjIsNzA3LjUyNjkgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzkiIHg9IjI2NSIgeT0iNzAyLjIyNTEiPlByZXNlbnRlcjwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgRHJpdmVycy0tPjxnIGlkPSJjbHVzdGVyX0RyaXZlcnMiPjxyZWN0IGZpbGw9IiNBQUFBRkYiIGhlaWdodD0iMTE1LjI5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIyNDAiIHg9IjciIHk9IjkyOC4xMiIvPjxwYXRoIGQ9Ik03NCw5MjguMTIgTDc0LDkzNy40MTY5IEw2NCw5NDcuNDE2OSBMNyw5NDcuNDE2OSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NyIgeD0iMTAiIHk9Ijk0Mi4xMTUxIj5Ecml2ZXJzPC90ZXh0PjwvZz48IS0tY2x1c3RlciBXZWItLT48ZyBpZD0iY2x1c3Rlcl9XZWIiPjxyZWN0IGZpbGw9IiNBQUFBRkYiIGhlaWdodD0iMzc5LjE5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIyMzQiIHg9IjI4NiIgeT0iODYwLjY3Ii8+PHBhdGggZD0iTTMzMSw4NjAuNjcgTDMzMSw4NjkuOTY2OSBMMzIxLDg3OS45NjY5IEwyODYsODc5Ljk2NjkgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzUiIHg9IjI4OSIgeT0iODc0LjY2NTEiPldlYjwvdGV4dD48L2c+PCEtLWNsdXN0ZXIgU3RhdGUtLT48ZyBpZD0iY2x1c3Rlcl9TdGF0ZSI+PHBhdGggZD0iTTMxOC41LDkwMy42NyBMMzYwLjUsOTAzLjY3IEEzLjc1LDMuNzUgMCAwIDEgMzYzLDkwNi4xNyBMMzcwLDkyNS45NjY5IEw0NzMuNSw5MjUuOTY2OSBBMi41LDIuNSAwIDAgMSA0NzYsOTI4LjQ2NjkgTDQ3NiwxMDY1LjM2IEEyLjUsMi41IDAgMCAxIDQ3My41LDEwNjcuODYgTDMxOC41LDEwNjcuODYgQTIuNSwyLjUgMCAwIDEgMzE2LDEwNjUuMzYgTDMxNiw5MDYuMTcgQTIuNSwyLjUgMCAwIDEgMzE4LjUsOTAzLjY3ICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMzE2IiB4Mj0iMzcwIiB5MT0iOTI1Ljk2NjkiIHkyPSI5MjUuOTY2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MSIgeD0iMzIwIiB5PSI5MTguNjY1MSI+U3RhdGU8L3RleHQ+PC9nPjwhLS1jbHVzdGVyIENvbXBvbmVudC0tPjxnIGlkPSJjbHVzdGVyX0NvbXBvbmVudCI+PHBhdGggZD0iTTMxMi41LDExMTYuODYgTDQwNC41LDExMTYuODYgQTMuNzUsMy43NSAwIDAgMSA0MDcsMTExOS4zNiBMNDE0LDExMzkuMTU2OSBMNDkzLjUsMTEzOS4xNTY5IEEyLjUsMi41IDAgMCAxIDQ5NiwxMTQxLjY1NjkgTDQ5NiwxMjEzLjM2IEEyLjUsMi41IDAgMCAxIDQ5My41LDEyMTUuODYgTDMxMi41LDEyMTUuODYgQTIuNSwyLjUgMCAwIDEgMzEwLDEyMTMuMzYgTDMxMCwxMTE5LjM2IEEyLjUsMi41IDAgMCAxIDMxMi41LDExMTYuODYgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNTsiIHgxPSIzMTAiIHgyPSI0MTQiIHkxPSIxMTM5LjE1NjkiIHkyPSIxMTM5LjE1NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEiIHg9IjMxNCIgeT0iMTEzMS44NTUxIj5Db21wb25lbnQ8L3RleHQ+PC9nPjwhLS1jbGFzcyBCbG9nVGl0bGUtLT48ZyBpZD0iZWxlbV9CbG9nVGl0bGUiPjxyZWN0IGNvZGVMaW5lPSIyIiBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjY0LjI5NjkiIGlkPSJCbG9nVGl0bGUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExMCIgeD0iMTA0IiB5PSI0MiIvPjxlbGxpcHNlIGN4PSIxMjcuMSIgY3k9IjU4IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTEzMC4wNjg4LDYzLjY0MDYgUTEyOS40OTA2LDYzLjkzNzUgMTI4Ljg1LDY0LjA3ODEgUTEyOC4yMDk0LDY0LjIzNDQgMTI3LjUwNjMsNjQuMjM0NCBRMTI1LjAwNjMsNjQuMjM0NCAxMjMuNjc4MSw2Mi41OTM4IFExMjIuMzY1Niw2MC45Mzc1IDEyMi4zNjU2LDU3LjgxMjUgUTEyMi4zNjU2LDU0LjY4NzUgMTIzLjY3ODEsNTMuMDMxMyBRMTI1LjAwNjMsNTEuMzc1IDEyNy41MDYzLDUxLjM3NSBRMTI4LjIwOTQsNTEuMzc1IDEyOC44NSw1MS41MzEzIFExMjkuNTA2Myw1MS42ODc1IDEzMC4wNjg4LDUxLjk4NDQgTDEzMC4wNjg4LDU0LjcwMzEgUTEyOS40NDM4LDU0LjEyNSAxMjguODUsNTMuODU5NCBRMTI4LjI1NjMsNTMuNTc4MSAxMjcuNjMxMyw1My41NzgxIFExMjYuMjg3NSw1My41NzgxIDEyNS42LDU0LjY1NjMgUTEyNC45MTI1LDU1LjcxODggMTI0LjkxMjUsNTcuODEyNSBRMTI0LjkxMjUsNTkuOTA2MyAxMjUuNiw2MC45ODQ0IFExMjYuMjg3NSw2Mi4wNDY5IDEyNy42MzEzLDYyLjA0NjkgUTEyOC4yNTYzLDYyLjA0NjkgMTI4Ljg1LDYxLjc4MTMgUTEyOS40NDM4LDYxLjUgMTMwLjA2ODgsNjAuOTIxOSBMMTMwLjA2ODgsNjMuNjQwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYwIiB4PSIxNDIuOSIgeT0iNjIuODQ2NyI+QmxvZ1RpdGxlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjEwNSIgeDI9IjIxMyIgeTE9Ijc0IiB5Mj0iNzQiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjYiIHg9IjExMiIgeT0iODQuNjQ4NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg0IiB4PSIxMjQiIHk9IjkwLjk5NTEiPnZhbHVlOiBzdHJpbmc8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTA1IiB4Mj0iMjEzIiB5MT0iOTguMjk2OSIgeTI9Ijk4LjI5NjkiLz48L2c+PCEtLWNsYXNzIEJsb2dBdXRob3ItLT48ZyBpZD0iZWxlbV9CbG9nQXV0aG9yIj48cmVjdCBjb2RlTGluZT0iNSIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2NC4yOTY5IiBpZD0iQmxvZ0F1dGhvciIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTEwIiB4PSIyNDkiIHk9IjQyIi8+PGVsbGlwc2UgY3g9IjI2NC40NSIgY3k9IjU4IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTI2Ny40MTg4LDYzLjY0MDYgUTI2Ni44NDA2LDYzLjkzNzUgMjY2LjIsNjQuMDc4MSBRMjY1LjU1OTQsNjQuMjM0NCAyNjQuODU2Myw2NC4yMzQ0IFEyNjIuMzU2Myw2NC4yMzQ0IDI2MS4wMjgxLDYyLjU5MzggUTI1OS43MTU2LDYwLjkzNzUgMjU5LjcxNTYsNTcuODEyNSBRMjU5LjcxNTYsNTQuNjg3NSAyNjEuMDI4MSw1My4wMzEzIFEyNjIuMzU2Myw1MS4zNzUgMjY0Ljg1NjMsNTEuMzc1IFEyNjUuNTU5NCw1MS4zNzUgMjY2LjIsNTEuNTMxMyBRMjY2Ljg1NjMsNTEuNjg3NSAyNjcuNDE4OCw1MS45ODQ0IEwyNjcuNDE4OCw1NC43MDMxIFEyNjYuNzkzOCw1NC4xMjUgMjY2LjIsNTMuODU5NCBRMjY1LjYwNjMsNTMuNTc4MSAyNjQuOTgxMyw1My41NzgxIFEyNjMuNjM3NSw1My41NzgxIDI2Mi45NSw1NC42NTYzIFEyNjIuMjYyNSw1NS43MTg4IDI2Mi4yNjI1LDU3LjgxMjUgUTI2Mi4yNjI1LDU5LjkwNjMgMjYyLjk1LDYwLjk4NDQgUTI2My42Mzc1LDYyLjA0NjkgMjY0Ljk4MTMsNjIuMDQ2OSBRMjY1LjYwNjMsNjIuMDQ2OSAyNjYuMiw2MS43ODEzIFEyNjYuNzkzOCw2MS41IDI2Ny40MTg4LDYwLjkyMTkgTDI2Ny40MTg4LDYzLjY0MDYgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3NyIgeD0iMjc4LjU1IiB5PSI2Mi44NDY3Ij5CbG9nQXV0aG9yPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI1MCIgeDI9IjM1OCIgeTE9Ijc0IiB5Mj0iNzQiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjYiIHg9IjI1NyIgeT0iODQuNjQ4NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg0IiB4PSIyNjkiIHk9IjkwLjk5NTEiPnZhbHVlOiBzdHJpbmc8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjUwIiB4Mj0iMzU4IiB5MT0iOTguMjk2OSIgeTI9Ijk4LjI5NjkiLz48L2c+PCEtLWNsYXNzIEJsb2dCb2R5LS0+PGcgaWQ9ImVsZW1fQmxvZ0JvZHkiPjxyZWN0IGNvZGVMaW5lPSI4IiBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjY0LjI5NjkiIGlkPSJCbG9nQm9keSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTEwIiB4PSIzOTQiIHk9IjQyIi8+PGVsbGlwc2UgY3g9IjQxNC40IiBjeT0iNTgiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNNDE3LjM2ODgsNjMuNjQwNiBRNDE2Ljc5MDYsNjMuOTM3NSA0MTYuMTUsNjQuMDc4MSBRNDE1LjUwOTQsNjQuMjM0NCA0MTQuODA2Myw2NC4yMzQ0IFE0MTIuMzA2Myw2NC4yMzQ0IDQxMC45NzgxLDYyLjU5MzggUTQwOS42NjU2LDYwLjkzNzUgNDA5LjY2NTYsNTcuODEyNSBRNDA5LjY2NTYsNTQuNjg3NSA0MTAuOTc4MSw1My4wMzEzIFE0MTIuMzA2Myw1MS4zNzUgNDE0LjgwNjMsNTEuMzc1IFE0MTUuNTA5NCw1MS4zNzUgNDE2LjE1LDUxLjUzMTMgUTQxNi44MDYzLDUxLjY4NzUgNDE3LjM2ODgsNTEuOTg0NCBMNDE3LjM2ODgsNTQuNzAzMSBRNDE2Ljc0MzgsNTQuMTI1IDQxNi4xNSw1My44NTk0IFE0MTUuNTU2Myw1My41NzgxIDQxNC45MzEzLDUzLjU3ODEgUTQxMy41ODc1LDUzLjU3ODEgNDEyLjksNTQuNjU2MyBRNDEyLjIxMjUsNTUuNzE4OCA0MTIuMjEyNSw1Ny44MTI1IFE0MTIuMjEyNSw1OS45MDYzIDQxMi45LDYwLjk4NDQgUTQxMy41ODc1LDYyLjA0NjkgNDE0LjkzMTMsNjIuMDQ2OSBRNDE1LjU1NjMsNjIuMDQ2OSA0MTYuMTUsNjEuNzgxMyBRNDE2Ljc0MzgsNjEuNSA0MTcuMzY4OCw2MC45MjE5IEw0MTcuMzY4OCw2My42NDA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjYiIHg9IjQyOS42IiB5PSI2Mi44NDY3Ij5CbG9nQm9keTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIzOTUiIHgyPSI1MDMiIHkxPSI3NCIgeTI9Ijc0Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSI2IiB4PSI0MDIiIHk9Ijg0LjY0ODQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NCIgeD0iNDE0IiB5PSI5MC45OTUxIj52YWx1ZTogc3RyaW5nPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjM5NSIgeDI9IjUwMyIgeTE9Ijk4LjI5NjkiIHkyPSI5OC4yOTY5Ii8+PC9nPjwhLS1jbGFzcyBCbG9nRGF0ZS0tPjxnIGlkPSJlbGVtX0Jsb2dEYXRlIj48cmVjdCBjb2RlTGluZT0iMTEiIGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNjQuMjk2OSIgaWQ9IkJsb2dEYXRlIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMDQiIHg9IjUzOSIgeT0iNDIiLz48ZWxsaXBzZSBjeD0iNTU3LjYiIGN5PSI1OCIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik01NjAuNTY4OCw2My42NDA2IFE1NTkuOTkwNiw2My45Mzc1IDU1OS4zNSw2NC4wNzgxIFE1NTguNzA5NCw2NC4yMzQ0IDU1OC4wMDYzLDY0LjIzNDQgUTU1NS41MDYzLDY0LjIzNDQgNTU0LjE3ODEsNjIuNTkzOCBRNTUyLjg2NTYsNjAuOTM3NSA1NTIuODY1Niw1Ny44MTI1IFE1NTIuODY1Niw1NC42ODc1IDU1NC4xNzgxLDUzLjAzMTMgUTU1NS41MDYzLDUxLjM3NSA1NTguMDA2Myw1MS4zNzUgUTU1OC43MDk0LDUxLjM3NSA1NTkuMzUsNTEuNTMxMyBRNTYwLjAwNjMsNTEuNjg3NSA1NjAuNTY4OCw1MS45ODQ0IEw1NjAuNTY4OCw1NC43MDMxIFE1NTkuOTQzOCw1NC4xMjUgNTU5LjM1LDUzLjg1OTQgUTU1OC43NTYzLDUzLjU3ODEgNTU4LjEzMTMsNTMuNTc4MSBRNTU2Ljc4NzUsNTMuNTc4MSA1NTYuMSw1NC42NTYzIFE1NTUuNDEyNSw1NS43MTg4IDU1NS40MTI1LDU3LjgxMjUgUTU1NS40MTI1LDU5LjkwNjMgNTU2LjEsNjAuOTg0NCBRNTU2Ljc4NzUsNjIuMDQ2OSA1NTguMTMxMyw2Mi4wNDY5IFE1NTguNzU2Myw2Mi4wNDY5IDU1OS4zNSw2MS43ODEzIFE1NTkuOTQzOCw2MS41IDU2MC41Njg4LDYwLjkyMTkgTDU2MC41Njg4LDYzLjY0MDYgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI2NCIgeD0iNTcyLjQiIHk9IjYyLjg0NjciPkJsb2dEYXRlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjU0MCIgeDI9IjY0MiIgeTE9Ijc0IiB5Mj0iNzQiLz48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjYiIHg9IjU0NyIgeT0iODQuNjQ4NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4IiB4PSI1NTkiIHk9IjkwLjk5NTEiPnZhbHVlOiBEYXRlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjU0MCIgeDI9IjY0MiIgeTE9Ijk4LjI5NjkiIHkyPSI5OC4yOTY5Ii8+PC9nPjwhLS1jbGFzcyBCbG9nLS0+PGcgaWQ9ImVsZW1fQmxvZyI+PHJlY3QgY29kZUxpbmU9IjE0IiBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjExMy4xODc1IiBpZD0iQmxvZyIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTY2IiB4PSIyOTMiIHk9IjE2Ny4zIi8+PGVsbGlwc2UgY3g9IjM1Ni4yNSIgY3k9IjE4My4zIiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTM1OS4yMTg4LDE4OC45NDA2IFEzNTguNjQwNiwxODkuMjM3NSAzNTgsMTg5LjM3ODEgUTM1Ny4zNTk0LDE4OS41MzQ0IDM1Ni42NTYzLDE4OS41MzQ0IFEzNTQuMTU2MywxODkuNTM0NCAzNTIuODI4MSwxODcuODkzNyBRMzUxLjUxNTYsMTg2LjIzNzUgMzUxLjUxNTYsMTgzLjExMjUgUTM1MS41MTU2LDE3OS45ODc1IDM1Mi44MjgxLDE3OC4zMzEyIFEzNTQuMTU2MywxNzYuNjc1IDM1Ni42NTYzLDE3Ni42NzUgUTM1Ny4zNTk0LDE3Ni42NzUgMzU4LDE3Ni44MzEyIFEzNTguNjU2MywxNzYuOTg3NSAzNTkuMjE4OCwxNzcuMjg0NCBMMzU5LjIxODgsMTgwLjAwMzEgUTM1OC41OTM4LDE3OS40MjUgMzU4LDE3OS4xNTk0IFEzNTcuNDA2MywxNzguODc4MSAzNTYuNzgxMywxNzguODc4MSBRMzU1LjQzNzUsMTc4Ljg3ODEgMzU0Ljc1LDE3OS45NTYyIFEzNTQuMDYyNSwxODEuMDE4NyAzNTQuMDYyNSwxODMuMTEyNSBRMzU0LjA2MjUsMTg1LjIwNjIgMzU0Ljc1LDE4Ni4yODQ0IFEzNTUuNDM3NSwxODcuMzQ2OSAzNTYuNzgxMywxODcuMzQ2OSBRMzU3LjQwNjMsMTg3LjM0NjkgMzU4LDE4Ny4wODEyIFEzNTguNTkzOCwxODYuOCAzNTkuMjE4OCwxODYuMjIxOSBMMzU5LjIxODgsMTg4Ljk0MDYgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMSIgeD0iMzc2Ljc1IiB5PSIxODguMTQ2NyI+QmxvZzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyOTQiIHgyPSI0NTgiIHkxPSIxOTkuMyIgeTI9IjE5OS4zIi8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSI2IiB4PSIzMDEiIHk9IjIwOS45NDg0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTQiIHg9IjMxMyIgeT0iMjE2LjI5NTEiPnRpdGxlOiBCbG9nVGl0bGU8L3RleHQ+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSI2IiB4PSIzMDEiIHk9IjIyNi4yNDUzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMxIiB4PSIzMTMiIHk9IjIzMi41OTIiPmF1dGhvcjogQmxvZ0F1dGhvcjwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjYiIHg9IjMwMSIgeT0iMjQyLjU0MjIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDkiIHg9IjMxMyIgeT0iMjQ4Ljg4ODkiPmJvZHk6IEJsb2dCb2R5PC90ZXh0PjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iNiIgeD0iMzAxIiB5PSIyNTguODM5MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0MCIgeD0iMzEzIiB5PSIyNjUuMTg1NyI+Y3JlYXRlZEF0OiBCbG9nRGF0ZTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyOTQiIHgyPSI0NTgiIHkxPSIyNzIuNDg3NSIgeTI9IjI3Mi40ODc1Ii8+PC9nPjwhLS1jbGFzcyBCbG9nVXNlY2FzZS0tPjxnIGlkPSJlbGVtX0Jsb2dVc2VjYXNlIj48cmVjdCBjb2RlTGluZT0iMjciIGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNjQuMjk2OSIgaWQ9IkJsb2dVc2VjYXNlIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxODEiIHg9IjI4NS41IiB5PSIzNjQuNDgiLz48ZWxsaXBzZSBjeD0iMzI2LjYiIGN5PSIzODAuNDgiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMzI5LjU2ODgsMzg2LjEyMDYgUTMyOC45OTA2LDM4Ni40MTc1IDMyOC4zNSwzODYuNTU4MSBRMzI3LjcwOTQsMzg2LjcxNDQgMzI3LjAwNjMsMzg2LjcxNDQgUTMyNC41MDYzLDM4Ni43MTQ0IDMyMy4xNzgxLDM4NS4wNzM3IFEzMjEuODY1NiwzODMuNDE3NSAzMjEuODY1NiwzODAuMjkyNSBRMzIxLjg2NTYsMzc3LjE2NzUgMzIzLjE3ODEsMzc1LjUxMTIgUTMyNC41MDYzLDM3My44NTUgMzI3LjAwNjMsMzczLjg1NSBRMzI3LjcwOTQsMzczLjg1NSAzMjguMzUsMzc0LjAxMTIgUTMyOS4wMDYzLDM3NC4xNjc1IDMyOS41Njg4LDM3NC40NjQ0IEwzMjkuNTY4OCwzNzcuMTgzMSBRMzI4Ljk0MzgsMzc2LjYwNSAzMjguMzUsMzc2LjMzOTQgUTMyNy43NTYzLDM3Ni4wNTgxIDMyNy4xMzEzLDM3Ni4wNTgxIFEzMjUuNzg3NSwzNzYuMDU4MSAzMjUuMSwzNzcuMTM2MiBRMzI0LjQxMjUsMzc4LjE5ODcgMzI0LjQxMjUsMzgwLjI5MjUgUTMyNC40MTI1LDM4Mi4zODYyIDMyNS4xLDM4My40NjQ0IFEzMjUuNzg3NSwzODQuNTI2OSAzMjcuMTMxMywzODQuNTI2OSBRMzI3Ljc1NjMsMzg0LjUyNjkgMzI4LjM1LDM4NC4yNjEyIFEzMjguOTQzOCwzODMuOTggMzI5LjU2ODgsMzgzLjQwMTkgTDMyOS41Njg4LDM4Ni4xMjA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEiIHg9IjM0Ni40IiB5PSIzODUuMzI2NyI+QmxvZ1VzZWNhc2U8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjg2LjUiIHgyPSI0NjUuNSIgeTE9IjM5Ni40OCIgeTI9IjM5Ni40OCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI4Ni41IiB4Mj0iNDY1LjUiIHkxPSI0MDQuNDgiIHkyPSI0MDQuNDgiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjkiIHg9IjI5MS41IiB5PSI0MjEuNDc1MSI+bG9hZCgpOiBQcm9taXNlJmx0O0Jsb2dbXSZndDs8L3RleHQ+PC9nPjwhLS1jbGFzcyBCbG9nSW5wdXRQb3J0LS0+PGcgaWQ9ImVsZW1fQmxvZ0lucHV0UG9ydCI+PHJlY3QgY29kZUxpbmU9IjMyIiBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjY0LjI5NjkiIGlkPSJCbG9nSW5wdXRQb3J0IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxODkiIHg9IjUzLjUiIHk9IjUyNi43OCIvPjxlbGxpcHNlIGN4PSI5Ni44NSIgY3k9IjU0Mi43OCIgZmlsbD0iI0I0QTdFNSIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik05Mi43NzE5LDUzOC41NDU2IEw5Mi43NzE5LDUzNi4zODk0IEwxMDAuMTYyNSw1MzYuMzg5NCBMMTAwLjE2MjUsNTM4LjU0NTYgTDk3LjY5MzgsNTM4LjU0NTYgTDk3LjY5MzgsNTQ2LjYyMzcgTDEwMC4xNjI1LDU0Ni42MjM3IEwxMDAuMTYyNSw1NDguNzggTDkyLjc3MTksNTQ4Ljc4IEw5Mi43NzE5LDU0Ni42MjM3IEw5NS4yNDA2LDU0Ni42MjM3IEw5NS4yNDA2LDUzOC41NDU2IEw5Mi43NzE5LDUzOC41NDU2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtc3R5bGU9Iml0YWxpYyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5NCIgeD0iMTE3LjE1IiB5PSI1NDcuNjI2NyI+QmxvZ0lucHV0UG9ydDwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI1NC41IiB4Mj0iMjQxLjUiIHkxPSI1NTguNzgiIHkyPSI1NTguNzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI1NC41IiB4Mj0iMjQxLjUiIHkxPSI1NjYuNzgiIHkyPSI1NjYuNzgiLz48ZWxsaXBzZSBjeD0iNjQuNSIgY3k9IjU4MC40Mjg0IiBmaWxsPSIjODRCRTg0IiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2MyIgeD0iNzMuNSIgeT0iNTgzLjc3NTEiPmdldCgpOiBQcm9taXNlJmx0O0Jsb2dbXSZndDs8L3RleHQ+PC9nPjwhLS1jbGFzcyBCbG9nT3V0cHV0UG9ydC0tPjxnIGlkPSJlbGVtX0Jsb2dPdXRwdXRQb3J0Ij48cmVjdCBjb2RlTGluZT0iMzUiIGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNjQuMjk2OSIgaWQ9IkJsb2dPdXRwdXRQb3J0IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxOTciIHg9IjI3Ny41IiB5PSI1MjYuNzgiLz48ZWxsaXBzZSBjeD0iMzE4LjYiIGN5PSI1NDIuNzgiIGZpbGw9IiNCNEE3RTUiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMzE0LjUyMTksNTM4LjU0NTYgTDMxNC41MjE5LDUzNi4zODk0IEwzMjEuOTEyNSw1MzYuMzg5NCBMMzIxLjkxMjUsNTM4LjU0NTYgTDMxOS40NDM4LDUzOC41NDU2IEwzMTkuNDQzOCw1NDYuNjIzNyBMMzIxLjkxMjUsNTQ2LjYyMzcgTDMyMS45MTI1LDU0OC43OCBMMzE0LjUyMTksNTQ4Ljc4IEwzMTQuNTIxOSw1NDYuNjIzNyBMMzE2Ljk5MDYsNTQ2LjYyMzcgTDMxNi45OTA2LDUzOC41NDU2IEwzMTQuNTIxOSw1MzguNTQ1NiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA3IiB4PSIzMzguNCIgeT0iNTQ3LjYyNjciPkJsb2dPdXRwdXRQb3J0PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI3OC41IiB4Mj0iNDczLjUiIHkxPSI1NTguNzgiIHkyPSI1NTguNzgiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyNzguNSIgeDI9IjQ3My41IiB5MT0iNTY2Ljc4IiB5Mj0iNTY2Ljc4Ii8+PGVsbGlwc2UgY3g9IjI4OC41IiBjeT0iNTgwLjQyODQiIGZpbGw9IiM4NEJFODQiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTcxIiB4PSIyOTcuNSIgeT0iNTgzLjc3NTEiPnN0b3JlKGJsb2dzOiBCbG9nW10pOiB2b2lkPC90ZXh0PjwvZz48IS0tY2xhc3MgQmxvZ3NHYXRld2F5LS0+PGcgaWQ9ImVsZW1fQmxvZ3NHYXRld2F5Ij48cmVjdCBjb2RlTGluZT0iNDUiIGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iODAuNTkzOCIgaWQ9IkJsb2dzR2F0ZXdheSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTg5IiB4PSIzMi41IiB5PSI3MTUuMDgiLz48ZWxsaXBzZSBjeD0iNzQuMDUiIGN5PSI3MzEuMDgiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNNzcuMDE4OCw3MzYuNzIwNiBRNzYuNDQwNiw3MzcuMDE3NSA3NS44LDczNy4xNTgxIFE3NS4xNTk0LDczNy4zMTQ0IDc0LjQ1NjMsNzM3LjMxNDQgUTcxLjk1NjMsNzM3LjMxNDQgNzAuNjI4MSw3MzUuNjczNyBRNjkuMzE1Niw3MzQuMDE3NSA2OS4zMTU2LDczMC44OTI1IFE2OS4zMTU2LDcyNy43Njc1IDcwLjYyODEsNzI2LjExMTIgUTcxLjk1NjMsNzI0LjQ1NSA3NC40NTYzLDcyNC40NTUgUTc1LjE1OTQsNzI0LjQ1NSA3NS44LDcyNC42MTEyIFE3Ni40NTYzLDcyNC43Njc1IDc3LjAxODgsNzI1LjA2NDQgTDc3LjAxODgsNzI3Ljc4MzEgUTc2LjM5MzgsNzI3LjIwNSA3NS44LDcyNi45Mzk0IFE3NS4yMDYzLDcyNi42NTgxIDc0LjU4MTMsNzI2LjY1ODEgUTczLjIzNzUsNzI2LjY1ODEgNzIuNTUsNzI3LjczNjIgUTcxLjg2MjUsNzI4Ljc5ODcgNzEuODYyNSw3MzAuODkyNSBRNzEuODYyNSw3MzIuOTg2MiA3Mi41NSw3MzQuMDY0NCBRNzMuMjM3NSw3MzUuMTI2OSA3NC41ODEzLDczNS4xMjY5IFE3NS4yMDYzLDczNS4xMjY5IDc1LjgsNzM0Ljg2MTIgUTc2LjM5MzgsNzM0LjU4IDc3LjAxODgsNzM0LjAwMTkgTDc3LjAxODgsNzM2LjcyMDYgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5OCIgeD0iOTMuOTUiIHk9IjczNS45MjY3Ij5CbG9nc0dhdGV3YXk8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMzMuNSIgeDI9IjIyMC41IiB5MT0iNzQ3LjA4IiB5Mj0iNzQ3LjA4Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY2IiB4PSIzOC41IiB5PSI3NjQuMDc1MSI+YmxvZ3NEcml2ZXI6IEJsb2dzRHJpdmVyPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjMzLjUiIHgyPSIyMjAuNSIgeTE9Ijc3MS4zNzY5IiB5Mj0iNzcxLjM3NjkiLz48ZWxsaXBzZSBjeD0iNDMuNSIgY3k9Ijc4NS4wMjUzIiBmaWxsPSIjODRCRTg0IiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2MyIgeD0iNTIuNSIgeT0iNzg4LjM3MiI+Z2V0KCk6IFByb21pc2UmbHQ7QmxvZ1tdJmd0OzwvdGV4dD48L2c+PCEtLWNsYXNzIEJsb2dzUHJlc2VudGVyLS0+PGcgaWQ9ImVsZW1fQmxvZ3NQcmVzZW50ZXIiPjxyZWN0IGNvZGVMaW5lPSI1MyIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2NC4yOTY5IiBpZD0iQmxvZ3NQcmVzZW50ZXIiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE5NyIgeD0iMjc3LjUiIHk9IjcyMy4yMyIvPjxlbGxpcHNlIGN4PSIzMTguNiIgY3k9IjczOS4yMyIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0zMjEuNTY4OCw3NDQuODcwNiBRMzIwLjk5MDYsNzQ1LjE2NzUgMzIwLjM1LDc0NS4zMDgxIFEzMTkuNzA5NCw3NDUuNDY0NCAzMTkuMDA2Myw3NDUuNDY0NCBRMzE2LjUwNjMsNzQ1LjQ2NDQgMzE1LjE3ODEsNzQzLjgyMzcgUTMxMy44NjU2LDc0Mi4xNjc1IDMxMy44NjU2LDczOS4wNDI1IFEzMTMuODY1Niw3MzUuOTE3NSAzMTUuMTc4MSw3MzQuMjYxMiBRMzE2LjUwNjMsNzMyLjYwNSAzMTkuMDA2Myw3MzIuNjA1IFEzMTkuNzA5NCw3MzIuNjA1IDMyMC4zNSw3MzIuNzYxMiBRMzIxLjAwNjMsNzMyLjkxNzUgMzIxLjU2ODgsNzMzLjIxNDQgTDMyMS41Njg4LDczNS45MzMxIFEzMjAuOTQzOCw3MzUuMzU1IDMyMC4zNSw3MzUuMDg5NCBRMzE5Ljc1NjMsNzM0LjgwODEgMzE5LjEzMTMsNzM0LjgwODEgUTMxNy43ODc1LDczNC44MDgxIDMxNy4xLDczNS44ODYyIFEzMTYuNDEyNSw3MzYuOTQ4NyAzMTYuNDEyNSw3MzkuMDQyNSBRMzE2LjQxMjUsNzQxLjEzNjIgMzE3LjEsNzQyLjIxNDQgUTMxNy43ODc1LDc0My4yNzY5IDMxOS4xMzEzLDc0My4yNzY5IFEzMTkuNzU2Myw3NDMuMjc2OSAzMjAuMzUsNzQzLjAxMTIgUTMyMC45NDM4LDc0Mi43MyAzMjEuNTY4OCw3NDIuMTUxOSBMMzIxLjU2ODgsNzQ0Ljg3MDYgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDciIHg9IjMzOC40IiB5PSI3NDQuMDc2NyI+QmxvZ3NQcmVzZW50ZXI8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjc4LjUiIHgyPSI0NzMuNSIgeTE9Ijc1NS4yMyIgeTI9Ijc1NS4yMyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI3OC41IiB4Mj0iNDczLjUiIHkxPSI3NjMuMjMiIHkyPSI3NjMuMjMiLz48ZWxsaXBzZSBjeD0iMjg4LjUiIGN5PSI3NzYuODc4NCIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNzEiIHg9IjI5Ny41IiB5PSI3ODAuMjI1MSI+c3RvcmUoYmxvZ3M6IEJsb2dbXSk6IHZvaWQ8L3RleHQ+PC9nPjwhLS1jbGFzcyBCbG9nc0RyaXZlci0tPjxnIGlkPSJlbGVtX0Jsb2dzRHJpdmVyIj48cmVjdCBjb2RlTGluZT0iNjAiIGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNjQuMjk2OSIgaWQ9IkJsb2dzRHJpdmVyIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIyMDgiIHg9IjIzIiB5PSI5NjMuMTIiLz48ZWxsaXBzZSBjeD0iODMuMjUiIGN5PSI5NzkuMTIiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNODYuMjE4OCw5ODQuNzYwNiBRODUuNjQwNiw5ODUuMDU3NSA4NSw5ODUuMTk4MSBRODQuMzU5NCw5ODUuMzU0NCA4My42NTYzLDk4NS4zNTQ0IFE4MS4xNTYzLDk4NS4zNTQ0IDc5LjgyODEsOTgzLjcxMzcgUTc4LjUxNTYsOTgyLjA1NzUgNzguNTE1Niw5NzguOTMyNSBRNzguNTE1Niw5NzUuODA3NSA3OS44MjgxLDk3NC4xNTEyIFE4MS4xNTYzLDk3Mi40OTUgODMuNjU2Myw5NzIuNDk1IFE4NC4zNTk0LDk3Mi40OTUgODUsOTcyLjY1MTIgUTg1LjY1NjMsOTcyLjgwNzUgODYuMjE4OCw5NzMuMTA0NCBMODYuMjE4OCw5NzUuODIzMSBRODUuNTkzOCw5NzUuMjQ1IDg1LDk3NC45Nzk0IFE4NC40MDYzLDk3NC42OTgxIDgzLjc4MTMsOTc0LjY5ODEgUTgyLjQzNzUsOTc0LjY5ODEgODEuNzUsOTc1Ljc3NjIgUTgxLjA2MjUsOTc2LjgzODcgODEuMDYyNSw5NzguOTMyNSBRODEuMDYyNSw5ODEuMDI2MiA4MS43NSw5ODIuMTA0NCBRODIuNDM3NSw5ODMuMTY2OSA4My43ODEzLDk4My4xNjY5IFE4NC40MDYzLDk4My4xNjY5IDg1LDk4Mi45MDEyIFE4NS41OTM4LDk4Mi42MiA4Ni4yMTg4LDk4Mi4wNDE5IEw4Ni4yMTg4LDk4NC43NjA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzkiIHg9IjEwMy43NSIgeT0iOTgzLjk2NjciPkJsb2dzRHJpdmVyPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI0IiB4Mj0iMjMwIiB5MT0iOTk1LjEyIiB5Mj0iOTk1LjEyIi8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjQiIHgyPSIyMzAiIHkxPSIxMDAzLjEyIiB5Mj0iMTAwMy4xMiIvPjxlbGxpcHNlIGN4PSIzNCIgY3k9IjEwMTYuNzY4NCIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxODIiIHg9IjQzIiB5PSIxMDIwLjExNTEiPmdldCgpOiBQcm9taXNlJmx0O0Jsb2dKc29uJmd0OzwvdGV4dD48L2c+PCEtLWNsYXNzIEJsb2dzU3RhdGUtLT48ZyBpZD0iZWxlbV9CbG9nc1N0YXRlIj48cmVjdCBjb2RlTGluZT0iNjkiIGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iMTEzLjE4NzUiIGlkPSJCbG9nc1N0YXRlIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMjciIHg9IjMzMi41IiB5PSI5MzguNjciLz48ZWxsaXBzZSBjeD0iMzU2LjUiIGN5PSI5NTQuNjciIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMzU5LjQ2ODgsOTYwLjMxMDYgUTM1OC44OTA2LDk2MC42MDc1IDM1OC4yNSw5NjAuNzQ4MSBRMzU3LjYwOTQsOTYwLjkwNDQgMzU2LjkwNjMsOTYwLjkwNDQgUTM1NC40MDYzLDk2MC45MDQ0IDM1My4wNzgxLDk1OS4yNjM3IFEzNTEuNzY1Niw5NTcuNjA3NSAzNTEuNzY1Niw5NTQuNDgyNSBRMzUxLjc2NTYsOTUxLjM1NzUgMzUzLjA3ODEsOTQ5LjcwMTIgUTM1NC40MDYzLDk0OC4wNDUgMzU2LjkwNjMsOTQ4LjA0NSBRMzU3LjYwOTQsOTQ4LjA0NSAzNTguMjUsOTQ4LjIwMTIgUTM1OC45MDYzLDk0OC4zNTc1IDM1OS40Njg4LDk0OC42NTQ0IEwzNTkuNDY4OCw5NTEuMzczMSBRMzU4Ljg0MzgsOTUwLjc5NSAzNTguMjUsOTUwLjUyOTQgUTM1Ny42NTYzLDk1MC4yNDgxIDM1Ny4wMzEzLDk1MC4yNDgxIFEzNTUuNjg3NSw5NTAuMjQ4MSAzNTUsOTUxLjMyNjIgUTM1NC4zMTI1LDk1Mi4zODg3IDM1NC4zMTI1LDk1NC40ODI1IFEzNTQuMzEyNSw5NTYuNTc2MiAzNTUsOTU3LjY1NDQgUTM1NS42ODc1LDk1OC43MTY5IDM1Ny4wMzEzLDk1OC43MTY5IFEzNTcuNjU2Myw5NTguNzE2OSAzNTguMjUsOTU4LjQ1MTIgUTM1OC44NDM4LDk1OC4xNyAzNTkuNDY4OCw5NTcuNTkxOSBMMzU5LjQ2ODgsOTYwLjMxMDYgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3NSIgeD0iMzcyLjUiIHk9Ijk1OS41MTY3Ij5CbG9nc1N0YXRlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjMzMy41IiB4Mj0iNDU4LjUiIHkxPSI5NzAuNjciIHkyPSI5NzAuNjciLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3MyIgeD0iMzM4LjUiIHk9Ijk4Ny42NjUxIj50aXRsZTogc3RyaW5nPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkzIiB4PSIzMzguNSIgeT0iMTAwMy45NjIiPmF1dGhvcjogc3RyaW5nPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjgyIiB4PSIzMzguNSIgeT0iMTAyMC4yNTg5Ij5ib2R5OiBzdHJpbmc8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTE1IiB4PSIzMzguNSIgeT0iMTAzNi41NTU3Ij5jcmVhdGVkQXQ6IHN0cmluZzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIzMzMuNSIgeDI9IjQ1OC41IiB5MT0iMTA0My44NTc1IiB5Mj0iMTA0My44NTc1Ii8+PC9nPjwhLS1jbGFzcyBCbG9nc0NvbXBvbmVudC0tPjxnIGlkPSJlbGVtX0Jsb2dzQ29tcG9uZW50Ij48cmVjdCBjb2RlTGluZT0iNzgiIGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDgiIGlkPSJCbG9nc0NvbXBvbmVudCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTUzIiB4PSIzMjYuNSIgeT0iMTE1MS44NiIvPjxlbGxpcHNlIGN4PSIzNDEuNSIgY3k9IjExNjcuODYiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMzQ0LjQ2ODgsMTE3My41MDA2IFEzNDMuODkwNiwxMTczLjc5NzUgMzQzLjI1LDExNzMuOTM4MSBRMzQyLjYwOTQsMTE3NC4wOTQ0IDM0MS45MDYzLDExNzQuMDk0NCBRMzM5LjQwNjMsMTE3NC4wOTQ0IDMzOC4wNzgxLDExNzIuNDUzOCBRMzM2Ljc2NTYsMTE3MC43OTc1IDMzNi43NjU2LDExNjcuNjcyNSBRMzM2Ljc2NTYsMTE2NC41NDc1IDMzOC4wNzgxLDExNjIuODkxMyBRMzM5LjQwNjMsMTE2MS4yMzUgMzQxLjkwNjMsMTE2MS4yMzUgUTM0Mi42MDk0LDExNjEuMjM1IDM0My4yNSwxMTYxLjM5MTMgUTM0My45MDYzLDExNjEuNTQ3NSAzNDQuNDY4OCwxMTYxLjg0NDQgTDM0NC40Njg4LDExNjQuNTYzMSBRMzQzLjg0MzgsMTE2My45ODUgMzQzLjI1LDExNjMuNzE5NCBRMzQyLjY1NjMsMTE2My40MzgxIDM0Mi4wMzEzLDExNjMuNDM4MSBRMzQwLjY4NzUsMTE2My40MzgxIDM0MCwxMTY0LjUxNjMgUTMzOS4zMTI1LDExNjUuNTc4OCAzMzkuMzEyNSwxMTY3LjY3MjUgUTMzOS4zMTI1LDExNjkuNzY2MyAzNDAsMTE3MC44NDQ0IFEzNDAuNjg3NSwxMTcxLjkwNjkgMzQyLjAzMTMsMTE3MS45MDY5IFEzNDIuNjU2MywxMTcxLjkwNjkgMzQzLjI1LDExNzEuNjQxMyBRMzQzLjg0MzgsMTE3MS4zNiAzNDQuNDY4OCwxMTcwLjc4MTkgTDM0NC40Njg4LDExNzMuNTAwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEyMSIgeD0iMzU1LjUiIHk9IjExNzIuNzA2NyI+QmxvZ3NDb21wb25lbnQ8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMzI3LjUiIHgyPSI0NzguNSIgeTE9IjExODMuODYiIHkyPSIxMTgzLjg2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMzI3LjUiIHgyPSI0NzguNSIgeTE9IjExOTEuODYiIHkyPSIxMTkxLjg2Ii8+PC9nPjwhLS1lbnRpdHkgQkZGLS0+PGcgaWQ9ImVsZW1fQkZGIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ2LjI5NjkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjY2IiB4PSI5NCIgeT0iMTE1Mi43MSIvPjxwYXRoIGQ9Ik0xMTYsMTE1Mi43MSBMMTE2LDExNTcuNzEgTDEwOSwxMTY0LjcxIEw5NCwxMTY0LjcxICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjYiIHg9IjEwOSIgeT0iMTE4NS43MDUxIj5CRkY8L3RleHQ+PC9nPjwhLS1yZXZlcnNlIGxpbmsgQmxvZ1RpdGxlIHRvIEJsb2ctLT48ZyBpZD0ibGlua19CbG9nVGl0bGVfQmxvZyI+PHBhdGggY29kZUxpbmU9IjIwIiBkPSJNMjEwLjI0OTUsMTEwLjAzNjkgQzIzNi4wMDk1LDEyNy41NzY5IDI2My44OSwxNDYuNTYgMjkzLjg3LDE2Ni45NyAiIGZpbGw9Im5vbmUiIGlkPSJCbG9nVGl0bGUtYmFja3RvLUJsb2ciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjA1LjI5LDEwNi42NiwyMTAuNDc3OSwxMTUuMDMxNywyMDkuNDIyOSwxMDkuNDc0MSwyMTQuOTgwNSwxMDguNDE5LDIwNS4yOSwxMDYuNjYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjwvZz48IS0tcmV2ZXJzZSBsaW5rIEJsb2dBdXRob3IgdG8gQmxvZy0tPjxnIGlkPSJsaW5rX0Jsb2dBdXRob3JfQmxvZyI+PHBhdGggY29kZUxpbmU9IjIxIiBkPSJNMzIxLjg5NjUsMTExLjg3NDYgQzMzMC40MzY1LDEyOS40MTQ2IDMzOC43MiwxNDYuNCAzNDguNjksMTY2Ljg1ICIgZmlsbD0ibm9uZSIgaWQ9IkJsb2dBdXRob3ItYmFja3RvLUJsb2ciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzE5LjI3LDEwNi40OCwzMTkuNjEzNCwxMTYuMzIyOSwzMjEuNDU4OCwxMTAuOTc1NSwzMjYuODA2MiwxMTIuODIwOCwzMTkuMjcsMTA2LjQ4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48L2c+PCEtLXJldmVyc2UgbGluayBCbG9nQm9keSB0byBCbG9nLS0+PGcgaWQ9ImxpbmtfQmxvZ0JvZHlfQmxvZyI+PHBhdGggY29kZUxpbmU9IjIyIiBkPSJNNDMwLjg2MzcsMTExLjg2IEM0MjIuMjAzNywxMjkuNCA0MTMuOCwxNDYuNCA0MDMuNjksMTY2Ljg1ICIgZmlsbD0ibm9uZSIgaWQ9IkJsb2dCb2R5LWJhY2t0by1CbG9nIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjQzMy41MiwxMDYuNDgsNDI1Ljk0OSwxMTIuNzc5MSw0MzEuMzA2NSwxMTAuOTYzMyw0MzMuMTIyMywxMTYuMzIwOCw0MzMuNTIsMTA2LjQ4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48L2c+PCEtLXJldmVyc2UgbGluayBCbG9nRGF0ZSB0byBCbG9nLS0+PGcgaWQ9ImxpbmtfQmxvZ0RhdGVfQmxvZyI+PHBhdGggY29kZUxpbmU9IjIzIiBkPSJNNTQwLjE5NDcsMTEwLjA1NzYgQzUxNC42NjQ3LDEyNy41OTc2IDQ4Ny4wOCwxNDYuNTYgNDU3LjM4LDE2Ni45NyAiIGZpbGw9Im5vbmUiIGlkPSJCbG9nRGF0ZS1iYWNrdG8tQmxvZyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1NDUuMTQsMTA2LjY2LDUzNS40NTY5LDEwOC40NTk1LDU0MS4wMTg5LDEwOS40OTEzLDUzOS45ODcxLDExNS4wNTMzLDU0NS4xNCwxMDYuNjYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjwvZz48IS0tbGluayBCbG9nVXNlY2FzZSB0byBCbG9nSW5wdXRQb3J0LS0+PGcgaWQ9ImxpbmtfQmxvZ1VzZWNhc2VfQmxvZ0lucHV0UG9ydCI+PHBhdGggY29kZUxpbmU9IjM4IiBkPSJNMzMxLjIzLDQyOS4xMSBDMjkxLjE1LDQ1Ny4yOSAyMzcuNjE4NCw0OTQuOTE5MiAxOTcuNTc4NCw1MjMuMDY5MiAiIGZpbGw9Im5vbmUiIGlkPSJCbG9nVXNlY2FzZS10by1CbG9nSW5wdXRQb3J0IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxOTIuNjcsNTI2LjUyLDIwMi4zMzMxLDUyNC42MTYsMTk2Ljc2MDMsNTIzLjY0NDMsMTk3LjczMiw1MTguMDcxNiwxOTIuNjcsNTI2LjUyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0NiIgeD0iMjgzIiB5PSI0NzEuODQ2OSI+JiMxNzE7dXNlcyYjMTg3OzwvdGV4dD48L2c+PCEtLWxpbmsgQmxvZ1VzZWNhc2UgdG8gQmxvZ091dHB1dFBvcnQtLT48ZyBpZD0ibGlua19CbG9nVXNlY2FzZV9CbG9nT3V0cHV0UG9ydCI+PHBhdGggY29kZUxpbmU9IjM5IiBkPSJNMzc2LDQyOC45MiBDMzc2LDQ1Ny4wNyAzNzYsNDkyLjIzIDM3Niw1MjAuNDUgIiBmaWxsPSJub25lIiBpZD0iQmxvZ1VzZWNhc2UtdG8tQmxvZ091dHB1dFBvcnQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM3Niw1MjYuNDUsMzgwLDUxNy40NSwzNzYsNTIxLjQ1LDM3Miw1MTcuNDUsMzc2LDUyNi40NSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDYiIHg9IjM3NyIgeT0iNDcxLjg0NjkiPiYjMTcxO3VzZXMmIzE4Nzs8L3RleHQ+PC9nPjwhLS1yZXZlcnNlIGxpbmsgQmxvZyB0byBCbG9nVXNlY2FzZS0tPjxnIGlkPSJsaW5rX0Jsb2dfQmxvZ1VzZWNhc2UiPjxwYXRoIGNvZGVMaW5lPSI0MSIgZD0iTTM3NiwyODYuOCBDMzc2LDMxNC40MiAzNzYsMzQwLjczIDM3NiwzNjQuMDMgIiBmaWxsPSJub25lIiBpZD0iQmxvZy1iYWNrdG8tQmxvZ1VzZWNhc2UiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzc2LDI4MC44LDM3MiwyODkuOCwzNzYsMjg1LjgsMzgwLDI4OS44LDM3NiwyODAuOCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PC9nPjwhLS1yZXZlcnNlIGxpbmsgQmxvZ0lucHV0UG9ydCB0byBCbG9nc0dhdGV3YXktLT48ZyBpZD0ibGlua19CbG9nSW5wdXRQb3J0X0Jsb2dzR2F0ZXdheSI+PHBhdGggY29kZUxpbmU9IjQ5IiBkPSJNMTQyLjY5NjYsNjA5LjA2NTkgQzEzOS4wNjY2LDY0Mi42NjU5IDEzNS4yMiw2NzguMjggMTMxLjI3LDcxNC44MSAiIGZpbGw9Im5vbmUiIGlkPSJCbG9nSW5wdXRQb3J0LWJhY2t0by1CbG9nc0dhdGV3YXkiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSJub25lIiBwb2ludHM9IjE0NC42Myw1OTEuMTcsMTM2LjczMTMsNjA4LjQyMTQsMTQ4LjY2MTksNjA5LjcxMDMsMTQ0LjYzLDU5MS4xNyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODUiIHg9IjE0MCIgeT0iNjYwLjE0NjkiPiYjMTcxO2ltcGxlbWVudCYjMTg3OzwvdGV4dD48L2c+PCEtLXJldmVyc2UgbGluayBCbG9nT3V0cHV0UG9ydCB0byBCbG9nc1ByZXNlbnRlci0tPjxnIGlkPSJsaW5rX0Jsb2dPdXRwdXRQb3J0X0Jsb2dzUHJlc2VudGVyIj48cGF0aCBjb2RlTGluZT0iNTYiIGQ9Ik0zNzYsNjA5LjE3IEMzNzYsNjQ1LjM1IDM3Niw2ODYuNjEgMzc2LDcyMi44OSAiIGZpbGw9Im5vbmUiIGlkPSJCbG9nT3V0cHV0UG9ydC1iYWNrdG8tQmxvZ3NQcmVzZW50ZXIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSJub25lIiBwb2ludHM9IjM3Niw1OTEuMTcsMzcwLDYwOS4xNywzODIsNjA5LjE3LDM3Niw1OTEuMTciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg1IiB4PSIzNzciIHk9IjY2MC4xNDY5Ij4mIzE3MTtpbXBsZW1lbnQmIzE4Nzs8L3RleHQ+PC9nPjwhLS1saW5rIEJsb2dzR2F0ZXdheSB0byBCbG9nc0RyaXZlci0tPjxnIGlkPSJsaW5rX0Jsb2dzR2F0ZXdheV9CbG9nc0RyaXZlciI+PHBhdGggY29kZUxpbmU9IjYzIiBkPSJNMTI3LDc5NS45MyBDMTI3LDg0Mi43IDEyNyw5MTMuNjEgMTI3LDk1Ni42MiAiIGZpbGw9Im5vbmUiIGlkPSJCbG9nc0dhdGV3YXktdG8tQmxvZ3NEcml2ZXIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjEyNyw5NjIuNjIsMTMxLDk1My42MiwxMjcsOTU3LjYyLDEyMyw5NTMuNjIsMTI3LDk2Mi42MiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDYiIHg9IjEyOCIgeT0iODQwLjczNjkiPiYjMTcxO3VzZXMmIzE4Nzs8L3RleHQ+PC9nPjwhLS1saW5rIEJsb2dzUHJlc2VudGVyIHRvIEJsb2dzU3RhdGUtLT48ZyBpZD0ibGlua19CbG9nc1ByZXNlbnRlcl9CbG9nc1N0YXRlIj48cGF0aCBjb2RlTGluZT0iNzUiIGQ9Ik0zNzguNjYsNzg3Ljk3IEMzODEuODgsODI2LjI2IDM4Ni44NTc0LDg4NS41MDExIDM5MC43OTc0LDkzMi4zNzExICIgZmlsbD0ibm9uZSIgaWQ9IkJsb2dzUHJlc2VudGVyLXRvLUJsb2dzU3RhdGUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM5MS4zLDkzOC4zNSwzOTQuNTMyLDkyOS4wNDY2LDM5MC44ODEyLDkzMy4zNjc2LDM4Ni41NjAyLDkyOS43MTY3LDM5MS4zLDkzOC4zNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PC9nPjwhLS1yZXZlcnNlIGxpbmsgQmxvZ1VzZWNhc2UgdG8gQmxvZ3NDb21wb25lbnQtLT48ZyBpZD0ibGlua19CbG9nVXNlY2FzZV9CbG9nc0NvbXBvbmVudCI+PHBhdGggY29kZUxpbmU9IjgxIiBkPSJNNDM5LjQwNjgsNDMyLjQ5NTkgQzQ4MS44OTY4LDQ2MC4xODU5IDUyNyw1MDEuNTQgNTI3LDU1Ny45MyBDNTI3LDU1Ny45MyA1MjcsNTU3LjkzIDUyNyw5OTYuMjcgQzUyNywxMDYxLjc2IDQ3MC4wNCwxMTIwLjUxIDQzMy4zMywxMTUxLjU4ICIgZmlsbD0ibm9uZSIgaWQ9IkJsb2dVc2VjYXNlLWJhY2t0by1CbG9nc0NvbXBvbmVudCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0MzQuMzgsNDI5LjIyLDQzOS43MzYzLDQzNy40ODUsNDM4LjU2OSw0MzEuOTQ5OSw0NDQuMTA0MSw0MzAuNzgyNiw0MzQuMzgsNDI5LjIyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48L2c+PCEtLXJldmVyc2UgbGluayBCbG9nc1N0YXRlIHRvIEJsb2dzQ29tcG9uZW50LS0+PGcgaWQ9ImxpbmtfQmxvZ3NTdGF0ZV9CbG9nc0NvbXBvbmVudCI+PHBhdGggY29kZUxpbmU9IjgyIiBkPSJNMzk4LjQzNCwxMDU4LjI3NTQgQzM5OS43NDQsMTA5MS44MzU0IDQwMS4xMSwxMTI2LjcxIDQwMi4wOSwxMTUxLjc1ICIgZmlsbD0ibm9uZSIgaWQ9IkJsb2dzU3RhdGUtYmFja3RvLUJsb2dzQ29tcG9uZW50IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM5OC4yLDEwNTIuMjgsMzk0LjU1NDEsMTA2MS40MjkyLDM5OC4zOTUsMTA1Ny4yNzYyLDQwMi41NDgsMTA2MS4xMTcxLDM5OC4yLDEwNTIuMjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjwvZz48IS0tbGluayBCbG9nc0RyaXZlciB0byBCRkYtLT48ZyBpZD0ibGlua19CbG9nc0RyaXZlcl9CRkYiPjxwYXRoIGNvZGVMaW5lPSI4NyIgZD0iTTEyNywxMDI3Ljc4IEMxMjcsMTA2My41MyAxMjcsMTExNC45MyAxMjcsMTE0Ni40MSAiIGZpbGw9Im5vbmUiIGlkPSJCbG9nc0RyaXZlci10by1CRkYiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTI3LDExNTIuNDEsMTMxLDExNDMuNDEsMTI3LDExNDcuNDEsMTIzLDExNDMuNDEsMTI3LDExNTIuNDEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ2IiB4PSIxMjgiIHk9IjEwOTYuOTI2OSI+JiMxNzE7dXNlcyYjMTg3OzwvdGV4dD48L2c+PCEtLVNSQz1bWlBKRllqaW00Q1JsVUdnSGxNbWZwV0NPT3QwUUtoUU4xaFFiWHNLRllaRERKTXRCSTdBTTlTc3hUd29fT3lTUnVhQ1dkcHdGVmxFRGg4d05WX2FIczc4WjZid3JRaWNvUjJqdjB0ZEU3aFJ1NTBLeEJuV2hRd3VLTXpWWS1BRklESFlEaVVKNHdudklmaElpc1lEQWJ2NnJ3RktWOFVfcGhpTlhfSnhkWGtsZl9lRHF2VkNVRkcyZGFUc2d0QjJiWERGZ1UtSDgwdjdMSVdjdW1RN0dRRzFta3lMMGlZR25fdnBlTWYtZWZpYzlQamU5c2NNbndGbjhWWWVla09CZko4aFlRWVJFd0pnazFKeXlWYWhQSmVnY0tmMERaZlZOdDIzWlp3LV80ckF4RHdmTVdfcERJcDNMZGpna3JzSUxpU3o3cUZDTFJHcEoyanp4VkxMMlFJN1hTTy1ob2lSdXllZUxKdzh3YTNBcWNUS2dkLTJhNjRJRldVSnZYc1FveXlaalhuTUlUWS1FMGwtQWV0Wlp4LUYwWXNCYzhyM0V3amVwTk1yYVRHOXRlam9WblV0bUY1SmlDRmt0TWVxdDZCZ2VjZ3c2MWJnRGhMM1VkR0c1R18xdDAwVWxHeHV6M3F6NnVlbmVpVEdqRTlsMERDaTFSZWZjZFB2aDlncmxJaEdxaG4yRWR4ZWxHS1FFQTk3YjUtbV91V1lVUHVyNWJ1dzJxMWF6NzZEdGNPSWhRTlp5TEo4SXhKcW9haVdyR2xIdXk0Y21lSjZwa3NpemU3dUhKSVRRVEN4V1haTHNsbFdsZGR1ZV9sbjdlbV9MRFpncEpnVXd0Y3ZmYWNUU2YwRDg0a0o2UEVDV19XQzBdLS0+PC9nPjwvc3ZnPg==\" loading=\"lazy\"\u003e\n\u003cp data-sourcepos=\"135:1-135:118\"\u003e青の\u003ccode\u003eDriver\u003c/code\u003eと\u003ccode\u003eWeb\u003c/code\u003eに関しては単体テストは書かずに、E2Eテストで担保することにします。\u003c/p\u003e\n\u003cp data-sourcepos=\"137:1-137:80\"\u003e前回E2Eテストは実装済みなので、\u003ccode\u003eWEB\u003c/code\u003eから作っていきます。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"139:1-139:10\"\u003e\n\u003cspan id=\"解説\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A7%A3%E8%AA%AC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e解説\u003c/h3\u003e\n\u003ch4 data-sourcepos=\"141:1-141:11\"\u003e\n\u003cspan id=\"domain\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#domain\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eDomain\u003c/h4\u003e\n\u003cimg src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIzMDFweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjU4NHB4O2hlaWdodDozMDFweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1ODQgMzAxIiB3aWR0aD0iNTg0cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48IS0tY2x1c3RlciBEb21haW5zLS0+PGcgaWQ9ImNsdXN0ZXJfRG9tYWlucyI+PHJlY3QgZmlsbD0iI0ZGRkZBQSIgaGVpZ2h0PSIyODguNDgiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjU3MSIgeD0iNyIgeT0iNyIvPjxwYXRoIGQ9Ik04NCw3IEw4NCwxNi4yOTY5IEw3NCwyNi4yOTY5IEw3LDI2LjI5NjkgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjciIHg9IjEwIiB5PSIyMC45OTUxIj5Eb21haW5zPC90ZXh0PjwvZz48IS0tY2xhc3MgQmxvZ1RpdGxlLS0+PGcgaWQ9ImVsZW1fQmxvZ1RpdGxlIj48cmVjdCBjb2RlTGluZT0iMiIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2NC4yOTY5IiBpZD0iQmxvZ1RpdGxlIiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMTAiIHg9IjIzIiB5PSI0MiIvPjxlbGxpcHNlIGN4PSI0Ni4xIiBjeT0iNTgiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNNDkuMDY4OCw2My42NDA2IFE0OC40OTA2LDYzLjkzNzUgNDcuODUsNjQuMDc4MSBRNDcuMjA5NCw2NC4yMzQ0IDQ2LjUwNjMsNjQuMjM0NCBRNDQuMDA2Myw2NC4yMzQ0IDQyLjY3ODEsNjIuNTkzOCBRNDEuMzY1Niw2MC45Mzc1IDQxLjM2NTYsNTcuODEyNSBRNDEuMzY1Niw1NC42ODc1IDQyLjY3ODEsNTMuMDMxMyBRNDQuMDA2Myw1MS4zNzUgNDYuNTA2Myw1MS4zNzUgUTQ3LjIwOTQsNTEuMzc1IDQ3Ljg1LDUxLjUzMTMgUTQ4LjUwNjMsNTEuNjg3NSA0OS4wNjg4LDUxLjk4NDQgTDQ5LjA2ODgsNTQuNzAzMSBRNDguNDQzOCw1NC4xMjUgNDcuODUsNTMuODU5NCBRNDcuMjU2Myw1My41NzgxIDQ2LjYzMTMsNTMuNTc4MSBRNDUuMjg3NSw1My41NzgxIDQ0LjYsNTQuNjU2MyBRNDMuOTEyNSw1NS43MTg4IDQzLjkxMjUsNTcuODEyNSBRNDMuOTEyNSw1OS45MDYzIDQ0LjYsNjAuOTg0NCBRNDUuMjg3NSw2Mi4wNDY5IDQ2LjYzMTMsNjIuMDQ2OSBRNDcuMjU2Myw2Mi4wNDY5IDQ3Ljg1LDYxLjc4MTMgUTQ4LjQ0MzgsNjEuNSA0OS4wNjg4LDYwLjkyMTkgTDQ5LjA2ODgsNjMuNjQwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjYwIiB4PSI2MS45IiB5PSI2Mi44NDY3Ij5CbG9nVGl0bGU8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjQiIHgyPSIxMzIiIHkxPSI3NCIgeTI9Ijc0Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSI2IiB4PSIzMSIgeT0iODQuNjQ4NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg0IiB4PSI0MyIgeT0iOTAuOTk1MSI+dmFsdWU6IHN0cmluZzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyNCIgeDI9IjEzMiIgeTE9Ijk4LjI5NjkiIHkyPSI5OC4yOTY5Ii8+PC9nPjwhLS1jbGFzcyBCbG9nQXV0aG9yLS0+PGcgaWQ9ImVsZW1fQmxvZ0F1dGhvciI+PHJlY3QgY29kZUxpbmU9IjUiIGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNjQuMjk2OSIgaWQ9IkJsb2dBdXRob3IiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExMCIgeD0iMTY4IiB5PSI0MiIvPjxlbGxpcHNlIGN4PSIxODMuNDUiIGN5PSI1OCIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0xODYuNDE4OCw2My42NDA2IFExODUuODQwNiw2My45Mzc1IDE4NS4yLDY0LjA3ODEgUTE4NC41NTk0LDY0LjIzNDQgMTgzLjg1NjMsNjQuMjM0NCBRMTgxLjM1NjMsNjQuMjM0NCAxODAuMDI4MSw2Mi41OTM4IFExNzguNzE1Niw2MC45Mzc1IDE3OC43MTU2LDU3LjgxMjUgUTE3OC43MTU2LDU0LjY4NzUgMTgwLjAyODEsNTMuMDMxMyBRMTgxLjM1NjMsNTEuMzc1IDE4My44NTYzLDUxLjM3NSBRMTg0LjU1OTQsNTEuMzc1IDE4NS4yLDUxLjUzMTMgUTE4NS44NTYzLDUxLjY4NzUgMTg2LjQxODgsNTEuOTg0NCBMMTg2LjQxODgsNTQuNzAzMSBRMTg1Ljc5MzgsNTQuMTI1IDE4NS4yLDUzLjg1OTQgUTE4NC42MDYzLDUzLjU3ODEgMTgzLjk4MTMsNTMuNTc4MSBRMTgyLjYzNzUsNTMuNTc4MSAxODEuOTUsNTQuNjU2MyBRMTgxLjI2MjUsNTUuNzE4OCAxODEuMjYyNSw1Ny44MTI1IFExODEuMjYyNSw1OS45MDYzIDE4MS45NSw2MC45ODQ0IFExODIuNjM3NSw2Mi4wNDY5IDE4My45ODEzLDYyLjA0NjkgUTE4NC42MDYzLDYyLjA0NjkgMTg1LjIsNjEuNzgxMyBRMTg1Ljc5MzgsNjEuNSAxODYuNDE4OCw2MC45MjE5IEwxODYuNDE4OCw2My42NDA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzciIHg9IjE5Ny41NSIgeT0iNjIuODQ2NyI+QmxvZ0F1dGhvcjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxNjkiIHgyPSIyNzciIHkxPSI3NCIgeTI9Ijc0Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSI2IiB4PSIxNzYiIHk9Ijg0LjY0ODQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4NCIgeD0iMTg4IiB5PSI5MC45OTUxIj52YWx1ZTogc3RyaW5nPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjE2OSIgeDI9IjI3NyIgeTE9Ijk4LjI5NjkiIHkyPSI5OC4yOTY5Ii8+PC9nPjwhLS1jbGFzcyBCbG9nQm9keS0tPjxnIGlkPSJlbGVtX0Jsb2dCb2R5Ij48cmVjdCBjb2RlTGluZT0iOCIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2NC4yOTY5IiBpZD0iQmxvZ0JvZHkiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjExMCIgeD0iMzEzIiB5PSI0MiIvPjxlbGxpcHNlIGN4PSIzMzMuNCIgY3k9IjU4IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTMzNi4zNjg4LDYzLjY0MDYgUTMzNS43OTA2LDYzLjkzNzUgMzM1LjE1LDY0LjA3ODEgUTMzNC41MDk0LDY0LjIzNDQgMzMzLjgwNjMsNjQuMjM0NCBRMzMxLjMwNjMsNjQuMjM0NCAzMjkuOTc4MSw2Mi41OTM4IFEzMjguNjY1Niw2MC45Mzc1IDMyOC42NjU2LDU3LjgxMjUgUTMyOC42NjU2LDU0LjY4NzUgMzI5Ljk3ODEsNTMuMDMxMyBRMzMxLjMwNjMsNTEuMzc1IDMzMy44MDYzLDUxLjM3NSBRMzM0LjUwOTQsNTEuMzc1IDMzNS4xNSw1MS41MzEzIFEzMzUuODA2Myw1MS42ODc1IDMzNi4zNjg4LDUxLjk4NDQgTDMzNi4zNjg4LDU0LjcwMzEgUTMzNS43NDM4LDU0LjEyNSAzMzUuMTUsNTMuODU5NCBRMzM0LjU1NjMsNTMuNTc4MSAzMzMuOTMxMyw1My41NzgxIFEzMzIuNTg3NSw1My41NzgxIDMzMS45LDU0LjY1NjMgUTMzMS4yMTI1LDU1LjcxODggMzMxLjIxMjUsNTcuODEyNSBRMzMxLjIxMjUsNTkuOTA2MyAzMzEuOSw2MC45ODQ0IFEzMzIuNTg3NSw2Mi4wNDY5IDMzMy45MzEzLDYyLjA0NjkgUTMzNC41NTYzLDYyLjA0NjkgMzM1LjE1LDYxLjc4MTMgUTMzNS43NDM4LDYxLjUgMzM2LjM2ODgsNjAuOTIxOSBMMzM2LjM2ODgsNjMuNjQwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjY2IiB4PSIzNDguNiIgeT0iNjIuODQ2NyI+QmxvZ0JvZHk8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMzE0IiB4Mj0iNDIyIiB5MT0iNzQiIHkyPSI3NCIvPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iNiIgeD0iMzIxIiB5PSI4NC42NDg0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODQiIHg9IjMzMyIgeT0iOTAuOTk1MSI+dmFsdWU6IHN0cmluZzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIzMTQiIHgyPSI0MjIiIHkxPSI5OC4yOTY5IiB5Mj0iOTguMjk2OSIvPjwvZz48IS0tY2xhc3MgQmxvZ0RhdGUtLT48ZyBpZD0iZWxlbV9CbG9nRGF0ZSI+PHJlY3QgY29kZUxpbmU9IjExIiBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjY0LjI5NjkiIGlkPSJCbG9nRGF0ZSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTA0IiB4PSI0NTgiIHk9IjQyIi8+PGVsbGlwc2UgY3g9IjQ3Ni42IiBjeT0iNTgiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNNDc5LjU2ODgsNjMuNjQwNiBRNDc4Ljk5MDYsNjMuOTM3NSA0NzguMzUsNjQuMDc4MSBRNDc3LjcwOTQsNjQuMjM0NCA0NzcuMDA2Myw2NC4yMzQ0IFE0NzQuNTA2Myw2NC4yMzQ0IDQ3My4xNzgxLDYyLjU5MzggUTQ3MS44NjU2LDYwLjkzNzUgNDcxLjg2NTYsNTcuODEyNSBRNDcxLjg2NTYsNTQuNjg3NSA0NzMuMTc4MSw1My4wMzEzIFE0NzQuNTA2Myw1MS4zNzUgNDc3LjAwNjMsNTEuMzc1IFE0NzcuNzA5NCw1MS4zNzUgNDc4LjM1LDUxLjUzMTMgUTQ3OS4wMDYzLDUxLjY4NzUgNDc5LjU2ODgsNTEuOTg0NCBMNDc5LjU2ODgsNTQuNzAzMSBRNDc4Ljk0MzgsNTQuMTI1IDQ3OC4zNSw1My44NTk0IFE0NzcuNzU2Myw1My41NzgxIDQ3Ny4xMzEzLDUzLjU3ODEgUTQ3NS43ODc1LDUzLjU3ODEgNDc1LjEsNTQuNjU2MyBRNDc0LjQxMjUsNTUuNzE4OCA0NzQuNDEyNSw1Ny44MTI1IFE0NzQuNDEyNSw1OS45MDYzIDQ3NS4xLDYwLjk4NDQgUTQ3NS43ODc1LDYyLjA0NjkgNDc3LjEzMTMsNjIuMDQ2OSBRNDc3Ljc1NjMsNjIuMDQ2OSA0NzguMzUsNjEuNzgxMyBRNDc4Ljk0MzgsNjEuNSA0NzkuNTY4OCw2MC45MjE5IEw0NzkuNTY4OCw2My42NDA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNjQiIHg9IjQ5MS40IiB5PSI2Mi44NDY3Ij5CbG9nRGF0ZTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI0NTkiIHgyPSI1NjEiIHkxPSI3NCIgeTI9Ijc0Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSI2IiB4PSI0NjYiIHk9Ijg0LjY0ODQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OCIgeD0iNDc4IiB5PSI5MC45OTUxIj52YWx1ZTogRGF0ZTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI0NTkiIHgyPSI1NjEiIHkxPSI5OC4yOTY5IiB5Mj0iOTguMjk2OSIvPjwvZz48IS0tY2xhc3MgQmxvZy0tPjxnIGlkPSJlbGVtX0Jsb2ciPjxyZWN0IGNvZGVMaW5lPSIxNCIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMTMuMTg3NSIgaWQ9IkJsb2ciIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE2NiIgeD0iMjEyIiB5PSIxNjYuMjkiLz48ZWxsaXBzZSBjeD0iMjc1LjI1IiBjeT0iMTgyLjI5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTI3OC4yMTg4LDE4Ny45MzA2IFEyNzcuNjQwNiwxODguMjI3NSAyNzcsMTg4LjM2ODEgUTI3Ni4zNTk0LDE4OC41MjQ0IDI3NS42NTYzLDE4OC41MjQ0IFEyNzMuMTU2MywxODguNTI0NCAyNzEuODI4MSwxODYuODgzOCBRMjcwLjUxNTYsMTg1LjIyNzUgMjcwLjUxNTYsMTgyLjEwMjUgUTI3MC41MTU2LDE3OC45Nzc1IDI3MS44MjgxLDE3Ny4zMjEzIFEyNzMuMTU2MywxNzUuNjY1IDI3NS42NTYzLDE3NS42NjUgUTI3Ni4zNTk0LDE3NS42NjUgMjc3LDE3NS44MjEzIFEyNzcuNjU2MywxNzUuOTc3NSAyNzguMjE4OCwxNzYuMjc0NCBMMjc4LjIxODgsMTc4Ljk5MzEgUTI3Ny41OTM4LDE3OC40MTUgMjc3LDE3OC4xNDk0IFEyNzYuNDA2MywxNzcuODY4MSAyNzUuNzgxMywxNzcuODY4MSBRMjc0LjQzNzUsMTc3Ljg2ODEgMjczLjc1LDE3OC45NDYzIFEyNzMuMDYyNSwxODAuMDA4OCAyNzMuMDYyNSwxODIuMTAyNSBRMjczLjA2MjUsMTg0LjE5NjMgMjczLjc1LDE4NS4yNzQ0IFEyNzQuNDM3NSwxODYuMzM2OSAyNzUuNzgxMywxODYuMzM2OSBRMjc2LjQwNjMsMTg2LjMzNjkgMjc3LDE4Ni4wNzEzIFEyNzcuNTkzOCwxODUuNzkgMjc4LjIxODgsMTg1LjIxMTkgTDI3OC4yMTg4LDE4Ny45MzA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzEiIHg9IjI5NS43NSIgeT0iMTg3LjEzNjciPkJsb2c8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjEzIiB4Mj0iMzc3IiB5MT0iMTk4LjI5IiB5Mj0iMTk4LjI5Ii8+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSI2IiB4PSIyMjAiIHk9IjIwOC45Mzg0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTQiIHg9IjIzMiIgeT0iMjE1LjI4NTEiPnRpdGxlOiBCbG9nVGl0bGU8L3RleHQ+PHJlY3QgZmlsbD0ibm9uZSIgaGVpZ2h0PSI2IiBzdHlsZT0ic3Ryb2tlOiNDODI5MzA7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSI2IiB4PSIyMjAiIHk9IjIyNS4yMzUzIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTMxIiB4PSIyMzIiIHk9IjIzMS41ODIiPmF1dGhvcjogQmxvZ0F1dGhvcjwvdGV4dD48cmVjdCBmaWxsPSJub25lIiBoZWlnaHQ9IjYiIHN0eWxlPSJzdHJva2U6I0M4MjkzMDtzdHJva2Utd2lkdGg6MS4wOyIgd2lkdGg9IjYiIHg9IjIyMCIgeT0iMjQxLjUzMjIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMDkiIHg9IjIzMiIgeT0iMjQ3Ljg3ODkiPmJvZHk6IEJsb2dCb2R5PC90ZXh0PjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iNiIgc3R5bGU9InN0cm9rZTojQzgyOTMwO3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iNiIgeD0iMjIwIiB5PSIyNTcuODI5MSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0MCIgeD0iMjMyIiB5PSIyNjQuMTc1NyI+Y3JlYXRlZEF0OiBCbG9nRGF0ZTwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyMTMiIHgyPSIzNzciIHkxPSIyNzEuNDc3NSIgeTI9IjI3MS40Nzc1Ii8+PC9nPjwhLS1yZXZlcnNlIGxpbmsgQmxvZ1RpdGxlIHRvIEJsb2ctLT48ZyBpZD0ibGlua19CbG9nVGl0bGVfQmxvZyI+PHBhdGggY29kZUxpbmU9IjIwIiBkPSJNMTI5LjUxOTcsMTA5Ljk4MTggQzE1NS4wNDk3LDEyNy4yNTE4IDE4Mi40OSwxNDUuODEgMjEyLjE4LDE2NS44OCAiIGZpbGw9Im5vbmUiIGlkPSJCbG9nVGl0bGUtYmFja3RvLUJsb2ciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTI0LjU1LDEwNi42MiwxMjkuNzYzNCwxMTQuOTc1OSwxMjguNjkxNCwxMDkuNDIxNSwxMzQuMjQ1OCwxMDguMzQ5NiwxMjQuNTUsMTA2LjYyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48L2c+PCEtLXJldmVyc2UgbGluayBCbG9nQXV0aG9yIHRvIEJsb2ctLT48ZyBpZD0ibGlua19CbG9nQXV0aG9yX0Jsb2ciPjxwYXRoIGNvZGVMaW5lPSIyMSIgZD0iTTI0MS4wOTIsMTEyLjAwNyBDMjQ5LjU2MiwxMjkuMjc3IDI1Ny42NywxNDUuODEgMjY3LjUyLDE2NS44OCAiIGZpbGw9Im5vbmUiIGlkPSJCbG9nQXV0aG9yLWJhY2t0by1CbG9nIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjIzOC40NSwxMDYuNjIsMjM4LjgyMTcsMTE2LjQ2MTgsMjQwLjY1MTcsMTExLjEwOTIsMjQ2LjAwNDQsMTEyLjkzOTEsMjM4LjQ1LDEwNi42MiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PC9nPjwhLS1yZXZlcnNlIGxpbmsgQmxvZ0JvZHkgdG8gQmxvZy0tPjxnIGlkPSJsaW5rX0Jsb2dCb2R5X0Jsb2ciPjxwYXRoIGNvZGVMaW5lPSIyMiIgZD0iTTM0OS42Njc5LDExMS45OTIyIEMzNDEuMDc3OSwxMjkuMjYyMiAzMzIuODUsMTQ1LjgxIDMyMi44NiwxNjUuODggIiBmaWxsPSJub25lIiBpZD0iQmxvZ0JvZHktYmFja3RvLUJsb2ciIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMzUyLjM0LDEwNi42MiwzNDQuNzUwNSwxMTIuODk2OCwzNTAuMTEzMywxMTEuMDk2OCwzNTEuOTEzMywxMTYuNDU5NiwzNTIuMzQsMTA2LjYyIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48L2c+PCEtLXJldmVyc2UgbGluayBCbG9nRGF0ZSB0byBCbG9nLS0+PGcgaWQ9ImxpbmtfQmxvZ0RhdGVfQmxvZyI+PHBhdGggY29kZUxpbmU9IjIzIiBkPSJNNDU4LjkyNDUsMTEwLjAwMjcgQzQzMy42MjQ1LDEyNy4yNzI3IDQwNi40NywxNDUuODEgMzc3LjA2LDE2NS44OCAiIGZpbGw9Im5vbmUiIGlkPSJCbG9nRGF0ZS1iYWNrdG8tQmxvZyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0NjMuODgsMTA2LjYyLDQ1NC4xOTE2LDEwOC4zOTAzLDQ1OS43NTA0LDEwOS40Mzg5LDQ1OC43MDE4LDExNC45OTc3LDQ2My44OCwxMDYuNjIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjwvZz48IS0tU1JDPVtaUDExMmlDVzQ0TnRGU01HaGhzMElDMEdTZTlVTzlmODZjZllLSENlOU5VbEtNalFrdWF4N25fLSAtX0YwemV3eldBOU04bXdKQU8ybkhrQ2VvWEJFWk5rU20taTRxNGVxMVlnZi1paldmVjBDVzJtZVBxNzFNM3JDbEtGaEp2SkZ6Z1JxaU1vYmtrVW5QOHFzeHpfR04td0ppUGltdFRxM0hVejZscG0zbHBlRmNlbTJReExtMUhzdEQwZDRqbHFXWjEzX1lwMUVwd1dWY0o0Xzl4N3IzRzAwXS0tPjwvZz48L3N2Zz4=\" loading=\"lazy\"\u003e\n\u003cblockquote data-sourcepos=\"170:1-171:341\"\u003e\n\u003cp data-sourcepos=\"170:3-171:341\"\u003eFrom ChatGPT\u003cbr\u003e\nこれはシステムのビジネスルールを反映する層です。ドメインエンティティは、ビジネスオブジェクト（例：顧客、注文）とそのビジネスロジックを含みます。この層はシステムの他の部分から独立しており、アプリケーションのコア機能を表します。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul data-sourcepos=\"173:1-176:0\"\u003e\n\u003cli data-sourcepos=\"173:1-173:41\"\u003e\n\u003ccode\u003eBlog\u003c/code\u003eをドメインとしました。\u003c/li\u003e\n\u003cli data-sourcepos=\"174:1-174:104\"\u003etitle, author, body, createdAtをそれぞれバリューオブジェクトとして定義します。\u003c/li\u003e\n\u003cli data-sourcepos=\"175:1-176:0\"\u003eバリューオブジェクトに関してはこちらの記事がわかりやすかったです\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"177:1-177:58\"\u003e\u003ciframe id=\"qiita-embed-content__fd1c2dd0f023ca8c8bf2c99c79d14f03\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__fd1c2dd0f023ca8c8bf2c99c79d14f03\" data-content=\"https%3A%2F%2Fqiita.com%2Flittle_hand_s%2Fitems%2Ff8c0d0858c895afed7e2\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch4 data-sourcepos=\"179:1-179:8\"\u003e\n\u003cspan id=\"web\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#web\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eWeb\u003c/h4\u003e\n\u003cimg src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI0NzVweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjM2M3B4O2hlaWdodDo0NzVweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAzNjMgNDc1IiB3aWR0aD0iMzYzcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48IS0tY2x1c3RlciBXZWItLT48ZyBpZD0iY2x1c3Rlcl9XZWIiPjxyZWN0IGZpbGw9IiNBQUFBRkYiIGhlaWdodD0iNDYyLjE5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHdpZHRoPSIzNTAiIHg9IjciIHk9IjciLz48cGF0aCBkPSJNNTIsNyBMNTIsMTYuMjk2OSBMNDIsMjYuMjk2OSBMNywyNi4yOTY5ICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjM1IiB4PSIxMCIgeT0iMjAuOTk1MSI+V2ViPC90ZXh0PjwvZz48IS0tY2x1c3RlciBTdGF0ZS0tPjxnIGlkPSJjbHVzdGVyX1N0YXRlIj48cGF0aCBkPSJNMzMuNSw1MCBMNzUuNSw1MCBBMy43NSwzLjc1IDAgMCAxIDc4LDUyLjUgTDg1LDcyLjI5NjkgTDIwMC41LDcyLjI5NjkgQTIuNSwyLjUgMCAwIDEgMjAzLDc0Ljc5NjkgTDIwMywzMTkuNjkgQTIuNSwyLjUgMCAwIDEgMjAwLjUsMzIyLjE5IEwzMy41LDMyMi4xOSBBMi41LDIuNSAwIDAgMSAzMSwzMTkuNjkgTDMxLDUyLjUgQTIuNSwyLjUgMCAwIDEgMzMuNSw1MCAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9IjMxIiB4Mj0iODUiIHkxPSI3Mi4yOTY5IiB5Mj0iNzIuMjk2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0MSIgeD0iMzUiIHk9IjY0Ljk5NTEiPlN0YXRlPC90ZXh0PjwvZz48IS0tY2x1c3RlciBDb21wb25lbnQtLT48ZyBpZD0iY2x1c3Rlcl9Db21wb25lbnQiPjxwYXRoIGQ9Ik05MS41LDM0Ni4xOSBMMTgzLjUsMzQ2LjE5IEEzLjc1LDMuNzUgMCAwIDEgMTg2LDM0OC42OSBMMTkzLDM2OC40ODY5IEwyNzIuNSwzNjguNDg2OSBBMi41LDIuNSAwIDAgMSAyNzUsMzcwLjk4NjkgTDI3NSw0NDIuNjkgQTIuNSwyLjUgMCAwIDEgMjcyLjUsNDQ1LjE5IEw5MS41LDQ0NS4xOSBBMi41LDIuNSAwIDAgMSA4OSw0NDIuNjkgTDg5LDM0OC42OSBBMi41LDIuNSAwIDAgMSA5MS41LDM0Ni4xOSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS41OyIgeDE9Ijg5IiB4Mj0iMTkzIiB5MT0iMzY4LjQ4NjkiIHkyPSIzNjguNDg2OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5MSIgeD0iOTMiIHk9IjM2MS4xODUxIj5Db21wb25lbnQ8L3RleHQ+PC9nPjwhLS1jbGFzcyBCbG9nVXNlY2FzZS0tPjxnIGlkPSJlbGVtX0Jsb2dVc2VjYXNlIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ4IiBpZD0iQmxvZ1VzZWNhc2UiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyMyIgeD0iMjE4LjUiIHk9IjIyNS42Ii8+PGVsbGlwc2UgY3g9IjIzMy41IiBjeT0iMjQxLjYiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNMjM2LjQ2ODgsMjQ3LjI0MDYgUTIzNS44OTA2LDI0Ny41Mzc1IDIzNS4yNSwyNDcuNjc4MSBRMjM0LjYwOTQsMjQ3LjgzNDQgMjMzLjkwNjMsMjQ3LjgzNDQgUTIzMS40MDYzLDI0Ny44MzQ0IDIzMC4wNzgxLDI0Ni4xOTM4IFEyMjguNzY1NiwyNDQuNTM3NSAyMjguNzY1NiwyNDEuNDEyNSBRMjI4Ljc2NTYsMjM4LjI4NzUgMjMwLjA3ODEsMjM2LjYzMTMgUTIzMS40MDYzLDIzNC45NzUgMjMzLjkwNjMsMjM0Ljk3NSBRMjM0LjYwOTQsMjM0Ljk3NSAyMzUuMjUsMjM1LjEzMTMgUTIzNS45MDYzLDIzNS4yODc1IDIzNi40Njg4LDIzNS41ODQ0IEwyMzYuNDY4OCwyMzguMzAzMSBRMjM1Ljg0MzgsMjM3LjcyNSAyMzUuMjUsMjM3LjQ1OTQgUTIzNC42NTYzLDIzNy4xNzgxIDIzNC4wMzEzLDIzNy4xNzgxIFEyMzIuNjg3NSwyMzcuMTc4MSAyMzIsMjM4LjI1NjMgUTIzMS4zMTI1LDIzOS4zMTg4IDIzMS4zMTI1LDI0MS40MTI1IFEyMzEuMzEyNSwyNDMuNTA2MyAyMzIsMjQ0LjU4NDQgUTIzMi42ODc1LDI0NS42NDY5IDIzNC4wMzEzLDI0NS42NDY5IFEyMzQuNjU2MywyNDUuNjQ2OSAyMzUuMjUsMjQ1LjM4MTMgUTIzNS44NDM4LDI0NS4xIDIzNi40Njg4LDI0NC41MjE5IEwyMzYuNDY4OCwyNDcuMjQwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkxIiB4PSIyNDcuNSIgeT0iMjQ2LjQ0NjciPkJsb2dVc2VjYXNlPC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjIxOS41IiB4Mj0iMzQwLjUiIHkxPSIyNTcuNiIgeTI9IjI1Ny42Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjE5LjUiIHgyPSIzNDAuNSIgeTE9IjI2NS42IiB5Mj0iMjY1LjYiLz48L2c+PCEtLWNsYXNzIEJsb2dzU3RhdGUtLT48ZyBpZD0iZWxlbV9CbG9nc1N0YXRlIj48cmVjdCBjb2RlTGluZT0iMyIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSIxMTMuMTg3NSIgaWQ9IkJsb2dzU3RhdGUiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyNyIgeD0iNTQuNSIgeT0iMTkzIi8+PGVsbGlwc2UgY3g9Ijc4LjUiIGN5PSIyMDkiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNODEuNDY4OCwyMTQuNjQwNiBRODAuODkwNiwyMTQuOTM3NSA4MC4yNSwyMTUuMDc4MSBRNzkuNjA5NCwyMTUuMjM0NCA3OC45MDYzLDIxNS4yMzQ0IFE3Ni40MDYzLDIxNS4yMzQ0IDc1LjA3ODEsMjEzLjU5MzggUTczLjc2NTYsMjExLjkzNzUgNzMuNzY1NiwyMDguODEyNSBRNzMuNzY1NiwyMDUuNjg3NSA3NS4wNzgxLDIwNC4wMzEzIFE3Ni40MDYzLDIwMi4zNzUgNzguOTA2MywyMDIuMzc1IFE3OS42MDk0LDIwMi4zNzUgODAuMjUsMjAyLjUzMTMgUTgwLjkwNjMsMjAyLjY4NzUgODEuNDY4OCwyMDIuOTg0NCBMODEuNDY4OCwyMDUuNzAzMSBRODAuODQzOCwyMDUuMTI1IDgwLjI1LDIwNC44NTk0IFE3OS42NTYzLDIwNC41NzgxIDc5LjAzMTMsMjA0LjU3ODEgUTc3LjY4NzUsMjA0LjU3ODEgNzcsMjA1LjY1NjMgUTc2LjMxMjUsMjA2LjcxODggNzYuMzEyNSwyMDguODEyNSBRNzYuMzEyNSwyMTAuOTA2MyA3NywyMTEuOTg0NCBRNzcuNjg3NSwyMTMuMDQ2OSA3OS4wMzEzLDIxMy4wNDY5IFE3OS42NTYzLDIxMy4wNDY5IDgwLjI1LDIxMi43ODEzIFE4MC44NDM4LDIxMi41IDgxLjQ2ODgsMjExLjkyMTkgTDgxLjQ2ODgsMjE0LjY0MDYgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3NSIgeD0iOTQuNSIgeT0iMjEzLjg0NjciPkJsb2dzU3RhdGU8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNTUuNSIgeDI9IjE4MC41IiB5MT0iMjI1IiB5Mj0iMjI1Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzMiIHg9IjYwLjUiIHk9IjI0MS45OTUxIj50aXRsZTogc3RyaW5nPC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjkzIiB4PSI2MC41IiB5PSIyNTguMjkyIj5hdXRob3I6IHN0cmluZzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI4MiIgeD0iNjAuNSIgeT0iMjc0LjU4ODkiPmJvZHk6IHN0cmluZzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxMTUiIHg9IjYwLjUiIHk9IjI5MC44ODU3Ij5jcmVhdGVkQXQ6IHN0cmluZzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI1NS41IiB4Mj0iMTgwLjUiIHkxPSIyOTguMTg3NSIgeTI9IjI5OC4xODc1Ii8+PC9nPjwhLS1jbGFzcyBCbG9nc1ByZXNlbnRlci0tPjxnIGlkPSJlbGVtX0Jsb2dzUHJlc2VudGVyIj48cmVjdCBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjQ4IiBpZD0iQmxvZ3NQcmVzZW50ZXIiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEzOSIgeD0iNDcuNSIgeT0iODUiLz48ZWxsaXBzZSBjeD0iNjIuNSIgY3k9IjEwMSIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik02NS40Njg4LDEwNi42NDA2IFE2NC44OTA2LDEwNi45Mzc1IDY0LjI1LDEwNy4wNzgxIFE2My42MDk0LDEwNy4yMzQ0IDYyLjkwNjMsMTA3LjIzNDQgUTYwLjQwNjMsMTA3LjIzNDQgNTkuMDc4MSwxMDUuNTkzOCBRNTcuNzY1NiwxMDMuOTM3NSA1Ny43NjU2LDEwMC44MTI1IFE1Ny43NjU2LDk3LjY4NzUgNTkuMDc4MSw5Ni4wMzEzIFE2MC40MDYzLDk0LjM3NSA2Mi45MDYzLDk0LjM3NSBRNjMuNjA5NCw5NC4zNzUgNjQuMjUsOTQuNTMxMyBRNjQuOTA2Myw5NC42ODc1IDY1LjQ2ODgsOTQuOTg0NCBMNjUuNDY4OCw5Ny43MDMxIFE2NC44NDM4LDk3LjEyNSA2NC4yNSw5Ni44NTk0IFE2My42NTYzLDk2LjU3ODEgNjMuMDMxMyw5Ni41NzgxIFE2MS42ODc1LDk2LjU3ODEgNjEsOTcuNjU2MyBRNjAuMzEyNSw5OC43MTg4IDYwLjMxMjUsMTAwLjgxMjUgUTYwLjMxMjUsMTAyLjkwNjMgNjEsMTAzLjk4NDQgUTYxLjY4NzUsMTA1LjA0NjkgNjMuMDMxMywxMDUuMDQ2OSBRNjMuNjU2MywxMDUuMDQ2OSA2NC4yNSwxMDQuNzgxMyBRNjQuODQzOCwxMDQuNSA2NS40Njg4LDEwMy45MjE5IEw2NS40Njg4LDEwNi42NDA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA3IiB4PSI3Ni41IiB5PSIxMDUuODQ2NyI+QmxvZ3NQcmVzZW50ZXI8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNDguNSIgeDI9IjE4NS41IiB5MT0iMTE3IiB5Mj0iMTE3Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNDguNSIgeDI9IjE4NS41IiB5MT0iMTI1IiB5Mj0iMTI1Ii8+PC9nPjwhLS1jbGFzcyBCbG9nc0NvbXBvbmVudC0tPjxnIGlkPSJlbGVtX0Jsb2dzQ29tcG9uZW50Ij48cmVjdCBjb2RlTGluZT0iMTIiIGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNDgiIGlkPSJCbG9nc0NvbXBvbmVudCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTUzIiB4PSIxMDUuNSIgeT0iMzgxLjE5Ii8+PGVsbGlwc2UgY3g9IjEyMC41IiBjeT0iMzk3LjE5IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTEyMy40Njg4LDQwMi44MzA2IFExMjIuODkwNiw0MDMuMTI3NSAxMjIuMjUsNDAzLjI2ODEgUTEyMS42MDk0LDQwMy40MjQ0IDEyMC45MDYzLDQwMy40MjQ0IFExMTguNDA2Myw0MDMuNDI0NCAxMTcuMDc4MSw0MDEuNzgzOCBRMTE1Ljc2NTYsNDAwLjEyNzUgMTE1Ljc2NTYsMzk3LjAwMjUgUTExNS43NjU2LDM5My44Nzc1IDExNy4wNzgxLDM5Mi4yMjEzIFExMTguNDA2MywzOTAuNTY1IDEyMC45MDYzLDM5MC41NjUgUTEyMS42MDk0LDM5MC41NjUgMTIyLjI1LDM5MC43MjEzIFExMjIuOTA2MywzOTAuODc3NSAxMjMuNDY4OCwzOTEuMTc0NCBMMTIzLjQ2ODgsMzkzLjg5MzEgUTEyMi44NDM4LDM5My4zMTUgMTIyLjI1LDM5My4wNDk0IFExMjEuNjU2MywzOTIuNzY4MSAxMjEuMDMxMywzOTIuNzY4MSBRMTE5LjY4NzUsMzkyLjc2ODEgMTE5LDM5My44NDYzIFExMTguMzEyNSwzOTQuOTA4OCAxMTguMzEyNSwzOTcuMDAyNSBRMTE4LjMxMjUsMzk5LjA5NjMgMTE5LDQwMC4xNzQ0IFExMTkuNjg3NSw0MDEuMjM2OSAxMjEuMDMxMyw0MDEuMjM2OSBRMTIxLjY1NjMsNDAxLjIzNjkgMTIyLjI1LDQwMC45NzEzIFExMjIuODQzOCw0MDAuNjkgMTIzLjQ2ODgsNDAwLjExMTkgTDEyMy40Njg4LDQwMi44MzA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTIxIiB4PSIxMzQuNSIgeT0iNDAyLjAzNjciPkJsb2dzQ29tcG9uZW50PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjEwNi41IiB4Mj0iMjU3LjUiIHkxPSI0MTMuMTkiIHkyPSI0MTMuMTkiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxMDYuNSIgeDI9IjI1Ny41IiB5MT0iNDIxLjE5IiB5Mj0iNDIxLjE5Ii8+PC9nPjwhLS1saW5rIEJsb2dzUHJlc2VudGVyIHRvIEJsb2dzU3RhdGUtLT48ZyBpZD0ibGlua19CbG9nc1ByZXNlbnRlcl9CbG9nc1N0YXRlIj48cGF0aCBjb2RlTGluZT0iOSIgZD0iTTExNy4xNywxMzMuMiBDMTE3LjI4LDE0OS40NiAxMTcuNDA2NywxNjUuOTIwMiAxMTcuNTU2NywxODYuNzAwMiAiIGZpbGw9Im5vbmUiIGlkPSJCbG9nc1ByZXNlbnRlci10by1CbG9nc1N0YXRlIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDtzdHJva2UtZGFzaGFycmF5OjcuMCw3LjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMTcuNiwxOTIuNywxMjEuNTM0OSwxODMuNjcxNCwxMTcuNTYzOSwxODcuNzAwMSwxMTMuNTM1MSwxODMuNzI5MSwxMTcuNiwxOTIuNyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PC9nPjwhLS1yZXZlcnNlIGxpbmsgQmxvZ1VzZWNhc2UgdG8gQmxvZ3NDb21wb25lbnQtLT48ZyBpZD0ibGlua19CbG9nVXNlY2FzZV9CbG9nc0NvbXBvbmVudCI+PHBhdGggY29kZUxpbmU9IjE1IiBkPSJNMjYxLjg5MjYsMjc4Ljk3OCBDMjQzLjM2MjYsMzA4LjAxOCAyMTUuMTUsMzUyLjI0IDE5Ni43LDM4MS4xNSAiIGZpbGw9Im5vbmUiIGlkPSJCbG9nVXNlY2FzZS1iYWNrdG8tQmxvZ3NDb21wb25lbnQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjY1LjEyLDI3My45MiwyNTYuOTA2OCwyNzkuMzU1NCwyNjIuNDMwNSwyNzguMTM1LDI2My42NTA4LDI4My42NTg3LDI2NS4xMiwyNzMuOTIiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjwvZz48IS0tcmV2ZXJzZSBsaW5rIEJsb2dzU3RhdGUgdG8gQmxvZ3NDb21wb25lbnQtLT48ZyBpZD0ibGlua19CbG9nc1N0YXRlX0Jsb2dzQ29tcG9uZW50Ij48cGF0aCBjb2RlTGluZT0iMTYiIGQ9Ik0xNDMuNTk3NSwzMTIuMDE4NSBDMTU0LjMxNzUsMzM3Ljc0ODUgMTY0LjE0LDM2MS4zNCAxNzIuMzUsMzgxLjA0ICIgZmlsbD0ibm9uZSIgaWQ9IkJsb2dzU3RhdGUtYmFja3RvLUJsb2dzQ29tcG9uZW50IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjE0MS4yOSwzMDYuNDgsMTQxLjA1OSwzMTYuMzI2MSwxNDMuMjEyOSwzMTEuMDk1NCwxNDguNDQzNywzMTMuMjQ5NCwxNDEuMjksMzA2LjQ4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48L2c+PCEtLVNSQz1bUk9fRjJlOTA0OFZsRmlLRkUtaTNuMjlPdTNjOHczb2tXcWRnb2t2cTJGN1RhdE1KNGtTbVhzLSAtIC1KVUdWYkJEWUV6U25iMmdpREhuYms2R3ByNEs2MkRXLTNmTjhVN09DcTJ0djFuRWhRY1R2bTQzcWFaQkhwWW5KTHk3SFl6djZCazFmUWRVNndHanB3RWdORnh1dkJEVlRSN2lrMVVzSURGaVB0a3FNRWtmUHpDRGZmX0RkTkZONmlSOXpxTkJ5OWpaSk93WGFjR1oxWTR5a2JFVkZXMDBdLS0+PC9nPjwvc3ZnPg==\" loading=\"lazy\"\u003e\n\u003cblockquote data-sourcepos=\"201:1-202:369\"\u003e\n\u003cp data-sourcepos=\"201:3-202:369\"\u003eFrom ChatGPT\u003cbr\u003e\nクライアントとサーバー間のインタラクションを処理します。これには、HTTPリクエストの処理、セッション管理、クライアントへのレスポンスの生成などが含まれます。この層はシステムの最も外側に位置し、外部のユーザーとシステム間のインタフェースを提供します。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul data-sourcepos=\"204:1-206:0\"\u003e\n\u003cli data-sourcepos=\"204:1-204:75\"\u003eReactの関数コンポーネント・Stateをこれと定義しました\u003c/li\u003e\n\u003cli data-sourcepos=\"205:1-206:0\"\u003eStateの管理には\u003ccode\u003eRecoil\u003c/code\u003eを採用しました\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"207:1-207:21\"\u003e\u003ciframe id=\"qiita-embed-content__0d39ed4fda77ccc9995a2e4afdfa9f46\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__0d39ed4fda77ccc9995a2e4afdfa9f46\" data-content=\"https%3A%2F%2Frecoiljs.org%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch4 data-sourcepos=\"209:1-209:12\"\u003e\n\u003cspan id=\"usecase\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#usecase\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eUsecase\u003c/h4\u003e\n\u003cimg src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI0MjNweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjUxNHB4O2hlaWdodDo0MjNweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA1MTQgNDIzIiB3aWR0aD0iNTE0cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48IS0tY2x1c3RlciBVc2VjYXNlcy0tPjxnIGlkPSJjbHVzdGVyX1VzZWNhc2VzIj48cmVjdCBmaWxsPSIjRkZBQUFBIiBoZWlnaHQ9IjQxMC41OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iNTAxIiB4PSI3IiB5PSI3Ii8+PHBhdGggZD0iTTkzLDcgTDkzLDE2LjI5NjkgTDgzLDI2LjI5NjkgTDcsMjYuMjk2OSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3NiIgeD0iMTAiIHk9IjIwLjk5NTEiPlVzZWNhc2VzPC90ZXh0PjwvZz48IS0tY2x1c3RlciBQb3J0LS0+PGcgaWQ9ImNsdXN0ZXJfUG9ydCI+PHBhdGggZD0iTTMzLjUsMjc4LjI5IEw2Ny41LDI3OC4yOSBBMy43NSwzLjc1IDAgMCAxIDcwLDI4MC43OSBMNzcsMzAwLjU4NjkgTDQ4MS41LDMwMC41ODY5IEEyLjUsMi41IDAgMCAxIDQ4NCwzMDMuMDg2OSBMNDg0LDM5MS4wOSBBMi41LDIuNSAwIDAgMSA0ODEuNSwzOTMuNTkgTDMzLjUsMzkzLjU5IEEyLjUsMi41IDAgMCAxIDMxLDM5MS4wOSBMMzEsMjgwLjc5IEEyLjUsMi41IDAgMCAxIDMzLjUsMjc4LjI5ICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjU7IiB4MT0iMzEiIHgyPSI3NyIgeTE9IjMwMC41ODY5IiB5Mj0iMzAwLjU4NjkiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMzMiIHg9IjM1IiB5PSIyOTMuMjg1MSI+UG9ydDwvdGV4dD48L2c+PCEtLWNsYXNzIEJsb2dVc2VjYXNlLS0+PGcgaWQ9ImVsZW1fQmxvZ1VzZWNhc2UiPjxyZWN0IGNvZGVMaW5lPSIyIiBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjY0LjI5NjkiIGlkPSJCbG9nVXNlY2FzZSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTgxIiB4PSIxMzAuNSIgeT0iMTUxIi8+PGVsbGlwc2UgY3g9IjE3MS42IiBjeT0iMTY3IiBmaWxsPSIjQUREMUIyIiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTE3NC41Njg4LDE3Mi42NDA2IFExNzMuOTkwNiwxNzIuOTM3NSAxNzMuMzUsMTczLjA3ODEgUTE3Mi43MDk0LDE3My4yMzQ0IDE3Mi4wMDYzLDE3My4yMzQ0IFExNjkuNTA2MywxNzMuMjM0NCAxNjguMTc4MSwxNzEuNTkzOCBRMTY2Ljg2NTYsMTY5LjkzNzUgMTY2Ljg2NTYsMTY2LjgxMjUgUTE2Ni44NjU2LDE2My42ODc1IDE2OC4xNzgxLDE2Mi4wMzEzIFExNjkuNTA2MywxNjAuMzc1IDE3Mi4wMDYzLDE2MC4zNzUgUTE3Mi43MDk0LDE2MC4zNzUgMTczLjM1LDE2MC41MzEzIFExNzQuMDA2MywxNjAuNjg3NSAxNzQuNTY4OCwxNjAuOTg0NCBMMTc0LjU2ODgsMTYzLjcwMzEgUTE3My45NDM4LDE2My4xMjUgMTczLjM1LDE2Mi44NTk0IFExNzIuNzU2MywxNjIuNTc4MSAxNzIuMTMxMywxNjIuNTc4MSBRMTcwLjc4NzUsMTYyLjU3ODEgMTcwLjEsMTYzLjY1NjMgUTE2OS40MTI1LDE2NC43MTg4IDE2OS40MTI1LDE2Ni44MTI1IFExNjkuNDEyNSwxNjguOTA2MyAxNzAuMSwxNjkuOTg0NCBRMTcwLjc4NzUsMTcxLjA0NjkgMTcyLjEzMTMsMTcxLjA0NjkgUTE3Mi43NTYzLDE3MS4wNDY5IDE3My4zNSwxNzAuNzgxMyBRMTczLjk0MzgsMTcwLjUgMTc0LjU2ODgsMTY5LjkyMTkgTDE3NC41Njg4LDE3Mi42NDA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTEiIHg9IjE5MS40IiB5PSIxNzEuODQ2NyI+QmxvZ1VzZWNhc2U8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMTMxLjUiIHgyPSIzMTAuNSIgeTE9IjE4MyIgeTI9IjE4MyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjEzMS41IiB4Mj0iMzEwLjUiIHkxPSIxOTEiIHkyPSIxOTEiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjkiIHg9IjEzNi41IiB5PSIyMDcuOTk1MSI+bG9hZCgpOiBQcm9taXNlJmx0O0Jsb2dbXSZndDs8L3RleHQ+PC9nPjwhLS1jbGFzcyBCbG9nLS0+PGcgaWQ9ImVsZW1fQmxvZyI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgaWQ9IkJsb2ciIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjYzIiB4PSIxODkuNSIgeT0iNDIiLz48ZWxsaXBzZSBjeD0iMjA0LjUiIGN5PSI1OCIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik0yMDcuNDY4OCw2My42NDA2IFEyMDYuODkwNiw2My45Mzc1IDIwNi4yNSw2NC4wNzgxIFEyMDUuNjA5NCw2NC4yMzQ0IDIwNC45MDYzLDY0LjIzNDQgUTIwMi40MDYzLDY0LjIzNDQgMjAxLjA3ODEsNjIuNTkzOCBRMTk5Ljc2NTYsNjAuOTM3NSAxOTkuNzY1Niw1Ny44MTI1IFExOTkuNzY1Niw1NC42ODc1IDIwMS4wNzgxLDUzLjAzMTMgUTIwMi40MDYzLDUxLjM3NSAyMDQuOTA2Myw1MS4zNzUgUTIwNS42MDk0LDUxLjM3NSAyMDYuMjUsNTEuNTMxMyBRMjA2LjkwNjMsNTEuNjg3NSAyMDcuNDY4OCw1MS45ODQ0IEwyMDcuNDY4OCw1NC43MDMxIFEyMDYuODQzOCw1NC4xMjUgMjA2LjI1LDUzLjg1OTQgUTIwNS42NTYzLDUzLjU3ODEgMjA1LjAzMTMsNTMuNTc4MSBRMjAzLjY4NzUsNTMuNTc4MSAyMDMsNTQuNjU2MyBRMjAyLjMxMjUsNTUuNzE4OCAyMDIuMzEyNSw1Ny44MTI1IFEyMDIuMzEyNSw1OS45MDYzIDIwMyw2MC45ODQ0IFEyMDMuNjg3NSw2Mi4wNDY5IDIwNS4wMzEzLDYyLjA0NjkgUTIwNS42NTYzLDYyLjA0NjkgMjA2LjI1LDYxLjc4MTMgUTIwNi44NDM4LDYxLjUgMjA3LjQ2ODgsNjAuOTIxOSBMMjA3LjQ2ODgsNjMuNjQwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjMxIiB4PSIyMTguNSIgeT0iNjIuODQ2NyI+QmxvZzwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIxOTAuNSIgeDI9IjI1MS41IiB5MT0iNzQiIHkyPSI3NCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjE5MC41IiB4Mj0iMjUxLjUiIHkxPSI4MiIgeTI9IjgyIi8+PC9nPjwhLS1jbGFzcyBCbG9nSW5wdXRQb3J0LS0+PGcgaWQ9ImVsZW1fQmxvZ0lucHV0UG9ydCI+PHJlY3QgY29kZUxpbmU9IjciIGZpbGw9IiNGMUYxRjEiIGhlaWdodD0iNjQuMjk2OSIgaWQ9IkJsb2dJbnB1dFBvcnQiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjE4OSIgeD0iNDcuNSIgeT0iMzEzLjI5Ii8+PGVsbGlwc2UgY3g9IjkwLjg1IiBjeT0iMzI5LjI5IiBmaWxsPSIjQjRBN0U1IiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTg2Ljc3MTksMzI1LjA1NTYgTDg2Ljc3MTksMzIyLjg5OTQgTDk0LjE2MjUsMzIyLjg5OTQgTDk0LjE2MjUsMzI1LjA1NTYgTDkxLjY5MzgsMzI1LjA1NTYgTDkxLjY5MzgsMzMzLjEzMzcgTDk0LjE2MjUsMzMzLjEzMzcgTDk0LjE2MjUsMzM1LjI5IEw4Ni43NzE5LDMzNS4yOSBMODYuNzcxOSwzMzMuMTMzNyBMODkuMjQwNiwzMzMuMTMzNyBMODkuMjQwNiwzMjUuMDU1NiBMODYuNzcxOSwzMjUuMDU1NiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXN0eWxlPSJpdGFsaWMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTQiIHg9IjExMS4xNSIgeT0iMzM0LjEzNjciPkJsb2dJbnB1dFBvcnQ8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNDguNSIgeDI9IjIzNS41IiB5MT0iMzQ1LjI5IiB5Mj0iMzQ1LjI5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNDguNSIgeDI9IjIzNS41IiB5MT0iMzUzLjI5IiB5Mj0iMzUzLjI5Ii8+PGVsbGlwc2UgY3g9IjU4LjUiIGN5PSIzNjYuOTM4NCIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjMiIHg9IjY3LjUiIHk9IjM3MC4yODUxIj5nZXQoKTogUHJvbWlzZSZsdDtCbG9nW10mZ3Q7PC90ZXh0PjwvZz48IS0tY2xhc3MgQmxvZ091dHB1dFBvcnQtLT48ZyBpZD0iZWxlbV9CbG9nT3V0cHV0UG9ydCI+PHJlY3QgY29kZUxpbmU9IjEwIiBmaWxsPSIjRjFGMUYxIiBoZWlnaHQ9IjY0LjI5NjkiIGlkPSJCbG9nT3V0cHV0UG9ydCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTk3IiB4PSIyNzEuNSIgeT0iMzEzLjI5Ii8+PGVsbGlwc2UgY3g9IjMxMi42IiBjeT0iMzI5LjI5IiBmaWxsPSIjQjRBN0U1IiByeD0iMTEiIHJ5PSIxMSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBhdGggZD0iTTMwOC41MjE5LDMyNS4wNTU2IEwzMDguNTIxOSwzMjIuODk5NCBMMzE1LjkxMjUsMzIyLjg5OTQgTDMxNS45MTI1LDMyNS4wNTU2IEwzMTMuNDQzOCwzMjUuMDU1NiBMMzEzLjQ0MzgsMzMzLjEzMzcgTDMxNS45MTI1LDMzMy4xMzM3IEwzMTUuOTEyNSwzMzUuMjkgTDMwOC41MjE5LDMzNS4yOSBMMzA4LjUyMTksMzMzLjEzMzcgTDMxMC45OTA2LDMzMy4xMzM3IEwzMTAuOTkwNiwzMjUuMDU1NiBMMzA4LjUyMTksMzI1LjA1NTYgWiAiIGZpbGw9IiMwMDAwMDAiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC1zdHlsZT0iaXRhbGljIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNyIgeD0iMzMyLjQiIHk9IjMzNC4xMzY3Ij5CbG9nT3V0cHV0UG9ydDwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyNzIuNSIgeDI9IjQ2Ny41IiB5MT0iMzQ1LjI5IiB5Mj0iMzQ1LjI5Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iMjcyLjUiIHgyPSI0NjcuNSIgeTE9IjM1My4yOSIgeTI9IjM1My4yOSIvPjxlbGxpcHNlIGN4PSIyODIuNSIgY3k9IjM2Ni45Mzg0IiBmaWxsPSIjODRCRTg0IiByeD0iMyIgcnk9IjMiIHN0eWxlPSJzdHJva2U6IzAzODA0ODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE3MSIgeD0iMjkxLjUiIHk9IjM3MC4yODUxIj5zdG9yZShibG9nczogQmxvZ1tdKTogdm9pZDwvdGV4dD48L2c+PCEtLWxpbmsgQmxvZ1VzZWNhc2UgdG8gQmxvZ0lucHV0UG9ydC0tPjxnIGlkPSJsaW5rX0Jsb2dVc2VjYXNlX0Jsb2dJbnB1dFBvcnQiPjxwYXRoIGNvZGVMaW5lPSIxMyIgZD0iTTIwNS41OCwyMTUuNDMgQzE5MS43MSwyNDMuNTkgMTc0LjA3MTksMjc5LjM2NzkgMTYwLjE3MTksMzA3LjU3NzkgIiBmaWxsPSJub25lIiBpZD0iQmxvZ1VzZWNhc2UtdG8tQmxvZ0lucHV0UG9ydCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheTo3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTU3LjUyLDMxMi45NiwxNjUuMDg2LDMwNi42NTQ4LDE1OS43MywzMDguNDc0OSwxNTcuOTA5OCwzMDMuMTE4OSwxNTcuNTIsMzEyLjk2IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0NiIgeD0iMTg5IiB5PSIyNTguMzU2OSI+JiMxNzE7dXNlcyYjMTg3OzwvdGV4dD48L2c+PCEtLWxpbmsgQmxvZ1VzZWNhc2UgdG8gQmxvZ091dHB1dFBvcnQtLT48ZyBpZD0ibGlua19CbG9nVXNlY2FzZV9CbG9nT3V0cHV0UG9ydCI+PHBhdGggY29kZUxpbmU9IjE0IiBkPSJNMjUwLjA4LDIxNS40MyBDMjc2LjI1LDI0My41OSAzMTAuNDI0NCwyODAuMzU2IDMzNi42NTQ0LDMwOC41NjYgIiBmaWxsPSJub25lIiBpZD0iQmxvZ1VzZWNhc2UtdG8tQmxvZ091dHB1dFBvcnQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wO3N0cm9rZS1kYXNoYXJyYXk6Ny4wLDcuMDsiLz48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjM0MC43NCwzMTIuOTYsMzM3LjU0MDksMzAzLjY0NTIsMzM3LjMzNTMsMzA5LjI5ODMsMzMxLjY4MjIsMzA5LjA5MjcsMzQwLjc0LDMxMi45NiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNDYiIHg9IjI5MiIgeT0iMjU4LjM1NjkiPiYjMTcxO3VzZXMmIzE4Nzs8L3RleHQ+PC9nPjwhLS1yZXZlcnNlIGxpbmsgQmxvZyB0byBCbG9nVXNlY2FzZS0tPjxnIGlkPSJsaW5rX0Jsb2dfQmxvZ1VzZWNhc2UiPjxwYXRoIGNvZGVMaW5lPSIxNiIgZD0iTTIyMSw5Ni4zIEMyMjEsMTEzLjY1IDIyMSwxMzEuNTIgMjIxLDE1MC41OCAiIGZpbGw9Im5vbmUiIGlkPSJCbG9nLWJhY2t0by1CbG9nVXNlY2FzZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIyMjEsOTAuMywyMTcsOTkuMywyMjEsOTUuMywyMjUsOTkuMywyMjEsOTAuMyIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PC9nPjwhLS1TUkM9W1RQMl8zZTkwM0NQdGRnQkgxTUZXMFNaYjRYcjhkNkhuQ1d4ZEtHYUhFNzh6TjBwbFJXeVBKajRFN1Zmel9WTEZoX0hUTEdZaDR3NU1YQkcyOE5BaE1mR0lyZGMtdXUxZDFBMFJIR0p4bmJJcFN3ZTJENFFMeUlRM21mZ3M5WEpVU1J2OHJpUThLcF9wMnNGVHQ1NXQza3JEUVBuZVh3dVZOQTAyUjJqcWx1Y1VrSUdTMXhUMGEzQ011b2toYkM0Um1DSTdnU2kwNG53SmZsOWhkT21WQ1YxM2ZGbmgzWVBfazN0VXdvMkk5Nm9DblhTMF0tLT48L2c+PC9zdmc+\" loading=\"lazy\"\u003e\n\u003cblockquote data-sourcepos=\"231:1-232:386\"\u003e\n\u003cp data-sourcepos=\"231:3-232:386\"\u003eFrom ChatGPT\u003cbr\u003e\nシステムが提供する具体的なビジネスケースを表します。ここでは、アプリケーションがどのようにユーザーのリクエストを処理し、どのようにドメインエンティティと対話するかを定義します。ユースケース層は、ビジネスロジックとアプリケーションロジックの橋渡しを行います。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul data-sourcepos=\"234:1-236:0\"\u003e\n\u003cli data-sourcepos=\"234:1-236:0\"\u003e\n\u003ccode\u003eビジネスロジックとアプリケーションロジックの橋渡しを行います。\u003c/code\u003e\n\u003cul data-sourcepos=\"235:5-236:0\"\u003e\n\u003cli data-sourcepos=\"235:5-236:0\"\u003eこれを満たすために、InputPortから受け取ったブログデータを、OutputPortに渡すという実装にします。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 data-sourcepos=\"237:1-237:12\"\u003e\n\u003cspan id=\"gateway\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#gateway\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGateway\u003c/h4\u003e\n\u003cimg src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNjlweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjIzNXB4O2hlaWdodDoyNjlweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAyMzUgMjY5IiB3aWR0aD0iMjM1cHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48IS0tY2x1c3RlciBHYXRld2F5cy0tPjxnIGlkPSJjbHVzdGVyX0dhdGV3YXlzIj48cmVjdCBmaWxsPSIjQUFGRkFBIiBoZWlnaHQ9IjI1Ni41OSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMjIyIiB4PSI3IiB5PSI3Ii8+PHBhdGggZD0iTTk1LDcgTDk1LDE2LjI5NjkgTDg1LDI2LjI5NjkgTDcsMjYuMjk2OSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OCIgeD0iMTAiIHk9IjIwLjk5NTEiPkdhdGV3YXlzPC90ZXh0PjwvZz48IS0tY2xhc3MgQmxvZ3NHYXRld2F5LS0+PGcgaWQ9ImVsZW1fQmxvZ3NHYXRld2F5Ij48cmVjdCBjb2RlTGluZT0iMiIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI4MC41OTM4IiBpZD0iQmxvZ3NHYXRld2F5IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxODkiIHg9IjIzLjUiIHk9IjE2NyIvPjxlbGxpcHNlIGN4PSI2NS4wNSIgY3k9IjE4MyIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik02OC4wMTg4LDE4OC42NDA2IFE2Ny40NDA2LDE4OC45Mzc1IDY2LjgsMTg5LjA3ODEgUTY2LjE1OTQsMTg5LjIzNDQgNjUuNDU2MywxODkuMjM0NCBRNjIuOTU2MywxODkuMjM0NCA2MS42MjgxLDE4Ny41OTM3IFE2MC4zMTU2LDE4NS45Mzc1IDYwLjMxNTYsMTgyLjgxMjUgUTYwLjMxNTYsMTc5LjY4NzUgNjEuNjI4MSwxNzguMDMxMiBRNjIuOTU2MywxNzYuMzc1IDY1LjQ1NjMsMTc2LjM3NSBRNjYuMTU5NCwxNzYuMzc1IDY2LjgsMTc2LjUzMTIgUTY3LjQ1NjMsMTc2LjY4NzUgNjguMDE4OCwxNzYuOTg0NCBMNjguMDE4OCwxNzkuNzAzMSBRNjcuMzkzOCwxNzkuMTI1IDY2LjgsMTc4Ljg1OTQgUTY2LjIwNjMsMTc4LjU3ODEgNjUuNTgxMywxNzguNTc4MSBRNjQuMjM3NSwxNzguNTc4MSA2My41NSwxNzkuNjU2MiBRNjIuODYyNSwxODAuNzE4NyA2Mi44NjI1LDE4Mi44MTI1IFE2Mi44NjI1LDE4NC45MDYyIDYzLjU1LDE4NS45ODQ0IFE2NC4yMzc1LDE4Ny4wNDY5IDY1LjU4MTMsMTg3LjA0NjkgUTY2LjIwNjMsMTg3LjA0NjkgNjYuOCwxODYuNzgxMiBRNjcuMzkzOCwxODYuNSA2OC4wMTg4LDE4NS45MjE5IEw2OC4wMTg4LDE4OC42NDA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTgiIHg9Ijg0Ljk1IiB5PSIxODcuODQ2NyI+QmxvZ3NHYXRld2F5PC90ZXh0PjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI0LjUiIHgyPSIyMTEuNSIgeTE9IjE5OSIgeTI9IjE5OSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE2NiIgeD0iMjkuNSIgeT0iMjE1Ljk5NTEiPmJsb2dzRHJpdmVyOiBCbG9nc0RyaXZlcjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyNC41IiB4Mj0iMjExLjUiIHkxPSIyMjMuMjk2OSIgeTI9IjIyMy4yOTY5Ii8+PGVsbGlwc2UgY3g9IjM0LjUiIGN5PSIyMzYuOTQ1MyIgZmlsbD0iIzg0QkU4NCIgcng9IjMiIHJ5PSIzIiBzdHlsZT0ic3Ryb2tlOiMwMzgwNDg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxNjMiIHg9IjQzLjUiIHk9IjI0MC4yOTIiPmdldCgpOiBQcm9taXNlJmx0O0Jsb2dbXSZndDs8L3RleHQ+PC9nPjwhLS1jbGFzcyBCbG9nSW5wdXRQb3J0LS0+PGcgaWQ9ImVsZW1fQmxvZ0lucHV0UG9ydCI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgaWQ9IkJsb2dJbnB1dFBvcnQiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjEyNiIgeD0iNTUiIHk9IjQyIi8+PGVsbGlwc2UgY3g9IjcwIiBjeT0iNTgiIGZpbGw9IiNBREQxQjIiIHJ4PSIxMSIgcnk9IjExIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48cGF0aCBkPSJNNzIuOTY4OCw2My42NDA2IFE3Mi4zOTA2LDYzLjkzNzUgNzEuNzUsNjQuMDc4MSBRNzEuMTA5NCw2NC4yMzQ0IDcwLjQwNjMsNjQuMjM0NCBRNjcuOTA2Myw2NC4yMzQ0IDY2LjU3ODEsNjIuNTkzNyBRNjUuMjY1Niw2MC45Mzc1IDY1LjI2NTYsNTcuODEyNSBRNjUuMjY1Niw1NC42ODc1IDY2LjU3ODEsNTMuMDMxMiBRNjcuOTA2Myw1MS4zNzUgNzAuNDA2Myw1MS4zNzUgUTcxLjEwOTQsNTEuMzc1IDcxLjc1LDUxLjUzMTIgUTcyLjQwNjMsNTEuNjg3NSA3Mi45Njg4LDUxLjk4NDQgTDcyLjk2ODgsNTQuNzAzMSBRNzIuMzQzOCw1NC4xMjUgNzEuNzUsNTMuODU5NCBRNzEuMTU2Myw1My41NzgxIDcwLjUzMTMsNTMuNTc4MSBRNjkuMTg3NSw1My41NzgxIDY4LjUsNTQuNjU2MiBRNjcuODEyNSw1NS43MTg3IDY3LjgxMjUsNTcuODEyNSBRNjcuODEyNSw1OS45MDYyIDY4LjUsNjAuOTg0NCBRNjkuMTg3NSw2Mi4wNDY5IDcwLjUzMTMsNjIuMDQ2OSBRNzEuMTU2Myw2Mi4wNDY5IDcxLjc1LDYxLjc4MTIgUTcyLjM0MzgsNjEuNSA3Mi45Njg4LDYwLjkyMTkgTDcyLjk2ODgsNjMuNjQwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijk0IiB4PSI4NCIgeT0iNjIuODQ2NyI+QmxvZ0lucHV0UG9ydDwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI1NiIgeDI9IjE4MCIgeTE9Ijc0IiB5Mj0iNzQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSI1NiIgeDI9IjE4MCIgeTE9IjgyIiB5Mj0iODIiLz48L2c+PCEtLXJldmVyc2UgbGluayBCbG9nSW5wdXRQb3J0IHRvIEJsb2dzR2F0ZXdheS0tPjxnIGlkPSJsaW5rX0Jsb2dJbnB1dFBvcnRfQmxvZ3NHYXRld2F5Ij48cGF0aCBjb2RlTGluZT0iNiIgZD0iTTExOCwxMDguMzEgQzExOCwxMjkuMDcgMTE4LDE0MS44NyAxMTgsMTY2LjUyICIgZmlsbD0ibm9uZSIgaWQ9IkJsb2dJbnB1dFBvcnQtYmFja3RvLUJsb2dzR2F0ZXdheSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheTo3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHBvaW50cz0iMTE4LDkwLjMxLDExMiwxMDguMzEsMTI0LDEwOC4zMSwxMTgsOTAuMzEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg1IiB4PSIxMTkiIHk9IjEzMy4wNjY5Ij4mIzE3MTtpbXBsZW1lbnQmIzE4Nzs8L3RleHQ+PC9nPjwhLS1TUkM9W0FxWENwYXZDSnJMR1NheWlJSXJGaDJuTUtoMm5TSWpBcDRzcmlyREdUZEhxU3REcUxBWmNLYjE4cGFhaUJiUG1vaWJGQnVPZzFHaWhBMkkxWDVvQUNpaklZd21XeVgwRU01OHhGUkw0R3pEQThRMGVGcFVwRURLNjkxeVRRbVVLZ21MWTRDeXBodzJxOTIyX2c0SjFmYVBGM3pLMkF3MVJDZENCU2I5cEtfREF4RW91UVc0MF0tLT48L2c+PC9zdmc+\" loading=\"lazy\"\u003e\n\u003cblockquote data-sourcepos=\"249:1-250:275\"\u003e\n\u003cp data-sourcepos=\"249:3-250:275\"\u003eFrom ChatGPT\u003cbr\u003e\nデータベースや外部APIなど、システムの外部とのインターフェースを提供します。これにより、ユースケース層は外部リソースへのアクセス方法を意識することなく、ビジネスロジックに集中できます。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul data-sourcepos=\"252:1-253:0\"\u003e\n\u003cli data-sourcepos=\"252:1-253:0\"\u003eドライバーから、ブログのデータを取得し、ドメインオブジェクトに変更してユースケースに渡すようにします\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 data-sourcepos=\"254:1-254:14\"\u003e\n\u003cspan id=\"presenter\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#presenter\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ePresenter\u003c/h4\u003e\n\u003cp data-sourcepos=\"256:1-256:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcfe1a397-d75c-66ad-7bf1-cbb1aebd756b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ea4f320676313417078ee58b00f35632\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcfe1a397-d75c-66ad-7bf1-cbb1aebd756b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ea4f320676313417078ee58b00f35632\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcfe1a397-d75c-66ad-7bf1-cbb1aebd756b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a7bac3d588cfbec65fb6600cc6c62730 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/cfe1a397-d75c-66ad-7bf1-cbb1aebd756b.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cblockquote data-sourcepos=\"258:1-259:273\"\u003e\n\u003cp data-sourcepos=\"258:3-259:273\"\u003eFrom ChatGPT\u003cbr\u003e\nユースケースからのデータを受け取り、それをユーザーインターフェース層（UI）で使用できる形式に変換します。これにより、UI層はユースケース層の実装詳細から切り離され、より柔軟になります。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul data-sourcepos=\"261:1-262:0\"\u003e\n\u003cli data-sourcepos=\"261:1-262:0\"\u003eユースケースからドメインオブジェクトを受け取り、Stateに格納します\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 data-sourcepos=\"263:1-263:11\"\u003e\n\u003cspan id=\"driver\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#driver\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eDriver\u003c/h4\u003e\n\u003cimg src=\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSIyNTNweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjI1M3B4O2hlaWdodDoyNTNweDtiYWNrZ3JvdW5kOiNGRkZGRkY7IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAyNTMgMjUzIiB3aWR0aD0iMjUzcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48IS0tY2x1c3RlciBEcml2ZXJzLS0+PGcgaWQ9ImNsdXN0ZXJfRHJpdmVycyI+PHJlY3QgZmlsbD0iI0FBQUFGRiIgaGVpZ2h0PSIyNDAuMyIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB3aWR0aD0iMjQwIiB4PSI3IiB5PSI3Ii8+PHBhdGggZD0iTTc0LDcgTDc0LDE2LjI5NjkgTDY0LDI2LjI5NjkgTDcsMjYuMjk2OSAiIGZpbGw9Im5vbmUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBmb250LXdlaWdodD0iYm9sZCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NyIgeD0iMTAiIHk9IjIwLjk5NTEiPkRyaXZlcnM8L3RleHQ+PC9nPjwhLS1jbGFzcyBCbG9nc0RyaXZlci0tPjxnIGlkPSJlbGVtX0Jsb2dzRHJpdmVyIj48cmVjdCBjb2RlTGluZT0iMiIgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI2NC4yOTY5IiBpZD0iQmxvZ3NEcml2ZXIiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjIwOCIgeD0iMjMiIHk9IjE2NyIvPjxlbGxpcHNlIGN4PSI4My4yNSIgY3k9IjE4MyIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik04Ni4yMTg4LDE4OC42NDA2IFE4NS42NDA2LDE4OC45Mzc1IDg1LDE4OS4wNzgxIFE4NC4zNTk0LDE4OS4yMzQ0IDgzLjY1NjMsMTg5LjIzNDQgUTgxLjE1NjMsMTg5LjIzNDQgNzkuODI4MSwxODcuNTkzOCBRNzguNTE1NiwxODUuOTM3NSA3OC41MTU2LDE4Mi44MTI1IFE3OC41MTU2LDE3OS42ODc1IDc5LjgyODEsMTc4LjAzMTMgUTgxLjE1NjMsMTc2LjM3NSA4My42NTYzLDE3Ni4zNzUgUTg0LjM1OTQsMTc2LjM3NSA4NSwxNzYuNTMxMyBRODUuNjU2MywxNzYuNjg3NSA4Ni4yMTg4LDE3Ni45ODQ0IEw4Ni4yMTg4LDE3OS43MDMxIFE4NS41OTM4LDE3OS4xMjUgODUsMTc4Ljg1OTQgUTg0LjQwNjMsMTc4LjU3ODEgODMuNzgxMywxNzguNTc4MSBRODIuNDM3NSwxNzguNTc4MSA4MS43NSwxNzkuNjU2MyBRODEuMDYyNSwxODAuNzE4OCA4MS4wNjI1LDE4Mi44MTI1IFE4MS4wNjI1LDE4NC45MDYzIDgxLjc1LDE4NS45ODQ0IFE4Mi40Mzc1LDE4Ny4wNDY5IDgzLjc4MTMsMTg3LjA0NjkgUTg0LjQwNjMsMTg3LjA0NjkgODUsMTg2Ljc4MTMgUTg1LjU5MzgsMTg2LjUgODYuMjE4OCwxODUuOTIxOSBMODYuMjE4OCwxODguNjQwNiBaICIgZmlsbD0iIzAwMDAwMCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc5IiB4PSIxMDMuNzUiIHk9IjE4Ny44NDY3Ij5CbG9nc0RyaXZlcjwvdGV4dD48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHgxPSIyNCIgeDI9IjIzMCIgeTE9IjE5OSIgeTI9IjE5OSIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgeDE9IjI0IiB4Mj0iMjMwIiB5MT0iMjA3IiB5Mj0iMjA3Ii8+PGVsbGlwc2UgY3g9IjM0IiBjeT0iMjIwLjY0ODQiIGZpbGw9IiM4NEJFODQiIHJ4PSIzIiByeT0iMyIgc3R5bGU9InN0cm9rZTojMDM4MDQ4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTgyIiB4PSI0MyIgeT0iMjIzLjk5NTEiPmdldCgpOiBQcm9taXNlJmx0O0Jsb2dKc29uJmd0OzwvdGV4dD48L2c+PCEtLWNsYXNzIEJsb2dzR2F0ZXdheS0tPjxnIGlkPSJlbGVtX0Jsb2dzR2F0ZXdheSI+PHJlY3QgZmlsbD0iI0YxRjFGMSIgaGVpZ2h0PSI0OCIgaWQ9IkJsb2dzR2F0ZXdheSIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTMwIiB4PSI2MiIgeT0iNDIiLz48ZWxsaXBzZSBjeD0iNzciIGN5PSI1OCIgZmlsbD0iI0FERDFCMiIgcng9IjExIiByeT0iMTEiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxwYXRoIGQ9Ik03OS45Njg4LDYzLjY0MDYgUTc5LjM5MDYsNjMuOTM3NSA3OC43NSw2NC4wNzgxIFE3OC4xMDk0LDY0LjIzNDQgNzcuNDA2Myw2NC4yMzQ0IFE3NC45MDYzLDY0LjIzNDQgNzMuNTc4MSw2Mi41OTM4IFE3Mi4yNjU2LDYwLjkzNzUgNzIuMjY1Niw1Ny44MTI1IFE3Mi4yNjU2LDU0LjY4NzUgNzMuNTc4MSw1My4wMzEzIFE3NC45MDYzLDUxLjM3NSA3Ny40MDYzLDUxLjM3NSBRNzguMTA5NCw1MS4zNzUgNzguNzUsNTEuNTMxMyBRNzkuNDA2Myw1MS42ODc1IDc5Ljk2ODgsNTEuOTg0NCBMNzkuOTY4OCw1NC43MDMxIFE3OS4zNDM4LDU0LjEyNSA3OC43NSw1My44NTk0IFE3OC4xNTYzLDUzLjU3ODEgNzcuNTMxMyw1My41NzgxIFE3Ni4xODc1LDUzLjU3ODEgNzUuNSw1NC42NTYzIFE3NC44MTI1LDU1LjcxODggNzQuODEyNSw1Ny44MTI1IFE3NC44MTI1LDU5LjkwNjMgNzUuNSw2MC45ODQ0IFE3Ni4xODc1LDYyLjA0NjkgNzcuNTMxMyw2Mi4wNDY5IFE3OC4xNTYzLDYyLjA0NjkgNzguNzUsNjEuNzgxMyBRNzkuMzQzOCw2MS41IDc5Ljk2ODgsNjAuOTIxOSBMNzkuOTY4OCw2My42NDA2IFogIiBmaWxsPSIjMDAwMDAwIi8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iOTgiIHg9IjkxIiB5PSI2Mi44NDY3Ij5CbG9nc0dhdGV3YXk8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNjMiIHgyPSIxOTEiIHkxPSI3NCIgeTI9Ijc0Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB4MT0iNjMiIHgyPSIxOTEiIHkxPSI4MiIgeTI9IjgyIi8+PC9nPjwhLS1saW5rIEJsb2dzR2F0ZXdheSB0byBCbG9nc0RyaXZlci0tPjxnIGlkPSJsaW5rX0Jsb2dzR2F0ZXdheV9CbG9nc0RyaXZlciI+PHBhdGggY29kZUxpbmU9IjUiIGQ9Ik0xMjcsOTAuNDUgQzEyNywxMTEuNjcgMTI3LDEzNy4wOSAxMjcsMTYwLjUzICIgZmlsbD0ibm9uZSIgaWQ9IkJsb2dzR2F0ZXdheS10by1CbG9nc0RyaXZlciIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7c3Ryb2tlLWRhc2hhcnJheTo3LjAsNy4wOyIvPjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMTI3LDE2Ni41MywxMzEsMTU3LjUzLDEyNywxNjEuNTMsMTIzLDE1Ny41MywxMjcsMTY2LjUzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0NiIgeD0iMTI4IiB5PSIxMzMuMDY2OSI+JiMxNzE7dXNlcyYjMTg3OzwvdGV4dD48L2c+PCEtLVNSQz1bQXFYQ3BhdkNKckxHU1lkQUI0aWpBYlBJaUI1bkFxaENKUk1wS3IxczEwOHREdUxnQldNNXY5cDR1Yzg1ZnZweXo2QThJaDJlV2U5c1VjZzlYZ1FMR2ExSFZjdmNTUWVESThMTlNOd1U3TDJzNWVaMUVqbUpJckJCNG9pTHpGSmlLOG9tMGJmTU1mblFSNlY3TEdpMF0tLT48L2c+PC9zdmc+\" loading=\"lazy\"\u003e\n\u003cblockquote data-sourcepos=\"274:1-275:300\"\u003e\n\u003cp data-sourcepos=\"274:3-275:300\"\u003eFrom ChatGPT\u003cbr\u003e\nシステムの入力を管理する層です。例えば、ウェブアプリケーションにおけるHTTPリクエストの処理がこれに該当します。ドライバーはユーザーからの入力を受け取り、それをシステム内の適切なユースケースに渡します。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cul data-sourcepos=\"277:1-279:0\"\u003e\n\u003cli data-sourcepos=\"277:1-277:62\"\u003eBffへのリクエスト処理をここに設定します。\u003c/li\u003e\n\u003cli data-sourcepos=\"278:1-279:0\"\u003eBffはGraphQLサーバーなので、\u003ccode\u003eApollo Client\u003c/code\u003eを使い、リクエストを送ります。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"280:1-280:41\"\u003e\u003ciframe id=\"qiita-embed-content__d46417ea8dc2e962b07d002686321a9b\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__d46417ea8dc2e962b07d002686321a9b\" data-content=\"https%3A%2F%2Fwww.apollographql.com%2Fdocs%2Freact%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"282:1-282:82\"\u003e次回からは、この構成で\u003cstrong\u003eテスト \u0026amp; 実装\u003c/strong\u003eを進めていきます。\u003c/p\u003e\n",
    "body": "## はじめに\n\n![スライド12.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/85b606d7-da7d-01a1-72f4-a50d3f51ab63.png)\n\n---\n\n**2023年アドベントカレンダー11日目**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n前回から「ユーザーはトップページでブログの一覧を見ることができる」を進めています。\n今回はその続きからです。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png)\n\n今回から「ユーザーはトップページでブログの一覧を見ることができる」を進めていきます。\n\n引き続き**Web**の開発を進めます。\n\n## アーキテクチャ\n\n### アーキテクチャ図\n\n今回のブログ記事を取得し、表示するアーキテクチャを**クリーンアーキテクチャ**に則って考えてみます。\n\n:::note info\n**クリーンアーキテクチャとは**\nロバート・Ｃ・マーティン（通称**ボブおじさん**）によって提唱されたソフトウェア設計の一つです。\nシステムのメンテナンス性、柔軟性が高く保たれるため、多くのシステムで採用されています。\n:::\n\nhttps://zenn.dev/sre_holdings/articles/a57f088e9ca07d\n\n\n:::note warn\nまだまだ私自身理解不足な部分があると思いますが、ご容赦ください。\n:::\n\n#### **完成**\n\n```plantuml\n@startuml\n\npackage \"Domains\" \u003c\u003cFrame\u003e\u003e #FFFFAA {\n  class BlogTitle {\n    -value: string\n  }\n  class BlogAuthor {\n    -value: string\n  }\n  class BlogBody {\n    -value: string\n  }\n  class BlogDate {\n    -value: Date\n  }\n  class Blog {\n    -title: BlogTitle\n    -author: BlogAuthor\n    -body: BlogBody\n    -createdAt: BlogDate\n  }\n  BlogTitle \u003c-- Blog\n  BlogAuthor \u003c-- Blog\n  BlogBody \u003c-- Blog\n  BlogDate \u003c-- Blog\n}\n\npackage \"Usecases\" \u003c\u003cFrame\u003e\u003e #FFAAAA {\n  class BlogUsecase {\n    load(): Promise\u003cBlog[]\u003e\n  }\n\n  package Port {\n    interface BlogInputPort {\n      +get(): Promise\u003cBlog[]\u003e\n    }\n    interface BlogOutputPort {\n      +store(blogs: Blog[]): void\n    }\n    BlogUsecase ..\u003e BlogInputPort : \u003c\u003cuses\u003e\u003e\n    BlogUsecase ..\u003e BlogOutputPort : \u003c\u003cuses\u003e\u003e\n  }\n  Blog \u003c-- BlogUsecase\n}\n\npackage \"Gateways\" \u003c\u003cFrame\u003e\u003e #AAFFAA {\n  class BlogsGateway {\n    blogsDriver: BlogsDriver\n    +get(): Promise\u003cBlog[]\u003e\n  }\n  BlogInputPort \u003c|.. BlogsGateway : \u003c\u003cimplement\u003e\u003e\n}\n\npackage \"Presenter\" \u003c\u003cFrame\u003e\u003e #AAFFAA {\n  class BlogsPresenter {\n    +store(blogs: Blog[]): void\n  }\n  BlogOutputPort \u003c|.. BlogsPresenter : \u003c\u003cimplement\u003e\u003e\n}\n\npackage \"Drivers\" \u003c\u003cFrame\u003e\u003e #AAAAFF {\n  class BlogsDriver {\n    +get(): Promise\u003cBlogJson\u003e\n  }\n  BlogsGateway ..\u003e BlogsDriver : \u003c\u003cuses\u003e\u003e\n}\n\n\npackage \"Web\" \u003c\u003cFrame\u003e\u003e #AAAAFF {\n  package \"State\" {\n    class BlogsState {\n      title: string\n      author: string\n      body: string\n      createdAt: string\n    }\n    BlogsPresenter ..\u003e BlogsState\n  }\n  package \"Component\" {\n    class BlogsComponent {}\n  }\n\n  BlogUsecase \u003c-- BlogsComponent\n  BlogsState \u003c-- BlogsComponent\n}\n\npackage \"BFF\" \u003c\u003cFrame\u003e\u003e {\n}\nBlogsDriver --\u003e BFF : \u003c\u003cuses\u003e\u003e\n\n@enduml\n```\n\n青の`Driver`と`Web`に関しては単体テストは書かずに、E2Eテストで担保することにします。\n\n前回E2Eテストは実装済みなので、`WEB`から作っていきます。\n\n### 解説\n\n#### Domain\n\n```plantuml\npackage \"Domains\" \u003c\u003cFrame\u003e\u003e #FFFFAA {\n  class BlogTitle {\n    -value: string\n  }\n  class BlogAuthor {\n    -value: string\n  }\n  class BlogBody {\n    -value: string\n  }\n  class BlogDate {\n    -value: Date\n  }\n  class Blog {\n    -title: BlogTitle\n    -author: BlogAuthor\n    -body: BlogBody\n    -createdAt: BlogDate\n  }\n  BlogTitle \u003c-- Blog\n  BlogAuthor \u003c-- Blog\n  BlogBody \u003c-- Blog\n  BlogDate \u003c-- Blog\n}\n```\n\n\u003e From ChatGPT\n\u003e これはシステムのビジネスルールを反映する層です。ドメインエンティティは、ビジネスオブジェクト（例：顧客、注文）とそのビジネスロジックを含みます。この層はシステムの他の部分から独立しており、アプリケーションのコア機能を表します。\n\n* `Blog`をドメインとしました。\n* title, author, body, createdAtをそれぞれバリューオブジェクトとして定義します。\n* バリューオブジェクトに関してはこちらの記事がわかりやすかったです\n\nhttps://qiita.com/little_hand_s/items/f8c0d0858c895afed7e2\n\n#### Web\n\n```plantuml\npackage \"Web\" \u003c\u003cFrame\u003e\u003e #AAAAFF {\n  package \"State\" {\n    class BlogsState {\n      title: string\n      author: string\n      body: string\n      createdAt: string\n    }\n    BlogsPresenter ..\u003e BlogsState\n  }\n  package \"Component\" {\n    class BlogsComponent {}\n  }\n\n  BlogUsecase \u003c-- BlogsComponent\n  BlogsState \u003c-- BlogsComponent\n}\n```\n\n\u003e From ChatGPT\n\u003e クライアントとサーバー間のインタラクションを処理します。これには、HTTPリクエストの処理、セッション管理、クライアントへのレスポンスの生成などが含まれます。この層はシステムの最も外側に位置し、外部のユーザーとシステム間のインタフェースを提供します。\n\n* Reactの関数コンポーネント・Stateをこれと定義しました\n* Stateの管理には`Recoil`を採用しました\n\nhttps://recoiljs.org/\n\n#### Usecase\n\n```plantuml\npackage \"Usecases\" \u003c\u003cFrame\u003e\u003e #FFAAAA {\n  class BlogUsecase {\n    load(): Promise\u003cBlog[]\u003e\n  }\n\n  package Port {\n    interface BlogInputPort {\n      +get(): Promise\u003cBlog[]\u003e\n    }\n    interface BlogOutputPort {\n      +store(blogs: Blog[]): void\n    }\n    BlogUsecase ..\u003e BlogInputPort : \u003c\u003cuses\u003e\u003e\n    BlogUsecase ..\u003e BlogOutputPort : \u003c\u003cuses\u003e\u003e\n  }\n  Blog \u003c-- BlogUsecase\n}\n```\n\n\u003e From ChatGPT\n\u003e システムが提供する具体的なビジネスケースを表します。ここでは、アプリケーションがどのようにユーザーのリクエストを処理し、どのようにドメインエンティティと対話するかを定義します。ユースケース層は、ビジネスロジックとアプリケーションロジックの橋渡しを行います。\n\n* `ビジネスロジックとアプリケーションロジックの橋渡しを行います。`\n    * これを満たすために、InputPortから受け取ったブログデータを、OutputPortに渡すという実装にします。\n\n#### Gateway\n\n```plantuml\npackage \"Gateways\" \u003c\u003cFrame\u003e\u003e #AAFFAA {\n  class BlogsGateway {\n    blogsDriver: BlogsDriver\n    +get(): Promise\u003cBlog[]\u003e\n  }\n  BlogInputPort \u003c|.. BlogsGateway : \u003c\u003cimplement\u003e\u003e\n}\n```\n\n\u003e From ChatGPT\n\u003e データベースや外部APIなど、システムの外部とのインターフェースを提供します。これにより、ユースケース層は外部リソースへのアクセス方法を意識することなく、ビジネスロジックに集中できます。\n\n* ドライバーから、ブログのデータを取得し、ドメインオブジェクトに変更してユースケースに渡すようにします\n\n#### Presenter\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/cfe1a397-d75c-66ad-7bf1-cbb1aebd756b.png)\n\n\u003e From ChatGPT\n\u003e ユースケースからのデータを受け取り、それをユーザーインターフェース層（UI）で使用できる形式に変換します。これにより、UI層はユースケース層の実装詳細から切り離され、より柔軟になります。\n\n* ユースケースからドメインオブジェクトを受け取り、Stateに格納します\n\n#### Driver\n\n```plantuml\npackage \"Drivers\" \u003c\u003cFrame\u003e\u003e #AAAAFF {\n  class BlogsDriver {\n    +get(): Promise\u003cBlogJson\u003e\n  }\n  BlogsGateway ..\u003e BlogsDriver : \u003c\u003cuses\u003e\u003e\n}\n```\n\n\u003e From ChatGPT\n\u003e システムの入力を管理する層です。例えば、ウェブアプリケーションにおけるHTTPリクエストの処理がこれに該当します。ドライバーはユーザーからの入力を受け取り、それをシステム内の適切なユースケースに渡します。\n\n* Bffへのリクエスト処理をここに設定します。\n* BffはGraphQLサーバーなので、`Apollo Client`を使い、リクエストを送ります。\n\nhttps://www.apollographql.com/docs/react/\n\n次回からは、この構成で**テスト \u0026 実装**を進めていきます。\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-11-29T19:05:28+09:00",
    "group": null,
    "id": "449709d121214c51eab1",
    "likes_count": 3,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "Web", "versions": [] },
      { "name": "CleanArchitecture", "versions": [] }
    ],
    "title": "【Day 11】ブログ一覧を取得し、表示する - クリーンアーキテクチャ設計",
    "updated_at": "2023-12-11T07:00:42+09:00",
    "url": "https://qiita.com/maaaashi/items/449709d121214c51eab1",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-3:131\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fed812311-bdd0-5df7-5cf8-e9176e86f9cc.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3aa4a20e8977cee77c452df869267c74\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fed812311-bdd0-5df7-5cf8-e9176e86f9cc.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3aa4a20e8977cee77c452df869267c74\" alt=\"スライド11.PNG\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fed812311-bdd0-5df7-5cf8-e9176e86f9cc.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=dbad9a4893097162bd8171e5ed79aecf 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/ed812311-bdd0-5df7-5cf8-e9176e86f9cc.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr data-sourcepos=\"5:1-6:0\"\u003e\n\u003cp data-sourcepos=\"7:1-7:58\"\u003e\u003cstrong\u003e2023年アドベントカレンダー10日目\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:52\"\u003e\u003ciframe id=\"qiita-embed-content__099f767c3ba0cf7282ee56496440b6d8\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__099f767c3ba0cf7282ee56496440b6d8\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-11:150\"\u003e前回は「ユーザーはトップページで固定値のブログタイトルを見ることができる」のストーリーを進めました。\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4b26c455-b5e3-02c0-a12c-98f8d7ebd164.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=bb91a62864526fab94249dad117eb4b3\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4b26c455-b5e3-02c0-a12c-98f8d7ebd164.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=bb91a62864526fab94249dad117eb4b3\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4b26c455-b5e3-02c0-a12c-98f8d7ebd164.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d04513f58af1e4913958c6e2f9fdba40 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4b26c455-b5e3-02c0-a12c-98f8d7ebd164.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"15:1-15:126\"\u003e今回から「ユーザーはトップページでブログの一覧を見ることができる」を進めていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"17:1-17:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2fc8082f717e35f5591d5288c9297e53\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2fc8082f717e35f5591d5288c9297e53\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5cfd5a99328c75d5bd883ebfed8d9ea0 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"19:1-19:40\"\u003e\u003cstrong\u003eWeb\u003c/strong\u003e部分の開発を進めます。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"21:1-21:21\"\u003e\n\u003cspan id=\"画面デザイン\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%94%BB%E9%9D%A2%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e画面デザイン\u003c/h2\u003e\n\u003cp data-sourcepos=\"23:1-23:65\"\u003e以前Figmaで作成したデザインで進めていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"25:1-25:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9d06565b-6d5d-b784-4373-cab42fb5d6ee.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8a8a20e5ee90db86f1b66496e494bb24\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9d06565b-6d5d-b784-4373-cab42fb5d6ee.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8a8a20e5ee90db86f1b66496e494bb24\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9d06565b-6d5d-b784-4373-cab42fb5d6ee.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=434462d983070c7950b192e0afd4b163 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/9d06565b-6d5d-b784-4373-cab42fb5d6ee.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"27:1-27:142\"\u003e今回は前回コンポーネント設計をした、\u003ccode\u003eBlogs\u003c/code\u003eコンポーネントを作成していくイメージを持っておきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"29:1-29:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3434b50c-fb98-082b-64ee-41e8d3ea1fec.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=57e56651a7f9a8c021e18535391a99a6\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3434b50c-fb98-082b-64ee-41e8d3ea1fec.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=57e56651a7f9a8c021e18535391a99a6\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3434b50c-fb98-082b-64ee-41e8d3ea1fec.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=277c028c1e0941878e7e0cbe3cb367b4 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3434b50c-fb98-082b-64ee-41e8d3ea1fec.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"31:1-31:15\"\u003e\n\u003cspan id=\"e2eテスト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#e2e%E3%83%86%E3%82%B9%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eE2Eテスト\u003c/h2\u003e\n\u003cp data-sourcepos=\"33:1-33:63\"\u003e前回同様、まずはE2Eテストを書いていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"35:1-36:125\"\u003e今回はブログのタイトルと、作成日時が見えていることが確認できるテストを追加しようと思います。\u003cbr\u003e\nFigmaのデザインに書かれているデータをBFFから取得できているかを確認していこうと思います\u003c/p\u003e\n\u003cp data-sourcepos=\"38:1-38:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8f108381-fdba-9b6d-3956-4b24379db53b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=79b2f9d81d1cbedabca7d45d13dba8ac\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8f108381-fdba-9b6d-3956-4b24379db53b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=79b2f9d81d1cbedabca7d45d13dba8ac\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8f108381-fdba-9b6d-3956-4b24379db53b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=dd18728b0825553d70205214dfe0b027 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/8f108381-fdba-9b6d-3956-4b24379db53b.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"diff_javascript\" data-sourcepos=\"40:1-86:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003etop/display.cy.js\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e/// \u0026lt;reference types=\"cypress\" /\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nf\"\u003edescribe\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eトップ画面の表示\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003ebeforeEach\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003evisit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003econfig\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ebaseUrl\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eh1タグで\"Life Sync\"が表示されていること\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eh1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eshould\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehave.text\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eLife Sync\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eh2タグで\"ブログ一覧\"の文字が表示されていること\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eh2\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eshould\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehave.text\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eブログ一覧\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e\"新規登作成\"のボタンが表示されていること\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ebutton\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eshould\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehave.text\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e新規作成\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eブログのタイトルが表示されていること\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"hdl\"\u003e\u003cspan class=\"o\"\u003e- \u003c/span\u003e  \u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e.blog-card\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eeq\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eshould\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003einclude.text\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eタイトル\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e.blog-card\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eeq\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eshould\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003einclude.text\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e心地よい一時：お気に入りのカフェでのひととき\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e.blog-card\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eeq\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eshould\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e      \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003einclude.text\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e      \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eカフェの隅で見つけた幸せ：私のお気に入りの隠れ家\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e    \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e.blog-card\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eeq\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eshould\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e      \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003einclude.text\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e      \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eコーヒーと共に過ごす静かな時間：愛すべきカフェでの体験\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e    \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e\u003cspan class=\"nf\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eブログの日付が表示されていること\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e\u003cspan class=\"o\"\u003e- \u003c/span\u003e  \u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e.blog-card\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eeq\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eshould\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003einclude.text\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e2021/01/01 09:00:00\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e.blog-card\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eeq\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eshould\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003einclude.text\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e2023/12/01 09:00:00\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e.blog-card\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eeq\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eshould\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003einclude.text\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e2023/12/02 09:00:00\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e.blog-card\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eeq\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eshould\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003einclude.text\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e2023/12/03 09:00:00\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"88:1-88:24\"\u003e実行してみます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"90:1-101:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  トップ画面の表示\n    1\u003cspan class=\"o\"\u003e)\u003c/span\u003e h1タグで\u003cspan class=\"s2\"\u003e\"Life Sync\"\u003c/span\u003eが表示されていること\n    2\u003cspan class=\"o\"\u003e)\u003c/span\u003e h2タグで\u003cspan class=\"s2\"\u003e\"ブログ一覧\"\u003c/span\u003eの文字が表示されていること\n    3\u003cspan class=\"o\"\u003e)\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"新規登作成\"\u003c/span\u003eのボタンが表示されていること\n    4\u003cspan class=\"o\"\u003e)\u003c/span\u003e ブログのタイトルが表示されていること\n    5\u003cspan class=\"o\"\u003e)\u003c/span\u003e ブログの日付が表示されていること\n\n\n  3 passing\n  2 failing\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"103:1-103:71\"\u003e\u003cimg alt=\":ok:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f197.png\" title=\":ok:\" width=\"20\" loading=\"lazy\"\u003e 追加したテストが失敗することが確認できました\u003c/p\u003e\n\u003ch2 data-sourcepos=\"105:1-105:22\"\u003e\n\u003cspan id=\"unitテスト準備\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#unit%E3%83%86%E3%82%B9%E3%83%88%E6%BA%96%E5%82%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eUnitテスト準備\u003c/h2\u003e\n\u003cp data-sourcepos=\"107:1-107:67\"\u003eユニットテストにはJestを採用しようと思います。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"109:1-109:8\"\u003e\n\u003cspan id=\"jest\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#jest\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eJest\u003c/h3\u003e\n\u003cp data-sourcepos=\"111:1-111:21\"\u003e\u003ciframe id=\"qiita-embed-content__ec2782c07961fb8c018f84f73211853d\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__ec2782c07961fb8c018f84f73211853d\" data-content=\"https%3A%2F%2Fjestjs.io%2Fja%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch3 data-sourcepos=\"113:1-113:11\"\u003e\n\u003cspan id=\"install\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#install\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eInstall\u003c/h3\u003e\n\u003cp data-sourcepos=\"115:1-115:69\"\u003e公式のリファクタリングをもとに進めていきます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"117:1-119:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003enpm \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e \u003cspan class=\"nt\"\u003e--save-dev\u003c/span\u003e jest jest-environment-jsdom @testing-library/react @testing-library/jest-dom\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\" data-sourcepos=\"121:1-140:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ejest.config.mjs\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003enextJest\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003enext/jest.js\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n \n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreateJestConfig\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003enextJest\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e// Provide the path to your Next.js app to load next.config.js and .env files in your test environment\u003c/span\u003e\n  \u003cspan class=\"na\"\u003edir\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e./\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n \n\u003cspan class=\"c1\"\u003e// Add any custom config to be passed to Jest\u003c/span\u003e\n\u003cspan class=\"cm\"\u003e/** @type {import('jest').Config} */\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003econfig\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e// Add more setup options before each test is run\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e// setupFilesAfterEnv: ['\u0026lt;rootDir\u0026gt;/jest.setup.js'],\u003c/span\u003e\n \n  \u003cspan class=\"na\"\u003etestEnvironment\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ejest-environment-jsdom\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n \n\u003cspan class=\"c1\"\u003e// createJestConfig is exported this way to ensure that next/jest can load the Next.js config which is async\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"nf\"\u003ecreateJestConfig\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003econfig\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"142:1-142:35\"\u003e\u003cimg alt=\":ok:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f197.png\" title=\":ok:\" width=\"20\" loading=\"lazy\"\u003e これで設定完了です！\u003c/p\u003e\n\u003cp data-sourcepos=\"144:1-144:99\"\u003e次回はクリーンアーキテクチャの思想に基づいて開発を進めていきます。\u003c/p\u003e\n",
    "body": "## はじめに\n\n![スライド11.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/ed812311-bdd0-5df7-5cf8-e9176e86f9cc.png)\n\n---\n\n**2023年アドベントカレンダー10日目**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n前回は「ユーザーはトップページで固定値のブログタイトルを見ることができる」のストーリーを進めました。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4b26c455-b5e3-02c0-a12c-98f8d7ebd164.png)\n\n今回から「ユーザーはトップページでブログの一覧を見ることができる」を進めていきます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/272b7c0a-ca22-3db9-acc8-f52a2dd4a280.png)\n\n**Web**部分の開発を進めます。\n\n## 画面デザイン\n\n以前Figmaで作成したデザインで進めていきます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/9d06565b-6d5d-b784-4373-cab42fb5d6ee.png)\n\n今回は前回コンポーネント設計をした、`Blogs`コンポーネントを作成していくイメージを持っておきます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3434b50c-fb98-082b-64ee-41e8d3ea1fec.png)\n\n## E2Eテスト\n\n前回同様、まずはE2Eテストを書いていきます。\n\n今回はブログのタイトルと、作成日時が見えていることが確認できるテストを追加しようと思います。\nFigmaのデザインに書かれているデータをBFFから取得できているかを確認していこうと思います\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/8f108381-fdba-9b6d-3956-4b24379db53b.png)\n\n```diff_javascript:top/display.cy.js\n/// \u003creference types=\"cypress\" /\u003e\n\ndescribe('トップ画面の表示', () =\u003e {\n  beforeEach(() =\u003e {\n    cy.visit(cy.config('baseUrl'))\n  })\n\n  it('h1タグで\"Life Sync\"が表示されていること', () =\u003e {\n    cy.get('h1').should('have.text', 'Life Sync')\n  })\n\n  it('h2タグで\"ブログ一覧\"の文字が表示されていること', () =\u003e {\n    cy.get('h2').should('have.text', 'ブログ一覧')\n  })\n\n  it('\"新規登作成\"のボタンが表示されていること', () =\u003e {\n    cy.get('button').should('have.text', '新規作成')\n  })\n\n  it('ブログのタイトルが表示されていること', () =\u003e {\n-   cy.get('.blog-card').eq(0).should('include.text', 'タイトル')\n+   cy.get('.blog-card')\n+     .eq(0)\n+     .should('include.text', '心地よい一時：お気に入りのカフェでのひととき')\n+   cy.get('.blog-card')\n+     .eq(1)\n+     .should(\n+       'include.text',\n+       'カフェの隅で見つけた幸せ：私のお気に入りの隠れ家'\n+     )\n+   cy.get('.blog-card')\n+     .eq(2)\n+     .should(\n+       'include.text',\n+       'コーヒーと共に過ごす静かな時間：愛すべきカフェでの体験'\n+     )\n+ })\n+\n+ it('ブログの日付が表示されていること', () =\u003e {\n-   cy.get('.blog-card').eq(0).should('include.text', '2021/01/01 09:00:00')\n+   cy.get('.blog-card').eq(0).should('include.text', '2023/12/01 09:00:00')\n+   cy.get('.blog-card').eq(1).should('include.text', '2023/12/02 09:00:00')\n+   cy.get('.blog-card').eq(2).should('include.text', '2023/12/03 09:00:00')\n+ })\n})\n```\n\n実行してみます。\n\n```bash\n  トップ画面の表示\n    1) h1タグで\"Life Sync\"が表示されていること\n    2) h2タグで\"ブログ一覧\"の文字が表示されていること\n    3) \"新規登作成\"のボタンが表示されていること\n    4) ブログのタイトルが表示されていること\n    5) ブログの日付が表示されていること\n\n\n  3 passing\n  2 failing\n```\n\n:ok: 追加したテストが失敗することが確認できました\n\n## Unitテスト準備\n\nユニットテストにはJestを採用しようと思います。\n\n### Jest\n\nhttps://jestjs.io/ja/\n\n### Install\n\n公式のリファクタリングをもとに進めていきます。\n\n```bash\nnpm install --save-dev jest jest-environment-jsdom @testing-library/react @testing-library/jest-dom\n```\n\n```javascript:jest.config.mjs\nimport nextJest from 'next/jest.js'\n \nconst createJestConfig = nextJest({\n  // Provide the path to your Next.js app to load next.config.js and .env files in your test environment\n  dir: './',\n})\n \n// Add any custom config to be passed to Jest\n/** @type {import('jest').Config} */\nconst config = {\n  // Add more setup options before each test is run\n  // setupFilesAfterEnv: ['\u003crootDir\u003e/jest.setup.js'],\n \n  testEnvironment: 'jest-environment-jsdom',\n}\n \n// createJestConfig is exported this way to ensure that next/jest can load the Next.js config which is async\nexport default createJestConfig(config)\n```\n\n:ok: これで設定完了です！\n\n次回はクリーンアーキテクチャの思想に基づいて開発を進めていきます。\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-11-27T18:21:29+09:00",
    "group": null,
    "id": "3002fa94ce660e3a746a",
    "likes_count": 3,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "Jest", "versions": [] },
      { "name": "Next.js", "versions": [] },
      { "name": "Cypress", "versions": [] }
    ],
    "title": "【Day 10】ブログ一覧を取得し、表示する - E2E \u0026 Unit テスト準備",
    "updated_at": "2023-12-10T07:00:43+09:00",
    "url": "https://qiita.com/maaaashi/items/3002fa94ce660e3a746a",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-3:130\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6cf49a74-eabf-b8a5-d26c-cc5092c107b9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9e2d4bb4177b0929539c7ed4fd327086\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6cf49a74-eabf-b8a5-d26c-cc5092c107b9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9e2d4bb4177b0929539c7ed4fd327086\" alt=\"スライド9.PNG\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6cf49a74-eabf-b8a5-d26c-cc5092c107b9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=362e5820fd66bea92fa39cc6317bae50 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6cf49a74-eabf-b8a5-d26c-cc5092c107b9.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr data-sourcepos=\"5:1-6:0\"\u003e\n\u003cp data-sourcepos=\"7:1-7:57\"\u003e\u003cstrong\u003e2023年アドベントカレンダー8日目\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:52\"\u003e\u003ciframe id=\"qiita-embed-content__5f3f4e424be057393a7431247ef28802\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__5f3f4e424be057393a7431247ef28802\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-11:108\"\u003e今回から、「ユーザーはトップページを開くことができる」を進めていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5939e0e6-5866-bd23-a0ab-f8b27d84bb6c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=bccbd50775c87246f2de65cf2705335b\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5939e0e6-5866-bd23-a0ab-f8b27d84bb6c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=bccbd50775c87246f2de65cf2705335b\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5939e0e6-5866-bd23-a0ab-f8b27d84bb6c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=f659a85a7b2024ee548431bcf1465e72 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/5939e0e6-5866-bd23-a0ab-f8b27d84bb6c.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"15:1-15:13\"\u003e\n\u003cspan id=\"lets-go\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#lets-go\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eLet's Go!!\u003c/h2\u003e\n\u003cp data-sourcepos=\"17:1-17:45\"\u003e以前作成したデザインによると、\u003c/p\u003e\n\u003cp data-sourcepos=\"19:1-19:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0b3937fe-ffe4-946e-d78c-1c2ef05173b9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=aad56c9289b92e16ed77fb597a88ab5e\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0b3937fe-ffe4-946e-d78c-1c2ef05173b9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=aad56c9289b92e16ed77fb597a88ab5e\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0b3937fe-ffe4-946e-d78c-1c2ef05173b9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b09d77add3a6a20f8edefbee01ef0404 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/0b3937fe-ffe4-946e-d78c-1c2ef05173b9.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"21:1-21:39\"\u003eこのような画面のようです。\u003c/p\u003e\n\u003cp data-sourcepos=\"23:1-23:212\"\u003e今回は「ユーザーはトップページを開くことができる」なので、ブログの一覧をDBから取得するような処理は描かず、赤枠の部分だけ作成することにします。\u003c/p\u003e\n\u003cp data-sourcepos=\"25:1-25:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F308a75e7-0413-c08a-b4cf-90501424a346.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=62f953276798dc1f12769801fbc288f8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F308a75e7-0413-c08a-b4cf-90501424a346.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=62f953276798dc1f12769801fbc288f8\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F308a75e7-0413-c08a-b4cf-90501424a346.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=575a2711121a9606e9f62f1fca133916 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/308a75e7-0413-c08a-b4cf-90501424a346.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"27:1-27:54\"\u003e\u003cstrong\u003eTDD\u003c/strong\u003e(テスト駆動開発)で進めていきます\u003c/p\u003e\n\u003cp data-sourcepos=\"29:1-29:40\"\u003e\u003ciframe id=\"qiita-embed-content__7c288a56119b209e8338623853246935\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__7c288a56119b209e8338623853246935\" data-content=\"https%3A%2F%2Fservice.shiftinc.jp%2Fcolumn%2F4654%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"31:1-31:57\"\u003eざっくりと今回の進め方を図解しました。\u003c/p\u003e\n\u003cp data-sourcepos=\"33:1-33:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff1304986-c723-653b-743c-a369319bdf2a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=db5073211b2fe49c72f79fc98db61d34\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff1304986-c723-653b-743c-a369319bdf2a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=db5073211b2fe49c72f79fc98db61d34\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff1304986-c723-653b-743c-a369319bdf2a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=69c933868be45875cf06659db25bb17b 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f1304986-c723-653b-743c-a369319bdf2a.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"35:1-35:15\"\u003e\n\u003cspan id=\"e2eテスト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#e2e%E3%83%86%E3%82%B9%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eE2Eテスト\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\" data-sourcepos=\"37:1-58:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecypress/e2e/top/display.cy.js\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e/// \u0026lt;reference types=\"cypress\" /\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nf\"\u003edescribe\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eトップ画面の表示\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003ebeforeEach\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003evisit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003econfig\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ebaseUrl\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eh1タグで\"Life Sync\"が表示されていること\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eh1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eshould\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehave.text\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eLife Sync\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eh2タグで\"ブログ一覧\"の文字が表示されていること\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eh2\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eshould\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehave.text\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eブログ一覧\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e\"新規登作成\"のボタンが表示されていること\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecy\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eget\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ebutton\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eshould\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehave.text\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e新規作成\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"60:1-62:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eweb\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003enpm run dev\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"64:1-66:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ee2e/web\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003enpm run \u003cspan class=\"nb\"\u003etest\u003c/span\u003e:e2e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"68:1-77:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  トップ画面の表示\n    1\u003cspan class=\"o\"\u003e)\u003c/span\u003e h1タグで\u003cspan class=\"s2\"\u003e\"Life Sync\"\u003c/span\u003eが表示されていること\n    2\u003cspan class=\"o\"\u003e)\u003c/span\u003e h2タグで\u003cspan class=\"s2\"\u003e\"ブログ一覧\"\u003c/span\u003eの文字が表示されていること\n    3\u003cspan class=\"o\"\u003e)\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"新規登作成\"\u003c/span\u003eのボタンが表示されていること\n\n\n  0 passing\n  3 failing\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"79:1-79:84\"\u003e何も作成していないので、当然のようにテストは失敗します。\u003c/p\u003e\n\u003cp data-sourcepos=\"81:1-81:195\"\u003eでは次はUnit Testと行きたいところですが、今回のストーリーでは、ビジネスロジックを書くつもりはないので、E2Eテストのみで実装へ進みます。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"83:1-83:30\"\u003e\n\u003cspan id=\"コンポーネント設計\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E8%A8%AD%E8%A8%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコンポーネント設計\u003c/h2\u003e\n\u003cp data-sourcepos=\"85:1-85:87\"\u003e作成したい画面をよく見て、コンポーネント設計をしてみます。\u003c/p\u003e\n\u003cp data-sourcepos=\"87:1-87:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3434b50c-fb98-082b-64ee-41e8d3ea1fec.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=57e56651a7f9a8c021e18535391a99a6\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3434b50c-fb98-082b-64ee-41e8d3ea1fec.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=57e56651a7f9a8c021e18535391a99a6\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3434b50c-fb98-082b-64ee-41e8d3ea1fec.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=277c028c1e0941878e7e0cbe3cb367b4 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3434b50c-fb98-082b-64ee-41e8d3ea1fec.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"89:1-89:51\"\u003e簡単にこのような形で分解しました。\u003c/p\u003e\n\u003cdiv data-sourcepos=\"91:1-96:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"92:1-92:282\"\u003e細かく分けるアトミックデザインのような考え方もありますが、自分は関心ごと単位で分けるくらいに抑えることが多いです。コンポーネントが増えると逆にメンテナンス性が下がることもありますので、、、\u003c/p\u003e\n\u003cp data-sourcepos=\"94:1-95:64\"\u003e（参考）アトミックデザインとは\u003cbr\u003e\n\u003ca href=\"https://udemy.benesse.co.jp/design/web-design/atomic-design.html\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://udemy.benesse.co.jp/design/web-design/atomic-design.html\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"98:1-98:9\"\u003e\n\u003cspan id=\"実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装\u003c/h2\u003e\n\u003cp data-sourcepos=\"100:1-100:85\"\u003e今回のストーリーでは、\u003ccode\u003eHeader\u003c/code\u003e, \u003ccode\u003ePrimaryButton\u003c/code\u003eを作っていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"102:1-102:67\"\u003e\u003cstrong\u003eまずは最低限テストが通ることを目指します。\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"104:1-110:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecomponents/Header.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eReact\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ereact\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eHeader\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003eh1\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003eLife Sync\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003eh1\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"112:1-125:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecomponents/Buttons/Primary.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eReact\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eButtonHTMLAttributes\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eFC\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eMouseEventHandler\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ereact\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"kr\"\u003einterface\u003c/span\u003e \u003cspan class=\"nx\"\u003eProps\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eButtonHTMLAttributes\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eHTMLButtonElement\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003etype\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003eonClick\u003c/span\u003e\u003cspan class=\"p\"\u003e?:\u003c/span\u003e \u003cspan class=\"nx\"\u003eMouseEventHandler\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eHTMLButtonElement\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ePrimary\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eFC\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eProps\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e({\u003c/span\u003e \u003cspan class=\"nx\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eonClick\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eclickHander\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eonClick\u003c/span\u003e \u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"nx\"\u003eonClick\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e \u003cspan class=\"na\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"kd\"\u003etype\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e \u003cspan class=\"na\"\u003eonClick\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003eclickHander\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etext\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"127:1-127:47\"\u003eこれをpage.tsxで呼び出してみます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"129:1-145:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003epage.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003euse client\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogs\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/components/Blogs\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003ePrimary\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/components/Buttons/Primary\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nf\"\u003eHome\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003emain\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'p-8 flex flex-col gap-4'\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'flex justify-between'\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003eh2\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'font-bold text-lg'\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003eブログ一覧\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003eh2\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003ePrimary\u003c/span\u003e \u003cspan class=\"na\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'新規作成'\u003c/span\u003e \u003cspan class=\"na\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'button'\u003c/span\u003e \u003cspan class=\"na\"\u003eonClick\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003emoveBlogNew\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003emain\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"147:1-147:42\"\u003eさあテストを通してみましょう\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"149:1-151:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ee2e/web\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003enpm run \u003cspan class=\"nb\"\u003etest\u003c/span\u003e:e2e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"153:1-161:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  トップ画面の表示\n    ✓ h1タグで\u003cspan class=\"s2\"\u003e\"Life Sync\"\u003c/span\u003eが表示されていること \u003cspan class=\"o\"\u003e(\u003c/span\u003e380ms\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n    ✓ h2タグで\u003cspan class=\"s2\"\u003e\"ブログ一覧\"\u003c/span\u003eの文字が表示されていること \u003cspan class=\"o\"\u003e(\u003c/span\u003e353ms\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n    ✓ \u003cspan class=\"s2\"\u003e\"新規登作成\"\u003c/span\u003eのボタンが表示されていること \u003cspan class=\"o\"\u003e(\u003c/span\u003e344ms\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\n\n  3 passing \u003cspan class=\"o\"\u003e(\u003c/span\u003e1s\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"163:1-163:23\"\u003e\u003cimg alt=\":ok:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f197.png\" title=\":ok:\" width=\"20\" loading=\"lazy\"\u003e 通りました！\u003c/p\u003e\n\u003cp data-sourcepos=\"165:1-165:66\"\u003e次はスタイルをデザイン案を見ながら適用します\u003c/p\u003e\n\u003cp data-sourcepos=\"167:1-167:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6d26eff4-f362-036a-05aa-ffa73f5adce8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=bdc541313e37c5b92f0ea889f76e26a0\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6d26eff4-f362-036a-05aa-ffa73f5adce8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=bdc541313e37c5b92f0ea889f76e26a0\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6d26eff4-f362-036a-05aa-ffa73f5adce8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=1d8af860ed73eae79bf8c6291052b706 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6d26eff4-f362-036a-05aa-ffa73f5adce8.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"169:1-169:36\"\u003e再度E2Eテストを回します。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"171:1-173:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ee2e/web\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003enpm run \u003cspan class=\"nb\"\u003etest\u003c/span\u003e:e2e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"175:1-183:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  トップ画面の表示\n    ✓ h1タグで\u003cspan class=\"s2\"\u003e\"Life Sync\"\u003c/span\u003eが表示されていること \u003cspan class=\"o\"\u003e(\u003c/span\u003e380ms\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n    ✓ h2タグで\u003cspan class=\"s2\"\u003e\"ブログ一覧\"\u003c/span\u003eの文字が表示されていること \u003cspan class=\"o\"\u003e(\u003c/span\u003e353ms\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n    ✓ \u003cspan class=\"s2\"\u003e\"新規登作成\"\u003c/span\u003eのボタンが表示されていること \u003cspan class=\"o\"\u003e(\u003c/span\u003e344ms\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\n\n  3 passing \u003cspan class=\"o\"\u003e(\u003c/span\u003e1s\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"185:1-185:25\"\u003eいい感じですね👍\u003c/p\u003e\n\u003cp data-sourcepos=\"187:1-187:123\"\u003eまず最低限テストが通る実装をして、そのあとにリファクタリングをするようにしましょう\u003c/p\u003e\n\u003cp data-sourcepos=\"189:1-189:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe718faa1-3ddd-a7e2-da7d-f2a402d4e2f8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a9a969056fb87efee5f12b6bc6ac2820\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe718faa1-3ddd-a7e2-da7d-f2a402d4e2f8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a9a969056fb87efee5f12b6bc6ac2820\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe718faa1-3ddd-a7e2-da7d-f2a402d4e2f8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c8f7a35d97c8a194ab9d9e94767963a0 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e718faa1-3ddd-a7e2-da7d-f2a402d4e2f8.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch3 data-sourcepos=\"192:1-192:19\"\u003e\n\u003cspan id=\"完成コード\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%8C%E6%88%90%E3%82%B3%E3%83%BC%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e完成コード\u003c/h3\u003e\n\u003cdetails\u003e\u003csummary\u003eHeader.tsx\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"196:1-206:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecomponents/Header.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eReact\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ereact\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eHeader\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'w-full px-6 py-3 border-b-2 border-stone-800'\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003eh1\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'font-bold text-2xl'\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003eLife Sync\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003eh1\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/details\u003e\n\u003cdetails\u003e\u003csummary\u003eButtons/Primary.tsx\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"211:1-232:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecomponents/Buttons/Primary.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eReact\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eButtonHTMLAttributes\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eFC\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eMouseEventHandler\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ereact\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"kr\"\u003einterface\u003c/span\u003e \u003cspan class=\"nx\"\u003eProps\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eButtonHTMLAttributes\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eHTMLButtonElement\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003etype\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003eonClick\u003c/span\u003e\u003cspan class=\"p\"\u003e?:\u003c/span\u003e \u003cspan class=\"nx\"\u003eMouseEventHandler\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eHTMLButtonElement\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ePrimary\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eFC\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eProps\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e({\u003c/span\u003e \u003cspan class=\"nx\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eonClick\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eclickHander\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eonClick\u003c/span\u003e \u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"nx\"\u003eonClick\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\n      \u003cspan class=\"na\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"kd\"\u003etype\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'bg-green-500 py-2 px-4 rounded-lg w-fit text-white hover:bg-green-600'\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eonClick\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003eclickHander\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etext\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/details\u003e\n",
    "body": "## はじめに\n\n![スライド9.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6cf49a74-eabf-b8a5-d26c-cc5092c107b9.png)\n\n---\n\n**2023年アドベントカレンダー8日目**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n今回から、「ユーザーはトップページを開くことができる」を進めていきます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/5939e0e6-5866-bd23-a0ab-f8b27d84bb6c.png)\n\n## Let's Go!!\n\n以前作成したデザインによると、\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/0b3937fe-ffe4-946e-d78c-1c2ef05173b9.png)\n\nこのような画面のようです。\n\n今回は「ユーザーはトップページを開くことができる」なので、ブログの一覧をDBから取得するような処理は描かず、赤枠の部分だけ作成することにします。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/308a75e7-0413-c08a-b4cf-90501424a346.png)\n\n**TDD**(テスト駆動開発)で進めていきます\n\nhttps://service.shiftinc.jp/column/4654/\n\nざっくりと今回の進め方を図解しました。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f1304986-c723-653b-743c-a369319bdf2a.png)\n\n## E2Eテスト\n\n```cypress/e2e/top/display.cy.js\n/// \u003creference types=\"cypress\" /\u003e\n\ndescribe('トップ画面の表示', () =\u003e {\n  beforeEach(() =\u003e {\n    cy.visit(cy.config('baseUrl'))\n  })\n\n  it('h1タグで\"Life Sync\"が表示されていること', () =\u003e {\n    cy.get('h1').should('have.text', 'Life Sync')\n  })\n\n  it('h2タグで\"ブログ一覧\"の文字が表示されていること', () =\u003e {\n    cy.get('h2').should('have.text', 'ブログ一覧')\n  })\n\n  it('\"新規登作成\"のボタンが表示されていること', () =\u003e {\n    cy.get('button').should('have.text', '新規作成')\n  })\n})\n\n```\n\n```bash:web\nnpm run dev\n```\n\n```bash:e2e/web\nnpm run test:e2e\n```\n\n```bash\n  トップ画面の表示\n    1) h1タグで\"Life Sync\"が表示されていること\n    2) h2タグで\"ブログ一覧\"の文字が表示されていること\n    3) \"新規登作成\"のボタンが表示されていること\n\n\n  0 passing\n  3 failing\n```\n\n何も作成していないので、当然のようにテストは失敗します。\n\nでは次はUnit Testと行きたいところですが、今回のストーリーでは、ビジネスロジックを書くつもりはないので、E2Eテストのみで実装へ進みます。\n\n## コンポーネント設計\n\n作成したい画面をよく見て、コンポーネント設計をしてみます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3434b50c-fb98-082b-64ee-41e8d3ea1fec.png)\n\n簡単にこのような形で分解しました。\n\n:::note info\n細かく分けるアトミックデザインのような考え方もありますが、自分は関心ごと単位で分けるくらいに抑えることが多いです。コンポーネントが増えると逆にメンテナンス性が下がることもありますので、、、\n\n（参考）アトミックデザインとは\nhttps://udemy.benesse.co.jp/design/web-design/atomic-design.html\n:::\n\n## 実装\n\n今回のストーリーでは、`Header`, `PrimaryButton`を作っていきます。\n\n**まずは最低限テストが通ることを目指します。**\n\n```tsx:components/Header.tsx\nimport React from 'react'\n\nexport const Header = () =\u003e {\n  return \u003ch1\u003eLife Sync\u003c/h1\u003e\n}\n```\n\n```tsx:components/Buttons/Primary.tsx\nimport React, { ButtonHTMLAttributes, FC, MouseEventHandler } from 'react'\n\ninterface Props {\n  text: string\n  type: ButtonHTMLAttributes\u003cHTMLButtonElement\u003e['type']\n  onClick?: MouseEventHandler\u003cHTMLButtonElement\u003e\n}\n\nexport const Primary: FC\u003cProps\u003e = ({ text, type, onClick }) =\u003e {\n  const clickHander = onClick ? onClick : () =\u003e {}\n  return \u003cbutton type={type} onClick={clickHander}\u003e{text}\u003c/button\u003e\n}\n```\n\nこれをpage.tsxで呼び出してみます。\n\n```tsx:page.tsx\n'use client'\n\nimport { Blogs } from '@/components/Blogs'\nimport { Primary } from '@/components/Buttons/Primary'\n\nexport default function Home() {\n  return (\n    \u003cmain className='p-8 flex flex-col gap-4'\u003e\n      \u003cdiv className='flex justify-between'\u003e\n        \u003ch2 className='font-bold text-lg'\u003eブログ一覧\u003c/h2\u003e\n        \u003cPrimary text='新規作成' type='button' onClick={moveBlogNew} /\u003e\n      \u003c/div\u003e\n    \u003c/main\u003e\n  )\n}\n```\n\nさあテストを通してみましょう\n\n```bash:e2e/web\nnpm run test:e2e\n```\n\n```bash\n  トップ画面の表示\n    ✓ h1タグで\"Life Sync\"が表示されていること (380ms)\n    ✓ h2タグで\"ブログ一覧\"の文字が表示されていること (353ms)\n    ✓ \"新規登作成\"のボタンが表示されていること (344ms)\n\n\n  3 passing (1s)\n```\n\n:ok: 通りました！\n\n次はスタイルをデザイン案を見ながら適用します\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6d26eff4-f362-036a-05aa-ffa73f5adce8.png)\n\n再度E2Eテストを回します。\n\n```bash:e2e/web\nnpm run test:e2e\n```\n\n```bash\n  トップ画面の表示\n    ✓ h1タグで\"Life Sync\"が表示されていること (380ms)\n    ✓ h2タグで\"ブログ一覧\"の文字が表示されていること (353ms)\n    ✓ \"新規登作成\"のボタンが表示されていること (344ms)\n\n\n  3 passing (1s)\n```\n\nいい感じですね👍\n\nまず最低限テストが通る実装をして、そのあとにリファクタリングをするようにしましょう\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e718faa1-3ddd-a7e2-da7d-f2a402d4e2f8.png)\n\n\n### 完成コード\n\n\u003cdetails\u003e\u003csummary\u003eHeader.tsx\u003c/summary\u003e\n\n```tsx:components/Header.tsx\nimport React from 'react'\n\nexport const Header = () =\u003e {\n  return (\n    \u003cdiv className='w-full px-6 py-3 border-b-2 border-stone-800'\u003e\n      \u003ch1 className='font-bold text-2xl'\u003eLife Sync\u003c/h1\u003e\n    \u003c/div\u003e\n  )\n}\n```\n\u003c/details\u003e\n\n\u003cdetails\u003e\u003csummary\u003eButtons/Primary.tsx\u003c/summary\u003e\n\n```tsx:components/Buttons/Primary.tsx\nimport React, { ButtonHTMLAttributes, FC, MouseEventHandler } from 'react'\n\ninterface Props {\n  text: string\n  type: ButtonHTMLAttributes\u003cHTMLButtonElement\u003e['type']\n  onClick?: MouseEventHandler\u003cHTMLButtonElement\u003e\n}\n\nexport const Primary: FC\u003cProps\u003e = ({ text, type, onClick }) =\u003e {\n  const clickHander = onClick ? onClick : () =\u003e {}\n  return (\n    \u003cbutton\n      type={type}\n      className='bg-green-500 py-2 px-4 rounded-lg w-fit text-white hover:bg-green-600'\n      onClick={clickHander}\n    \u003e\n      {text}\n    \u003c/button\u003e\n  )\n}\n```\n\u003c/details\u003e\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-11-19T17:40:22+09:00",
    "group": null,
    "id": "74e76f3f05b50c7cdf3c",
    "likes_count": 4,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 1,
    "tags": [
      { "name": "TypeScript", "versions": [] },
      { "name": "Next.js", "versions": [] },
      { "name": "Cypress", "versions": [] }
    ],
    "title": "【Day 8】TOPページを作成する",
    "updated_at": "2023-12-08T07:00:42+09:00",
    "url": "https://qiita.com/maaaashi/items/74e76f3f05b50c7cdf3c",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-3:130\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbb1cab2a-2174-547b-0e60-c387cdce3b83.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=854a8905536a30d59863440535df694c\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbb1cab2a-2174-547b-0e60-c387cdce3b83.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=854a8905536a30d59863440535df694c\" alt=\"スライド8.PNG\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbb1cab2a-2174-547b-0e60-c387cdce3b83.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=733073468887581f9a884e95ea5bd396 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/bb1cab2a-2174-547b-0e60-c387cdce3b83.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr data-sourcepos=\"5:1-6:0\"\u003e\n\u003cp data-sourcepos=\"7:1-7:57\"\u003e\u003cstrong\u003e2023年アドベントカレンダー7日目\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:52\"\u003e\u003ciframe id=\"qiita-embed-content__b7b5488e420c80a9eb02a793b8fefd5e\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__b7b5488e420c80a9eb02a793b8fefd5e\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-11:105\"\u003e前回の続きで「開発者はWebの開発を進めることができる」を進めていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F13e79272-8479-39f1-e857-a04f2bfcc4b1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e33592a5d4d846fada69c27e821d8f34\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F13e79272-8479-39f1-e857-a04f2bfcc4b1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e33592a5d4d846fada69c27e821d8f34\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F13e79272-8479-39f1-e857-a04f2bfcc4b1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9c45a7328c4bf1cbac6e2ce6bd8c101c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/13e79272-8479-39f1-e857-a04f2bfcc4b1.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"15:1-15:25\"\u003e\n\u003cspan id=\"graphql-code-generator\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#graphql-code-generator\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGraphQL Code Generator\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"17:1-17:32\"\u003e\n\u003cspan id=\"graphql-code-generatorとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#graphql-code-generator%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGraphQL Code Generatorとは\u003c/h3\u003e\n\u003cp data-sourcepos=\"19:1-19:37\"\u003e\u003ciframe id=\"qiita-embed-content__3cd4e569c4c0a80c1553edfb48f3f7a2\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__3cd4e569c4c0a80c1553edfb48f3f7a2\" data-content=\"https%3A%2F%2Fthe-guild.dev%2Fgraphql%2Fcodegen\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch3 data-sourcepos=\"21:1-21:11\"\u003e\n\u003cspan id=\"install\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#install\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eInstall\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"23:1-26:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eweb/\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003enpm i graphql\nnpm i \u003cspan class=\"nt\"\u003e-D\u003c/span\u003e typescript @graphql-codegen/cli\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"28:1-28:79\"\u003einitコマンドが用意されているのでそれを使用してみます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"30:1-63:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003enpx graphql-code-generator init\n\n    Welcome to GraphQL Code Generator!\n    Answer few questions and we will setup everything \u003cspan class=\"k\"\u003efor \u003c/span\u003eyou.\n\n? What \u003cspan class=\"nb\"\u003etype \u003c/span\u003eof application are you building?\nどのアプリケーションを使用していますか？\n⇒ Application built with React\n\n? Where is your schema?: \u003cspan class=\"o\"\u003e(\u003c/span\u003epath or url\u003cspan class=\"o\"\u003e)\u003c/span\u003e\nSchemaファイルはどこにありますか？\n⇒ ./schema.graphql\n\n? Where are your operations and fragments?:\nオペレーションやフラグメントはどこにありますか？\n⇒ src/graphql/\u003cspan class=\"k\"\u003e*\u003c/span\u003e.graphql\n\n? Where to write the output\nアウトプットファイル先はどこにしますか？\n⇒ src/graphql/generated.tsx\n\n? Do you want to generate an introspection file?\nイントロスペクションファイルを生成しますか？\n⇒ No\n\n? How to name the config file? codegen.ts\nコンフィグファイルの名前はどうしますか？\n⇒ codege.ts\u003cspan class=\"o\"\u003e(\u003c/span\u003edefault\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\n? What script \u003cspan class=\"k\"\u003ein \u003c/span\u003epackage.json should run the codegen?\nスクリプトの名前はどうしますか？\n⇒ codegen\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"graphql\" data-sourcepos=\"65:1-76:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eschema.graphql\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003etype\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eBlog\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"k\"\u003etype\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eQuery\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eBlog\u003c/span\u003e\u003cspan class=\"p\"\u003e!]!\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"graphql\" data-sourcepos=\"78:1-92:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/graphql/operation.graphql\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003equery\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eGetBlogs\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003eblogs\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e...\u003c/span\u003e\u003cspan class=\"n\"\u003eBlogFields\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"k\"\u003efragment\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eBlogFields\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"k\"\u003eon\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eBlog\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003eauthor\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003ebody\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"94:1-94:39\"\u003eこれで生成準備は整いました\u003c/p\u003e\n\u003ch3 data-sourcepos=\"96:1-96:17\"\u003e\n\u003cspan id=\"apollo-client\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#apollo-client\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eApollo Client\u003c/h3\u003e\n\u003cp data-sourcepos=\"98:1-98:127\"\u003eApollo Clientを使ってWebからリクエストを送るつもりなので、そのあたりの設定をしていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"100:1-100:41\"\u003e\u003ciframe id=\"qiita-embed-content__2d8a5ae7313643a87825c1aeaaeff448\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__2d8a5ae7313643a87825c1aeaaeff448\" data-content=\"https%3A%2F%2Fwww.apollographql.com%2Fdocs%2Freact%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"102:1-105:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eweb/\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003enpm \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e @apollo/client\nnpm \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e \u003cspan class=\"nt\"\u003e--save-dev\u003c/span\u003e @graphql-codegen/typescript-react-apollo\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"107:1-130:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecodegen.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eCodegenConfig\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@graphql-codegen/cli\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003econfig\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eCodegenConfig\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eoverwrite\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eschema\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e./schema.graphql\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003edocuments\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003esrc/graphql/*.graphql\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003egenerates\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003esrc/graphql/generated.tsx\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eplugins\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n        \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003etypescript\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003etypescript-operations\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003etypescript-react-apollo\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e],\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// mockサーバー側のSchemaファイルを生成\u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003emock/schema.graphql\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eplugins\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eschema-ast\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"nx\"\u003econfig\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"132:1-134:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003enpm run codegen\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"136:1-136:67\"\u003eきちんとファイルが生成されていたら完了です\u003cimg alt=\":ok:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f197.png\" title=\":ok:\" width=\"20\" loading=\"lazy\"\u003e\u003c/p\u003e\n\u003cdetails\u003e\u003csummary\u003esrc/graphqll/generated.tsx\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"ts\" data-sourcepos=\"140:1-227:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/graphqll/generated.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003egql\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@apollo/client\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"kd\"\u003eas \u003c/span\u003e\u003cspan class=\"nx\"\u003eApollo\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@apollo/client\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"nx\"\u003eMaybe\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eT\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eT\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"kc\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"nx\"\u003eInputMaybe\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eT\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eMaybe\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eT\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"nx\"\u003eExact\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eT\u003c/span\u003e \u003cspan class=\"kd\"\u003eextends\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"na\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"nx\"\u003eunknown\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eK\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"kr\"\u003ekeyof\u003c/span\u003e \u003cspan class=\"nx\"\u003eT\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"nx\"\u003eT\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eK\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"nx\"\u003eMakeOptional\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eT\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eK\u003c/span\u003e \u003cspan class=\"kd\"\u003eextends\u003c/span\u003e \u003cspan class=\"kr\"\u003ekeyof\u003c/span\u003e \u003cspan class=\"nx\"\u003eT\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003eOmit\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eT\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eK\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eSubKey\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"nx\"\u003eK\u003c/span\u003e\u003cspan class=\"p\"\u003e]?:\u003c/span\u003e \u003cspan class=\"nx\"\u003eMaybe\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eT\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eSubKey\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"nx\"\u003eMakeMaybe\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eT\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eK\u003c/span\u003e \u003cspan class=\"kd\"\u003eextends\u003c/span\u003e \u003cspan class=\"kr\"\u003ekeyof\u003c/span\u003e \u003cspan class=\"nx\"\u003eT\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003eOmit\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eT\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eK\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eSubKey\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"nx\"\u003eK\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"nx\"\u003eMaybe\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eT\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eSubKey\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"nx\"\u003eMakeEmpty\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eT\u003c/span\u003e \u003cspan class=\"kd\"\u003eextends\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"na\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"nx\"\u003eunknown\u003c/span\u003e \u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"nx\"\u003eK\u003c/span\u003e \u003cspan class=\"kd\"\u003eextends\u003c/span\u003e \u003cspan class=\"kr\"\u003ekeyof\u003c/span\u003e \u003cspan class=\"nx\"\u003eT\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003e_\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"nx\"\u003eK\u003c/span\u003e\u003cspan class=\"p\"\u003e]?:\u003c/span\u003e \u003cspan class=\"nx\"\u003enever\u003c/span\u003e \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"nx\"\u003eIncremental\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eT\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eT\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eP\u003c/span\u003e \u003cspan class=\"k\"\u003ein\u003c/span\u003e \u003cspan class=\"kr\"\u003ekeyof\u003c/span\u003e \u003cspan class=\"nx\"\u003eT\u003c/span\u003e\u003cspan class=\"p\"\u003e]?:\u003c/span\u003e \u003cspan class=\"nx\"\u003eP\u003c/span\u003e \u003cspan class=\"kd\"\u003eextends\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e $fragmentName\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e__typename\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e \u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"nx\"\u003eT\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eP\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003enever\u003c/span\u003e \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003edefaultOptions\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e \u003cspan class=\"kd\"\u003eas const\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"cm\"\u003e/** All built-in and custom scalars, mapped to their actual values */\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"nx\"\u003eScalars\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eID\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003einput\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"nl\"\u003eoutput\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003einput\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"nl\"\u003eoutput\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eBoolean\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003einput\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eboolean\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"nl\"\u003eoutput\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eboolean\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eInt\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003einput\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003enumber\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"nl\"\u003eoutput\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003enumber\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eFloat\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003einput\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003enumber\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"nl\"\u003eoutput\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003enumber\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlog\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003e__typename\u003c/span\u003e\u003cspan class=\"p\"\u003e?:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBlog\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eScalars\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eString\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eoutput\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eScalars\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eString\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eoutput\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eScalars\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eString\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eoutput\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eScalars\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eString\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eoutput\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"nx\"\u003eQuery\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003e__typename\u003c/span\u003e\u003cspan class=\"p\"\u003e?:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eQuery\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eArray\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eBlog\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"nx\"\u003eGetBlogsQueryVariables\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eExact\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"na\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"nx\"\u003enever\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"nx\"\u003eGetBlogsQuery\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003e__typename\u003c/span\u003e\u003cspan class=\"p\"\u003e?:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eQuery\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eArray\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003e__typename\u003c/span\u003e\u003cspan class=\"p\"\u003e?:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBlog\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogFieldsFragment\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003e__typename\u003c/span\u003e\u003cspan class=\"p\"\u003e?:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eBlog\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eBlogFieldsFragmentDoc\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003egql\u003c/span\u003e\u003cspan class=\"s2\"\u003e`\n    fragment BlogFields on Blog {\n  title\n  author\n  body\n  createdAt\n}\n    `\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eGetBlogsDocument\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003egql\u003c/span\u003e\u003cspan class=\"s2\"\u003e`\n    query GetBlogs {\n  blogs {\n    ...BlogFields\n  }\n}\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003eBlogFieldsFragmentDoc\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e`\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"cm\"\u003e/**\n * __useGetBlogsQuery__\n *\n * To run a query within a React component, call `useGetBlogsQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetBlogsQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetBlogsQuery({\n *   variables: {\n *   },\n * });\n */\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nf\"\u003euseGetBlogsQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ebaseOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e?:\u003c/span\u003e \u003cspan class=\"nx\"\u003eApollo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eQueryHookOptions\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eGetBlogsQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eGetBlogsQueryVariables\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eoptions\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{...\u003c/span\u003e\u003cspan class=\"nx\"\u003edefaultOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e...\u003c/span\u003e\u003cspan class=\"nx\"\u003ebaseOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003eApollo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003euseQuery\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eGetBlogsQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eGetBlogsQueryVariables\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eGetBlogsDocument\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eoptions\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nf\"\u003euseGetBlogsLazyQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ebaseOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e?:\u003c/span\u003e \u003cspan class=\"nx\"\u003eApollo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eLazyQueryHookOptions\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eGetBlogsQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eGetBlogsQueryVariables\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n          \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eoptions\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{...\u003c/span\u003e\u003cspan class=\"nx\"\u003edefaultOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e...\u003c/span\u003e\u003cspan class=\"nx\"\u003ebaseOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n          \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003eApollo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003euseLazyQuery\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eGetBlogsQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eGetBlogsQueryVariables\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eGetBlogsDocument\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eoptions\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nf\"\u003euseGetBlogsSuspenseQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ebaseOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e?:\u003c/span\u003e \u003cspan class=\"nx\"\u003eApollo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eSuspenseQueryHookOptions\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eGetBlogsQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eGetBlogsQueryVariables\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n          \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eoptions\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{...\u003c/span\u003e\u003cspan class=\"nx\"\u003edefaultOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e...\u003c/span\u003e\u003cspan class=\"nx\"\u003ebaseOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n          \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003eApollo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003euseSuspenseQuery\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eGetBlogsQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eGetBlogsQueryVariables\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eGetBlogsDocument\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eoptions\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"nx\"\u003eGetBlogsQueryHookResult\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003eReturnType\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003etypeof\u003c/span\u003e \u003cspan class=\"nx\"\u003euseGetBlogsQuery\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"nx\"\u003eGetBlogsLazyQueryHookResult\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003eReturnType\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003etypeof\u003c/span\u003e \u003cspan class=\"nx\"\u003euseGetBlogsLazyQuery\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"nx\"\u003eGetBlogsSuspenseQueryHookResult\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003eReturnType\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003etypeof\u003c/span\u003e \u003cspan class=\"nx\"\u003euseGetBlogsSuspenseQuery\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"nx\"\u003eGetBlogsQueryResult\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eApollo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eQueryResult\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eGetBlogsQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eGetBlogsQueryVariables\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/details\u003e\n\u003cp data-sourcepos=\"230:1-230:66\"\u003eこれでWebの開発が進められるようになりました。\u003c/p\u003e\n\u003cp data-sourcepos=\"232:1-232:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcb18e803-597b-a3f4-b616-56efdb1a82ce.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e3e933d7b47570fe708a4e494db0244f\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcb18e803-597b-a3f4-b616-56efdb1a82ce.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e3e933d7b47570fe708a4e494db0244f\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcb18e803-597b-a3f4-b616-56efdb1a82ce.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=79560324ad84caa3e7a1787873ee515b 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/cb18e803-597b-a3f4-b616-56efdb1a82ce.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"234:1-234:54\"\u003e次回からは、TOPページの作成に入ります\u003c/p\u003e\n\u003cp data-sourcepos=\"236:1-236:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc344b98f-8c07-c5b1-bdfc-57480dafeb1a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=300892a64291e297bbf448fac06463d4\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc344b98f-8c07-c5b1-bdfc-57480dafeb1a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=300892a64291e297bbf448fac06463d4\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc344b98f-8c07-c5b1-bdfc-57480dafeb1a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=850ef571a2f91fab1cc53ac3eda8f218 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/c344b98f-8c07-c5b1-bdfc-57480dafeb1a.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n",
    "body": "## はじめに\n\n![スライド8.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/bb1cab2a-2174-547b-0e60-c387cdce3b83.png)\n\n---\n\n**2023年アドベントカレンダー7日目**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n前回の続きで「開発者はWebの開発を進めることができる」を進めていきます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/13e79272-8479-39f1-e857-a04f2bfcc4b1.png)\n\n## GraphQL Code Generator\n\n### GraphQL Code Generatorとは\n\nhttps://the-guild.dev/graphql/codegen\n\n### Install\n\n```bash:web/\nnpm i graphql\nnpm i -D typescript @graphql-codegen/cli\n```\n\ninitコマンドが用意されているのでそれを使用してみます。\n\n```bash\nnpx graphql-code-generator init\n\n    Welcome to GraphQL Code Generator!\n    Answer few questions and we will setup everything for you.\n\n? What type of application are you building?\nどのアプリケーションを使用していますか？\n⇒ Application built with React\n\n? Where is your schema?: (path or url)\nSchemaファイルはどこにありますか？\n⇒ ./schema.graphql\n\n? Where are your operations and fragments?:\nオペレーションやフラグメントはどこにありますか？\n⇒ src/graphql/*.graphql\n\n? Where to write the output\nアウトプットファイル先はどこにしますか？\n⇒ src/graphql/generated.tsx\n\n? Do you want to generate an introspection file?\nイントロスペクションファイルを生成しますか？\n⇒ No\n\n? How to name the config file? codegen.ts\nコンフィグファイルの名前はどうしますか？\n⇒ codege.ts(default)\n\n? What script in package.json should run the codegen?\nスクリプトの名前はどうしますか？\n⇒ codegen\n```\n\n```graphql:schema.graphql\ntype Blog {\n  title: String!\n  author: String!\n  body: String!\n  createdAt: String!\n}\n\ntype Query {\n  blogs: [Blog!]!\n}\n```\n\n```graphql:src/graphql/operation.graphql\nquery GetBlogs {\n  blogs {\n    ...BlogFields\n  }\n}\n\nfragment BlogFields on Blog {\n  title\n  author\n  body\n  createdAt\n}\n\n```\n\nこれで生成準備は整いました\n\n### Apollo Client\n\nApollo Clientを使ってWebからリクエストを送るつもりなので、そのあたりの設定をしていきます。\n\nhttps://www.apollographql.com/docs/react/\n\n```bash:web/\nnpm install @apollo/client\nnpm install --save-dev @graphql-codegen/typescript-react-apollo\n```\n\n```typescript:codegen.ts\nimport type { CodegenConfig } from '@graphql-codegen/cli'\n\nconst config: CodegenConfig = {\n  overwrite: true,\n  schema: './schema.graphql',\n  documents: 'src/graphql/*.graphql',\n  generates: {\n    'src/graphql/generated.tsx': {\n      plugins: [\n        'typescript',\n        'typescript-operations',\n        'typescript-react-apollo',\n      ],\n    },\n    // mockサーバー側のSchemaファイルを生成\n    'mock/schema.graphql': {\n      plugins: ['schema-ast'],\n    },\n  },\n}\n\nexport default config\n```\n\n```bash\nnpm run codegen\n```\n\nきちんとファイルが生成されていたら完了です:ok:\n\n\u003cdetails\u003e\u003csummary\u003esrc/graphqll/generated.tsx\u003c/summary\u003e\n\n```ts:src/graphqll/generated.tsx\nimport { gql } from '@apollo/client';\nimport * as Apollo from '@apollo/client';\nexport type Maybe\u003cT\u003e = T | null;\nexport type InputMaybe\u003cT\u003e = Maybe\u003cT\u003e;\nexport type Exact\u003cT extends { [key: string]: unknown }\u003e = { [K in keyof T]: T[K] };\nexport type MakeOptional\u003cT, K extends keyof T\u003e = Omit\u003cT, K\u003e \u0026 { [SubKey in K]?: Maybe\u003cT[SubKey]\u003e };\nexport type MakeMaybe\u003cT, K extends keyof T\u003e = Omit\u003cT, K\u003e \u0026 { [SubKey in K]: Maybe\u003cT[SubKey]\u003e };\nexport type MakeEmpty\u003cT extends { [key: string]: unknown }, K extends keyof T\u003e = { [_ in K]?: never };\nexport type Incremental\u003cT\u003e = T | { [P in keyof T]?: P extends ' $fragmentName' | '__typename' ? T[P] : never };\nconst defaultOptions = {} as const;\n/** All built-in and custom scalars, mapped to their actual values */\nexport type Scalars = {\n  ID: { input: string; output: string; }\n  String: { input: string; output: string; }\n  Boolean: { input: boolean; output: boolean; }\n  Int: { input: number; output: number; }\n  Float: { input: number; output: number; }\n};\n\nexport type Blog = {\n  __typename?: 'Blog';\n  author: Scalars['String']['output'];\n  body: Scalars['String']['output'];\n  createdAt: Scalars['String']['output'];\n  title: Scalars['String']['output'];\n};\n\nexport type Query = {\n  __typename?: 'Query';\n  blogs: Array\u003cBlog\u003e;\n};\n\nexport type GetBlogsQueryVariables = Exact\u003c{ [key: string]: never; }\u003e;\n\n\nexport type GetBlogsQuery = { __typename?: 'Query', blogs: Array\u003c{ __typename?: 'Blog', title: string, author: string, body: string, createdAt: string }\u003e };\n\nexport type BlogFieldsFragment = { __typename?: 'Blog', title: string, author: string, body: string, createdAt: string };\n\nexport const BlogFieldsFragmentDoc = gql`\n    fragment BlogFields on Blog {\n  title\n  author\n  body\n  createdAt\n}\n    `;\nexport const GetBlogsDocument = gql`\n    query GetBlogs {\n  blogs {\n    ...BlogFields\n  }\n}\n    ${BlogFieldsFragmentDoc}`;\n\n/**\n * __useGetBlogsQuery__\n *\n * To run a query within a React component, call `useGetBlogsQuery` and pass it any options that fit your needs.\n * When your component renders, `useGetBlogsQuery` returns an object from Apollo Client that contains loading, error, and data properties\n * you can use to render your UI.\n *\n * @param baseOptions options that will be passed into the query, supported options are listed on: https://www.apollographql.com/docs/react/api/react-hooks/#options;\n *\n * @example\n * const { data, loading, error } = useGetBlogsQuery({\n *   variables: {\n *   },\n * });\n */\nexport function useGetBlogsQuery(baseOptions?: Apollo.QueryHookOptions\u003cGetBlogsQuery, GetBlogsQueryVariables\u003e) {\n        const options = {...defaultOptions, ...baseOptions}\n        return Apollo.useQuery\u003cGetBlogsQuery, GetBlogsQueryVariables\u003e(GetBlogsDocument, options);\n      }\nexport function useGetBlogsLazyQuery(baseOptions?: Apollo.LazyQueryHookOptions\u003cGetBlogsQuery, GetBlogsQueryVariables\u003e) {\n          const options = {...defaultOptions, ...baseOptions}\n          return Apollo.useLazyQuery\u003cGetBlogsQuery, GetBlogsQueryVariables\u003e(GetBlogsDocument, options);\n        }\nexport function useGetBlogsSuspenseQuery(baseOptions?: Apollo.SuspenseQueryHookOptions\u003cGetBlogsQuery, GetBlogsQueryVariables\u003e) {\n          const options = {...defaultOptions, ...baseOptions}\n          return Apollo.useSuspenseQuery\u003cGetBlogsQuery, GetBlogsQueryVariables\u003e(GetBlogsDocument, options);\n        }\nexport type GetBlogsQueryHookResult = ReturnType\u003ctypeof useGetBlogsQuery\u003e;\nexport type GetBlogsLazyQueryHookResult = ReturnType\u003ctypeof useGetBlogsLazyQuery\u003e;\nexport type GetBlogsSuspenseQueryHookResult = ReturnType\u003ctypeof useGetBlogsSuspenseQuery\u003e;\nexport type GetBlogsQueryResult = Apollo.QueryResult\u003cGetBlogsQuery, GetBlogsQueryVariables\u003e;\n```\n\u003c/details\u003e\n\nこれでWebの開発が進められるようになりました。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/cb18e803-597b-a3f4-b616-56efdb1a82ce.png)\n\n次回からは、TOPページの作成に入ります\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/c344b98f-8c07-c5b1-bdfc-57480dafeb1a.png)\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-11-19T17:02:05+09:00",
    "group": null,
    "id": "fbafb74ea98f5cfbeb5f",
    "likes_count": 3,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "GraphQL", "versions": [] },
      { "name": "apollo", "versions": [] },
      { "name": "graphql-codegen", "versions": [] }
    ],
    "title": "【Day 7】Web環境構築 - GraphQL Code Generator",
    "updated_at": "2023-12-07T07:00:35+09:00",
    "url": "https://qiita.com/maaaashi/items/fbafb74ea98f5cfbeb5f",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-3:130\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F824ec2b4-bb8a-b85c-b644-6d338a2327d5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c04ac5a298dffb1d55c2e4591e27a2f2\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F824ec2b4-bb8a-b85c-b644-6d338a2327d5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c04ac5a298dffb1d55c2e4591e27a2f2\" alt=\"スライド7.PNG\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F824ec2b4-bb8a-b85c-b644-6d338a2327d5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ca0a9c41ad4b7a7f39c964708d3dc4a0 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/824ec2b4-bb8a-b85c-b644-6d338a2327d5.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr data-sourcepos=\"5:1-6:0\"\u003e\n\u003cp data-sourcepos=\"7:1-7:57\"\u003e\u003cstrong\u003e2023年アドベントカレンダー6日目\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:52\"\u003e\u003ciframe id=\"qiita-embed-content__4e40f8bc4ce452b8ef85648a6ff82fde\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__4e40f8bc4ce452b8ef85648a6ff82fde\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-11:105\"\u003e前回の続きで「開発者はWebの開発を進めることができる」を進めていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F13e79272-8479-39f1-e857-a04f2bfcc4b1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e33592a5d4d846fada69c27e821d8f34\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F13e79272-8479-39f1-e857-a04f2bfcc4b1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e33592a5d4d846fada69c27e821d8f34\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F13e79272-8479-39f1-e857-a04f2bfcc4b1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9c45a7328c4bf1cbac6e2ce6bd8c101c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/13e79272-8479-39f1-e857-a04f2bfcc4b1.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"15:1-15:16\"\u003e\n\u003cspan id=\"apollo-server\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#apollo-server\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eApollo Server\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"17:1-17:23\"\u003e\n\u003cspan id=\"apollo-serverとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#apollo-server%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eApollo Serverとは\u003c/h3\u003e\n\u003cul data-sourcepos=\"19:1-20:0\"\u003e\n\u003cli data-sourcepos=\"19:1-20:0\"\u003eApollo Serverは、GraphQL APIを構築するためのオープンソースのWebサーバーです\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"21:1-21:35\"\u003e\u003ciframe id=\"qiita-embed-content__4d776fa8dc3b97eb124df310da67cf68\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__4d776fa8dc3b97eb124df310da67cf68\" data-content=\"https%3A%2F%2Fwww.apollographql.com%2Fdocs%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch3 data-sourcepos=\"23:1-23:19\"\u003e\n\u003cspan id=\"install--start\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#install--start\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eInstall \u0026amp; Start\u003c/h3\u003e\n\u003cp data-sourcepos=\"25:1-25:70\"\u003eApolloServer + TypeScriptで起動していきたいと思います。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"27:1-31:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eweb/mock/\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003enpm init \u003cspan class=\"nt\"\u003e--yes\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e npm pkg \u003cspan class=\"nb\"\u003eset type\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"module\"\u003c/span\u003e\nnpm \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e @apollo/server graphql\nnpm \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e \u003cspan class=\"nt\"\u003e--save-dev\u003c/span\u003e typescript @types/node @graphql-tools/load\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"json\" data-sourcepos=\"33:1-48:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003etsconfig.json\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"compilerOptions\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"rootDirs\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"src\"\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"outDir\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"dist\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"lib\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"es2020\"\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"target\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"es2020\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"module\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"esnext\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"moduleResolution\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"node\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"esModuleInterop\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"types\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"node\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"include\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"src\"\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"exclude\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"node_modules\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"diff_json\" data-sourcepos=\"50:1-56:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003epackage.json\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"scripts\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"hdl\"\u003e\u003cspan class=\"err\"\u003e-\u003c/span\u003e\u003cspan class=\"w\"\u003e   \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"test\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"echo \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eError: no test specified\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e \u0026amp;\u0026amp; exit 1\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"err\"\u003e+\u003c/span\u003e\u003cspan class=\"w\"\u003e   \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"compile\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"tsc\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"err\"\u003e+\u003c/span\u003e\u003cspan class=\"w\"\u003e   \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"start\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"npm run compile \u0026amp;\u0026amp; node ./dist/index.js\"\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch3 data-sourcepos=\"58:1-58:17\"\u003e\n\u003cspan id=\"create-schema\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#create-schema\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eCreate Schema\u003c/h3\u003e\n\u003cp data-sourcepos=\"60:1-60:48\"\u003eSchemaファイルを設定していきます。\u003c/p\u003e\n\u003cdiv data-sourcepos=\"62:1-65:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"63:1-64:48\"\u003e後々ここはGraphQL Code Generatorによって、自動生成に変更予定です。\u003cbr\u003e\n動作確認のために設置しておきます\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"graphql\" data-sourcepos=\"67:1-78:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eschema.graphql\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003etype\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eBlog\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003eauthor\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"k\"\u003etype\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eQuery\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eBlog\u003c/span\u003e\u003cspan class=\"p\"\u003e!]!\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch3 data-sourcepos=\"80:1-80:19\"\u003e\n\u003cspan id=\"create-indexts\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#create-indexts\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eCreate Index.ts\u003c/h3\u003e\n\u003cp data-sourcepos=\"82:1-82:59\"\u003eサーバー起動用のTSファイルを作成します。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"84:1-113:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/index.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eApolloServer\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@apollo/server\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eloadSchemaSync\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@graphql-tools/load\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eGraphQLFileLoader\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@graphql-tools/graphql-file-loader\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003estartStandaloneServer\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@apollo/server/standalone\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003ejoin\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003edirname\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003epath\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003efileURLToPath\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eurl\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003e__filename\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003efileURLToPath\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003emeta\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003e__dirname\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003edirname\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003e__filename\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eschema\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eloadSchemaSync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ejoin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003e__dirname\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e../schema.graphql\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eloaders\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eGraphQLFileLoader\u003c/span\u003e\u003cspan class=\"p\"\u003e()],\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eresolvers\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eblogs\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e[],\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eserver\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eApolloServer\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n  \u003cspan class=\"na\"\u003etypeDefs\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eschema\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003eresolvers\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eurl\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nf\"\u003estartStandaloneServer\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eserver\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003elisten\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003eport\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e4000\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e`🚀 Server listening at: \u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e`\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch3 data-sourcepos=\"115:1-115:15\"\u003e\n\u003cspan id=\"lets-start\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#lets-start\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eLet's Start\u003c/h3\u003e\n\u003cp data-sourcepos=\"117:1-117:27\"\u003e起動してみましょう\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"119:1-121:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003enpm run start\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"123:1-123:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8286965e-efc1-47c9-cf2d-e1ce64effce5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=bdf9ce1b1258b18b78c7739239daaba0\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8286965e-efc1-47c9-cf2d-e1ce64effce5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=bdf9ce1b1258b18b78c7739239daaba0\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8286965e-efc1-47c9-cf2d-e1ce64effce5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c9efd902d4a28f279aea332cf71c0be2 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/8286965e-efc1-47c9-cf2d-e1ce64effce5.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"125:1-125:57\"\u003eこれでモックサーバーが立ち上がりました\u003c/p\u003e\n\u003cp data-sourcepos=\"127:1-127:110\"\u003e明日はGraphQLの開発を進めやすくするためにGraphQL Code Generatorの設定をしていきます\u003c/p\u003e\n",
    "body": "## はじめに\n\n![スライド7.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/824ec2b4-bb8a-b85c-b644-6d338a2327d5.png)\n\n---\n\n**2023年アドベントカレンダー6日目**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n前回の続きで「開発者はWebの開発を進めることができる」を進めていきます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/13e79272-8479-39f1-e857-a04f2bfcc4b1.png)\n\n## Apollo Server\n\n### Apollo Serverとは\n\n- Apollo Serverは、GraphQL APIを構築するためのオープンソースのWebサーバーです\n\nhttps://www.apollographql.com/docs/\n\n### Install \u0026 Start\n\nApolloServer + TypeScriptで起動していきたいと思います。\n\n```bash:web/mock/\nnpm init --yes \u0026\u0026 npm pkg set type=\"module\"\nnpm install @apollo/server graphql\nnpm install --save-dev typescript @types/node @graphql-tools/load\n```\n\n```json:tsconfig.json\n{\n  \"compilerOptions\": {\n    \"rootDirs\": [\"src\"],\n    \"outDir\": \"dist\",\n    \"lib\": [\"es2020\"],\n    \"target\": \"es2020\",\n    \"module\": \"esnext\",\n    \"moduleResolution\": \"node\",\n    \"esModuleInterop\": true,\n    \"types\": [\"node\"]\n  },\n  \"include\": [\"src\"],\n  \"exclude\": [\"node_modules\"]\n}\n```\n\n```diff_json:package.json\n  \"scripts\": {\n-   \"test\": \"echo \\\"Error: no test specified\\\" \u0026\u0026 exit 1\",\n+   \"compile\": \"tsc\",\n+   \"start\": \"npm run compile \u0026\u0026 node ./dist/index.js\"\n  }\n```\n\n### Create Schema\n\nSchemaファイルを設定していきます。\n\n:::note info\n後々ここはGraphQL Code Generatorによって、自動生成に変更予定です。\n動作確認のために設置しておきます\n:::\n\n```graphql:schema.graphql\ntype Blog {\n  author: String!\n  body: String!\n  createdAt: String!\n  title: String!\n}\n\ntype Query {\n  blogs: [Blog!]!\n}\n```\n\n### Create Index.ts\n\nサーバー起動用のTSファイルを作成します。\n\n```typescript:src/index.ts\nimport { ApolloServer } from '@apollo/server'\nimport { loadSchemaSync } from '@graphql-tools/load'\nimport { GraphQLFileLoader } from '@graphql-tools/graphql-file-loader'\nimport { startStandaloneServer } from '@apollo/server/standalone'\nimport { join, dirname } from 'path'\nimport { fileURLToPath } from 'url'\n\nconst __filename = fileURLToPath(import.meta.url)\nconst __dirname = dirname(__filename)\n\nconst schema = loadSchemaSync(join(__dirname, '../schema.graphql'), {\n  loaders: [new GraphQLFileLoader()],\n})\n\nconst resolvers = {\n  Query: {\n    blogs: () =\u003e [],\n  },\n}\n\nconst server = new ApolloServer({\n  typeDefs: schema,\n  resolvers,\n})\n\nconst { url } = await startStandaloneServer(server, { listen: { port: 4000 } })\n\nconsole.log(`🚀 Server listening at: ${url}`)\n```\n\n### Let's Start\n\n起動してみましょう\n\n```bash\nnpm run start\n```\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/8286965e-efc1-47c9-cf2d-e1ce64effce5.png)\n\nこれでモックサーバーが立ち上がりました\n\n明日はGraphQLの開発を進めやすくするためにGraphQL Code Generatorの設定をしていきます\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-11-19T16:42:47+09:00",
    "group": null,
    "id": "b5335af966e4ac7f8d68",
    "likes_count": 2,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "webpack", "versions": [] },
      { "name": "GraphQL", "versions": [] },
      { "name": "apollo", "versions": [] }
    ],
    "title": "【Day 6】Web環境構築 - GraphQL モックサーバー",
    "updated_at": "2023-12-06T13:40:47+09:00",
    "url": "https://qiita.com/maaaashi/items/b5335af966e4ac7f8d68",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-3:130\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbda8cc66-7102-7085-45aa-c2879a824db7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2c8c7828bf2ba22ae50911b1602edd98\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbda8cc66-7102-7085-45aa-c2879a824db7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2c8c7828bf2ba22ae50911b1602edd98\" alt=\"スライド6.PNG\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbda8cc66-7102-7085-45aa-c2879a824db7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5262d118507c723c9244cf1d7842d71e 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/bda8cc66-7102-7085-45aa-c2879a824db7.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr data-sourcepos=\"5:1-6:0\"\u003e\n\u003cp data-sourcepos=\"7:1-7:57\"\u003e\u003cstrong\u003e2023年アドベントカレンダー5日目\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:52\"\u003e\u003ciframe id=\"qiita-embed-content__f61d0af3b17201639a8f463c43649409\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__f61d0af3b17201639a8f463c43649409\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-11:105\"\u003e前回の続きで「開発者はWebの開発を進めることができる」を進めていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F13e79272-8479-39f1-e857-a04f2bfcc4b1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e33592a5d4d846fada69c27e821d8f34\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F13e79272-8479-39f1-e857-a04f2bfcc4b1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e33592a5d4d846fada69c27e821d8f34\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F13e79272-8479-39f1-e857-a04f2bfcc4b1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9c45a7328c4bf1cbac6e2ce6bd8c101c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/13e79272-8479-39f1-e857-a04f2bfcc4b1.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"16:1-16:10\"\u003e\n\u003cspan id=\"cypress\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#cypress\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eCypress\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"18:1-18:17\"\u003e\n\u003cspan id=\"cypressとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#cypress%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eCypressとは\u003c/h3\u003e\n\u003cp data-sourcepos=\"20:1-20:151\"\u003e\u003ccode\u003eCypress\u003c/code\u003eとは、ウェブアプリケーションのエンドツーエンドテストに特化したJavaScriptベースのテストツールです。\u003c/p\u003e\n\u003cp data-sourcepos=\"22:1-22:23\"\u003e\u003ciframe id=\"qiita-embed-content__7f304e3c99230a818c77ab32d2144a6a\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__7f304e3c99230a818c77ab32d2144a6a\" data-content=\"https%3A%2F%2Fwww.cypress.io%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch3 data-sourcepos=\"24:1-24:16\"\u003e\n\u003cspan id=\"事前準備\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BA%8B%E5%89%8D%E6%BA%96%E5%82%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e事前準備\u003c/h3\u003e\n\u003ch4 data-sourcepos=\"26:1-26:20\"\u003e\n\u003cspan id=\"パッケージ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eパッケージ\u003c/h4\u003e\n\u003cp data-sourcepos=\"28:1-28:75\"\u003e起動に必要なパッケージをインストールしていきます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"30:1-32:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eapt-get \u003cspan class=\"nb\"\u003einstall \u003c/span\u003elibgtk2.0-0 libgtk-3-0 libgbm-dev libnotify-dev libnss3 libxss1 libasound2 libxtst6 xauth xvfb\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch4 data-sourcepos=\"34:1-34:11\"\u003e\n\u003cspan id=\"chrome\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#chrome\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003echrome\u003c/h4\u003e\n\u003cp data-sourcepos=\"36:1-36:84\"\u003echromeでの動作を想定したいので、chromeをインストールします。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"38:1-42:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nb\"\u003esudo \u003c/span\u003eapt update \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nb\"\u003esudo \u003c/span\u003eapt \u003cspan class=\"nt\"\u003e-y\u003c/span\u003e upgrade \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nb\"\u003esudo \u003c/span\u003eapt \u003cspan class=\"nt\"\u003e-y\u003c/span\u003e autoremove\nwget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb\n\u003cspan class=\"nb\"\u003esudo \u003c/span\u003eapt \u003cspan class=\"nt\"\u003e-y\u003c/span\u003e \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e ./google-chrome-stable_current_amd64.deb\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch4 data-sourcepos=\"44:1-44:17\"\u003e\n\u003cspan id=\"フォント\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%95%E3%82%A9%E3%83%B3%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eフォント\u003c/h4\u003e\n\u003cp data-sourcepos=\"46:1-46:96\"\u003e日本語が文字化けしてしまうために、フォントをインストールします。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"48:1-50:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nb\"\u003esudo \u003c/span\u003eapt \u003cspan class=\"nb\"\u003einstall \u003c/span\u003efonts-noto\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"52:1-52:50\"\u003e\u003cimg alt=\":ok:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f197.png\" title=\":ok:\" width=\"20\" loading=\"lazy\"\u003e ここまでで事前準備は終了です。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"54:1-54:11\"\u003e\n\u003cspan id=\"install\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#install\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003einstall\u003c/h3\u003e\n\u003cp data-sourcepos=\"56:1-56:91\"\u003eTypeScriptで開発していきたいので、こちらの手順を追っていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"58:1-58:57\"\u003e\u003ciframe id=\"qiita-embed-content__ad1010ea9d14c585aee4248157327661\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__ad1010ea9d14c585aee4248157327661\" data-content=\"https%3A%2F%2Fdocs.cypress.io%2Fguides%2Ftooling%2Ftypescript-support\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"60:1-63:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ee2e/web/\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003enpm init \u003cspan class=\"nt\"\u003e-y\u003c/span\u003e\nnpm \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e \u003cspan class=\"nt\"\u003e--save-dev\u003c/span\u003e cypress typescript\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"json\" data-sourcepos=\"67:1-76:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003etsconfig.json\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"compilerOptions\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"target\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"es5\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"lib\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"es5\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"dom\"\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"types\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"cypress\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"node\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"include\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"**/*.ts\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"78:1-78:73\"\u003ecypressの起動、E2Eテスト実行のスクリプトを設定します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"diff_json\" data-sourcepos=\"80:1-86:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003epackage.json\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"scripts\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"hdl\"\u003e\u003cspan class=\"err\"\u003e-\u003c/span\u003e\u003cspan class=\"w\"\u003e   \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"test\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"echo \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eError: no test specified\u003c/span\u003e\u003cspan class=\"se\"\u003e\\\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e \u0026amp;\u0026amp; exit 1\"\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"err\"\u003e+\u003c/span\u003e\u003cspan class=\"w\"\u003e   \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"cypress:open\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"cypress open\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"err\"\u003e+\u003c/span\u003e\u003cspan class=\"w\"\u003e   \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"test:e2e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"cypress run --e2e chrome\"\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch3 data-sourcepos=\"88:1-88:11\"\u003e\n\u003cspan id=\"setting\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#setting\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eSetting\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"90:1-92:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003enpm run cypress:open\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cul data-sourcepos=\"94:1-103:0\"\u003e\n\u003cli data-sourcepos=\"94:1-96:0\"\u003e\n\u003cp data-sourcepos=\"94:3-95:136\"\u003eこのような画面が自動で開きますので、\u003cstrong\u003eE2E Testing\u003c/strong\u003eを選択\u003cbr\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Feda3c5e2-543e-1ac7-e49c-ae92f2f58e9c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=95ce4ca282d46175e3180cf6cfb8b135\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Feda3c5e2-543e-1ac7-e49c-ae92f2f58e9c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=95ce4ca282d46175e3180cf6cfb8b135\" width=\"600\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Feda3c5e2-543e-1ac7-e49c-ae92f2f58e9c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=40c8521ed1454945972d30ad9956e616 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/eda3c5e2-543e-1ac7-e49c-ae92f2f58e9c.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"97:1-98:136\"\u003e\n\u003cp data-sourcepos=\"97:3-98:136\"\u003eConfigファイルの生成するかどうか聞かれるので、そのまま\u003cstrong\u003eContinue\u003c/strong\u003e\u003cbr\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F708b6dc2-4902-2cbb-d36d-75cb9f139526.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e84253fdd731c77400c3e9b4bfa49522\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F708b6dc2-4902-2cbb-d36d-75cb9f139526.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e84253fdd731c77400c3e9b4bfa49522\" width=\"600\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F708b6dc2-4902-2cbb-d36d-75cb9f139526.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e06792a94768a64c7a10389d083127a0 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/708b6dc2-4902-2cbb-d36d-75cb9f139526.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"99:1-100:136\"\u003e\n\u003cp data-sourcepos=\"99:3-100:136\"\u003eテストするブラウザを選ばされるので、先ほどインストールした\u003ccode\u003eChrome\u003c/code\u003eを選択し、\u003ccode\u003eStart E2E Testing in Chrome\u003c/code\u003e\u003cbr\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fefb3aaef-32b2-0c67-963f-be7f2cbe5793.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ecb845084804a3bcd73f77b975fc2d87\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fefb3aaef-32b2-0c67-963f-be7f2cbe5793.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ecb845084804a3bcd73f77b975fc2d87\" width=\"600\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fefb3aaef-32b2-0c67-963f-be7f2cbe5793.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=88adef4521bfac6c333939af9ca0f42d 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/efb3aaef-32b2-0c67-963f-be7f2cbe5793.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"101:1-103:0\"\u003e\n\u003cp data-sourcepos=\"101:3-102:136\"\u003e\u003cimg alt=\":ok:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f197.png\" title=\":ok:\" width=\"20\" loading=\"lazy\"\u003e このような画面がでたらOKなので、一度終了します。\u003cbr\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F61708878-28e5-2727-658e-0543b8354ccf.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=52dfde71a3516ddc4389eb5491a4777d\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F61708878-28e5-2727-658e-0543b8354ccf.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=52dfde71a3516ddc4389eb5491a4777d\" width=\"600\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F61708878-28e5-2727-658e-0543b8354ccf.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c9e1762526933f40388fbc328b427cf0 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/61708878-28e5-2727-658e-0543b8354ccf.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"104:1-104:48\"\u003econfigにアプリの\u003ccode\u003ebaseUrl\u003c/code\u003eを設定します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"diff_typescript\" data-sourcepos=\"106:1-117:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ecypress.config.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003edefineConfig\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ecypress\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"nf\"\u003edefineConfig\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ee2e\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003esetupNodeEvents\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eon\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003econfig\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"c1\"\u003e// implement node event listeners here\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"na\"\u003ebaseUrl\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehttp://localhost:3000\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/span\u003e  \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"119:1-120:93\"\u003eこれでCypressでのE2Eテストの準備が整いました。\u003cbr\u003e\n次はWeb開発時の、Bffのモックサーバーをセットアップしていきます。\u003c/p\u003e\n",
    "body": "## はじめに\n\n![スライド6.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/bda8cc66-7102-7085-45aa-c2879a824db7.png)\n\n---\n\n**2023年アドベントカレンダー5日目**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n前回の続きで「開発者はWebの開発を進めることができる」を進めていきます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/13e79272-8479-39f1-e857-a04f2bfcc4b1.png)\n\n\n## Cypress\n\n### Cypressとは\n\n`Cypress`とは、ウェブアプリケーションのエンドツーエンドテストに特化したJavaScriptベースのテストツールです。\n\nhttps://www.cypress.io/\n\n### 事前準備\n\n#### パッケージ\n\n起動に必要なパッケージをインストールしていきます。\n\n```bash\napt-get install libgtk2.0-0 libgtk-3-0 libgbm-dev libnotify-dev libnss3 libxss1 libasound2 libxtst6 xauth xvfb\n```\n\n#### chrome\n\nchromeでの動作を想定したいので、chromeをインストールします。\n\n```bash\nsudo apt update \u0026\u0026 sudo apt -y upgrade \u0026\u0026 sudo apt -y autoremove\nwget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb\nsudo apt -y install ./google-chrome-stable_current_amd64.deb\n```\n\n#### フォント\n\n日本語が文字化けしてしまうために、フォントをインストールします。\n\n```bash\nsudo apt install fonts-noto\n```\n\n:ok: ここまでで事前準備は終了です。\n\n### install\n\nTypeScriptで開発していきたいので、こちらの手順を追っていきます。\n\nhttps://docs.cypress.io/guides/tooling/typescript-support\n\n```bash:e2e/web/\nnpm init -y\nnpm install --save-dev cypress typescript\n```\n\n\n\n```json:tsconfig.json\n{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"lib\": [\"es5\", \"dom\"],\n    \"types\": [\"cypress\", \"node\"]\n  },\n  \"include\": [\"**/*.ts\"]\n}\n```\n\ncypressの起動、E2Eテスト実行のスクリプトを設定します\n\n```diff_json:package.json\n  \"scripts\": {\n-   \"test\": \"echo \\\"Error: no test specified\\\" \u0026\u0026 exit 1\"\n+   \"cypress:open\": \"cypress open\",\n+   \"test:e2e\": \"cypress run --e2e chrome\"\n  }\n```\n\n### Setting\n\n```bash\nnpm run cypress:open\n```\n\n* このような画面が自動で開きますので、**E2E Testing**を選択\n    \u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/eda3c5e2-543e-1ac7-e49c-ae92f2f58e9c.png\" width=600 /\u003e\n\n* Configファイルの生成するかどうか聞かれるので、そのまま**Continue**\n    \u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/708b6dc2-4902-2cbb-d36d-75cb9f139526.png\" width=600 /\u003e\n* テストするブラウザを選ばされるので、先ほどインストールした`Chrome`を選択し、`Start E2E Testing in Chrome`\n    \u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/efb3aaef-32b2-0c67-963f-be7f2cbe5793.png\" width=600 /\u003e\n* :ok: このような画面がでたらOKなので、一度終了します。\n    \u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/61708878-28e5-2727-658e-0543b8354ccf.png\" width=600 /\u003e\n\nconfigにアプリの`baseUrl`を設定します\n\n```diff_typescript:cypress.config.ts\nimport { defineConfig } from 'cypress'\n\nexport default defineConfig({\n  e2e: {\n    setupNodeEvents(on, config) {\n      // implement node event listeners here\n    },\n+   baseUrl: 'http://localhost:3000',\n  },\n})\n```\n\nこれでCypressでのE2Eテストの準備が整いました。\n次はWeb開発時の、Bffのモックサーバーをセットアップしていきます。\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-11-18T22:41:58+09:00",
    "group": null,
    "id": "f64cecade1b64ec6fabc",
    "likes_count": 3,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "e2e", "versions": [] },
      { "name": "Next.js", "versions": [] },
      { "name": "Cypress", "versions": [] }
    ],
    "title": "【Day 5】Web環境構築 - CypressでE2Eテスト実行",
    "updated_at": "2023-12-05T07:00:32+09:00",
    "url": "https://qiita.com/maaaashi/items/f64cecade1b64ec6fabc",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-3:130\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5cfcbefd-4940-a2f3-0993-236f90fe78fb.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8232195360acdc47e76f1c8f3fef5c57\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5cfcbefd-4940-a2f3-0993-236f90fe78fb.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8232195360acdc47e76f1c8f3fef5c57\" alt=\"スライド5.PNG\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5cfcbefd-4940-a2f3-0993-236f90fe78fb.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=96d04d4370e339a1cea01c8a083b42a9 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/5cfcbefd-4940-a2f3-0993-236f90fe78fb.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr data-sourcepos=\"5:1-6:0\"\u003e\n\u003cp data-sourcepos=\"7:1-7:57\"\u003e\u003cstrong\u003e2023年アドベントカレンダー4日目\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:52\"\u003e\u003ciframe id=\"qiita-embed-content__5ce9e56d292f9dbc0f98be3b1baa7c31\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__5ce9e56d292f9dbc0f98be3b1baa7c31\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-11:75\"\u003e昨日は画面デザインを作るストーリーを消費しました。\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:111\"\u003e今回は「開発者はWebの開発を進めることができる」を消費していこうと思います。\u003c/p\u003e\n\u003cp data-sourcepos=\"15:1-15:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F13e79272-8479-39f1-e857-a04f2bfcc4b1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e33592a5d4d846fada69c27e821d8f34\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F13e79272-8479-39f1-e857-a04f2bfcc4b1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e33592a5d4d846fada69c27e821d8f34\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F13e79272-8479-39f1-e857-a04f2bfcc4b1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9c45a7328c4bf1cbac6e2ce6bd8c101c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/13e79272-8479-39f1-e857-a04f2bfcc4b1.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"18:1-18:25\"\u003e\n\u003cspan id=\"nextjsの環境構築\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#nextjs%E3%81%AE%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNext.jsの環境構築\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"20:1-20:31\"\u003e\n\u003cspan id=\"nodejsのインストール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#nodejs%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNodeJSのインストール\u003c/h3\u003e\n\u003cp data-sourcepos=\"22:1-22:60\"\u003e記事を書いている現在のLTSを調べたところ、\u003c/p\u003e\n\u003cp data-sourcepos=\"24:1-24:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7f01f141-117e-4df1-b476-95bde82aef75.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=389427a38f0d0286598a0b1a83c6daf4\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7f01f141-117e-4df1-b476-95bde82aef75.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=389427a38f0d0286598a0b1a83c6daf4\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7f01f141-117e-4df1-b476-95bde82aef75.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=381e7006c62f3edd2e003c7732c8d713 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/7f01f141-117e-4df1-b476-95bde82aef75.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"26:1-26:89\"\u003eという状態だったので、\u003ccode\u003e20.9.0\u003c/code\u003eをインストールすることにします。\u003c/p\u003e\n\u003cdiv data-sourcepos=\"28:1-31:3\" class=\"note warn\"\u003e\n\u003cspan class=\"fa fa-fw fa-exclamation-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"29:1-30:51\"\u003easdfでのインストール手順を書いていきますが、\u003cbr\u003e\nインストール方法はおまかせします。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003ch4 data-sourcepos=\"33:1-33:30\"\u003e\n\u003cspan id=\"asdfのインストール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#asdf%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003easdfのインストール\u003c/h4\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"35:1-37:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003egit clone https://github.com/asdf-vm/asdf.git ~/.asdf \u003cspan class=\"nt\"\u003e--branch\u003c/span\u003e v0.13.1\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv data-sourcepos=\"39:1-41:3\" class=\"note warn\"\u003e\n\u003cspan class=\"fa fa-fw fa-exclamation-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"40:1-40:79\"\u003egitがinstallされていない場合はインストールしてください。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"43:1-43:143\"\u003e\u003ciframe id=\"qiita-embed-content__ff24f1072c2741d548ec5a4fdb1b91fa\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__ff24f1072c2741d548ec5a4fdb1b91fa\" data-content=\"https%3A%2F%2Fgit-scm.com%2Fbook%2Fja%2Fv2%2F%25E4%25BD%25BF%25E3%2581%2584%25E5%25A7%258B%25E3%2582%2581%25E3%2582%258B-Git%25E3%2581%25AE%25E3%2582%25A4%25E3%2583%25B3%25E3%2582%25B9%25E3%2583%2588%25E3%2583%25BC%25E3%2583%25AB\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch4 data-sourcepos=\"45:1-45:32\"\u003e\n\u003cspan id=\"nodejsのインストール-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#nodejs%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003enodejsのインストール\u003c/h4\u003e\n\u003col data-sourcepos=\"47:1-71:0\"\u003e\n\u003cli data-sourcepos=\"47:1-52:0\"\u003e\n\u003cp data-sourcepos=\"47:4-47:23\"\u003easdf pluginの追加\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"49:5-51:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003easdf plugin add nodejs https://github.com/asdf-vm/asdf-nodejs.git\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"53:1-57:7\"\u003e\n\u003cp data-sourcepos=\"53:4-53:37\"\u003easdfでnodejsのインストール\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"55:5-57:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003easdf \u003cspan class=\"nb\"\u003einstall \u003c/span\u003enodejs 20.9.0\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"58:1-63:0\"\u003e\n\u003cp data-sourcepos=\"58:4-58:28\"\u003eNodejs 20.9.0のセット\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"60:5-62:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003easdf global nodejs 20.9.0\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"64:1-71:0\"\u003e\n\u003cp data-sourcepos=\"64:4-64:33\"\u003eNodejsのバージョン確認\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"66:5-69:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003enode \u003cspan class=\"nt\"\u003e-v\u003c/span\u003e\nv20.0.9\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"70:5-70:51\"\u003e\u003cimg alt=\":ok:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f197.png\" title=\":ok:\" width=\"20\" loading=\"lazy\"\u003e Nodejsがインストールできました\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 data-sourcepos=\"72:1-72:17\"\u003e\n\u003cspan id=\"createnextapp\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#createnextapp\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eCreateNextApp\u003c/h3\u003e\n\u003cp data-sourcepos=\"74:1-74:72\"\u003e\u003ca href=\"\"\u003eday 1\u003c/a\u003eで作成したディレクトリ構成にしていきます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"76:1-84:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003enpx create-next-app web\n✔ Would you like to use TypeScript? …       Yes\n✔ Would you like to use ESLint? …           Yes\n✔ Would you like to use Tailwind CSS? …     Yes\n✔ Would you like to use \u003cspan class=\"sb\"\u003e`\u003c/span\u003esrc/\u003cspan class=\"sb\"\u003e`\u003c/span\u003e directory? … Yes\n✔ Would you like to use App Router? \u003cspan class=\"o\"\u003e(\u003c/span\u003erecommended\u003cspan class=\"o\"\u003e)\u003c/span\u003e … Yes\n✔ Would you like to customize the default import \u003cspan class=\"nb\"\u003ealias\u003c/span\u003e \u003cspan class=\"o\"\u003e(\u003c/span\u003e@/\u003cspan class=\"k\"\u003e*\u003c/span\u003e\u003cspan class=\"o\"\u003e)\u003c/span\u003e? … No\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"86:1-86:114\"\u003eエイリアスをカスタマイズするかどうかの設定のみ\u003ccode\u003eNo\u003c/code\u003eにして、他は\u003ccode\u003eYes\u003c/code\u003eにしました。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"88:1-101:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e├── web\n│   ├── README.md\n│   ├── app/\n│   ├── next-env.d.ts\n│   ├── next.config.js\n│   ├── node_modules/\n│   ├── package-lock.json\n│   ├── package.json\n│   ├── postcss.config.js\n│   ├── public/\n│   ├── tailwind.config.ts\n│   └── tsconfig.json\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"103:1-103:30\"\u003eこうなったはずです。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"105:1-105:10\"\u003e\n\u003cspan id=\"起動\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%B5%B7%E5%8B%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e起動\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"107:1-110:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nb\"\u003ecd \u003c/span\u003eweb/\nnpm run dev\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"111:1-111:39\"\u003e\u003ca href=\"http://localhost:3000\" rel=\"nofollow noopener\" target=\"_blank\"\u003elocalhost:3000\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"113:1-113:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F39184611-b322-0c8c-b13c-d394a2a489ff.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5a1551bb8d06aac2b9e19e8feddfc24f\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F39184611-b322-0c8c-b13c-d394a2a489ff.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5a1551bb8d06aac2b9e19e8feddfc24f\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F39184611-b322-0c8c-b13c-d394a2a489ff.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=6958d3f3fd3a03dedb7d98435e3bb0af 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/39184611-b322-0c8c-b13c-d394a2a489ff.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"115:1-115:23\"\u003e起動しました \u003cimg alt=\":ok:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f197.png\" title=\":ok:\" width=\"20\" loading=\"lazy\"\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"117:1-117:60\"\u003e次はE2Eテストが回せるようにしていきます。\u003c/p\u003e\n",
    "body": "## はじめに\n\n![スライド5.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/5cfcbefd-4940-a2f3-0993-236f90fe78fb.png)\n\n---\n\n**2023年アドベントカレンダー4日目**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n昨日は画面デザインを作るストーリーを消費しました。\n\n今回は「開発者はWebの開発を進めることができる」を消費していこうと思います。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/13e79272-8479-39f1-e857-a04f2bfcc4b1.png)\n\n\n## Next.jsの環境構築\n\n### NodeJSのインストール\n\n記事を書いている現在のLTSを調べたところ、\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/7f01f141-117e-4df1-b476-95bde82aef75.png)\n\nという状態だったので、`20.9.0`をインストールすることにします。\n\n:::note warn\nasdfでのインストール手順を書いていきますが、\nインストール方法はおまかせします。\n:::\n\n#### asdfのインストール\n\n```bash\ngit clone https://github.com/asdf-vm/asdf.git ~/.asdf --branch v0.13.1\n```\n\n:::note warn\ngitがinstallされていない場合はインストールしてください。\n:::\n\nhttps://git-scm.com/book/ja/v2/%E4%BD%BF%E3%81%84%E5%A7%8B%E3%82%81%E3%82%8B-Git%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\n\n#### nodejsのインストール\n\n1. asdf pluginの追加\n\n    ```bash\n    asdf plugin add nodejs https://github.com/asdf-vm/asdf-nodejs.git\n    ```\n\n2. asdfでnodejsのインストール\n\n    ```bash\n    asdf install nodejs 20.9.0\n    ```\n3. Nodejs 20.9.0のセット\n\n    ```bash\n    asdf global nodejs 20.9.0\n    ```\n\n4. Nodejsのバージョン確認\n    \n    ```bash\n    node -v\n    v20.0.9\n    ```\n    :ok: Nodejsがインストールできました\n\n### CreateNextApp\n\n[day 1]()で作成したディレクトリ構成にしていきます。\n\n```bash\nnpx create-next-app web\n✔ Would you like to use TypeScript? …       Yes\n✔ Would you like to use ESLint? …           Yes\n✔ Would you like to use Tailwind CSS? …     Yes\n✔ Would you like to use `src/` directory? … Yes\n✔ Would you like to use App Router? (recommended) … Yes\n✔ Would you like to customize the default import alias (@/*)? … No\n```\n\nエイリアスをカスタマイズするかどうかの設定のみ`No`にして、他は`Yes`にしました。\n\n```\n├── web\n│   ├── README.md\n│   ├── app/\n│   ├── next-env.d.ts\n│   ├── next.config.js\n│   ├── node_modules/\n│   ├── package-lock.json\n│   ├── package.json\n│   ├── postcss.config.js\n│   ├── public/\n│   ├── tailwind.config.ts\n│   └── tsconfig.json\n```\n\nこうなったはずです。\n\n### 起動\n\n```bash\ncd web/\nnpm run dev\n```\n[localhost:3000](http://localhost:3000)\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/39184611-b322-0c8c-b13c-d394a2a489ff.png)\n\n起動しました :ok:\n\n次はE2Eテストが回せるようにしていきます。\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-11-16T19:03:54+09:00",
    "group": null,
    "id": "98c60225caf587d0e20a",
    "likes_count": 2,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "Node.js", "versions": [] },
      { "name": "asdf", "versions": [] },
      { "name": "Next.js", "versions": [] }
    ],
    "title": "【Day 4】Web環境構築 - Next.jsの起動まで",
    "updated_at": "2023-12-04T07:00:43+09:00",
    "url": "https://qiita.com/maaaashi/items/98c60225caf587d0e20a",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-3:130\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F41cce49a-d05d-bb80-6578-0304a211f9f9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2174b82564e5b784393154846b039504\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F41cce49a-d05d-bb80-6578-0304a211f9f9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2174b82564e5b784393154846b039504\" alt=\"スライド4.PNG\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F41cce49a-d05d-bb80-6578-0304a211f9f9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=32428d9e535b16d88761d781b3bb1efc 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/41cce49a-d05d-bb80-6578-0304a211f9f9.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr data-sourcepos=\"5:1-6:0\"\u003e\n\u003cp data-sourcepos=\"7:1-7:57\"\u003e\u003cstrong\u003e2023年アドベントカレンダー3日目\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:52\"\u003e\u003ciframe id=\"qiita-embed-content__b54d93aaee7d8b30650c2025f116c297\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__b54d93aaee7d8b30650c2025f116c297\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-12:66\"\u003e昨日はユーザーストーリーを作成しました\u003cbr\u003e\n今回からは際にストーリーを消費していきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"14:1-14:78\"\u003eデザインのストーリーについてとりかかろうと思います。\u003c/p\u003e\n\u003cp data-sourcepos=\"16:1-16:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fde517270-a63d-a5cf-eb2f-92ef9ca67244.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=89b8b1c3294a00140ff7cb151e3b5968\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fde517270-a63d-a5cf-eb2f-92ef9ca67244.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=89b8b1c3294a00140ff7cb151e3b5968\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fde517270-a63d-a5cf-eb2f-92ef9ca67244.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=14bbf5ac29a58bc1fb2242a07e9f08a4 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/de517270-a63d-a5cf-eb2f-92ef9ca67244.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"18:1-18:75\"\u003eデザインの作成には\u003cstrong\u003eFigma\u003c/strong\u003eを使ってみようと思います。\u003c/p\u003e\n\u003cp data-sourcepos=\"20:1-20:25\"\u003e\u003ciframe id=\"qiita-embed-content__712030fb355433271d439f00c7592596\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__712030fb355433271d439f00c7592596\" data-content=\"https%3A%2F%2Fwww.figma.com%2Fja%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch2 data-sourcepos=\"22:1-22:14\"\u003e\n\u003cspan id=\"figmaとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#figma%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eFigmaとは\u003c/h2\u003e\n\u003cp data-sourcepos=\"24:1-24:29\"\u003e\u003ciframe id=\"qiita-embed-content__9f68538f495cdebc989621d49d665be5\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__9f68538f495cdebc989621d49d665be5\" data-content=\"https%3A%2F%2Fferret-plus.com%2F13195\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch2 data-sourcepos=\"26:1-26:20\"\u003e\n\u003cspan id=\"figmaの使い方\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#figma%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eFigmaの使い方\u003c/h2\u003e\n\u003cp data-sourcepos=\"28:1-29:123\"\u003e私はFigmaをきちんと学んだことはないので、私のやり方は敢えて載せません\u003cbr\u003e\n本格的にFigmaを学びたい場合は\u003ccode\u003eUdemy\u003c/code\u003eや、技術ブログ、\u003ccode\u003eYoutube\u003c/code\u003eなどで学ぶことをお勧めします\u003c/p\u003e\n\u003cp data-sourcepos=\"31:1-31:43\"\u003e\u003ciframe id=\"qiita-embed-content__59f2f120820048019650596ffe4421f2\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__59f2f120820048019650596ffe4421f2\" data-content=\"https%3A%2F%2Fwww.profuture.co.jp%2Fmk%2Fcolumn%2F39138\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"33:1-33:237\"\u003eただし、デザインを作りながら、コンポーネントの設計をなんとなくしておくと実装時に楽ですし、コンポーネントを意識したデザインになっていると実装時に楽になります。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"35:1-35:31\"\u003e\n\u003cspan id=\"コンポーネントとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコンポーネントとは\u003c/h3\u003e\n\u003cp data-sourcepos=\"37:1-38:78\"\u003e要素・グループを再利用可能な「コンポーネント」として定義して、プロジェクト全体で呼び出せるようにする機能のことです。\u003cbr\u003e\nこれにより一貫性が維持され、変更容易性が向上します。\u003c/p\u003e\n\u003cp data-sourcepos=\"40:1-40:151\"\u003e例えば\u003cstrong\u003eSubmit Button\u003c/strong\u003eコンポーネントを作成し、それをコピーして作っ\u003cstrong\u003eSubmit Button\u003c/strong\u003eインスタンスがあるとします。\u003c/p\u003e\n\u003cp data-sourcepos=\"42:1-42:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9dc0ca01-733f-127e-26f4-b10996f9a1ae.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d0a03ff82d957cc87a1b87255a68e436\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9dc0ca01-733f-127e-26f4-b10996f9a1ae.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d0a03ff82d957cc87a1b87255a68e436\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9dc0ca01-733f-127e-26f4-b10996f9a1ae.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=80fed2cd0401f107088183d7ee49438f 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/9dc0ca01-733f-127e-26f4-b10996f9a1ae.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"44:1-44:312\"\u003eプロジェクトで使うボタンをコンポーネントからのインスタンス作成にしておくと、もしもSubmitボタンのデザインが変更されたとき、コンポーネントを変更するだけで、全てのプロジェクト内のインスタンスに変更が反映されます。\u003c/p\u003e\n\u003cp data-sourcepos=\"46:1-46:129\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1366b64c-5101-f8f4-7524-267a6f698d2e.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=101c98fba93d46732daba706b3ba2c23\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1366b64c-5101-f8f4-7524-267a6f698d2e.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=101c98fba93d46732daba706b3ba2c23\" alt=\"SubmitButton.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1366b64c-5101-f8f4-7524-267a6f698d2e.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=dae11cef1c0efddd8b10d925330189eb 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/1366b64c-5101-f8f4-7524-267a6f698d2e.gif\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"48:1-48:114\"\u003eまた、プロパティを設定してプロパティごとのデザインを設定することもできます。\u003c/p\u003e\n\u003cp data-sourcepos=\"50:1-50:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe0bcfa26-abf4-f3e6-e301-0632d6316588.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=65bbb9b4fb1fcb5f4a439e6137a87c31\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe0bcfa26-abf4-f3e6-e301-0632d6316588.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=65bbb9b4fb1fcb5f4a439e6137a87c31\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe0bcfa26-abf4-f3e6-e301-0632d6316588.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=6a041e36d77d3a342809a4619a5b2bc9 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e0bcfa26-abf4-f3e6-e301-0632d6316588.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv data-sourcepos=\"52:1-56:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"53:1-55:77\"\u003e私のおすすめとしては、使う色や余白は、\u003cbr\u003e\n使う予定のCSSのフレームワークに合わせておくことです。\u003cbr\u003e\n今回はTailwindCSSのスタイルに合わせてデザインしました。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"58:1-58:12\"\u003e\n\u003cspan id=\"完成品\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%8C%E6%88%90%E5%93%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e完成品\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"60:1-60:13\"\u003e\n\u003cspan id=\"リンク\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AA%E3%83%B3%E3%82%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eリンク\u003c/h3\u003e\n\u003cp data-sourcepos=\"62:1-62:115\"\u003e\u003ciframe id=\"qiita-embed-content__89dbf22561240c05e4cc32ae2975c23f\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__89dbf22561240c05e4cc32ae2975c23f\" data-content=\"https%3A%2F%2Fwww.figma.com%2Ffile%2Fx3naaj1e69BxmwaYY4dbTY%2FLifeSync%3Ftype%3Ddesign%26node-id%3D0-1%26mode%3Ddesign%26t%3D1GqPefwi0i9skFNI-0\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch3 data-sourcepos=\"64:1-64:25\"\u003e\n\u003cspan id=\"コンポーネント\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコンポーネント\u003c/h3\u003e\n\u003ch4 data-sourcepos=\"66:1-66:11\"\u003e\n\u003cspan id=\"button\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#button\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eButton\u003c/h4\u003e\n\u003cp data-sourcepos=\"68:1-70:17\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcd1b9283-d328-9965-1bb7-43fb012c7aed.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=fda447fcaab793c9a46fa1d19c3fae54\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcd1b9283-d328-9965-1bb7-43fb012c7aed.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=fda447fcaab793c9a46fa1d19c3fae54\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcd1b9283-d328-9965-1bb7-43fb012c7aed.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=36bbad4abd36f588ad0d3c16bf0388ca 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/cd1b9283-d328-9965-1bb7-43fb012c7aed.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n左）type=submit\u003cbr\u003e\n右）type=cancel\u003c/p\u003e\n\u003ch4 data-sourcepos=\"73:1-73:13\"\u003e\n\u003cspan id=\"blogcard\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#blogcard\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eBlogCard\u003c/h4\u003e\n\u003cp data-sourcepos=\"75:1-75:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F10a6fb9c-97cf-164f-5f18-5b8120554419.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=18f477d9c9fe173996539e0a4d80a144\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F10a6fb9c-97cf-164f-5f18-5b8120554419.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=18f477d9c9fe173996539e0a4d80a144\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F10a6fb9c-97cf-164f-5f18-5b8120554419.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=6fc988d68a12d0b8dac194c89cefb84f 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/10a6fb9c-97cf-164f-5f18-5b8120554419.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch4 data-sourcepos=\"77:1-77:13\"\u003e\n\u003cspan id=\"blogform\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#blogform\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eBlogForm\u003c/h4\u003e\n\u003cp data-sourcepos=\"79:1-79:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff6dfd8ba-d8d1-67f5-a947-c4823b839717.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0afe5e10a25e326f404c9533153d2b91\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff6dfd8ba-d8d1-67f5-a947-c4823b839717.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0afe5e10a25e326f404c9533153d2b91\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff6dfd8ba-d8d1-67f5-a947-c4823b839717.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=444c36058f09c56a7f6db0c1f71e993e 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f6dfd8ba-d8d1-67f5-a947-c4823b839717.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch3 data-sourcepos=\"82:1-82:16\"\u003e\n\u003cspan id=\"topページ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#top%E3%83%9A%E3%83%BC%E3%82%B8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eTOPページ\u003c/h3\u003e\n\u003cp data-sourcepos=\"84:1-84:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F57ad5e90-abf8-bd9b-87e6-e544b004614b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=71fa738b94240dcf07397d8353d71ce1\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F57ad5e90-abf8-bd9b-87e6-e544b004614b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=71fa738b94240dcf07397d8353d71ce1\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F57ad5e90-abf8-bd9b-87e6-e544b004614b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b18eb7acc6b632620dafab59b31b438c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/57ad5e90-abf8-bd9b-87e6-e544b004614b.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch3 data-sourcepos=\"86:1-86:25\"\u003e\n\u003cspan id=\"ブログ詳細画面\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%96%E3%83%AD%E3%82%B0%E8%A9%B3%E7%B4%B0%E7%94%BB%E9%9D%A2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eブログ詳細画面\u003c/h3\u003e\n\u003cp data-sourcepos=\"88:1-88:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F971464f8-c271-da05-1fad-4fe41722f711.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=dd17e19b100c91c392b3a50ec7a428fb\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F971464f8-c271-da05-1fad-4fe41722f711.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=dd17e19b100c91c392b3a50ec7a428fb\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F971464f8-c271-da05-1fad-4fe41722f711.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=867688c0250f6c1c0624327766459291 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/971464f8-c271-da05-1fad-4fe41722f711.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch3 data-sourcepos=\"90:1-90:25\"\u003e\n\u003cspan id=\"ブログ作成画面\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%96%E3%83%AD%E3%82%B0%E4%BD%9C%E6%88%90%E7%94%BB%E9%9D%A2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eブログ作成画面\u003c/h3\u003e\n\u003cp data-sourcepos=\"92:1-92:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd6aa7aee-fc85-f708-00d6-f7167cd4783b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ff24ac35ac1415dcf17745d95fdfb95a\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd6aa7aee-fc85-f708-00d6-f7167cd4783b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ff24ac35ac1415dcf17745d95fdfb95a\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd6aa7aee-fc85-f708-00d6-f7167cd4783b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=81db0eec14e1fd6b434dda1ebc8b20a2 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/d6aa7aee-fc85-f708-00d6-f7167cd4783b.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch3 data-sourcepos=\"94:1-94:25\"\u003e\n\u003cspan id=\"ブログ編集画面\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%96%E3%83%AD%E3%82%B0%E7%B7%A8%E9%9B%86%E7%94%BB%E9%9D%A2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eブログ編集画面\u003c/h3\u003e\n\u003cp data-sourcepos=\"96:1-96:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F76cf1f3e-0531-c790-6a06-8008aa5c612c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c740e092c513febf8dcc42250c322fdd\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F76cf1f3e-0531-c790-6a06-8008aa5c612c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c740e092c513febf8dcc42250c322fdd\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F76cf1f3e-0531-c790-6a06-8008aa5c612c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=0c08d2d1f0dac8e86c068ab83b8a896c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/76cf1f3e-0531-c790-6a06-8008aa5c612c.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"98:1-98:115\"\u003eまとめて紹介してしまいましたが、これでデザイン系の3ストーリーが消費できました\u003c/p\u003e\n\u003cp data-sourcepos=\"100:1-100:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ffb216c71-29aa-ed87-a4e7-f599820ab851.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7ff919a53e03c0568737b82dd57e557c\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ffb216c71-29aa-ed87-a4e7-f599820ab851.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7ff919a53e03c0568737b82dd57e557c\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ffb216c71-29aa-ed87-a4e7-f599820ab851.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b39f8f6dd5d3a0577abff45350b7c859 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/fb216c71-29aa-ed87-a4e7-f599820ab851.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"102:1-102:57\"\u003e明日からは開発環境を構築していきます！\u003c/p\u003e\n",
    "body": "## はじめに\n\n![スライド4.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/41cce49a-d05d-bb80-6578-0304a211f9f9.png)\n\n---\n\n**2023年アドベントカレンダー3日目**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n昨日はユーザーストーリーを作成しました\n今回からは際にストーリーを消費していきます。\n\nデザインのストーリーについてとりかかろうと思います。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/de517270-a63d-a5cf-eb2f-92ef9ca67244.png)\n\nデザインの作成には**Figma**を使ってみようと思います。\n\nhttps://www.figma.com/ja/\n\n## Figmaとは\n\nhttps://ferret-plus.com/13195\n\n## Figmaの使い方\n\n私はFigmaをきちんと学んだことはないので、私のやり方は敢えて載せません\n本格的にFigmaを学びたい場合は`Udemy`や、技術ブログ、`Youtube`などで学ぶことをお勧めします\n\nhttps://www.profuture.co.jp/mk/column/39138\n\nただし、デザインを作りながら、コンポーネントの設計をなんとなくしておくと実装時に楽ですし、コンポーネントを意識したデザインになっていると実装時に楽になります。\n\n### コンポーネントとは\n\n要素・グループを再利用可能な「コンポーネント」として定義して、プロジェクト全体で呼び出せるようにする機能のことです。\nこれにより一貫性が維持され、変更容易性が向上します。\n\n例えば**Submit Button**コンポーネントを作成し、それをコピーして作っ**Submit Button**インスタンスがあるとします。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/9dc0ca01-733f-127e-26f4-b10996f9a1ae.png)\n\nプロジェクトで使うボタンをコンポーネントからのインスタンス作成にしておくと、もしもSubmitボタンのデザインが変更されたとき、コンポーネントを変更するだけで、全てのプロジェクト内のインスタンスに変更が反映されます。\n\n![SubmitButton.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/1366b64c-5101-f8f4-7524-267a6f698d2e.gif)\n\nまた、プロパティを設定してプロパティごとのデザインを設定することもできます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e0bcfa26-abf4-f3e6-e301-0632d6316588.png)\n\n:::note info\n私のおすすめとしては、使う色や余白は、\n使う予定のCSSのフレームワークに合わせておくことです。\n今回はTailwindCSSのスタイルに合わせてデザインしました。\n:::\n\n## 完成品\n\n### リンク\n\nhttps://www.figma.com/file/x3naaj1e69BxmwaYY4dbTY/LifeSync?type=design\u0026node-id=0-1\u0026mode=design\u0026t=1GqPefwi0i9skFNI-0\n\n### コンポーネント\n\n#### Button\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/cd1b9283-d328-9965-1bb7-43fb012c7aed.png)\n左）type=submit\n右）type=cancel\n\n\n#### BlogCard\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/10a6fb9c-97cf-164f-5f18-5b8120554419.png)\n\n#### BlogForm\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f6dfd8ba-d8d1-67f5-a947-c4823b839717.png)\n\n\n### TOPページ\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/57ad5e90-abf8-bd9b-87e6-e544b004614b.png)\n\n### ブログ詳細画面\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/971464f8-c271-da05-1fad-4fe41722f711.png)\n\n### ブログ作成画面\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/d6aa7aee-fc85-f708-00d6-f7167cd4783b.png)\n\n### ブログ編集画面\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/76cf1f3e-0531-c790-6a06-8008aa5c612c.png)\n\nまとめて紹介してしまいましたが、これでデザイン系の3ストーリーが消費できました\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/fb216c71-29aa-ed87-a4e7-f599820ab851.png)\n\n明日からは開発環境を構築していきます！\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-11-15T22:49:39+09:00",
    "group": null,
    "id": "e80333bdd44443c4bd84",
    "likes_count": 2,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "Design", "versions": [] },
      { "name": "Figma", "versions": [] }
    ],
    "title": "【Day 3】画面デザインを作ろう",
    "updated_at": "2023-12-03T07:00:52+09:00",
    "url": "https://qiita.com/maaaashi/items/e80333bdd44443c4bd84",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-3:130\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbb5a2468-6172-7750-c6f1-d76e24578d64.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=83a3c8e1a505782e5175d98ceb769aab\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbb5a2468-6172-7750-c6f1-d76e24578d64.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=83a3c8e1a505782e5175d98ceb769aab\" alt=\"スライド3.PNG\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbb5a2468-6172-7750-c6f1-d76e24578d64.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=0e5e687ce47d6e76d41ad896396ff48f 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/bb5a2468-6172-7750-c6f1-d76e24578d64.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr data-sourcepos=\"5:1-6:0\"\u003e\n\u003cp data-sourcepos=\"7:1-7:57\"\u003e\u003cstrong\u003e2023年アドベントカレンダー2日目\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:52\"\u003e\u003ciframe id=\"qiita-embed-content__11e60f9241b38b1cdfdb5dc6a578a6b8\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__11e60f9241b38b1cdfdb5dc6a578a6b8\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-11:72\"\u003e昨日は開発前にディレクトリ構成を考えてみました。\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:168\"\u003e今回はサービスを作る前にユーザーストーリーを考えることで、提供できる価値単位でタスクにとりかかることができます。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"15:1-15:15\"\u003e\n\u003cspan id=\"カンバン\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AB%E3%83%B3%E3%83%90%E3%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eカンバン\u003c/h2\u003e\n\u003cp data-sourcepos=\"17:1-17:169\"\u003e今回はTrelloを使ってみます。\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9d76b118-1e10-52a1-1a4e-6bfdfc56045d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=02407978fb44cbb87cbe4abf1468a86b\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9d76b118-1e10-52a1-1a4e-6bfdfc56045d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=02407978fb44cbb87cbe4abf1468a86b\" width=\"20/\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9d76b118-1e10-52a1-1a4e-6bfdfc56045d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9c28fb091765a64d5ff59dd8b8f2f4fe 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/9d76b118-1e10-52a1-1a4e-6bfdfc56045d.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"19:1-19:21\"\u003e\u003ciframe id=\"qiita-embed-content__1fc5b3660760c5a2ade1af5da9f9b161\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__1fc5b3660760c5a2ade1af5da9f9b161\" data-content=\"https%3A%2F%2Ftrello.com%2Fja\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"21:1-22:73\"\u003eカンバンは何でもいいですが、、\u003cbr\u003e\nできるだけすぐ見れるようなものがいいと思います👍\u003c/p\u003e\n\u003ch2 data-sourcepos=\"24:1-24:39\"\u003e\n\u003cspan id=\"ユーザーストーリーとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AA%E3%83%BC%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eユーザーストーリーとは？\u003c/h2\u003e\n\u003cp data-sourcepos=\"26:1-26:34\"\u003eChatGPTに聞いてみました。\u003c/p\u003e\n\u003cblockquote data-sourcepos=\"28:1-30:122\"\u003e\n\u003cp data-sourcepos=\"28:3-30:122\"\u003eユーザーストーリーは、アジャイル開発の手法の一部として用いられる、製品やサービスの機能を記述する短い、簡潔な文です。\u003cbr\u003e\nユーザーストーリーの目的は、ソフトウェア開発プロジェクトにおいて、エンドユーザーの視点とニーズを明確に表現することにあります。\u003cbr\u003e\nこれにより、開発チームはユーザーのニーズに焦点を当てた製品を作ることができます。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp data-sourcepos=\"32:1-32:105\"\u003eユーザーストーリーを作成し、価値が生まれる単位での開発を進めていきます\u003c/p\u003e\n\u003ch2 data-sourcepos=\"34:1-34:27\"\u003e\n\u003cspan id=\"ちょっとその前に\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%A1%E3%82%87%E3%81%A3%E3%81%A8%E3%81%9D%E3%81%AE%E5%89%8D%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eちょっとその前に\u003c/h2\u003e\n\u003cp data-sourcepos=\"36:1-36:76\"\u003eユーザーストーリー作る前に\u003cstrong\u003eルール\u003c/strong\u003eを決めています。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"38:1-38:53\"\u003e\n\u003cspan id=\"ルールその-主語は必ずつけること\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AB%E3%83%BC%E3%83%AB%E3%81%9D%E3%81%AE-%E4%B8%BB%E8%AA%9E%E3%81%AF%E5%BF%85%E3%81%9A%E3%81%A4%E3%81%91%E3%82%8B%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eルールその① 主語は必ずつけること\u003c/h3\u003e\n\u003cp data-sourcepos=\"40:1-40:64\"\u003e\u003cstrong\u003e誰に\u003c/strong\u003e向けたストーリーなのかを明確にします\u003c/p\u003e\n\u003cdiv data-sourcepos=\"42:1-46:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"43:1-45:71\"\u003eExample\u003cbr\u003e\n\u003cimg alt=\":no_entry_sign:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f6ab.png\" title=\":no_entry_sign:\" width=\"20\" loading=\"lazy\"\u003e トップページの実装\u003cbr\u003e\n\u003cimg alt=\":ok:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f197.png\" title=\":ok:\" width=\"20\" loading=\"lazy\"\u003e ユーザーはトップページを閲覧することができる\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003ch3 data-sourcepos=\"48:1-48:65\"\u003e\n\u003cspan id=\"ルールその-リリース可能な単位であること\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AB%E3%83%BC%E3%83%AB%E3%81%9D%E3%81%AE-%E3%83%AA%E3%83%AA%E3%83%BC%E3%82%B9%E5%8F%AF%E8%83%BD%E3%81%AA%E5%8D%98%E4%BD%8D%E3%81%A7%E3%81%82%E3%82%8B%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eルールその② リリース可能な単位であること\u003c/h3\u003e\n\u003cp data-sourcepos=\"50:1-50:79\"\u003eストーリーはそれぞれ\u003cstrong\u003eリリース可能な単位\u003c/strong\u003eで切ります。\u003c/p\u003e\n\u003cdiv data-sourcepos=\"52:1-56:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"53:1-55:50\"\u003eExample\u003cbr\u003e\n\u003cimg alt=\":no_entry_sign:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f6ab.png\" title=\":no_entry_sign:\" width=\"20\" loading=\"lazy\"\u003e APIの実装がないから、画面を開くと500エラーが表示されるような状態\u003cbr\u003e\n\u003cimg alt=\":ok:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f197.png\" title=\":ok:\" width=\"20\" loading=\"lazy\"\u003e 画面を開いても不自然のない状態\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003ch3 data-sourcepos=\"58:1-58:48\"\u003e\n\u003cspan id=\"ルールその-最低限であること\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AB%E3%83%BC%E3%83%AB%E3%81%9D%E3%81%AE-%E6%9C%80%E4%BD%8E%E9%99%90%E3%81%A7%E3%81%82%E3%82%8B%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eルールその③. 最低限であること\u003c/h3\u003e\n\u003cp data-sourcepos=\"60:1-61:87\"\u003e最低限なストーリーにすることで、\u003cstrong\u003eフィードバックを最短で得られる\u003c/strong\u003eようにします\u003cbr\u003e\nフィードバックまで数週間かかるようなストーリーにはしません\u003c/p\u003e\n\u003cdiv data-sourcepos=\"63:1-67:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"64:1-66:65\"\u003eExample\u003cbr\u003e\n\u003cimg alt=\":no_entry_sign:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f6ab.png\" title=\":no_entry_sign:\" width=\"20\" loading=\"lazy\"\u003e ユーザーはブログ機能すべてを使うことができる\u003cbr\u003e\n\u003cimg alt=\":ok:\" class=\"emoji\" height=\"20\" src=\"https://cdn.qiita.com/emoji/twemoji/unicode/1f197.png\" title=\":ok:\" width=\"20\" loading=\"lazy\"\u003e ユーザーはブログの一覧を見ることができる\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"69:1-69:18\"\u003e\n\u003cspan id=\"作ってみた\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%9C%E3%81%A3%E3%81%A6%E3%81%BF%E3%81%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e作ってみた\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"71:1-71:13\"\u003e\n\u003cspan id=\"リスト\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%AA%E3%82%B9%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eリスト\u003c/h3\u003e\n\u003cp data-sourcepos=\"73:1-73:45\"\u003eまず、リストを作っていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"75:1-75:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6a5ac6f6-5a57-82cc-e562-46f13df1996e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=437b2a469e0ccdab05b1e52a703bece3\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6a5ac6f6-5a57-82cc-e562-46f13df1996e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=437b2a469e0ccdab05b1e52a703bece3\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6a5ac6f6-5a57-82cc-e562-46f13df1996e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=4c5a285a400fefe518c7a5310431df0d 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6a5ac6f6-5a57-82cc-e562-46f13df1996e.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cul data-sourcepos=\"77:1-83:0\"\u003e\n\u003cli data-sourcepos=\"77:1-78:42\"\u003eTODO\n\u003cul data-sourcepos=\"78:5-78:42\"\u003e\n\u003cli data-sourcepos=\"78:5-78:42\"\u003eユーザーストーリーの一覧\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"79:1-80:33\"\u003eDEV\n\u003cul data-sourcepos=\"80:5-80:33\"\u003e\n\u003cli data-sourcepos=\"80:5-80:33\"\u003e開発中のストーリー\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"81:1-83:0\"\u003eRELEASE\n\u003cul data-sourcepos=\"82:5-83:0\"\u003e\n\u003cli data-sourcepos=\"82:5-83:0\"\u003eリリース済みのストーリー\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"84:1-85:165\"\u003e個人開発のタスク管理としてはこの程度に留めておきます。\u003cbr\u003e\nチームで開発する際は、どのタスクを誰が、どの程度の進捗なのかを理解するために、より細かくしてもいいと思います。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"87:1-87:13\"\u003e\n\u003cspan id=\"ラベル\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%A9%E3%83%99%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eラベル\u003c/h3\u003e\n\u003cp data-sourcepos=\"89:1-90:72\"\u003eそのストーリーがどの程度の影響範囲があるのかをパット見て判断できるようにラベルを作成しました\u003cbr\u003e\nこれは視認性向上のためなので、マストではないです\u003c/p\u003e\n\u003cp data-sourcepos=\"92:1-92:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbe90a3df-ad74-320f-ca6f-e13c84b37bb8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=eb7d2e55a41026d4e39189c87abf62d2\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbe90a3df-ad74-320f-ca6f-e13c84b37bb8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=eb7d2e55a41026d4e39189c87abf62d2\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbe90a3df-ad74-320f-ca6f-e13c84b37bb8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=df2761e4895a3bf84c9c5e577146f023 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/be90a3df-ad74-320f-ca6f-e13c84b37bb8.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"94:1-94:27\"\u003e\n\u003cspan id=\"ストーリー作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AA%E3%83%BC%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eストーリー作成！\u003c/h2\u003e\n\u003cp data-sourcepos=\"96:1-96:60\"\u003e今回開発する機能を洗い出してみると、、、\u003c/p\u003e\n\u003cul data-sourcepos=\"98:1-107:0\"\u003e\n\u003cli data-sourcepos=\"98:1-100:39\"\u003eトップページ\n\u003cul data-sourcepos=\"99:5-100:39\"\u003e\n\u003cli data-sourcepos=\"99:5-99:36\"\u003eデザインの作成・適用\u003c/li\u003e\n\u003cli data-sourcepos=\"100:5-100:39\"\u003eブログの一覧が見られる\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"101:1-103:42\"\u003eブログ新規登録画面\n\u003cul data-sourcepos=\"102:5-103:42\"\u003e\n\u003cli data-sourcepos=\"102:5-102:36\"\u003eデザインの作成・適用\u003c/li\u003e\n\u003cli data-sourcepos=\"103:5-103:42\"\u003eブログの新規登録ができる\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"104:1-107:0\"\u003eブログ編集画面\n\u003cul data-sourcepos=\"105:5-107:0\"\u003e\n\u003cli data-sourcepos=\"105:5-105:36\"\u003eデザインの作成・適用\u003c/li\u003e\n\u003cli data-sourcepos=\"106:5-107:0\"\u003eブログの編集更新ができる\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"108:1-109:69\"\u003eこのように洗い出せました。\u003cbr\u003e\nこれをユーザーストーリーに落とし込んでいきます\u003c/p\u003e\n\u003ch3 data-sourcepos=\"111:1-111:16\"\u003e\n\u003cspan id=\"一部抜粋\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%B8%80%E9%83%A8%E6%8A%9C%E7%B2%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e一部抜粋\u003c/h3\u003e\n\u003cp data-sourcepos=\"113:1-113:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F82c99506-d355-3cc6-ce4a-782017eba6e5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=756274b3ca6b92fbbb1652fcb85a4bea\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F82c99506-d355-3cc6-ce4a-782017eba6e5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=756274b3ca6b92fbbb1652fcb85a4bea\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F82c99506-d355-3cc6-ce4a-782017eba6e5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=7f6f4b29fc048bd36c99dfb0ce261bef 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/82c99506-d355-3cc6-ce4a-782017eba6e5.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv data-sourcepos=\"115:1-129:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003ch3 data-sourcepos=\"116:1-116:16\"\u003e\n\u003cspan id=\"ポイント\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eポイント\u003c/h3\u003e\n\u003cp data-sourcepos=\"117:1-119:122\"\u003eブログタイトルの一覧を画面で見たいと思ったとき、\u003cbr\u003e\nこのようにまとめてしまうと思います。\u003cbr\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0e9dd9e4-9458-cdc6-57c9-79611ffc4efa.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=75c9d6015256bf01da4356030b156d37\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0e9dd9e4-9458-cdc6-57c9-79611ffc4efa.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=75c9d6015256bf01da4356030b156d37\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0e9dd9e4-9458-cdc6-57c9-79611ffc4efa.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=28a00b7a16b203c2e89f5e6f901a07c4 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/0e9dd9e4-9458-cdc6-57c9-79611ffc4efa.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"121:1-121:81\"\u003eそうはせず、\u003cstrong\u003eルールその③. 最低限であること\u003c/strong\u003eに従って、\u003c/p\u003e\n\u003col data-sourcepos=\"122:1-124:0\"\u003e\n\u003cli data-sourcepos=\"122:1-122:114\"\u003eまずは固定値のブログタイトルを見ることができることをでフィードバックを得る\u003c/li\u003e\n\u003cli data-sourcepos=\"123:1-124:0\"\u003e次に設定されたブログ一覧を見ることができる\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"125:1-126:183\"\u003eといったように\u003cstrong\u003e最低限\u003c/strong\u003eを切り分けています。\u003cbr\u003e\nただし、順番が前後したり、片方のストーリーがスコープアウトしても大丈夫なようなストーリーの切り方にした方が良いと思います。\u003c/p\u003e\n\u003cp data-sourcepos=\"128:1-128:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F18a7ce97-cbb4-629b-1bac-0cb945ea4fff.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=53617df7470b60cc151de3329f494a1e\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F18a7ce97-cbb4-629b-1bac-0cb945ea4fff.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=53617df7470b60cc151de3329f494a1e\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F18a7ce97-cbb4-629b-1bac-0cb945ea4fff.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c28748c8f586d2b66fdd09852e8d1222 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/18a7ce97-cbb4-629b-1bac-0cb945ea4fff.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003ch3 data-sourcepos=\"131:1-131:31\"\u003e\n\u003cspan id=\"ストーリーポイント\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AA%E3%83%BC%E3%83%9D%E3%82%A4%E3%83%B3%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eストーリーポイント\u003c/h3\u003e\n\u003cp data-sourcepos=\"133:1-133:84\"\u003e作成したストーリーにストーリーポイントを振っていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"135:1-135:105\"\u003e今回は\u003ccode\u003e1, 2, 3, 5, 8\u003c/code\u003eの中から設定するとして、ストーリーの後ろに追記します。\u003c/p\u003e\n\u003cdiv data-sourcepos=\"137:1-142:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"138:1-138:58\"\u003e\u003cstrong\u003eストーリーポイントを設定するポイント\u003c/strong\u003e\u003c/p\u003e\n\u003cul data-sourcepos=\"139:1-141:74\"\u003e\n\u003cli data-sourcepos=\"139:1-139:68\"\u003eストーリーポイントは規模・複雑性で考えるべし\u003c/li\u003e\n\u003cli data-sourcepos=\"140:1-140:44\"\u003eストーリーポイント \u003cstrong\u003e≠\u003c/strong\u003e 工数\u003c/li\u003e\n\u003cli data-sourcepos=\"141:1-141:74\"\u003eユーザーに価値が届けられる最小限にまで分割すべし\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"144:1-145:122\"\u003eこんな感じになりました\u003cbr\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F40472bdf-a315-77d6-33b6-8a24039e83bd.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4f24971314cfcac81c704ee1ea687d7a\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F40472bdf-a315-77d6-33b6-8a24039e83bd.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4f24971314cfcac81c704ee1ea687d7a\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F40472bdf-a315-77d6-33b6-8a24039e83bd.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ae3ae5c989e7bfa4ee43f4bbeae8bd8d 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/40472bdf-a315-77d6-33b6-8a24039e83bd.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"147:1-147:63\"\u003e次回は実際にストーリーを消化していきます。\u003c/p\u003e\n",
    "body": "## はじめに\n\n![スライド3.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/bb5a2468-6172-7750-c6f1-d76e24578d64.png)\n\n---\n\n**2023年アドベントカレンダー2日目**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n昨日は開発前にディレクトリ構成を考えてみました。\n\n今回はサービスを作る前にユーザーストーリーを考えることで、提供できる価値単位でタスクにとりかかることができます。\n\n## カンバン\n\n今回はTrelloを使ってみます。\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/9d76b118-1e10-52a1-1a4e-6bfdfc56045d.png\" width=20/\u003e\n\nhttps://trello.com/ja\n\nカンバンは何でもいいですが、、\nできるだけすぐ見れるようなものがいいと思います👍\n\n## ユーザーストーリーとは？\n\nChatGPTに聞いてみました。\n\n\u003e ユーザーストーリーは、アジャイル開発の手法の一部として用いられる、製品やサービスの機能を記述する短い、簡潔な文です。\n\u003e ユーザーストーリーの目的は、ソフトウェア開発プロジェクトにおいて、エンドユーザーの視点とニーズを明確に表現することにあります。\n\u003e これにより、開発チームはユーザーのニーズに焦点を当てた製品を作ることができます。\n\nユーザーストーリーを作成し、価値が生まれる単位での開発を進めていきます\n\n## ちょっとその前に\n\nユーザーストーリー作る前に**ルール**を決めています。\n\n### ルールその① 主語は必ずつけること\n\n**誰に**向けたストーリーなのかを明確にします\n\n:::note info\nExample\n:no_entry_sign: トップページの実装\n:ok: ユーザーはトップページを閲覧することができる\n:::\n\n### ルールその② リリース可能な単位であること\n\nストーリーはそれぞれ**リリース可能な単位**で切ります。\n\n:::note info\nExample\n:no_entry_sign: APIの実装がないから、画面を開くと500エラーが表示されるような状態\n:ok: 画面を開いても不自然のない状態\n:::\n\n### ルールその③. 最低限であること\n\n最低限なストーリーにすることで、**フィードバックを最短で得られる**ようにします\nフィードバックまで数週間かかるようなストーリーにはしません\n\n:::note info\nExample\n:no_entry_sign: ユーザーはブログ機能すべてを使うことができる\n:ok: ユーザーはブログの一覧を見ることができる\n:::\n\n## 作ってみた\n\n### リスト\n\nまず、リストを作っていきます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6a5ac6f6-5a57-82cc-e562-46f13df1996e.png)\n\n- TODO\n    - ユーザーストーリーの一覧\n- DEV\n    - 開発中のストーリー\n- RELEASE\n    - リリース済みのストーリー\n\n個人開発のタスク管理としてはこの程度に留めておきます。\nチームで開発する際は、どのタスクを誰が、どの程度の進捗なのかを理解するために、より細かくしてもいいと思います。\n\n### ラベル\n\nそのストーリーがどの程度の影響範囲があるのかをパット見て判断できるようにラベルを作成しました\nこれは視認性向上のためなので、マストではないです\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/be90a3df-ad74-320f-ca6f-e13c84b37bb8.png)\n\n## ストーリー作成！\n\n今回開発する機能を洗い出してみると、、、\n\n- トップページ\n    - デザインの作成・適用\n    - ブログの一覧が見られる\n- ブログ新規登録画面\n    - デザインの作成・適用\n    - ブログの新規登録ができる\n- ブログ編集画面\n    - デザインの作成・適用\n    - ブログの編集更新ができる\n\nこのように洗い出せました。\nこれをユーザーストーリーに落とし込んでいきます\n\n### 一部抜粋\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/82c99506-d355-3cc6-ce4a-782017eba6e5.png)\n\n:::note\n### ポイント\nブログタイトルの一覧を画面で見たいと思ったとき、\nこのようにまとめてしまうと思います。\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/0e9dd9e4-9458-cdc6-57c9-79611ffc4efa.png)\n\nそうはせず、**ルールその③. 最低限であること**に従って、\n1. まずは固定値のブログタイトルを見ることができることをでフィードバックを得る\n1. 次に設定されたブログ一覧を見ることができる\n\nといったように**最低限**を切り分けています。\nただし、順番が前後したり、片方のストーリーがスコープアウトしても大丈夫なようなストーリーの切り方にした方が良いと思います。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/18a7ce97-cbb4-629b-1bac-0cb945ea4fff.png)\n:::\n\n### ストーリーポイント\n\n作成したストーリーにストーリーポイントを振っていきます。\n\n今回は`1, 2, 3, 5, 8`の中から設定するとして、ストーリーの後ろに追記します。\n\n:::note info\n**ストーリーポイントを設定するポイント**\n- ストーリーポイントは規模・複雑性で考えるべし\n- ストーリーポイント **≠** 工数\n- ユーザーに価値が届けられる最小限にまで分割すべし\n:::\n\nこんな感じになりました\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/40472bdf-a315-77d6-33b6-8a24039e83bd.png)\n\n次回は実際にストーリーを消化していきます。\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-11-13T12:31:22+09:00",
    "group": null,
    "id": "598a6c63e2fd9e7c3420",
    "likes_count": 5,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 1,
    "tags": [{ "name": "ユーザーストーリー", "versions": [] }],
    "title": "【Day 2】ユーザーストーリーを作ろう",
    "updated_at": "2023-12-02T09:11:09+09:00",
    "url": "https://qiita.com/maaaashi/items/598a6c63e2fd9e7c3420",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-3:130\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9b0d3c88-ec7f-2ceb-98bb-1d52373661d0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=73b1c7ab0a6c04fc56c2aec40091383f\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9b0d3c88-ec7f-2ceb-98bb-1d52373661d0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=73b1c7ab0a6c04fc56c2aec40091383f\" alt=\"スライド2.PNG\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9b0d3c88-ec7f-2ceb-98bb-1d52373661d0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=682eb17efbbae3f5b1c277053d864a9c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/9b0d3c88-ec7f-2ceb-98bb-1d52373661d0.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003chr data-sourcepos=\"5:1-6:0\"\u003e\n\u003cp data-sourcepos=\"7:1-7:57\"\u003e\u003cstrong\u003e2023年アドベントカレンダー1日目\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:52\"\u003e\u003ciframe id=\"qiita-embed-content__7592bff1974bf5f0d3e476f5988cf01c\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__7592bff1974bf5f0d3e476f5988cf01c\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-11:129\"\u003e初日である今回は、開発を進める前にディレクトリ構成について少し考えてみようと思います。\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:129\"\u003e開発を進める前にディレクトリ構成を考えることにはいくつかメリットがあると思っています。\u003c/p\u003e\n\u003col data-sourcepos=\"15:1-21:0\"\u003e\n\u003cli data-sourcepos=\"15:1-16:100\"\u003e\n\u003cstrong\u003e効率的な開発\u003c/strong\u003e\u003cbr\u003e\nプロジェクトの構成を事前に計画することで、開発が効率化されます。\u003c/li\u003e\n\u003cli data-sourcepos=\"17:1-18:157\"\u003e\n\u003cstrong\u003eメンテナンス性の工場\u003c/strong\u003e\u003cbr\u003e\nファイルや機能がどこにあるかを簡単に見つけられるために、バグの修正や、機能の追加がスムーズに鳴ります。\u003c/li\u003e\n\u003cli data-sourcepos=\"19:1-21:0\"\u003e\n\u003cstrong\u003eスケーラビリティ\u003c/strong\u003e\u003cbr\u003e\n拡張可能なディレクトリ構成を考えることで、プロジェクトが成長し、新しい機能がつい生かされる際にもスケールアップが容易になります。\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"22:1-22:96\"\u003e以上の理由から、今回はソースのディレクトリ構成を考えていきます。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"24:1-24:33\"\u003e\n\u003cspan id=\"ディレクトリ構成検討\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E6%A7%8B%E6%88%90%E6%A4%9C%E8%A8%8E\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eディレクトリ構成検討\u003c/h2\u003e\n\u003cp data-sourcepos=\"26:1-26:54\"\u003eまず、やりたいことを列挙していきます\u003c/p\u003e\n\u003ch3 data-sourcepos=\"28:1-28:16\"\u003e\n\u003cspan id=\"開発環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e開発環境\u003c/h3\u003e\n\u003cp data-sourcepos=\"30:1-30:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6c1e06fa-ce68-de50-f24d-a619ca87219b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=39b3a5075c90b9569115052749e0980d\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6c1e06fa-ce68-de50-f24d-a619ca87219b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=39b3a5075c90b9569115052749e0980d\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6c1e06fa-ce68-de50-f24d-a619ca87219b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=eb4e9c83b71ff987bde68cc9a2874823 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6c1e06fa-ce68-de50-f24d-a619ca87219b.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cul data-sourcepos=\"32:1-46:19\"\u003e\n\u003cli data-sourcepos=\"32:1-32:41\"\u003e各環境を独立して開発できる\u003c/li\u003e\n\u003cli data-sourcepos=\"33:1-37:28\"\u003eweb\n\u003cul data-sourcepos=\"34:5-37:28\"\u003e\n\u003cli data-sourcepos=\"34:5-34:22\"\u003eNext.jsで開発\u003c/li\u003e\n\u003cli data-sourcepos=\"35:5-35:73\"\u003eBFFはApollo Serverでスタブサーバーを立ち上げて利用\u003c/li\u003e\n\u003cli data-sourcepos=\"36:5-36:16\"\u003eport: 3000\u003c/li\u003e\n\u003cli data-sourcepos=\"37:5-37:28\"\u003eapolloServerPort: 4000\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"38:1-42:24\"\u003eBFF\n\u003cul data-sourcepos=\"39:5-42:24\"\u003e\n\u003cli data-sourcepos=\"39:5-39:21\"\u003eNestJSで開発\u003c/li\u003e\n\u003cli data-sourcepos=\"40:5-40:68\"\u003eAPIはWiremockでスタブサーバーを立ち上げて利用\u003c/li\u003e\n\u003cli data-sourcepos=\"41:5-41:16\"\u003eport: 3000\u003c/li\u003e\n\u003cli data-sourcepos=\"42:5-42:24\"\u003ewiremockPort: 8080\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"43:1-46:19\"\u003eAPI\n\u003cul data-sourcepos=\"44:5-46:19\"\u003e\n\u003cli data-sourcepos=\"44:5-44:19\"\u003eRustで開発\u003c/li\u003e\n\u003cli data-sourcepos=\"45:5-45:16\"\u003eport: 3000\u003c/li\u003e\n\u003cli data-sourcepos=\"46:5-46:19\"\u003edb Port: 5432\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 data-sourcepos=\"47:1-47:16\"\u003e\n\u003cspan id=\"本番環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%AC%E7%95%AA%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e本番環境\u003c/h3\u003e\n\u003cp data-sourcepos=\"49:1-49:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe315fd9a-8a17-3af5-6651-623a2c613f5d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=34d4b272e570f3dd928344a55e8bac8d\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe315fd9a-8a17-3af5-6651-623a2c613f5d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=34d4b272e570f3dd928344a55e8bac8d\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe315fd9a-8a17-3af5-6651-623a2c613f5d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c83a50ec5019befe8a59ad6c071739d2 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e315fd9a-8a17-3af5-6651-623a2c613f5d.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"51:1-51:49\"\u003e\u003cstrong\u003e展開予定はないので、ざっくりと\u003c/strong\u003e\u003c/p\u003e\n\u003cul data-sourcepos=\"53:1-56:0\"\u003e\n\u003cli data-sourcepos=\"53:1-53:14\"\u003ek8sで展開\u003c/li\u003e\n\u003cli data-sourcepos=\"54:1-56:0\"\u003eweb\n\u003cul data-sourcepos=\"55:5-56:0\"\u003e\n\u003cli data-sourcepos=\"55:5-56:0\"\u003eport: 80\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 data-sourcepos=\"57:1-57:9\"\u003e\n\u003cspan id=\"完成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%8C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e完成\u003c/h2\u003e\n\u003cp data-sourcepos=\"59:1-60:72\"\u003e開発しながら随時アップデートしていきますが、ひとまずはこの構成で進めていきます。\u003cbr\u003e\nディレクトリ構成と、大まかな用途を書いています。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"62:1-120:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\n├── Makefile               ・・・・・・・ 環境起動用Makefile\n├── README.md\n├── skaffold.yaml          ・・・・・・・ prod環境用のskaffoldファイル\n├── web                    ・・・・・・・ Webソースコード\n│   ├── README.md\n│   ├── app/\n│   ├── e2e/               ・・・・・・・ e2eテスト\n│   ├── mock/              ・・・・・・・ bffのスタブサーバー用\n│   ├── next-env.d.ts\n│   ├── next.config.js\n│   ├── node_modules/\n│   ├── package-lock.json\n│   ├── package.json\n│   ├── postcss.config.js\n│   ├── public/\n│   ├── tailwind.config.ts\n│   └── tsconfig.json\n├── bff           ・・・・・・・ BFFソースコード\n│   ├── README.md\n│   ├── dist/\n│   ├── nest-cli.json\n│   ├── node_modules/\n│   ├── package-lock.json\n│   ├── package.json\n│   ├── src/\n│   ├── \u003cspan class=\"nb\"\u003etest\u003c/span\u003e/     ・・・・・・・ Unit/e2eテスト\n│   ├── tsconfig.build.json\n│   ├── tsconfig.json\n│   └── wiremock/ ・・・・・・・ apiのスタブサーバー用\n├── api           ・・・・・・・ APIソースコード\n│   ├── Cargo.lock\n│   ├── Cargo.toml\n│   ├── e2e/      ・・・・・・・ E2Eテスト\n│   ├── src/\n│   ├── target/\n│   └── \u003cspan class=\"nb\"\u003etest\u003c/span\u003e/     ・・・・・・・ Unitテスト\n├── dockers       ・・・・・・・ k8s起動用のDockerfile\n│   ├── bff\n│   │   └── Dockerfile\n│   ├── api\n│   │   └── Dockerfile\n│   └── web\n│       └── Dockerfile\n└── k8s            ・・・・・・・ k8s\n    ├── bff\n    │   ├── deployment.yaml\n    │   └── service.yaml\n    ├── api\n    │   ├── deployment.yaml\n    │   └── service.yaml\n    ├── db\n    │   ├── service.yaml\n    │   └── statefulset.yaml\n    └── web\n        ├── deployment.yaml\n        └── service.yaml\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"122:1-122:22\"\u003e\n\u003cspan id=\"ざっくり説明\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%96%E3%81%A3%E3%81%8F%E3%82%8A%E8%AA%AC%E6%98%8E\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eざっくり説明\u003c/h3\u003e\n\u003ch4 data-sourcepos=\"124:1-124:17\"\u003e\n\u003cspan id=\"web開発時\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#web%E9%96%8B%E7%99%BA%E6%99%82\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eweb開発時\u003c/h4\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"126:1-131:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e├── web           ・・・・・・・ Webソースコード\n│   ├── e2e       ・・・・・・・ e2eテスト\n│   ├── test/     ・・・・・・・ Unitテスト\n│   └── mock/     ・・・・ bffのスタブサーバー用\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cul data-sourcepos=\"133:1-141:0\"\u003e\n\u003cli data-sourcepos=\"133:1-134:36\"\u003e\n\u003ccode\u003e./web/\u003c/code\u003e\n\u003cul data-sourcepos=\"134:5-134:36\"\u003e\n\u003cli data-sourcepos=\"134:5-134:36\"\u003eこちらのソースで開発\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"135:1-136:39\"\u003e\n\u003ccode\u003e./web/mock/\u003c/code\u003e\n\u003cul data-sourcepos=\"136:5-136:39\"\u003e\n\u003cli data-sourcepos=\"136:5-136:39\"\u003eBFFのスタブサーバー設定\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"137:1-138:29\"\u003e\n\u003ccode\u003e./web/test\u003c/code\u003e\n\u003cul data-sourcepos=\"138:3-138:29\"\u003e\n\u003cli data-sourcepos=\"138:3-138:29\"\u003ejestのテストコード\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"139:1-141:0\"\u003e\n\u003ccode\u003e./web/e2e\u003c/code\u003e\n\u003cul data-sourcepos=\"140:3-141:0\"\u003e\n\u003cli data-sourcepos=\"140:3-141:0\"\u003ee2eのテストコード(Cypress)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 data-sourcepos=\"142:1-142:17\"\u003e\n\u003cspan id=\"bff開発時\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#bff%E9%96%8B%E7%99%BA%E6%99%82\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ebff開発時\u003c/h4\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"144:1-148:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e├── bff           ・・・・・・・ BFFソースコード\n|   ├── test/     ・・・・・・・ Unit/E2Eテスト\n│   └── wiremock/ ・・・・・・・ apiのスタブサーバー用\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cul data-sourcepos=\"150:1-156:0\"\u003e\n\u003cli data-sourcepos=\"150:1-151:34\"\u003e\n\u003ccode\u003e./bff/\u003c/code\u003e\n\u003cul data-sourcepos=\"151:3-151:34\"\u003e\n\u003cli data-sourcepos=\"151:3-151:34\"\u003eこちらのソースで開発\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"152:1-153:37\"\u003e\n\u003ccode\u003e./bff/wiremock/\u003c/code\u003e\n\u003cul data-sourcepos=\"153:3-153:37\"\u003e\n\u003cli data-sourcepos=\"153:3-153:37\"\u003eAPIのスタブサーバー設定\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"154:1-156:0\"\u003e\n\u003ccode\u003e./bff/test\u003c/code\u003e\n\u003cul data-sourcepos=\"155:3-156:0\"\u003e\n\u003cli data-sourcepos=\"155:3-156:0\"\u003enestjsのテストコード\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 data-sourcepos=\"157:1-157:17\"\u003e\n\u003cspan id=\"api開発時\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#api%E9%96%8B%E7%99%BA%E6%99%82\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAPI開発時\u003c/h4\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"159:1-164:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e├── api           ・・・・・・・ APIソースコード\n|   ├── e2e/      ・・・・・・・ e2eテスト\n|   ├── src/\n|   └── test/     ・・・・・・・ Unitテスト\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cul data-sourcepos=\"166:1-172:0\"\u003e\n\u003cli data-sourcepos=\"166:1-167:34\"\u003e\n\u003ccode\u003e./api/\u003c/code\u003e\n\u003cul data-sourcepos=\"167:3-167:34\"\u003e\n\u003cli data-sourcepos=\"167:3-167:34\"\u003eこちらのソースで開発\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"168:1-169:29\"\u003e\n\u003ccode\u003e./api/test\u003c/code\u003e\n\u003cul data-sourcepos=\"169:3-169:29\"\u003e\n\u003cli data-sourcepos=\"169:3-169:29\"\u003erustのテストコード\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"170:1-172:0\"\u003e\n\u003ccode\u003e./e2e/api\u003c/code\u003e\n\u003cul data-sourcepos=\"171:3-172:0\"\u003e\n\u003cli data-sourcepos=\"171:3-172:0\"\u003ee2eのテストコード\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 data-sourcepos=\"173:1-173:17\"\u003e\n\u003cspan id=\"本番環境-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%AC%E7%95%AA%E7%92%B0%E5%A2%83-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e本番環境\u003c/h4\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"175:1-179:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e├── dockers/      ・・・・・・・ k8s起動用のDockerfile\n├── k8s/          ・・・・・・・ k8s\n├── skaffold.yaml ・・・・・・・ prod環境用のskaffoldファイル\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cul data-sourcepos=\"181:1-188:0\"\u003e\n\u003cli data-sourcepos=\"181:1-182:33\"\u003e\n\u003ccode\u003e./skaffold.yaml\u003c/code\u003e\n\u003cul data-sourcepos=\"182:3-182:33\"\u003e\n\u003cli data-sourcepos=\"182:3-182:33\"\u003eskaffoldの設定ファイル\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"183:1-184:32\"\u003e\n\u003ccode\u003e./dockers/\u003c/code\u003e\n\u003cul data-sourcepos=\"184:3-184:32\"\u003e\n\u003cli data-sourcepos=\"184:3-184:32\"\u003e各サービスのDockerfile\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"185:1-188:0\"\u003e\n\u003ccode\u003e./k8s/\u003c/code\u003e\n\u003cul data-sourcepos=\"186:3-188:0\"\u003e\n\u003cli data-sourcepos=\"186:3-188:0\"\u003e各サービスのdeployment.yamlおよびservice.yaml\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"189:1-189:57\"\u003e明日からこちらで開発を進めていきます。\u003c/p\u003e\n",
    "body": "## はじめに\n\n![スライド2.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/9b0d3c88-ec7f-2ceb-98bb-1d52373661d0.png)\n\n---\n\n**2023年アドベントカレンダー1日目**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n初日である今回は、開発を進める前にディレクトリ構成について少し考えてみようと思います。\n\n開発を進める前にディレクトリ構成を考えることにはいくつかメリットがあると思っています。\n\n1. **効率的な開発**\n    プロジェクトの構成を事前に計画することで、開発が効率化されます。\n2. **メンテナンス性の工場**\n    ファイルや機能がどこにあるかを簡単に見つけられるために、バグの修正や、機能の追加がスムーズに鳴ります。\n3. **スケーラビリティ**\n    拡張可能なディレクトリ構成を考えることで、プロジェクトが成長し、新しい機能がつい生かされる際にもスケールアップが容易になります。\n\n以上の理由から、今回はソースのディレクトリ構成を考えていきます。\n\n## ディレクトリ構成検討\n\nまず、やりたいことを列挙していきます\n\n### 開発環境\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6c1e06fa-ce68-de50-f24d-a619ca87219b.png)\n\n- 各環境を独立して開発できる\n- web\n    - Next.jsで開発\n    - BFFはApollo Serverでスタブサーバーを立ち上げて利用\n    - port: 3000\n    - apolloServerPort: 4000\n- BFF\n    - NestJSで開発\n    - APIはWiremockでスタブサーバーを立ち上げて利用\n    - port: 3000\n    - wiremockPort: 8080\n- API\n    - Rustで開発\n    - port: 3000\n    - db Port: 5432\n### 本番環境\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e315fd9a-8a17-3af5-6651-623a2c613f5d.png)\n\n**展開予定はないので、ざっくりと**\n\n- k8sで展開\n- web\n    - port: 80\n\n## 完成\n\n開発しながら随時アップデートしていきますが、ひとまずはこの構成で進めていきます。\nディレクトリ構成と、大まかな用途を書いています。\n\n```bash\n.\n├── Makefile               ・・・・・・・ 環境起動用Makefile\n├── README.md\n├── skaffold.yaml          ・・・・・・・ prod環境用のskaffoldファイル\n├── web                    ・・・・・・・ Webソースコード\n│   ├── README.md\n│   ├── app/\n│   ├── e2e/               ・・・・・・・ e2eテスト\n│   ├── mock/              ・・・・・・・ bffのスタブサーバー用\n│   ├── next-env.d.ts\n│   ├── next.config.js\n│   ├── node_modules/\n│   ├── package-lock.json\n│   ├── package.json\n│   ├── postcss.config.js\n│   ├── public/\n│   ├── tailwind.config.ts\n│   └── tsconfig.json\n├── bff           ・・・・・・・ BFFソースコード\n│   ├── README.md\n│   ├── dist/\n│   ├── nest-cli.json\n│   ├── node_modules/\n│   ├── package-lock.json\n│   ├── package.json\n│   ├── src/\n│   ├── test/     ・・・・・・・ Unit/e2eテスト\n│   ├── tsconfig.build.json\n│   ├── tsconfig.json\n│   └── wiremock/ ・・・・・・・ apiのスタブサーバー用\n├── api           ・・・・・・・ APIソースコード\n│   ├── Cargo.lock\n│   ├── Cargo.toml\n│   ├── e2e/      ・・・・・・・ E2Eテスト\n│   ├── src/\n│   ├── target/\n│   └── test/     ・・・・・・・ Unitテスト\n├── dockers       ・・・・・・・ k8s起動用のDockerfile\n│   ├── bff\n│   │   └── Dockerfile\n│   ├── api\n│   │   └── Dockerfile\n│   └── web\n│       └── Dockerfile\n└── k8s            ・・・・・・・ k8s\n    ├── bff\n    │   ├── deployment.yaml\n    │   └── service.yaml\n    ├── api\n    │   ├── deployment.yaml\n    │   └── service.yaml\n    ├── db\n    │   ├── service.yaml\n    │   └── statefulset.yaml\n    └── web\n        ├── deployment.yaml\n        └── service.yaml\n```\n\n### ざっくり説明\n\n#### web開発時\n\n```\n├── web           ・・・・・・・ Webソースコード\n│   ├── e2e       ・・・・・・・ e2eテスト\n│   ├── test/     ・・・・・・・ Unitテスト\n│   └── mock/     ・・・・ bffのスタブサーバー用\n```\n\n- `./web/`\n    - こちらのソースで開発\n- `./web/mock/`\n    - BFFのスタブサーバー設定\n- `./web/test`\n  - jestのテストコード\n- `./web/e2e`\n  - e2eのテストコード(Cypress)\n\n#### bff開発時\n\n```\n├── bff           ・・・・・・・ BFFソースコード\n|   ├── test/     ・・・・・・・ Unit/E2Eテスト\n│   └── wiremock/ ・・・・・・・ apiのスタブサーバー用\n```\n\n- `./bff/`\n  - こちらのソースで開発\n- `./bff/wiremock/`\n  - APIのスタブサーバー設定\n- `./bff/test`\n  - nestjsのテストコード\n\n#### API開発時\n\n```\n├── api           ・・・・・・・ APIソースコード\n|   ├── e2e/      ・・・・・・・ e2eテスト\n|   ├── src/\n|   └── test/     ・・・・・・・ Unitテスト\n```\n\n- `./api/`\n  - こちらのソースで開発\n- `./api/test`\n  - rustのテストコード\n- `./e2e/api`\n  - e2eのテストコード\n\n#### 本番環境\n\n```\n├── dockers/      ・・・・・・・ k8s起動用のDockerfile\n├── k8s/          ・・・・・・・ k8s\n├── skaffold.yaml ・・・・・・・ prod環境用のskaffoldファイル\n```\n\n- `./skaffold.yaml`\n  - skaffoldの設定ファイル\n- `./dockers/`\n  - 各サービスのDockerfile\n- `./k8s/`\n  - 各サービスのdeployment.yamlおよびservice.yaml\n\n\n明日からこちらで開発を進めていきます。\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-11-12T20:53:39+09:00",
    "group": null,
    "id": "97d3c57f887249617233",
    "likes_count": 8,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 1,
    "tags": [{ "name": "開発環境", "versions": [] }],
    "title": "【Day 1】ディレクトリ構成を考える",
    "updated_at": "2023-12-04T08:21:18+09:00",
    "url": "https://qiita.com/maaaashi/items/97d3c57f887249617233",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003ch2 data-sourcepos=\"3:1-5:0\"\u003e\n\u003cspan id=\"\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F52e3a72a-7d3e-3353-695a-6ba06b076987.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d4bba360d52bd19c42de21580dd5bd8f\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F52e3a72a-7d3e-3353-695a-6ba06b076987.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d4bba360d52bd19c42de21580dd5bd8f\" alt=\"スライド25.PNG\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F52e3a72a-7d3e-3353-695a-6ba06b076987.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d60fdc7e47890c5e52638c9017728767 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/52e3a72a-7d3e-3353-695a-6ba06b076987.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003c/h2\u003e\n\u003cp data-sourcepos=\"6:1-6:58\"\u003e\u003cstrong\u003e2023年アドベントカレンダー24日目\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"8:1-8:52\"\u003e\u003ciframe id=\"qiita-embed-content__a2047b7f46f9cdbda9d46eb320698441\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__a2047b7f46f9cdbda9d46eb320698441\" data-content=\"https%3A%2F%2Fqiita.com%2Fadvent-calendar%2F2023%2Flife-sync-app\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"10:1-10:71\"\u003e今日と明日で、k8sの環境をskaffoldで作っていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"12:1-12:90\"\u003e本日は環境立ち上げのためのツールのインストールをしていきます\u003c/p\u003e\n\u003ch2 data-sourcepos=\"14:1-14:33\"\u003e\n\u003cspan id=\"ツールのインストール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%84%E3%83%BC%E3%83%AB%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eツールのインストール\u003c/h2\u003e\n\u003cblockquote data-sourcepos=\"16:1-16:81\"\u003e\n\u003cp data-sourcepos=\"16:3-16:81\"\u003egitやcurlなどの一般的なものは入っている前提で進めます。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp data-sourcepos=\"18:1-18:292\"\u003egcloud CLIをインストールすると、今回使いたいツール系がaptでインストールできるようになるので、バージョン管理しやすくなるため、今回はgcloudをインストールしてから、minikube, kubectl, skaffoldをインストールします。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"20:1-20:31\"\u003e\n\u003cspan id=\"gcloudのインストール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#gcloud%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003egcloudのインストール\u003c/h3\u003e\n\u003cp data-sourcepos=\"22:1-22:47\"\u003e\u003ciframe id=\"qiita-embed-content__be1851d153e3ce2e59749679c01dc4dd\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__be1851d153e3ce2e59749679c01dc4dd\" data-content=\"https%3A%2F%2Fcloud.google.com%2Fsdk%2Fdocs%2Finstall%3Fhl%3Dja\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"24:1-24:45\"\u003e↑の通りにインストールします。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"26:1-26:33\"\u003e\n\u003cspan id=\"minikubeのインストール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#minikube%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eminikubeのインストール\u003c/h3\u003e\n\u003cp data-sourcepos=\"28:1-28:149\"\u003e先程の通りにgcloudをインストールしていたら、aptでminikubeがインストールできるようになっているはずなので、\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"30:1-32:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nb\"\u003esudo \u003c/span\u003eapt \u003cspan class=\"nb\"\u003einstall \u003c/span\u003egoogle-cloud-sdk-minikube\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"34:1-34:33\"\u003eでインストールします。\u003c/p\u003e\n\u003cdiv data-sourcepos=\"36:1-42:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"37:1-39:21\"\u003eパッケージを検索するには\u003cbr\u003e\napt search {package}\u003cbr\u003e\nで検索します。\u003c/p\u003e\n\u003cp data-sourcepos=\"41:1-41:24\"\u003e例) apt search minikube\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003ch3 data-sourcepos=\"44:1-44:32\"\u003e\n\u003cspan id=\"kubectlのインストール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#kubectl%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ekubectlのインストール\u003c/h3\u003e\n\u003cp data-sourcepos=\"46:1-46:57\"\u003eこちらもgcloudをインストールしていたら、\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"48:1-50:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nb\"\u003esudo \u003c/span\u003eapt \u003cspan class=\"nb\"\u003einstall \u003c/span\u003ekubectl\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"52:1-52:33\"\u003e\n\u003cspan id=\"skaffoldのインストール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#skaffold%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eskaffoldのインストール\u003c/h3\u003e\n\u003cp data-sourcepos=\"54:1-54:32\"\u003eこちらもgcloudを(以下略)\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"56:1-58:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nb\"\u003esudo \u003c/span\u003eapt \u003cspan class=\"nb\"\u003einstall \u003c/span\u003egoogle-cloud-sdk-skaffold\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv data-sourcepos=\"60:1-66:3\" class=\"note warn\"\u003e\n\u003cspan class=\"fa fa-fw fa-exclamation-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"61:1-63:25\"\u003eminikubeと、skaffoldは\u003cbr\u003e\ngoogle-cloud-cli-minikube\u003cbr\u003e\ngoogle-cloud-sdk-minikube\u003c/p\u003e\n\u003cp data-sourcepos=\"65:1-65:95\"\u003eのようにcli/sdkの2つが出てきますが、sdkの方で動作確認をしています。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"68:1-68:18\"\u003e\n\u003cspan id=\"minikube-起動\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#minikube-%E8%B5%B7%E5%8B%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eminikube 起動\u003c/h2\u003e\n\u003cul data-sourcepos=\"70:1-73:0\"\u003e\n\u003cli data-sourcepos=\"70:1-73:0\"\u003e前提\u003cbr\u003e\ndockerをsudo無しで実行できること\u003cbr\u003e\nもしできないようであれば、\u003ca href=\"https://qiita.com/katoyu_try1/items/1bdaaad9f64af86bbfb7\" id=\"reference-ab6d6b84a936d80bd23d\"\u003eこちら\u003c/a\u003eの通りに設定してください。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"74:1-76:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eminikube start\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv data-sourcepos=\"78:1-83:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"79:1-80:100\"\u003ek8sでの開発をすることの方が多いのであれば、\u003cbr\u003e\nminikubeの起動はdockerの起動と一緒に.bashrcなどに書いておいてもいいかも...?\u003c/p\u003e\n\u003cp data-sourcepos=\"82:1-82:21\"\u003eそこはお好みで\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"85:1-85:93\"\u003e次回はskaffoldの設定と、各サービスのDockerfileを作成し、起動します！\u003c/p\u003e\n",
    "body": "## はじめに\n\n![スライド25.PNG](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/52e3a72a-7d3e-3353-695a-6ba06b076987.png)\n---\n\n**2023年アドベントカレンダー24日目**です。\n\nhttps://qiita.com/advent-calendar/2023/life-sync-app\n\n今日と明日で、k8sの環境をskaffoldで作っていきます。\n\n本日は環境立ち上げのためのツールのインストールをしていきます\n\n## ツールのインストール\n\n\u003e gitやcurlなどの一般的なものは入っている前提で進めます。\n\ngcloud CLIをインストールすると、今回使いたいツール系がaptでインストールできるようになるので、バージョン管理しやすくなるため、今回はgcloudをインストールしてから、minikube, kubectl, skaffoldをインストールします。\n\n### gcloudのインストール\n\nhttps://cloud.google.com/sdk/docs/install?hl=ja\n\n↑の通りにインストールします。\n\n### minikubeのインストール\n\n先程の通りにgcloudをインストールしていたら、aptでminikubeがインストールできるようになっているはずなので、\n\n```bash\nsudo apt install google-cloud-sdk-minikube\n```\n\nでインストールします。\n\n:::note info\nパッケージを検索するには\napt search {package}\nで検索します。\n\n例) apt search minikube\n:::\n\n### kubectlのインストール\n\nこちらもgcloudをインストールしていたら、\n\n```bash\nsudo apt install kubectl\n```\n\n### skaffoldのインストール\n\nこちらもgcloudを(以下略)\n\n```bash\nsudo apt install google-cloud-sdk-skaffold\n```\n\n:::note warn\nminikubeと、skaffoldは\ngoogle-cloud-cli-minikube\ngoogle-cloud-sdk-minikube\n\nのようにcli/sdkの2つが出てきますが、sdkの方で動作確認をしています。\n:::\n\n## minikube 起動\n\n* 前提\ndockerをsudo無しで実行できること\nもしできないようであれば、[こちら](https://qiita.com/katoyu_try1/items/1bdaaad9f64af86bbfb7)の通りに設定してください。\n\n```bash\nminikube start\n```\n\n:::note info\nk8sでの開発をすることの方が多いのであれば、\nminikubeの起動はdockerの起動と一緒に.bashrcなどに書いておいてもいいかも...?\n\nそこはお好みで\n:::\n\n次回はskaffoldの設定と、各サービスのDockerfileを作成し、起動します！\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-11-10T00:03:33+09:00",
    "group": null,
    "id": "8b9740e934886d3b28e5",
    "likes_count": 4,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [{ "name": "kubernetes", "versions": [] }],
    "title": "【Day 24】k8s環境を構築する - 準備",
    "updated_at": "2024-01-04T09:46:39+09:00",
    "url": "https://qiita.com/maaaashi/items/8b9740e934886d3b28e5",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-4:65\"\u003eNext.jsでボタンをクリックしたらクリップボードに保存したいという要望があったため実装メモ。\u003cbr\u003e\n(簡単でしたが、意外と知らなかったので、、、)\u003c/p\u003e\n\u003ch2 data-sourcepos=\"6:1-6:9\"\u003e\n\u003cspan id=\"実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"8:1-30:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eReact\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ereact\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eCopy\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eclickHandler\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003emessage\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eクリップボードに保存するメッセージ\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n    \u003cspan class=\"k\"\u003etry\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nb\"\u003enavigator\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eclipboard\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ewriteText\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"nf\"\u003ealert\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eクリップボードに保存しました。\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003ecatch \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"nf\"\u003ealert\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e失敗しました。\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003ereturn \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'btn m-5'\u003c/span\u003e \u003cspan class=\"na\"\u003eonClick\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nf\"\u003eclickHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      COPY\n    \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"nx\"\u003eCopy\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n",
    "body": "## はじめに\n\nNext.jsでボタンをクリックしたらクリップボードに保存したいという要望があったため実装メモ。\n(簡単でしたが、意外と知らなかったので、、、)\n\n## 実装\n\n```tsx\nimport React from 'react'\n\nconst Copy = () =\u003e {\n  const clickHandler = async () =\u003e {\n    const message = 'クリップボードに保存するメッセージ'\n    try {\n      await navigator.clipboard.writeText(message)\n      alert('クリップボードに保存しました。')\n    } catch (error) {\n      alert('失敗しました。')\n    }\n  }\n\n  return (\n    \u003cbutton className='btn m-5' onClick={() =\u003e clickHandler()}\u003e\n      COPY\n    \u003c/button\u003e\n  )\n}\n\nexport default Copy\n```\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-10-26T23:59:56+09:00",
    "group": null,
    "id": "ab944532e1f11dcb6813",
    "likes_count": 6,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 5,
    "tags": [
      { "name": "TypeScript", "versions": [] },
      { "name": "React", "versions": [] },
      { "name": "Next.js", "versions": [] }
    ],
    "title": "Next.jsでクリップボードに保存ボタンを実装",
    "updated_at": "2023-10-26T23:59:56+09:00",
    "url": "https://qiita.com/maaaashi/items/ab944532e1f11dcb6813",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-4:93\"\u003e顧客要望で、csvファイルでデータをダウンロードしたいということがあり、\u003cbr\u003e\n出力方法を毎回調べるのも面倒なので、ここにメモとして残します。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"6:1-6:9\"\u003e\n\u003cspan id=\"概要\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A6%82%E8%A6%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e概要\u003c/h2\u003e\n\u003cul data-sourcepos=\"8:1-10:0\"\u003e\n\u003cli data-sourcepos=\"8:1-8:114\"\u003eボタンをクリックしたら、Userオブジェクトのデータがcsv形式でダウンロードできる\u003c/li\u003e\n\u003cli data-sourcepos=\"9:1-10:0\"\u003eリンクではなく、ボタンがいい\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 data-sourcepos=\"11:1-11:25\"\u003e\n\u003cspan id=\"完成csvファイル\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%8C%E6%88%90csv%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e完成CSVファイル\u003c/h3\u003e\n\u003ctable data-sourcepos=\"13:1-16:36\"\u003e\n\u003cthead\u003e\n\u003ctr data-sourcepos=\"13:1-13:22\"\u003e\n\u003cth data-sourcepos=\"13:2-13:7\"\u003e名前\u003c/th\u003e\n\u003cth data-sourcepos=\"13:9-13:14\"\u003e年齢\u003c/th\u003e\n\u003cth data-sourcepos=\"13:16-13:21\"\u003e住所\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr data-sourcepos=\"15:1-15:36\"\u003e\n\u003ctd data-sourcepos=\"15:2-15:13\"\u003e木村太郎\u003c/td\u003e\n\u003ctd data-sourcepos=\"15:15-15:19\"\u003e25歳\u003c/td\u003e\n\u003ctd data-sourcepos=\"15:21-15:35\"\u003e東京都〇〇\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"16:1-16:36\"\u003e\n\u003ctd data-sourcepos=\"16:2-16:13\"\u003e田中花子\u003c/td\u003e\n\u003ctd data-sourcepos=\"16:15-16:19\"\u003e20歳\u003c/td\u003e\n\u003ctd data-sourcepos=\"16:21-16:35\"\u003e千葉県〇〇\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3 data-sourcepos=\"18:1-18:28\"\u003e\n\u003cspan id=\"完成画面イメージ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%8C%E6%88%90%E7%94%BB%E9%9D%A2%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e完成画面イメージ\u003c/h3\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5d1abd1b-907b-4f9c-7df1-b5747c2de43b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=567ea2550265b6d672891e9c889386ac\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5d1abd1b-907b-4f9c-7df1-b5747c2de43b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=567ea2550265b6d672891e9c889386ac\" width=\"200\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5d1abd1b-907b-4f9c-7df1-b5747c2de43b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=11b1cf38153465f12236a84c914bcab3 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/5d1abd1b-907b-4f9c-7df1-b5747c2de43b.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003ch3 data-sourcepos=\"22:1-22:10\"\u003e\n\u003cspan id=\"環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e環境\u003c/h3\u003e\n\u003cul data-sourcepos=\"24:1-27:0\"\u003e\n\u003cli data-sourcepos=\"24:1-24:17\"\u003eNext.js v13.5.4\u003c/li\u003e\n\u003cli data-sourcepos=\"25:1-27:0\"\u003etailwindCSS\n\u003cul data-sourcepos=\"26:5-27:0\"\u003e\n\u003cli data-sourcepos=\"26:5-27:0\"\u003edaisyUI\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 data-sourcepos=\"28:1-28:9\"\u003e\n\u003cspan id=\"実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"30:1-30:29\"\u003e\n\u003cspan id=\"1-userクラスを定義\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-user%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%92%E5%AE%9A%E7%BE%A9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. Userクラスを定義\u003c/h3\u003e\n\u003cul data-sourcepos=\"32:1-44:0\"\u003e\n\u003cli data-sourcepos=\"32:1-32:62\"\u003e\n\u003cp data-sourcepos=\"32:3-32:62\"\u003e出力するデータのオブジェクトを定義します\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"33:1-44:0\"\u003e\n\u003cp data-sourcepos=\"33:3-33:72\"\u003eprivateプロパティにするかどうかはプロジェクト判断\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"35:5-43:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eUser\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003econstructor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"nx\"\u003e_name\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"nx\"\u003e_age\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"nx\"\u003e_address\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 data-sourcepos=\"45:1-45:19\"\u003e\n\u003cspan id=\"2-keyを定義\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-key%E3%82%92%E5%AE%9A%E7%BE%A9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. keyを定義\u003c/h3\u003e\n\u003cul data-sourcepos=\"47:1-65:0\"\u003e\n\u003cli data-sourcepos=\"47:1-49:20\"\u003e\n\u003cp data-sourcepos=\"0:0-0:0\"\u003e出力するデータの一行目の項目名になるものを定義\u003c/p\u003e\n\u003ctable data-sourcepos=\"47:3-49:20\"\u003e\n\u003cthead\u003e\n\u003ctr data-sourcepos=\"47:3-47:94\"\u003e\n\u003cth data-sourcepos=\"47:74-47:79\"\u003e名前\u003c/th\u003e\n\u003cth data-sourcepos=\"47:81-47:86\"\u003e年齢\u003c/th\u003e\n\u003cth data-sourcepos=\"47:88-47:93\"\u003e住所\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003c/table\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"50:1-65:0\"\u003e\n\u003cp data-sourcepos=\"50:3-50:57\"\u003eUserクラスのStaticメソッドで定義しました\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"diff_tsx\" data-sourcepos=\"52:5-64:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eUser\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003econstructor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"nx\"\u003e_name\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"nx\"\u003e_age\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"nx\"\u003e_address\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"nf\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e   \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e名前\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e年齢\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e住所\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 data-sourcepos=\"66:1-66:21\"\u003e\n\u003cspan id=\"3-valueを定義\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-value%E3%82%92%E5%AE%9A%E7%BE%A9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. valueを定義\u003c/h3\u003e\n\u003cul data-sourcepos=\"68:1-88:0\"\u003e\n\u003cli data-sourcepos=\"68:1-88:0\"\u003e\n\u003cp data-sourcepos=\"68:3-68:52\"\u003e出力するレコードのvalueを定義します\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"diff_tsx\" data-sourcepos=\"70:5-86:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eUser\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003econstructor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"nx\"\u003e_name\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"nx\"\u003e_age\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"nx\"\u003e_address\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e \u003cspan class=\"nf\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e   \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003e_name\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003e_age\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003e_address\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\n  \u003cspan class=\"k\"\u003estatic\u003c/span\u003e \u003cspan class=\"nf\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e名前\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e年齢\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e住所\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv data-sourcepos=\"89:1-91:3\" class=\"note warn\"\u003e\n\u003cspan class=\"fa fa-fw fa-exclamation-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"90:1-90:41\"\u003ekeyとvalueの要素数・順番に注意\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003ch3 data-sourcepos=\"93:1-93:46\"\u003e\n\u003cspan id=\"4-csvデータ作成メソッドの作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#4-csv%E3%83%87%E3%83%BC%E3%82%BF%E4%BD%9C%E6%88%90%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e4. csvデータ作成メソッドの作成\u003c/h3\u003e\n\u003cul data-sourcepos=\"95:1-112:0\"\u003e\n\u003cli data-sourcepos=\"95:1-100:7\"\u003e\n\u003cp data-sourcepos=\"95:3-95:86\"\u003e今回出力したいcsvデータの完成系は下のようになデータです。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"96:5-100:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e名前,年齢,住所\n木村太郎,25歳,東京都〇〇\n田中花子,20歳,千葉県〇〇\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"101:1-112:0\"\u003e\n\u003cp data-sourcepos=\"101:3-101:106\"\u003e先ほど作成したkeyとvalueを使い、csvデータを作成するメソッドを作成します。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"103:5-111:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003econvertToCSV\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eusers\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eUser\u003c/span\u003e\u003cspan class=\"p\"\u003e[]):\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ekey\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eUser\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003evalues\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eusers\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003euser\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003euser\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003earray\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e].\u003c/span\u003e\u003cspan class=\"nf\"\u003econcat\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003evalues\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003earray\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nx\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ejoin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e,\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)).\u003c/span\u003e\u003cspan class=\"nf\"\u003ejoin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"se\"\u003e\\n\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 data-sourcepos=\"113:1-113:97\"\u003e\n\u003cspan id=\"5-ボタンとアンカーを配置しボタンクリック時にダウンロードする\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#5-%E3%83%9C%E3%82%BF%E3%83%B3%E3%81%A8%E3%82%A2%E3%83%B3%E3%82%AB%E3%83%BC%E3%82%92%E9%85%8D%E7%BD%AE%E3%81%97%E3%83%9C%E3%82%BF%E3%83%B3%E3%82%AF%E3%83%AA%E3%83%83%E3%82%AF%E6%99%82%E3%81%AB%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e5. ボタンとアンカーを配置し、ボタンクリック時にダウンロードする\u003c/h3\u003e\n\u003cul data-sourcepos=\"115:1-174:0\"\u003e\n\u003cli data-sourcepos=\"115:1-133:0\"\u003e\n\u003cp data-sourcepos=\"115:3-115:100\"\u003eまずボタンとアンカーを配置し、アンカーには\u003ccode\u003euseRef\u003c/code\u003eを設定しておきます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"117:5-132:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ePage\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eanchorRef\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003euseRef\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eHTMLAnchorElement\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kc\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003ereturn \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'm-5'\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'btn'\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        DownLoad\n      \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ea\u003c/span\u003e \u003cspan class=\"na\"\u003eref\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003eanchorRef\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'hidden'\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"nx\"\u003ePage\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"134:1-134:132\"\u003e\n\u003cp data-sourcepos=\"134:3-134:132\"\u003eボタンをクリック時にダウンロードが進むように、ダウンロードメソッドを定義し、onClickに設定\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"135:1-158:0\"\u003e\n\u003cp data-sourcepos=\"135:3-135:85\"\u003eダウンロードメソッドの引数には、csvデータと、filenameを設定\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"diff_tsx\" data-sourcepos=\"137:5-157:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ePage\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eanchorRef\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003euseRef\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eHTMLAnchorElement\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"kc\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003edownloadCSV\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"na\"\u003ecsv\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003efilename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'm-5'\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"err\"\u003e+\u003c/span\u003e       \u003cspan class=\"na\"\u003eonClick\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nf\"\u003edownloadCSV\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003econvertToCSV\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eusers\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003euser_list.csv\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n\u003c/span\u003e        \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'btn'\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        DownLoad\n      \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ea\u003c/span\u003e \u003cspan class=\"na\"\u003eref\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003eanchorRef\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e'hidden'\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"nx\"\u003ePage\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"159:1-174:0\"\u003e\n\u003cp data-sourcepos=\"159:3-159:68\"\u003eダウンロードメソッドの詳細を書いていきます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"161:5-172:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003edownloadCSV\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecsv\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003efilename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003elink\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eanchorRef\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ecurrent\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e!\u003c/span\u003e\u003cspan class=\"nx\"\u003elink\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eblob\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eBlob\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\u003cspan class=\"nx\"\u003ecsv\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003etext/csv;charset=utf-8;\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eurl\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eURL\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ecreateObjectURL\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eblob\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003elink\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003esetAttribute\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehref\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003elink\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003esetAttribute\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003edownload\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003efilename\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003elink\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eclick\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"175:1-175:75\"\u003eこれでオブジェクトデータのcsv出力ができるはずです。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"177:1-177:9\"\u003e\n\u003cspan id=\"結果\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%90%E6%9E%9C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e結果\u003c/h2\u003e\n\u003cp data-sourcepos=\"179:1-179:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe24b48cf-0d9f-4789-648c-8b2c2b5b4afa.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c2b652dc9fb302c70c32f09379108a10\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe24b48cf-0d9f-4789-648c-8b2c2b5b4afa.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c2b652dc9fb302c70c32f09379108a10\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe24b48cf-0d9f-4789-648c-8b2c2b5b4afa.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b8fcc5dbefd0302c466d22db118560d1 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e24b48cf-0d9f-4789-648c-8b2c2b5b4afa.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n",
    "body": "## はじめに\n\n顧客要望で、csvファイルでデータをダウンロードしたいということがあり、\n出力方法を毎回調べるのも面倒なので、ここにメモとして残します。\n\n## 概要\n\n- ボタンをクリックしたら、Userオブジェクトのデータがcsv形式でダウンロードできる\n- リンクではなく、ボタンがいい\n\n### 完成CSVファイル\n\n|名前|年齢|住所|\n|----|----|----|\n|木村太郎|25歳|東京都〇〇|\n|田中花子|20歳|千葉県〇〇|\n\n### 完成画面イメージ\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/5d1abd1b-907b-4f9c-7df1-b5747c2de43b.png\" width=\"200\"/\u003e\n\n### 環境\n\n- Next.js v13.5.4\n- tailwindCSS\n    - daisyUI\n\n## 実装\n\n### 1. Userクラスを定義\n\n- 出力するデータのオブジェクトを定義します\n- privateプロパティにするかどうかはプロジェクト判断\n    \n    ```tsx\n    class User {\n      constructor(\n        private _name: string,\n        private _age: string,\n        private _address: string\n      ) {}\n    }\n    ```\n\n### 2. keyを定義\n\n- 出力するデータの一行目の項目名になるものを定義\n    |名前|年齢|住所|\n    |----|----|----|\n- UserクラスのStaticメソッドで定義しました\n\n    ```diff_tsx\n    class User {\n      constructor(\n        private _name: string,\n        private _age: string,\n        private _address: string\n      ) {}\n    \n    +  static key() {\n    +    return ['名前', '年齢', '住所']\n    +  }\n    }\n    ```\n\n### 3. valueを定義\n\n- 出力するレコードのvalueを定義します\n\n    ```diff_tsx\n    class User {\n      constructor(\n        private _name: string,\n        private _age: string,\n        private _address: string\n      ) {}\n    \n    +  value() {\n    +    return [this._name, this._age, this._address]\n    +  }\n    \n      static key() {\n        return ['名前', '年齢', '住所']\n      }\n    }\n    ```\n\n\n:::note warn\nkeyとvalueの要素数・順番に注意\n:::\n\n### 4. csvデータ作成メソッドの作成\n\n- 今回出力したいcsvデータの完成系は下のようになデータです。\n    ```\n    名前,年齢,住所\n    木村太郎,25歳,東京都〇〇\n    田中花子,20歳,千葉県〇〇\n    ```\n- 先ほど作成したkeyとvalueを使い、csvデータを作成するメソッドを作成します。\n    \n    ```tsx\n    const convertToCSV = (users: User[]): string =\u003e {\n      const key = User.key()\n      const values = users.map((user) =\u003e user.value())\n      const array = [key].concat(values)\n      \n      return array.map((a) =\u003e a.join(',')).join('\\n')\n    }\n    ```\n\n### 5. ボタンとアンカーを配置し、ボタンクリック時にダウンロードする\n\n- まずボタンとアンカーを配置し、アンカーには`useRef`を設定しておきます\n    \n    ```tsx\n    const Page = () =\u003e {\n      const anchorRef = useRef\u003cHTMLAnchorElement\u003e(null)\n    \n      return (\n        \u003cdiv className='m-5'\u003e\n          \u003cbutton className='btn'\u003e\n            DownLoad\n          \u003c/button\u003e\n          \u003ca ref={anchorRef} className='hidden'\u003e\u003c/a\u003e\n        \u003c/div\u003e\n      )\n    }\n    \n    export default Page\n    ```\n\n- ボタンをクリック時にダウンロードが進むように、ダウンロードメソッドを定義し、onClickに設定\n- ダウンロードメソッドの引数には、csvデータと、filenameを設定\n    \n    ```diff_tsx\n    const Page = () =\u003e {\n      const anchorRef = useRef\u003cHTMLAnchorElement\u003e(null)\n    \n    + const downloadCSV = (csv: string, filename: string) =\u003e {}\n    \n      return (\n        \u003cdiv className='m-5'\u003e\n          \u003cbutton\n    +       onClick={() =\u003e downloadCSV(convertToCSV(users), 'user_list.csv')}\n            className='btn'\n          \u003e\n            DownLoad\n          \u003c/button\u003e\n          \u003ca ref={anchorRef} className='hidden'\u003e\u003c/a\u003e\n        \u003c/div\u003e\n      )\n    }\n    \n    export default Page\n    ```\n\n- ダウンロードメソッドの詳細を書いていきます。\n\n    ```tsx\n    const downloadCSV = (csv: string, filename: string): void =\u003e {\n      const link = anchorRef.current\n      if (!link) return\n    \n      const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' })\n      const url = URL.createObjectURL(blob)\n      link.setAttribute('href', url)\n      link.setAttribute('download', filename)\n      link.click()\n    }\n    ```\n\n\nこれでオブジェクトデータのcsv出力ができるはずです。\n\n## 結果\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e24b48cf-0d9f-4789-648c-8b2c2b5b4afa.png)\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-10-26T08:15:56+09:00",
    "group": null,
    "id": "274d62fe0458fcce15c1",
    "likes_count": 11,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 6,
    "tags": [
      { "name": "CSV", "versions": [] },
      { "name": "TypeScript", "versions": [] },
      { "name": "React", "versions": [] },
      { "name": "Next.js", "versions": [] }
    ],
    "title": "【React, Next.js】オブジェクトをCSVで出力する",
    "updated_at": "2023-10-26T08:56:00+09:00",
    "url": "https://qiita.com/maaaashi/items/274d62fe0458fcce15c1",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fdf75a4e9-2c6b-75ef-604b-5c95ebc46477.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8f8e90e7b9e2f25d5d7177fad74136e2\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fdf75a4e9-2c6b-75ef-604b-5c95ebc46477.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8f8e90e7b9e2f25d5d7177fad74136e2\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fdf75a4e9-2c6b-75ef-604b-5c95ebc46477.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=006a06a36e5b80a6070a4c4ca1e2eb35 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/df75a4e9-2c6b-75ef-604b-5c95ebc46477.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003ch2 data-sourcepos=\"4:1-4:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"6:1-7:72\"\u003e画像生成AIと、ChatGPTを組み合わせたアプリを作ってみたくて、\u003cbr\u003e\n料理の画像＋レシピの生成Webアプリを開発しました。\u003c/p\u003e\n\u003cdiv data-sourcepos=\"9:1-11:3\" class=\"note warn\"\u003e\n\u003cspan class=\"fa fa-fw fa-exclamation-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"10:1-10:100\"\u003e画像生成部分のライブラリに変更があり、2023/11/24現在動いておりません。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"13:1-13:45\"\u003e\u003ciframe id=\"qiita-embed-content__5e511b1a6681ce905b1d11c3b5f05c2c\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__5e511b1a6681ce905b1d11c3b5f05c2c\" data-content=\"https%3A%2F%2Fchatgpt-cooking-assistant.mss-rep.com\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"15:1-16:45\"\u003eあまりデザインは凝っていません\u003cbr\u003e\n特にレスポンシブ対応は甘いです\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa4b1deb1-6b5e-c6db-5b2e-07a5718d4589.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=cb636fb2b08558e6cef3ca194a3d8e5a\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa4b1deb1-6b5e-c6db-5b2e-07a5718d4589.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=cb636fb2b08558e6cef3ca194a3d8e5a\" width=\"400\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa4b1deb1-6b5e-c6db-5b2e-07a5718d4589.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e4d00f160b0c7d5d45bc9d68edf09b07 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a4b1deb1-6b5e-c6db-5b2e-07a5718d4589.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003cp data-sourcepos=\"20:1-21:101\"\u003eレスポンスは早くないですが、ご自由に遊んでください～！\u003cbr\u003e\n(画像生成のクレジットが枯渇したら動かなくなりますが、ご容赦ください)\u003c/p\u003e\n\u003ch2 data-sourcepos=\"23:1-23:30\"\u003e\n\u003cspan id=\"技術スタック構成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%8A%80%E8%A1%93%E3%82%B9%E3%82%BF%E3%83%83%E3%82%AF%E6%A7%8B%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e技術スタック・構成\u003c/h2\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe3a0ec9f-17dd-13cf-8c88-3640175d4587.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=dc5098ff9e032922b9fb9a19387b5400\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe3a0ec9f-17dd-13cf-8c88-3640175d4587.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=dc5098ff9e032922b9fb9a19387b5400\" width=\"400\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe3a0ec9f-17dd-13cf-8c88-3640175d4587.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=be9ac1a54fa552cae31f5bf0049d1cfd 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e3a0ec9f-17dd-13cf-8c88-3640175d4587.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003cp data-sourcepos=\"27:1-28:93\"\u003evercelにデプロイしており、バックエンドにはAWS Lambdaを使っています。\u003cbr\u003e\nprismaをlambda layerに生成して、lambdaから呼び出す形で利用しています。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"30:1-30:21\"\u003e\n\u003cspan id=\"ざっくり解説\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%96%E3%81%A3%E3%81%8F%E3%82%8A%E8%A7%A3%E8%AA%AC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eざっくり解説\u003c/h2\u003e\n\u003col data-sourcepos=\"32:1-42:0\"\u003e\n\u003cli data-sourcepos=\"32:1-32:49\"\u003e\n\u003cp data-sourcepos=\"32:4-32:49\"\u003eChatGPTに料理のレシピを生成させる\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"33:1-33:97\"\u003e\n\u003cp data-sourcepos=\"33:4-33:97\"\u003eChatGPTにそのレシピを基に画像生成するためのプロンプトを生成させる\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"34:1-37:0\"\u003e\n\u003cp data-sourcepos=\"34:4-34:60\"\u003eDream StudioのAPIで画像を生成させています。\u003c/p\u003e\n \u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F385c71df-e5e8-aa4f-8aef-baf2bf5c3327.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9febc41205bb46d9f4c1919167927c2c\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F385c71df-e5e8-aa4f-8aef-baf2bf5c3327.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9febc41205bb46d9f4c1919167927c2c\" width=\"400\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F385c71df-e5e8-aa4f-8aef-baf2bf5c3327.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=97b1188fb4cc87e2627651f0527ca7ac 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/385c71df-e5e8-aa4f-8aef-baf2bf5c3327.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"38:1-42:0\"\u003e\n\u003cp data-sourcepos=\"38:4-38:115\"\u003e生成したレシピ・画像・プロンプトをprismaを利用して、vercelのstorage(PostgreSQL)に保存\u003c/p\u003e\n \u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6c10c3a6-5bbf-acf8-0445-424c498a73a6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=bbe6b8994a71fd0b5e6073bcee4afcb8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6c10c3a6-5bbf-acf8-0445-424c498a73a6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=bbe6b8994a71fd0b5e6073bcee4afcb8\" width=\"400\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6c10c3a6-5bbf-acf8-0445-424c498a73a6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=6b3b0eaa219b387c00a7c65bedf29687 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6c10c3a6-5bbf-acf8-0445-424c498a73a6.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"43:1-43:105\"\u003eAWS環境はaws cdkでデプロイしており、GitHub Actionsで自動デプロイを組んでいます\u003c/p\u003e\n\u003ch2 data-sourcepos=\"45:1-45:18\"\u003e\n\u003cspan id=\"prismaとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#prisma%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ePrismaとは？\u003c/h2\u003e\n\u003cp data-sourcepos=\"47:1-48:153\"\u003ePrismaは、Node.jsとTypeScriptのための次世代のORM（Object-Relational Mapping）ツールです。\u003cbr\u003e\nデータベースとのやりとりを抽象化し、開発者がより簡単にデータベース操作を行えるように設計されています。\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7d44464f-994d-e415-af94-75d92b0d75d2.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=1723510d31491e0e50e4904a9b1c6a62\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7d44464f-994d-e415-af94-75d92b0d75d2.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=1723510d31491e0e50e4904a9b1c6a62\" width=\"400\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7d44464f-994d-e415-af94-75d92b0d75d2.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a0c54aa57bf88067b3de83b2addbebf2 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/7d44464f-994d-e415-af94-75d92b0d75d2.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003cp data-sourcepos=\"52:1-52:56\"\u003eRubyOnRailsで言うところのActiveRecordですね！\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3acd0463-6145-8062-f5a0-83f27789c325.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b282f203e582e3ee177b595badf1b5b2\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3acd0463-6145-8062-f5a0-83f27789c325.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b282f203e582e3ee177b595badf1b5b2\" width=\"400\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3acd0463-6145-8062-f5a0-83f27789c325.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=eb33e0b2bfc89149617fbc32d2d8e2f1 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3acd0463-6145-8062-f5a0-83f27789c325.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003ch3 data-sourcepos=\"57:1-57:16\"\u003e\n\u003cspan id=\"主な特徴\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%B8%BB%E3%81%AA%E7%89%B9%E5%BE%B4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e主な特徴\u003c/h3\u003e\n\u003ch4 data-sourcepos=\"59:1-59:18\"\u003e\n\u003cspan id=\"〇-型安全\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%80%87-%E5%9E%8B%E5%AE%89%E5%85%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e〇 型安全\u003c/h4\u003e\n\u003cp data-sourcepos=\"61:1-61:208\"\u003ePrismaはTypeScriptとの統合が深く、データベースのスキーマから自動的に型を生成します。これにより、コード内でのデータベース操作が型安全になります。\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2072460b-0b40-f9a6-414e-985fa8c65035.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0829e223ecb122e9b9d83d29a4a7f547\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2072460b-0b40-f9a6-414e-985fa8c65035.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0829e223ecb122e9b9d83d29a4a7f547\" width=\"400\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2072460b-0b40-f9a6-414e-985fa8c65035.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=118285a427f4af2f4392ee903d34b9f4 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/2072460b-0b40-f9a6-414e-985fa8c65035.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc7330f3d-5dd1-bae1-f3b8-cb4ac65a74ac.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d21496a8c21c1078b2c09839c78670dd\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc7330f3d-5dd1-bae1-f3b8-cb4ac65a74ac.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d21496a8c21c1078b2c09839c78670dd\" width=\"400\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc7330f3d-5dd1-bae1-f3b8-cb4ac65a74ac.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5eac3abf7bc0c792df604a4980879725 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/c7330f3d-5dd1-bae1-f3b8-cb4ac65a74ac.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003ch4 data-sourcepos=\"68:1-68:23\"\u003e\n\u003cspan id=\"〇-prisma-client\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%80%87-prisma-client\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e〇 Prisma Client:\u003c/h4\u003e\n\u003cp data-sourcepos=\"70:1-70:120\"\u003e自動生成されるクライアントライブラリで、データベースへのクエリを簡単に行えます。\u003c/p\u003e\n\u003cp data-sourcepos=\"72:1-72:25\"\u003e全件取得: .findMany()\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4f90b0df-1dd8-d510-a255-1fbefd980624.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d1777e9ab2ef490245fa13cce196f8fa\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4f90b0df-1dd8-d510-a255-1fbefd980624.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d1777e9ab2ef490245fa13cce196f8fa\" width=\"200\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4f90b0df-1dd8-d510-a255-1fbefd980624.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9e305892aab28b776dd8f30691345b2e 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4f90b0df-1dd8-d510-a255-1fbefd980624.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003cp data-sourcepos=\"76:1-76:29\"\u003eレコード作成: .create()\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Faa5d9f75-9683-5b69-8e0f-2953050bacf0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=18bf91aaba866a89b25675807fa4ce78\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Faa5d9f75-9683-5b69-8e0f-2953050bacf0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=18bf91aaba866a89b25675807fa4ce78\" width=\"200\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Faa5d9f75-9683-5b69-8e0f-2953050bacf0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c59e28eea7188b0bcf8fc6edb81825aa 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/aa5d9f75-9683-5b69-8e0f-2953050bacf0.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003cp data-sourcepos=\"80:1-81:33\"\u003e...etc\u003cbr\u003e\nもちろん型も効いてます\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F83f20cae-6d4a-dfe7-2d52-aec24ea01b06.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=30d5b409bd20a8a73adde13c073884d0\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F83f20cae-6d4a-dfe7-2d52-aec24ea01b06.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=30d5b409bd20a8a73adde13c073884d0\" width=\"400\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F83f20cae-6d4a-dfe7-2d52-aec24ea01b06.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=02000ee2adfc6164ca9d8231e82c01fc 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/83f20cae-6d4a-dfe7-2d52-aec24ea01b06.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003ch4 data-sourcepos=\"85:1-85:24\"\u003e\n\u003cspan id=\"〇-prisma-migrate\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%80%87-prisma-migrate\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e〇 Prisma Migrate:\u003c/h4\u003e\n\u003cp data-sourcepos=\"86:1-86:172\"\u003eデータベースのマイグレーションをサポートするツール。データベースのスキーマの変更を管理し、適用することができます。:\u003c/p\u003e\n\u003cp data-sourcepos=\"88:1-89:99\"\u003eSchemaファイルを変更し、prisma migrateを実行すると、データベースのマイグレーションをすることができます。\u003cbr\u003e\n履歴として、migrations/**/migration.sqlが作成され、中に実行SQLが記録されます\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1b5b5178-e3a7-e74d-598d-e5a7bec394d0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=36cb5799606588985499de2e965653a3\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1b5b5178-e3a7-e74d-598d-e5a7bec394d0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=36cb5799606588985499de2e965653a3\" width=\"400\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1b5b5178-e3a7-e74d-598d-e5a7bec394d0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d08386e8c32cfe101832d27f0fd6e742 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/1b5b5178-e3a7-e74d-598d-e5a7bec394d0.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003ch4 data-sourcepos=\"93:1-93:23\"\u003e\n\u003cspan id=\"〇-prisma-studio\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%80%87-prisma-studio\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e〇 Prisma Studio:\u003c/h4\u003e\n\u003cp data-sourcepos=\"94:1-94:139\"\u003eモダンなGUIを持つデータベースエディタ。データベースの内容を直接閲覧・編集することができます。:\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F335e8107-f33f-e36c-0549-54ff20dc7cc6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=1c7452e57c3d78930f1839dfd7a2ef8e\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F335e8107-f33f-e36c-0549-54ff20dc7cc6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=1c7452e57c3d78930f1839dfd7a2ef8e\" width=\"400\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F335e8107-f33f-e36c-0549-54ff20dc7cc6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ebab489c2c6c53c4a3291f31f951d936 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/335e8107-f33f-e36c-0549-54ff20dc7cc6.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003cp data-sourcepos=\"98:1-98:44\"\u003eA5m2や、DBeaverとはおさらばだぁ！\u003c/p\u003e\n\u003ch2 data-sourcepos=\"100:1-100:12\"\u003e\n\u003cspan id=\"最後に\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e最後に\u003c/h2\u003e\n\u003cp data-sourcepos=\"102:1-102:33\"\u003e意外とおいしそうでした\u003c/p\u003e\n\u003cp data-sourcepos=\"104:1-105:122\"\u003eカレー\u003cbr\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0a8f260c-80f6-3ae6-dbc6-afc65f4c9e3e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9c35125794567e2b89b4ce0706c67f03\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0a8f260c-80f6-3ae6-dbc6-afc65f4c9e3e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9c35125794567e2b89b4ce0706c67f03\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0a8f260c-80f6-3ae6-dbc6-afc65f4c9e3e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=be8e6ba7614a93e5ebd56ca15e8c7fda 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/0a8f260c-80f6-3ae6-dbc6-afc65f4c9e3e.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n",
    "body": "\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/df75a4e9-2c6b-75ef-604b-5c95ebc46477.png\" /\u003e\n\n## はじめに\n\n画像生成AIと、ChatGPTを組み合わせたアプリを作ってみたくて、\n料理の画像＋レシピの生成Webアプリを開発しました。\n\n:::note warn\n画像生成部分のライブラリに変更があり、2023/11/24現在動いておりません。\n:::\n\nhttps://chatgpt-cooking-assistant.mss-rep.com\n\nあまりデザインは凝っていません\n特にレスポンシブ対応は甘いです\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a4b1deb1-6b5e-c6db-5b2e-07a5718d4589.png\" width=\"400\" /\u003e\n\nレスポンスは早くないですが、ご自由に遊んでください～！\n(画像生成のクレジットが枯渇したら動かなくなりますが、ご容赦ください)\n\n## 技術スタック・構成\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e3a0ec9f-17dd-13cf-8c88-3640175d4587.png\" width=\"400\" /\u003e\n\nvercelにデプロイしており、バックエンドにはAWS Lambdaを使っています。\nprismaをlambda layerに生成して、lambdaから呼び出す形で利用しています。\n\n## ざっくり解説\n\n1. ChatGPTに料理のレシピを生成させる\n2. ChatGPTにそのレシピを基に画像生成するためのプロンプトを生成させる\n3. Dream StudioのAPIで画像を生成させています。\n\n    \u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/385c71df-e5e8-aa4f-8aef-baf2bf5c3327.png\" width=\"400\" /\u003e\n\n4. 生成したレシピ・画像・プロンプトをprismaを利用して、vercelのstorage(PostgreSQL)に保存\n\n    \u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6c10c3a6-5bbf-acf8-0445-424c498a73a6.png\" width=\"400\" /\u003e\n\n\nAWS環境はaws cdkでデプロイしており、GitHub Actionsで自動デプロイを組んでいます\n\n## Prismaとは？ \n\nPrismaは、Node.jsとTypeScriptのための次世代のORM（Object-Relational Mapping）ツールです。\nデータベースとのやりとりを抽象化し、開発者がより簡単にデータベース操作を行えるように設計されています。\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/7d44464f-994d-e415-af94-75d92b0d75d2.png\" width=\"400\" /\u003e\n\nRubyOnRailsで言うところのActiveRecordですね！\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3acd0463-6145-8062-f5a0-83f27789c325.png\" width=\"400\" /\u003e\n\n\n### 主な特徴\n\n#### 〇 型安全\n\nPrismaはTypeScriptとの統合が深く、データベースのスキーマから自動的に型を生成します。これにより、コード内でのデータベース操作が型安全になります。\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/2072460b-0b40-f9a6-414e-985fa8c65035.png\" width=\"400\" /\u003e\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/c7330f3d-5dd1-bae1-f3b8-cb4ac65a74ac.png\" width=\"400\" /\u003e\n\n\n#### 〇 Prisma Client:\n\n自動生成されるクライアントライブラリで、データベースへのクエリを簡単に行えます。\n\n全件取得: .findMany()\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4f90b0df-1dd8-d510-a255-1fbefd980624.png\" width=\"200\" /\u003e\n\nレコード作成: .create()\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/aa5d9f75-9683-5b69-8e0f-2953050bacf0.png\" width=\"200\" /\u003e\n\n...etc\nもちろん型も効いてます\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/83f20cae-6d4a-dfe7-2d52-aec24ea01b06.png\" width=\"400\" /\u003e\n\n#### 〇 Prisma Migrate:\nデータベースのマイグレーションをサポートするツール。データベースのスキーマの変更を管理し、適用することができます。:\n\nSchemaファイルを変更し、prisma migrateを実行すると、データベースのマイグレーションをすることができます。\n履歴として、migrations/**/migration.sqlが作成され、中に実行SQLが記録されます\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/1b5b5178-e3a7-e74d-598d-e5a7bec394d0.png\" width=\"400\" /\u003e\n\n#### 〇 Prisma Studio:\nモダンなGUIを持つデータベースエディタ。データベースの内容を直接閲覧・編集することができます。:\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/335e8107-f33f-e36c-0549-54ff20dc7cc6.png\" width=\"400\" /\u003e\n\nA5m2や、DBeaverとはおさらばだぁ！\n\n## 最後に\n\n意外とおいしそうでした\n\nカレー\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/0a8f260c-80f6-3ae6-dbc6-afc65f4c9e3e.png)\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-09-27T23:53:06+09:00",
    "group": null,
    "id": "43210e781f657777fe56",
    "likes_count": 12,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 6,
    "tags": [
      { "name": "AWS", "versions": [] },
      { "name": "TypeScript", "versions": [] },
      { "name": "Next.js", "versions": [] },
      { "name": "prisma", "versions": [] },
      { "name": "ChatGPT", "versions": [] }
    ],
    "title": "ChatGPTに料理のレシピ・サムネイル画像を作成してもらうアプリを作ってみた",
    "updated_at": "2023-11-25T00:12:21+09:00",
    "url": "https://qiita.com/maaaashi/items/43210e781f657777fe56",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-4:38\"\u003eChatGPTを絡めたアプリを作ってみたくて、オセロを作りました。\u003cbr\u003e\n(やってる人めっちゃ多そう)\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4d9a1dd9-020b-c69f-ae20-b7b32ce73483.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a230ee494a93675ae3ad231df2e302fd\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4d9a1dd9-020b-c69f-ae20-b7b32ce73483.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a230ee494a93675ae3ad231df2e302fd\" width=\"200/\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4d9a1dd9-020b-c69f-ae20-b7b32ce73483.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d2ae19d2ea86e9e847307bb623158057 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4d9a1dd9-020b-c69f-ae20-b7b32ce73483.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003cp data-sourcepos=\"8:1-9:50\"\u003eめちゃ弱ですし、自分が置いたところを上書きしてきたりします。\u003cbr\u003e\n(そういう面白さが狙いだったりする)\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-11:123\"\u003eプロンプトを調整したら多少強くなるかもしれませんが、そこまでこだわりませんでした。\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:24\"\u003eこちらからどうぞ\u003c/p\u003e\n\u003cp data-sourcepos=\"15:1-15:35\"\u003e\u003ciframe id=\"qiita-embed-content__64ec3c8b25cd6cc80a13e75bb7903300\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__64ec3c8b25cd6cc80a13e75bb7903300\" data-content=\"https%3A%2F%2Fchatgpt-reversi.mss-rep.com\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F17b0565d-8269-ee2a-3580-2f43ace55599.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0abdfcafd7d3221f7b58376b7dc67ba4\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F17b0565d-8269-ee2a-3580-2f43ace55599.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0abdfcafd7d3221f7b58376b7dc67ba4\" width=\"500/\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F17b0565d-8269-ee2a-3580-2f43ace55599.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=af10e8cc1a063955255f032731edcd15 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/17b0565d-8269-ee2a-3580-2f43ace55599.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003cp data-sourcepos=\"20:1-20:33\"\u003eご自由に遊んでください\u003c/p\u003e\n\u003ch2 data-sourcepos=\"22:1-22:21\"\u003e\n\u003cspan id=\"技術スタック\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%8A%80%E8%A1%93%E3%82%B9%E3%82%BF%E3%83%83%E3%82%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e技術スタック\u003c/h2\u003e\n\u003cp data-sourcepos=\"24:1-24:145\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5f2751f4-543d-68ff-c949-484b9a450a87.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=124804627b7c74f45ff48a16c4150cd6\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5f2751f4-543d-68ff-c949-484b9a450a87.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=124804627b7c74f45ff48a16c4150cd6\" alt=\"chatgpt-reversi-stack.drawio.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5f2751f4-543d-68ff-c949-484b9a450a87.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b782034bb44c7c4ca22ef3fc5e2edfa7 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/5f2751f4-543d-68ff-c949-484b9a450a87.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cul data-sourcepos=\"26:1-29:0\"\u003e\n\u003cli data-sourcepos=\"26:1-26:101\"\u003evercelにデプロイしており、バックエンドにはNextjsのAPI routeを使っています\u003c/li\u003e\n\u003cli data-sourcepos=\"27:1-27:74\"\u003eデザインに関しては、tailwindCSS、daisyUIを採用しました\u003c/li\u003e\n\u003cli data-sourcepos=\"28:1-29:0\"\u003eまた、sweetalert2や、animateCSSでちょっといい感じになるようにしてみました\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 data-sourcepos=\"30:1-30:28\"\u003e\n\u003cspan id=\"chatgpt利用部分解説\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#chatgpt%E5%88%A9%E7%94%A8%E9%83%A8%E5%88%86%E8%A7%A3%E8%AA%AC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eChatGPT利用部分解説\u003c/h2\u003e\n\u003cp data-sourcepos=\"32:1-33:47\"\u003e\u003ca href=\"https://github.com/maaaashi/ReversiWithChatGPT\" rel=\"nofollow noopener\" target=\"_blank\"\u003eGitHub\u003c/a\u003e: 公開しています\u003cbr\u003e\n(結構適当なので、あまり見ないで)\u003c/p\u003e\n\u003ch3 data-sourcepos=\"35:1-35:10\"\u003e\n\u003cspan id=\"前提\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%89%8D%E6%8F%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e前提\u003c/h3\u003e\n\u003cul data-sourcepos=\"37:1-38:0\"\u003e\n\u003cli data-sourcepos=\"37:1-38:0\"\u003eopenai: v3.3.0\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 data-sourcepos=\"39:1-39:10\"\u003e\n\u003cspan id=\"全体\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%85%A8%E4%BD%93\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e全体\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"41:1-75:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e src/app/api/send-chatgpt/route.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eConfiguration\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eOpenAIApi\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eopenai\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eNextResponse\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eNextRequest\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003enext/server\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003epostGPT\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eparams\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nl\"\u003eboard\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"nl\"\u003estone\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eapiKey\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eprocess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eenv\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eNEXT_PUBLIC_API_KEY\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003econfiguration\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eConfiguration\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eapiKey\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eopenai\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eOpenAIApi\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003econfiguration\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003emodel\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003egpt-4\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eboard\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003estone\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eparams\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003enextStone\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003estone\u003c/span\u003e \u003cspan class=\"o\"\u003e===\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eblack\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e \u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"o\"\u003e-\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003esystemContent\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e`\n  What is the next move in Othello?\n  The current board is as follows\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003eboard\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n  I play as \u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003estone\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e (\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003enextStone\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e). Where is the best place to place the stone?\n\n  [row][col] = `\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003eopenai\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ecreateChatCompletion\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003etemperature\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003emessages\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"na\"\u003erole\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003esystem\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"na\"\u003econtent\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003esystemContent\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e],\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch3 data-sourcepos=\"77:1-77:28\"\u003e\n\u003cspan id=\"中身を簡単に解説\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%B8%AD%E8%BA%AB%E3%82%92%E7%B0%A1%E5%8D%98%E3%81%AB%E8%A7%A3%E8%AA%AC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e中身を簡単に解説\u003c/h3\u003e\n\u003cp data-sourcepos=\"79:1-80:42\"\u003eまず、OpenAIのAPIをインスタンス化します。\u003cbr\u003e\napiKeyは各自発行してください。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"82:1-86:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eapiKey\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eprocess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eenv\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eNEXT_PUBLIC_API_KEY\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003econfiguration\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eConfiguration\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e \u003cspan class=\"nx\"\u003eapiKey\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eopenai\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eOpenAIApi\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003econfiguration\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"88:1-89:61\"\u003eそのインスタンスを使って、リクエストを生成するのですが、今回は補完系の、\u003cbr\u003e\n\u003ccode\u003ecreateChatCompletion\u003c/code\u003eというものを選択しました。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"91:1-102:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nx\"\u003eopenai\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ecreateChatCompletion\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n  \u003cspan class=\"na\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e使うモデルを選択\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e// temperature等のプロパティを設定\u003c/span\u003e\n  \u003cspan class=\"na\"\u003emessages\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"na\"\u003erole\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003esystem\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"na\"\u003econtent\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eシステムへの命令を記述\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e],\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"104:1-105:78\"\u003eこれを実行すると、返答が返ってくるので、その値を使ってオセロをしています\u003cbr\u003e\n私のオセロで使用しているプロンプトは以下の通りです。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"107:1-115:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003esystemContent\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e`\n  What is the next move in Othello?\n  The current board is as follows\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003eboard\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n  I play as \u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003estone\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e (\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003enextStone\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e). Where is the best place to place the stone?\n\n  [row][col] = `\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"117:1-117:54\"\u003eパラメータ部分を代入してみると、、、\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"119:1-127:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003esystemContent\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e`\n  What is the next move in Othello?\n  The current board is as follows\n  [[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,-1,0,0,0],[0,0,0,-1,-1,-1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]\n  I play as white (1). Where is the best place to place the stone?\n  \n  [row][col] = `\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"129:1-130:80\"\u003eこのようになります。\u003cbr\u003e\n2次元配列で盤面を表現して、0と1と-1で駒を表しています。\u003c/p\u003e\n\u003cp data-sourcepos=\"132:1-132:37\"\u003e\u003ccode\u003e[[0, -1, 0], [1, 1, -1], [0, 0, 0]]\u003c/code\u003e\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F514860b5-b83a-eb29-836c-44d261521c96.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c669a99f59435810dc23b54b16b1d960\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F514860b5-b83a-eb29-836c-44d261521c96.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c669a99f59435810dc23b54b16b1d960\" width=\"300\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F514860b5-b83a-eb29-836c-44d261521c96.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=2f1d6fa3f0bb7711f22ad236e96d30e4 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/514860b5-b83a-eb29-836c-44d261521c96.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003cp data-sourcepos=\"136:1-136:72\"\u003eChatGPTは\u003ccode\u003e[row][col] =\u003c/code\u003eの後を補完する返答を考えるので、\u003c/p\u003e\n\u003cp data-sourcepos=\"138:1-138:8\"\u003e\u003ccode\u003e[5][5]\u003c/code\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"140:1-142:89\"\u003eのように返ってきます。\u003cbr\u003e\nこれをフロントアプリで反映させているという流れです。\u003cbr\u003e\n(思ったフォーマットではない時は再度リクエストを送っています)\u003c/p\u003e\n\u003ch2 data-sourcepos=\"144:1-144:12\"\u003e\n\u003cspan id=\"最後に\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e最後に\u003c/h2\u003e\n\u003cp data-sourcepos=\"146:1-147:78\"\u003e難易度選択をプロンプトを変えることで実装したり、ヒント機能を作ったり、\u003cbr\u003e\n自分の手についての意見を生成したりしてみたいですね〜\u003c/p\u003e\n",
    "body": "## はじめに\n\nChatGPTを絡めたアプリを作ってみたくて、オセロを作りました。\n(やってる人めっちゃ多そう)\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4d9a1dd9-020b-c69f-ae20-b7b32ce73483.png\" width=200/\u003e\n\nめちゃ弱ですし、自分が置いたところを上書きしてきたりします。\n(そういう面白さが狙いだったりする)\n\nプロンプトを調整したら多少強くなるかもしれませんが、そこまでこだわりませんでした。\n\nこちらからどうぞ\n\nhttps://chatgpt-reversi.mss-rep.com\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/17b0565d-8269-ee2a-3580-2f43ace55599.png\" width=500/\u003e\n\n\nご自由に遊んでください\n\n## 技術スタック\n\n![chatgpt-reversi-stack.drawio.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/5f2751f4-543d-68ff-c949-484b9a450a87.png)\n\n- vercelにデプロイしており、バックエンドにはNextjsのAPI routeを使っています\n- デザインに関しては、tailwindCSS、daisyUIを採用しました\n- また、sweetalert2や、animateCSSでちょっといい感じになるようにしてみました\n\n## ChatGPT利用部分解説\n\n[GitHub](https://github.com/maaaashi/ReversiWithChatGPT): 公開しています\n(結構適当なので、あまり見ないで)\n\n### 前提\n\n- openai: v3.3.0\n\n### 全体\n\n```typescript: src/app/api/send-chatgpt/route.ts\nimport { Configuration, OpenAIApi } from 'openai'\nimport { NextResponse, NextRequest } from 'next/server'\n\nconst postGPT = async (params: { board: string; stone: string }) =\u003e {\n  const apiKey = process.env.NEXT_PUBLIC_API_KEY\n  const configuration = new Configuration({\n    apiKey,\n  })\n  const openai = new OpenAIApi(configuration)\n  const model = 'gpt-4'\n\n  const { board, stone } = params\n  const nextStone = stone === 'black' ? -1 : 1\n\n  const systemContent = `\n  What is the next move in Othello?\n  The current board is as follows\n  ${board}\n  I play as ${stone} (${nextStone}). Where is the best place to place the stone?\n\n  [row][col] = `\n\n  return await openai.createChatCompletion({\n    model,\n    temperature: 2,\n    messages: [\n      {\n        role: 'system',\n        content: systemContent,\n      },\n    ],\n  })\n}\n```\n\n### 中身を簡単に解説\n\nまず、OpenAIのAPIをインスタンス化します。\napiKeyは各自発行してください。\n\n```typescript\n  const apiKey = process.env.NEXT_PUBLIC_API_KEY\n  const configuration = new Configuration({ apiKey })\n  const openai = new OpenAIApi(configuration)\n```\n\nそのインスタンスを使って、リクエストを生成するのですが、今回は補完系の、\n`createChatCompletion`というものを選択しました。\n\n```typescript\nopenai.createChatCompletion({\n  model: \"使うモデルを選択\",\n  // temperature等のプロパティを設定\n  messages: [\n    {\n      role: 'system',\n      content: 'システムへの命令を記述',\n    }\n  ],\n})\n```\n\nこれを実行すると、返答が返ってくるので、その値を使ってオセロをしています\n私のオセロで使用しているプロンプトは以下の通りです。\n\n```typescript\n  const systemContent = `\n  What is the next move in Othello?\n  The current board is as follows\n  ${board}\n  I play as ${stone} (${nextStone}). Where is the best place to place the stone?\n\n  [row][col] = `\n```\n\nパラメータ部分を代入してみると、、、\n\n```typescript\n  const systemContent = `\n  What is the next move in Othello?\n  The current board is as follows\n  [[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,-1,0,0,0],[0,0,0,-1,-1,-1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]\n  I play as white (1). Where is the best place to place the stone?\n  \n  [row][col] = `\n```\n\nこのようになります。\n2次元配列で盤面を表現して、0と1と-1で駒を表しています。\n\n`[[0, -1, 0], [1, 1, -1], [0, 0, 0]]`\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/514860b5-b83a-eb29-836c-44d261521c96.png\" width=300 /\u003e\n\nChatGPTは`[row][col] =`の後を補完する返答を考えるので、\n\n`[5][5]`\n\nのように返ってきます。\nこれをフロントアプリで反映させているという流れです。\n(思ったフォーマットではない時は再度リクエストを送っています)\n\n## 最後に\n\n難易度選択をプロンプトを変えることで実装したり、ヒント機能を作ったり、\n自分の手についての意見を生成したりしてみたいですね〜\n\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-09-09T18:47:54+09:00",
    "group": null,
    "id": "50d9976407abed742031",
    "likes_count": 1,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 3,
    "tags": [
      { "name": "TypeScript", "versions": [] },
      { "name": "React", "versions": [] },
      { "name": "Next.js", "versions": [] },
      { "name": "Vercel", "versions": [] },
      { "name": "ChatGPT", "versions": [] }
    ],
    "title": "ChatGPTとオセロができるアプリを作ってみた",
    "updated_at": "2023-09-09T18:53:25+09:00",
    "url": "https://qiita.com/maaaashi/items/50d9976407abed742031",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003ch2 data-sourcepos=\"3:1-3:9\"\u003e\n\u003cspan id=\"問題\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%95%8F%E9%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e問題\u003c/h2\u003e\n\u003cp data-sourcepos=\"5:1-5:57\"\u003e早速ですが、こんな時どう実装しますか？\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa1da0886-a8db-8f1c-aa91-322565947631.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=53d4f37ded078b35a9aa5e4a5a3d76db\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa1da0886-a8db-8f1c-aa91-322565947631.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=53d4f37ded078b35a9aa5e4a5a3d76db\" width=\"500\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa1da0886-a8db-8f1c-aa91-322565947631.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=db68b6d656a30ed4bdc890a953de1a43 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a1da0886-a8db-8f1c-aa91-322565947631.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003ch2 data-sourcepos=\"9:1-9:24\"\u003e\n\u003cspan id=\"少し前までの私\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%B0%91%E3%81%97%E5%89%8D%E3%81%BE%E3%81%A7%E3%81%AE%E7%A7%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e少し前までの私\u003c/h2\u003e\n\u003cp data-sourcepos=\"11:1-14:60\"\u003eHeaderは、\u003ccode\u003eheight: 100px\u003c/code\u003eで\u003ccode\u003epadding: 10px\u003c/code\u003eということは上下のpaddingを足して120px\u003cbr\u003e\nFooterが\u003ccode\u003eheight: 50px\u003c/code\u003eで\u003ccode\u003epadding: 5px\u003c/code\u003eだから同様に考えて、60px\u003cbr\u003e\n合わせるとMain以外の部分が、\u003ccode\u003e180px\u003c/code\u003eで、\u003cbr\u003e\nMainのpaddingが10pxだから、上下で\u003ccode\u003e20px\u003c/code\u003e必要で、\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"css\" data-sourcepos=\"16:1-20:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003emain\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eheight\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003ecalc\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"m\"\u003e100vh\u003c/span\u003e \u003cspan class=\"n\"\u003e-\u003c/span\u003e \u003cspan class=\"m\"\u003e200px\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"22:1-22:9\"\u003eふう...\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4e635f37-8edf-0032-46fd-e6df685cb7ac.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4be0531227146a63789498518d9c16f9\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4e635f37-8edf-0032-46fd-e6df685cb7ac.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4be0531227146a63789498518d9c16f9\" width=\"300\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4e635f37-8edf-0032-46fd-e6df685cb7ac.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e9dc38e5b1ccaa082a112610d99772f4 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4e635f37-8edf-0032-46fd-e6df685cb7ac.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003ch3 data-sourcepos=\"26:1-26:13\"\u003e\n\u003cspan id=\"問題点\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%95%8F%E9%A1%8C%E7%82%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e問題点\u003c/h3\u003e\n\u003cul data-sourcepos=\"28:1-31:0\"\u003e\n\u003cli data-sourcepos=\"28:1-28:71\"\u003eHeaderとFooterの高さが変わると計算し直す必要がある\u003c/li\u003e\n\u003cli data-sourcepos=\"29:1-29:100\"\u003eHeaderやFooterが動的に高さが変わる場合、JSで高さを適用しないといけない\u003c/li\u003e\n\u003cli data-sourcepos=\"30:1-31:0\"\u003eetc...\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"32:1-32:43\"\u003eそこで\u003cstrong\u003eflex-grow\u003c/strong\u003eを紹介します。\u003c/p\u003e\n\u003cp data-sourcepos=\"34:1-34:104\"\u003e\u003cstrong\u003eflex-grow\u003c/strong\u003eの紹介に入る前に、**Flexbox(フレックスボックス)**について語ります\u003c/p\u003e\n\u003ch1 data-sourcepos=\"36:1-36:9\"\u003e\n\u003cspan id=\"flexbox\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#flexbox\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eFlexbox\u003c/h1\u003e\n\u003cp data-sourcepos=\"38:1-38:72\"\u003e\u003cstrong\u003eFlexbox\u003c/strong\u003eは、主に次の2つの部分から成り立っています\u003c/p\u003e\n\u003cp data-sourcepos=\"40:1-40:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F65ec7b27-49e2-2f31-7c0c-85a82c39b626.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=95151f7fc3a0987a7322f03361eaba3d\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F65ec7b27-49e2-2f31-7c0c-85a82c39b626.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=95151f7fc3a0987a7322f03361eaba3d\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F65ec7b27-49e2-2f31-7c0c-85a82c39b626.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=6471c16946deb1b868bb48b45f5f806c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/65ec7b27-49e2-2f31-7c0c-85a82c39b626.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"42:1-43:103\"\u003e\u003cstrong\u003eflex container(フレックスコンテナ)\u003c/strong\u003e\u003cbr\u003e\nこれはflexアイテムを包含する要素で、アイテムのレイアウトを制御します。\u003c/p\u003e\n\u003cp data-sourcepos=\"45:1-46:111\"\u003e\u003cstrong\u003eflex item(フレックスアイテム)\u003c/strong\u003e\u003cbr\u003e\nこれらはコンテナ内の個々の要素で、コンテナによってその配置が制御されます。\u003c/p\u003e\n\u003cp data-sourcepos=\"49:1-49:152\"\u003e例えば、\u003cstrong\u003eflex container\u003c/strong\u003eに\u003ccode\u003ejustify-content\u003c/code\u003eというプロパティを設定すると↓のように配置を設定することができます。\u003c/p\u003e\n\u003cp data-sourcepos=\"51:1-51:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff5c2066c-f0cd-a22f-21db-ed52e294d411.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d5a87e98822519b59ce619badc68e66c\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff5c2066c-f0cd-a22f-21db-ed52e294d411.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d5a87e98822519b59ce619badc68e66c\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff5c2066c-f0cd-a22f-21db-ed52e294d411.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c38d2208740eee5a3079007921ee02d3 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f5c2066c-f0cd-a22f-21db-ed52e294d411.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"53:1-53:45\"\u003e次に、本題のflex-growについてです\u003c/p\u003e\n\u003ch1 data-sourcepos=\"55:1-55:11\"\u003e\n\u003cspan id=\"flex-grow\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#flex-grow\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eflex-grow\u003c/h1\u003e\n\u003cblockquote data-sourcepos=\"57:1-58:22\"\u003e\n\u003cp data-sourcepos=\"57:3-58:22\"\u003eflex-growはCSSのプロパティで、フレックスアイテムの主軸方向の寸法のフレックス伸長係数を設定します。\u003cbr\u003e\n(mdn web docsより)\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp data-sourcepos=\"60:1-60:63\"\u003e...よく分からないですね。頭が痛くなります。\u003c/p\u003e\n\u003cp data-sourcepos=\"62:1-62:121\"\u003e\u003cstrong\u003eフレックス伸長係数\u003c/strong\u003e → \u003cstrong\u003eどれだけ伸びることができるか\u003c/strong\u003e → \u003cstrong\u003eどれだけ成長できるか\u003c/strong\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"64:1-64:33\"\u003eと考えてみてください。\u003c/p\u003e\n\u003cp data-sourcepos=\"66:1-66:39\"\u003eすると、先ほどの説明文が、\u003c/p\u003e\n\u003cblockquote data-sourcepos=\"68:1-68:137\"\u003e\n\u003cp data-sourcepos=\"68:3-68:137\"\u003eflex-growはCSSのプロパティで、フレックスアイテムの主軸方向にどれだけ成長できるかを設定します。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp data-sourcepos=\"70:1-70:42\"\u003eという風に書き換えられます。\u003c/p\u003e\n\u003cp data-sourcepos=\"72:1-72:57\"\u003eちょっと分かるような気がしてきました。\u003c/p\u003e\n\u003cp data-sourcepos=\"74:1-74:63\"\u003e次に、 \u003cstrong\u003e成長って何だろう？\u003c/strong\u003e と考えてみます\u003c/p\u003e\n\u003cp data-sourcepos=\"77:1-77:40\"\u003eFlexboxを説明した図で言うと、\u003c/p\u003e\n\u003cp data-sourcepos=\"79:1-79:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe9302c2f-5187-1c9e-dc79-f464a3023266.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ba562318547c452d110d579918ad5f93\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe9302c2f-5187-1c9e-dc79-f464a3023266.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ba562318547c452d110d579918ad5f93\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe9302c2f-5187-1c9e-dc79-f464a3023266.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=dc8912e3ce524806d5c2dcb024f07221 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e9302c2f-5187-1c9e-dc79-f464a3023266.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"81:1-81:60\"\u003eこのオレンジの部分が成長できる余地です。\u003c/p\u003e\n\u003cp data-sourcepos=\"83:1-83:130\"\u003eflex-growを使うと、\u003cstrong\u003eflex-item\u003c/strong\u003eに対する、このオレンジの部分の占有率を設定することができます。\u003c/p\u003e\n\u003cp data-sourcepos=\"85:1-85:49\"\u003eこれの\u003cstrong\u003eB\u003c/strong\u003eに\u003ccode\u003eflex-grow: 1\u003c/code\u003eを設定すると\u003c/p\u003e\n\u003cp data-sourcepos=\"87:1-87:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F056e1da9-6933-e67d-c599-9af838d17320.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e9f495fb113ea171706411d56d0064b8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F056e1da9-6933-e67d-c599-9af838d17320.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e9f495fb113ea171706411d56d0064b8\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F056e1da9-6933-e67d-c599-9af838d17320.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=2ad7ec50cbb636204957b9b0d250f3be 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/056e1da9-6933-e67d-c599-9af838d17320.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"89:1-89:64\"\u003eこのようにオレンジ部分の余地をBが占領します\u003c/p\u003e\n\u003cp data-sourcepos=\"91:1-91:52\"\u003e\u003cstrong\u003eC\u003c/strong\u003eにも\u003ccode\u003eflex-grow: 1\u003c/code\u003eを設定すると、、、\u003c/p\u003e\n\u003cp data-sourcepos=\"93:1-93:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F62e09a11-d37f-a0e2-c58f-54bb05f01910.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b69c7154e69194ed0fa58f95a8d370ab\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F62e09a11-d37f-a0e2-c58f-54bb05f01910.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b69c7154e69194ed0fa58f95a8d370ab\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F62e09a11-d37f-a0e2-c58f-54bb05f01910.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8e43e6dea4c100a9037caff12eae6bbd 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/62e09a11-d37f-a0e2-c58f-54bb05f01910.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"95:1-95:18\"\u003eこうなります\u003c/p\u003e\n\u003cp data-sourcepos=\"97:1-97:64\"\u003e最後に\u003cstrong\u003eB\u003c/strong\u003eに\u003ccode\u003eflex-grow: 3を\u003c/code\u003e設定してみると、、、\u003c/p\u003e\n\u003cp data-sourcepos=\"99:1-99:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fef62978d-52b5-1a6a-cee8-565fd9265ab9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=bbd285989324bc912927c31e0904dfb1\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fef62978d-52b5-1a6a-cee8-565fd9265ab9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=bbd285989324bc912927c31e0904dfb1\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fef62978d-52b5-1a6a-cee8-565fd9265ab9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=80843bab0a911155fcafc644df2b3ca1 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/ef62978d-52b5-1a6a-cee8-565fd9265ab9.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"101:1-102:53\"\u003eこうなります\u003cbr\u003e\nBがちょっと伸びて、Cが縮まりました。\u003c/p\u003e\n\u003cp data-sourcepos=\"104:1-104:45\"\u003e何が起きたのか図で説明します。\u003c/p\u003e\n\u003cp data-sourcepos=\"106:1-107:93\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F019c2c7f-7c2e-fcbb-3f6f-ea52e7f3d6c5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=aa73bef704422d87f1fbfb1e9f85ae2f\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F019c2c7f-7c2e-fcbb-3f6f-ea52e7f3d6c5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=aa73bef704422d87f1fbfb1e9f85ae2f\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F019c2c7f-7c2e-fcbb-3f6f-ea52e7f3d6c5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c570d9d94d53baed9e920b1e39d62054 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/019c2c7f-7c2e-fcbb-3f6f-ea52e7f3d6c5.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n※アルファベットの下のパーセントは余地の占有率を表しています。\u003c/p\u003e\n\u003cp data-sourcepos=\"110:1-110:108\"\u003eこのように、flex-growを設定すると、成長幅の占有率を設定することができます。\u003c/p\u003e\n\u003cp data-sourcepos=\"113:1-113:12\"\u003eじゃあ...\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa1da0886-a8db-8f1c-aa91-322565947631.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=53d4f37ded078b35a9aa5e4a5a3d76db\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa1da0886-a8db-8f1c-aa91-322565947631.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=53d4f37ded078b35a9aa5e4a5a3d76db\" width=\"500\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa1da0886-a8db-8f1c-aa91-322565947631.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=db68b6d656a30ed4bdc890a953de1a43 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a1da0886-a8db-8f1c-aa91-322565947631.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003cp data-sourcepos=\"117:1-117:49\"\u003eこれをflexboxを使って実装してみます\u003c/p\u003e\n\u003cp data-sourcepos=\"119:1-119:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F01aeda38-1c96-8686-cb4d-ed232c139f0b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a11da4cb3b7fbadd32b8c3bfaebdb730\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F01aeda38-1c96-8686-cb4d-ed232c139f0b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a11da4cb3b7fbadd32b8c3bfaebdb730\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F01aeda38-1c96-8686-cb4d-ed232c139f0b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=0590cecca31aaf1e0db0673eb0e49f57 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/01aeda38-1c96-8686-cb4d-ed232c139f0b.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"html\" data-sourcepos=\"121:1-127:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eindex.html\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  \u003cspan class=\"nt\"\u003e\u0026lt;body\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;header\u0026gt;\u003c/span\u003eHeader\u003cspan class=\"nt\"\u003e\u0026lt;/header\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;main\u0026gt;\u003c/span\u003eMain\u003cspan class=\"nt\"\u003e\u0026lt;/main\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;footer\u0026gt;\u003c/span\u003eFooter\u003cspan class=\"nt\"\u003e\u0026lt;/footer\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;/body\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"css\" data-sourcepos=\"129:1-155:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eindex.css\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003ebody\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003edisplay\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003eflex\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"c\"\u003e/* flex-directionをflex containerに設定して、主軸方向を縦にしています */\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eflex-direction\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003ecolumn\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eheight\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e100vh\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003eheader\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eheight\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e100px\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003epadding\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e10px\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003ebackground-color\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e#c9c9c9\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003emain\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003epadding\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e10px\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"c\"\u003e/* 1/1 = 100% 余地の独占状態 */\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eflex-grow\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003ebackground-color\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e#dae8fc\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003efooter\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eheight\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e50px\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003epadding\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e5px\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003ebackground-color\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e#c9c9c9\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"157:1-157:81\"\u003e最初にやった面倒な計算が無くなり、スッキリしましたね！\u003c/p\u003e\n\u003cp data-sourcepos=\"159:1-159:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fae72e35a-4b5e-b094-df00-4565a4e99a7b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c239de0e9f6f6eddda16c7ce1c9665a4\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fae72e35a-4b5e-b094-df00-4565a4e99a7b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c239de0e9f6f6eddda16c7ce1c9665a4\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fae72e35a-4b5e-b094-df00-4565a4e99a7b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a3120f9fe790712a6224fce64b9b041e 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/ae72e35a-4b5e-b094-df00-4565a4e99a7b.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n",
    "body": "# はじめに\n\n## 問題\n\n早速ですが、こんな時どう実装しますか？\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a1da0886-a8db-8f1c-aa91-322565947631.png\" width=500 /\u003e\n\n## 少し前までの私\n\nHeaderは、`height: 100px`で`padding: 10px`ということは上下のpaddingを足して120px\nFooterが`height: 50px`で`padding: 5px`だから同様に考えて、60px\n合わせるとMain以外の部分が、`180px`で、\nMainのpaddingが10pxだから、上下で`20px`必要で、\n\n```css\nmain {\n  height: calc(100vh - 200px)\n}\n```\n\nふう...\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4e635f37-8edf-0032-46fd-e6df685cb7ac.png\" width=300 /\u003e\n\n### 問題点\n\n- HeaderとFooterの高さが変わると計算し直す必要がある\n- HeaderやFooterが動的に高さが変わる場合、JSで高さを適用しないといけない\n- etc...\n\nそこで**flex-grow**を紹介します。\n\n**flex-grow**の紹介に入る前に、**Flexbox(フレックスボックス)**について語ります\n\n# Flexbox\n\n**Flexbox**は、主に次の2つの部分から成り立っています\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/65ec7b27-49e2-2f31-7c0c-85a82c39b626.png)\n\n**flex container(フレックスコンテナ)**\nこれはflexアイテムを包含する要素で、アイテムのレイアウトを制御します。\n\n**flex item(フレックスアイテム)**\nこれらはコンテナ内の個々の要素で、コンテナによってその配置が制御されます。\n\n\n例えば、**flex container**に`justify-content`というプロパティを設定すると↓のように配置を設定することができます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f5c2066c-f0cd-a22f-21db-ed52e294d411.png)\n\n次に、本題のflex-growについてです\n\n# flex-grow\n\n\u003e flex-growはCSSのプロパティで、フレックスアイテムの主軸方向の寸法のフレックス伸長係数を設定します。\n\u003e (mdn web docsより)\n\n...よく分からないですね。頭が痛くなります。\n\n**フレックス伸長係数** → **どれだけ伸びることができるか** → **どれだけ成長できるか**\n\nと考えてみてください。\n\nすると、先ほどの説明文が、\n\n\u003e flex-growはCSSのプロパティで、フレックスアイテムの主軸方向にどれだけ成長できるかを設定します。\n\nという風に書き換えられます。\n\nちょっと分かるような気がしてきました。\n\n次に、 **成長って何だろう？** と考えてみます\n\n\nFlexboxを説明した図で言うと、\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e9302c2f-5187-1c9e-dc79-f464a3023266.png)\n\nこのオレンジの部分が成長できる余地です。\n\nflex-growを使うと、**flex-item**に対する、このオレンジの部分の占有率を設定することができます。\n\nこれの**B**に`flex-grow: 1`を設定すると\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/056e1da9-6933-e67d-c599-9af838d17320.png)\n\nこのようにオレンジ部分の余地をBが占領します\n\n**C**にも`flex-grow: 1`を設定すると、、、\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/62e09a11-d37f-a0e2-c58f-54bb05f01910.png)\n\nこうなります\n\n最後に**B**に`flex-grow: 3を`設定してみると、、、\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/ef62978d-52b5-1a6a-cee8-565fd9265ab9.png)\n\nこうなります\nBがちょっと伸びて、Cが縮まりました。\n\n何が起きたのか図で説明します。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/019c2c7f-7c2e-fcbb-3f6f-ea52e7f3d6c5.png)\n※アルファベットの下のパーセントは余地の占有率を表しています。\n\n\nこのように、flex-growを設定すると、成長幅の占有率を設定することができます。\n\n\nじゃあ...\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a1da0886-a8db-8f1c-aa91-322565947631.png\" width=500 /\u003e\n\nこれをflexboxを使って実装してみます\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/01aeda38-1c96-8686-cb4d-ed232c139f0b.png)\n\n```html:index.html\n  \u003cbody\u003e\n    \u003cheader\u003eHeader\u003c/header\u003e\n    \u003cmain\u003eMain\u003c/main\u003e\n    \u003cfooter\u003eFooter\u003c/footer\u003e\n  \u003c/body\u003e\n```\n\n```css:index.css\nbody {\n  display: flex;\n  /* flex-directionをflex containerに設定して、主軸方向を縦にしています */\n  flex-direction: column;\n  height: 100vh;\n}\n\nheader {\n  height: 100px;\n  padding: 10px;\n  background-color: #c9c9c9;\n}\n\nmain {\n  padding: 10px;\n  /* 1/1 = 100% 余地の独占状態 */\n  flex-grow: 1;\n  background-color: #dae8fc;\n}\n\nfooter {\n  height: 50px;\n  padding: 5px;\n  background-color: #c9c9c9;\n}\n```\n\n最初にやった面倒な計算が無くなり、スッキリしましたね！\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/ae72e35a-4b5e-b094-df00-4565a4e99a7b.png)\n\n\n",
    "coediting": false,
    "comments_count": 2,
    "created_at": "2023-07-22T22:52:24+09:00",
    "group": null,
    "id": "13cdf02c394cf9668de7",
    "likes_count": 67,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 33,
    "tags": [{ "name": "CSS", "versions": [] }],
    "title": "【CSS】flex-growを使おう",
    "updated_at": "2023-07-22T22:52:24+09:00",
    "url": "https://qiita.com/maaaashi/items/13cdf02c394cf9668de7",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-3:135\"\u003eReactの\u003ccode\u003edangerouslySetInnerHTML\u003c/code\u003eとは、生のHTMLをReactコンポーネントに直接注入するためのプロパティです。\u003c/p\u003e\n\u003cp data-sourcepos=\"5:1-5:4\"\u003e例)\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"6:1-12:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e index.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003econtent\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026lt;a href=\"https://www.google.com\" target=\"_blank\"\u0026gt;クリック\u0026lt;/a\u0026gt;\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003ereturn \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003edangerouslySetInnerHTML\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003e__html\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003econtent\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"15:1-16:78\"\u003eこのプロパティを使ってしばしば外部コンテンツを表示したり、\u003cbr\u003e\nユーザーの入力をプレビューしたりすることがあります。\u003c/p\u003e\n\u003cblockquote data-sourcepos=\"18:1-20:124\"\u003e\n\u003cp data-sourcepos=\"18:3-18:32\"\u003eそう、丁度こんな風に\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F555c9325-a58c-35db-d4c6-15adad92db9c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=91ce1d0f713e8c0f4e311689f00232a7\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F555c9325-a58c-35db-d4c6-15adad92db9c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=91ce1d0f713e8c0f4e311689f00232a7\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F555c9325-a58c-35db-d4c6-15adad92db9c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=378a670be07e39536be305145ab5d945 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/555c9325-a58c-35db-d4c6-15adad92db9c.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003c/blockquote\u003e\n\u003cp data-sourcepos=\"22:1-22:154\"\u003eそんな\u003ccode\u003edangerouslySetInnerHTML\u003c/code\u003eを初回描画時に読み込むと\u003ccode\u003eHydration failed\u003c/code\u003eのエラーになりましたので、その解決方法です。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"24:1-24:9\"\u003e\n\u003cspan id=\"原因\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8E%9F%E5%9B%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e原因\u003c/h2\u003e\n\u003cp data-sourcepos=\"26:1-29:45\"\u003e\u003ccode\u003eHydration failed\u003c/code\u003eとは、\u003cbr\u003e\n\u003cstrong\u003eサーバーサイド\u003c/strong\u003eでレンダリングされたHTMLと、\u003cbr\u003e\n\u003cstrong\u003eクライアントサイド\u003c/strong\u003eでレンダリングされたHTMLとの間で\u003cbr\u003e\n不一致があるときに発生します。\u003c/p\u003e\n\u003cp data-sourcepos=\"31:1-31:33\"\u003eつまり最初の例の場合、\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"html\" data-sourcepos=\"33:1-35:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e サーバーサイド\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;div\u0026gt;\u0026lt;/div\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"html\" data-sourcepos=\"37:1-41:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e クライアントサイド\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;div\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;a\u003c/span\u003e \u003cspan class=\"na\"\u003ehref=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"https://www.google.com\"\u003c/span\u003e \u003cspan class=\"na\"\u003etarget=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"_blank\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eクリック\u003cspan class=\"nt\"\u003e\u0026lt;/a\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"43:1-43:78\"\u003eのように差が発生しているためエラーになっていました。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"46:1-46:12\"\u003e\n\u003cspan id=\"対処法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AF%BE%E5%87%A6%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e対処法\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"48:1-48:24\"\u003e\n\u003cspan id=\"useeffectを使う\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#useeffect%E3%82%92%E4%BD%BF%E3%81%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003euseEffect\u003c/code\u003eを使う\u003c/h3\u003e\n\u003cp data-sourcepos=\"50:1-50:90\"\u003euseEffectを使い、最初のレンダリング後に表示したいものを表示する\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"52:1-62:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e index.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003econtent\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003esetContent\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003euseState\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\u003cspan class=\"nf\"\u003euseEffect\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003esetContent\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e\u0026lt;a href=\"https://www.google.com\" target=\"_blank\"\u0026gt;クリック\u0026lt;/a\u0026gt;\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"p\"\u003e[])\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003ereturn \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003edangerouslySetInnerHTML\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003e__html\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003econtent\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"64:1-64:141\"\u003eこうすることで、サーバーサイドとクライアントサイドのレンダリングの差異を無くすことができました\u003c/p\u003e\n",
    "body": "# はじめに\n\nReactの`dangerouslySetInnerHTML`とは、生のHTMLをReactコンポーネントに直接注入するためのプロパティです。\n\n例)\n```tsx: index.tsx\nconst content = '\u003ca href=\"https://www.google.com\" target=\"_blank\"\u003eクリック\u003c/a\u003e'\n\nreturn (\n  \u003cdiv dangerouslySetInnerHTML={{ __html: content }}\u003e\u003c/div\u003e\n)\n```\n\n\nこのプロパティを使ってしばしば外部コンテンツを表示したり、\nユーザーの入力をプレビューしたりすることがあります。\n\n\u003e そう、丁度こんな風に\n\u003e \n\u003e \u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/555c9325-a58c-35db-d4c6-15adad92db9c.png\" /\u003e\n\nそんな`dangerouslySetInnerHTML`を初回描画時に読み込むと`Hydration failed`のエラーになりましたので、その解決方法です。\n\n## 原因\n\n`Hydration failed`とは、\n**サーバーサイド**でレンダリングされたHTMLと、\n**クライアントサイド**でレンダリングされたHTMLとの間で\n不一致があるときに発生します。\n\nつまり最初の例の場合、\n\n```html: サーバーサイド\n\u003cdiv\u003e\u003c/div\u003e\n```\n\n```html: クライアントサイド\n\u003cdiv\u003e\n  \u003ca href=\"https://www.google.com\" target=\"_blank\"\u003eクリック\u003c/a\u003e\n\u003c/div\u003e\n```\n\nのように差が発生しているためエラーになっていました。\n\n\n## 対処法\n\n### `useEffect`を使う\n\nuseEffectを使い、最初のレンダリング後に表示したいものを表示する\n\n```tsx: index.tsx\nconst [content, setContent] = useState()\n\nuseEffect(() =\u003e {\n  setContent('\u003ca href=\"https://www.google.com\" target=\"_blank\"\u003eクリック\u003c/a\u003e')\n}, [])\n\nreturn (\n  \u003cdiv dangerouslySetInnerHTML={{ __html: content }}\u003e\u003c/div\u003e\n)\n```\n\nこうすることで、サーバーサイドとクライアントサイドのレンダリングの差異を無くすことができました\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-06-19T15:07:29+09:00",
    "group": null,
    "id": "957bf8a949833151612b",
    "likes_count": 1,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "TypeScript", "versions": [] },
      { "name": "React", "versions": [] },
      { "name": "Next.js", "versions": [] }
    ],
    "title": "dangerouslySetInnerHTMLを使ってHTMLを描画しようとするとHydration failedになる",
    "updated_at": "2023-06-19T15:07:29+09:00",
    "url": "https://qiita.com/maaaashi/items/957bf8a949833151612b",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-4:68\"\u003e最近、TDD・クリーンアーキテクチャについての理解を深めようと、\u003cbr\u003e\n\u003cstrong\u003e麻雀ゲーム\u003c/strong\u003eをNextjs + TypeScriptで作り始めました。\u003c/p\u003e\n\u003cp data-sourcepos=\"6:1-6:109\"\u003e「\u003cstrong\u003e牌を引く\u003c/strong\u003e」というユースケースについてのテストを書こうと思いましたが、\u003c/p\u003e\n\u003cp data-sourcepos=\"8:1-10:48\"\u003e素人である私は、\u003cbr\u003e\n\u003cstrong\u003eランダムに引かれるものをどうやってテストしたらいいんだ？\u003c/strong\u003e\u003cbr\u003e\n\u003cstrong\u003e数千回回して統計を取るのか...??\u003c/strong\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"12:1-12:63\"\u003eという疑問を持ったので記事として残します。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"14:1-14:9\"\u003e\n\u003cspan id=\"結論\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%90%E8%AB%96\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e結論\u003c/h2\u003e\n\u003cp data-sourcepos=\"16:1-16:42\"\u003e\u003cstrong\u003eMath.randomのテストはいらない\u003c/strong\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"18:1-20:63\"\u003eこれを早く意識するべきでした。\u003cbr\u003e\nランダム値を出力する機能は私の用意したものではなく、TypeScript(JavaScript)で用意されているものなので、\u003cbr\u003e\nここのテストをあえてする必要はありません。\u003c/p\u003e\n\u003cp data-sourcepos=\"22:1-22:96\"\u003e\u003cstrong\u003eMath.randomのモックを用意し、それを使ってしまえばいい\u003c/strong\u003eだけでした。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"24:1-35:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// 一旦オリジナルのMath.randomを保存\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eoriginalMathRandom\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003erandom\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// テスト実行\u003c/span\u003e\n\u003cspan class=\"nb\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003erandom\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.2\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003etile\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003etileUsecase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003edrawTIle\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\u003cspan class=\"nf\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003etile\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003etoEqual\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eexpected\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// 最後に保存しておいたMath.randomをリストア\u003c/span\u003e\n\u003cspan class=\"nb\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003erandom\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eoriginalMathRandom\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch2 data-sourcepos=\"37:1-37:18\"\u003e\n\u003cspan id=\"実行コード\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A1%8C%E3%82%B3%E3%83%BC%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実行コード\u003c/h2\u003e\n\u003cdetails\u003e\u003csummary\u003e(テスト) TileUsecase.test.ts\u003c/summary\u003e\u003cdiv\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"42:1-90:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e src/__tests__/usecase/TileUsecase.test.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003edescribe\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003evi\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003evitest\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eTileUsecase\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/usecase/TileUsecase\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eTile\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/entities/Tile\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eTileUsecasePort\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@/usecase/port/TileUsecasePort\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"nf\"\u003edescribe\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eTileUsecase\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"na\"\u003etileUsecase\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eTileUsecase\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"na\"\u003edeck\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eTile\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n    \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eTile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eman\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eTile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003epin\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e2\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e),\u003c/span\u003e\n    \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eTile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003esou\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e3\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003eit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003etileUsecase.drawTile select a random tile from deck\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003etileUsecasePort\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e \u003cspan class=\"kd\"\u003eas \u003c/span\u003e\u003cspan class=\"nx\"\u003eTileUsecasePort\u003c/span\u003e\n\n    \u003cspan class=\"nx\"\u003etileUsecasePort\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edrawTile\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003evi\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003efn\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003erandomNum\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003efloor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nb\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003erandom\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"nx\"\u003edeck\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elength\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003edeck\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003erandomNum\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n    \u003cspan class=\"nx\"\u003etileUsecase\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eTileUsecase\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003etileUsecasePort\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eoriginalMathRandom\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003erandom\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"na\"\u003etile\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eTile\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// 0.2 is the random number of Math.random()\u003c/span\u003e\n    \u003cspan class=\"nb\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003erandom\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.2\u003c/span\u003e\n\n    \u003cspan class=\"nx\"\u003etile\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003etileUsecase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003edrawTile\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003etile\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003etoEqual\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eTile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eman\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// 0.5 is the random number of Math.random()\u003c/span\u003e\n    \u003cspan class=\"nb\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003erandom\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.5\u003c/span\u003e\n\n    \u003cspan class=\"nx\"\u003etile\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003etileUsecase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003edrawTile\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003etile\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003etoEqual\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eTile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003epin\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e2\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\n    \u003cspan class=\"c1\"\u003e// 0.8 is the random number of Math.random()\u003c/span\u003e\n    \u003cspan class=\"nb\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003erandom\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"mf\"\u003e0.8\u003c/span\u003e\n\n    \u003cspan class=\"nx\"\u003etile\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003etileUsecase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003edrawTile\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003etile\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003etoEqual\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eTile\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003esou\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e3\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\n    \u003cspan class=\"nb\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003erandom\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eoriginalMathRandom\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/details\u003e\n\u003cdetails\u003e\u003csummary\u003e(ユースケース) TileUsecase.ts\u003c/summary\u003e\u003cdiv\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"98:1-108:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e src/usecase/TileUsecase.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eTileUsecasePort\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e./port/TileUsecasePort\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eTileUsecase\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003econstructor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"nx\"\u003einputPort\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eTileUsecasePort\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003edrawTile\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003einputPort\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003edrawTile\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/details\u003e\n\u003cdetails\u003e\u003csummary\u003e(ポート) TileUsecasePort.ts\u003c/summary\u003e\u003cdiv\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"115:1-121:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e src/usecase/port/TileUsecasePort.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eTile\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@/entities/Tile\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kr\"\u003einterface\u003c/span\u003e \u003cspan class=\"nx\"\u003eTileUsecasePort\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003edrawTile\u003c/span\u003e\u003cspan class=\"p\"\u003e():\u003c/span\u003e \u003cspan class=\"nx\"\u003eTile\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/details\u003e\n\u003cdetails\u003e\u003csummary\u003e(エンティティ) Tile.ts\u003c/summary\u003e\u003cdiv\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"128:1-150:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e src/entities/Tile.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"nx\"\u003eSuit\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eman\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003epin\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003esou\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ezi\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eTile\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003econstructor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"nx\"\u003e_id\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003enumber\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"nx\"\u003e_suit\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eSuit\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"nx\"\u003e_value\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{}\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003eget\u003c/span\u003e \u003cspan class=\"nf\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003e_id\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003eget\u003c/span\u003e \u003cspan class=\"nf\"\u003esuit\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003e_suit\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003eget\u003c/span\u003e \u003cspan class=\"nf\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003e_value\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/details\u003e\n",
    "body": "## はじめに\n\n最近、TDD・クリーンアーキテクチャについての理解を深めようと、\n**麻雀ゲーム**をNextjs + TypeScriptで作り始めました。\n\n「**牌を引く**」というユースケースについてのテストを書こうと思いましたが、\n\n素人である私は、\n**ランダムに引かれるものをどうやってテストしたらいいんだ？**\n**数千回回して統計を取るのか...??**\n\nという疑問を持ったので記事として残します。\n\n## 結論\n\n**Math.randomのテストはいらない**\n\nこれを早く意識するべきでした。\nランダム値を出力する機能は私の用意したものではなく、TypeScript(JavaScript)で用意されているものなので、\nここのテストをあえてする必要はありません。\n\n**Math.randomのモックを用意し、それを使ってしまえばいい**だけでした。\n\n```typescript\n// 一旦オリジナルのMath.randomを保存\nconst originalMathRandom = Math.random\n\n// テスト実行\nMath.random = () =\u003e 0.2\nconst tile = tileUsecase.drawTIle()\nexpect(tile).toEqual(expected)\n\n// 最後に保存しておいたMath.randomをリストア\nMath.random = originalMathRandom\n```\n\n## 実行コード\n\n\n\u003cdetails\u003e\u003csummary\u003e(テスト) TileUsecase.test.ts\u003c/summary\u003e\u003cdiv\u003e\n\n```typescript: src/__tests__/usecase/TileUsecase.test.ts\nimport { expect, describe, it, vi } from 'vitest'\nimport { TileUsecase } from '@/usecase/TileUsecase'\nimport { Tile } from '@/entities/Tile'\nimport { TileUsecasePort } from '@/usecase/port/TileUsecasePort'\n\ndescribe('TileUsecase', () =\u003e {\n  let tileUsecase: TileUsecase\n  const deck: Tile[] = [\n    new Tile(1, 'man', '1'),\n    new Tile(2, 'pin', '2'),\n    new Tile(3, 'sou', '3')\n  ]\n\n  it('tileUsecase.drawTile select a random tile from deck', () =\u003e {\n    const tileUsecasePort = {} as TileUsecasePort\n\n    tileUsecasePort.drawTile = vi.fn(() =\u003e {\n      const randomNum = Math.floor(Math.random() * deck.length)\n      return deck[randomNum]\n    })\n\n    tileUsecase = new TileUsecase(tileUsecasePort)\n\n    const originalMathRandom = Math.random\n    let tile: Tile\n\n    // 0.2 is the random number of Math.random()\n    Math.random = () =\u003e 0.2\n\n    tile = tileUsecase.drawTile()\n    expect(tile).toEqual(new Tile(1, 'man', '1'))\n\n    // 0.5 is the random number of Math.random()\n    Math.random = () =\u003e 0.5\n\n    tile = tileUsecase.drawTile()\n    expect(tile).toEqual(new Tile(2, 'pin', '2'))\n\n    // 0.8 is the random number of Math.random()\n    Math.random = () =\u003e 0.8\n\n    tile = tileUsecase.drawTile()\n    expect(tile).toEqual(new Tile(3, 'sou', '3'))\n\n    Math.random = originalMathRandom\n  })\n})\n```\n\n\u003c/div\u003e\n\n\u003c/details\u003e\n\n\u003cdetails\u003e\u003csummary\u003e(ユースケース) TileUsecase.ts\u003c/summary\u003e\u003cdiv\u003e\n\n```typescript: src/usecase/TileUsecase.ts\nimport { TileUsecasePort } from \"./port/TileUsecasePort\";\n\nexport class TileUsecase {\n  constructor(private inputPort: TileUsecasePort) {}\n\n  drawTile() {\n    return this.inputPort.drawTile();\n  }\n}\n```\n\n\u003c/div\u003e\n\u003c/details\u003e\n\n\u003cdetails\u003e\u003csummary\u003e(ポート) TileUsecasePort.ts\u003c/summary\u003e\u003cdiv\u003e\n\n```typescript: src/usecase/port/TileUsecasePort.ts\nimport { Tile } from \"@/entities/Tile\";\n\nexport interface TileUsecasePort {\n  drawTile(): Tile;\n}\n```\n\n\u003c/div\u003e\n\u003c/details\u003e\n\n\u003cdetails\u003e\u003csummary\u003e(エンティティ) Tile.ts\u003c/summary\u003e\u003cdiv\u003e\n\n```typescript: src/entities/Tile.ts\ntype Suit = \"man\" | \"pin\" | \"sou\" | \"zi\";\n\nexport class Tile {\n  constructor(\n    private _id: number,\n    private _suit: Suit,\n    private _value: string\n  ) {}\n\n  get id() {\n    return this._id;\n  }\n\n  get suit() {\n    return this._suit;\n  }\n\n  get value() {\n    return this._value;\n  }\n}\n```\n\n\u003c/div\u003e\n\u003c/details\u003e\n\n\n\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-06-11T22:25:37+09:00",
    "group": null,
    "id": "b78653662814b8af4054",
    "likes_count": 1,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "TypeScript", "versions": [] },
      { "name": "Vitest", "versions": [] }
    ],
    "title": "ランダムに一つピックアップするというテスト",
    "updated_at": "2023-06-11T22:25:37+09:00",
    "url": "https://qiita.com/maaaashi/items/b78653662814b8af4054",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-5:69\"\u003e最近GraphQLについて学びまして、\u003cbr\u003e\nNext.js + GraphQL + GraphQL CodeGenerator + Prismaの構成でTodoアプリを構築したので\u003cbr\u003e\n軽〜く解説をしつつ、その記録をここに残します。\u003c/p\u003e\n\u003cp data-sourcepos=\"7:1-7:164\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd9c686d4-ca7f-fec9-a91c-1b050cfaafff.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=de64112d9d2965da95e3eab5b36deb8c\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd9c686d4-ca7f-fec9-a91c-1b050cfaafff.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=de64112d9d2965da95e3eab5b36deb8c\" alt=\"スクリーンショット 2023-04-15 20.58.42.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd9c686d4-ca7f-fec9-a91c-1b050cfaafff.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=3a0d18302a874025533f8659264934ff 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/d9c686d4-ca7f-fec9-a91c-1b050cfaafff.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch1 data-sourcepos=\"9:1-9:8\"\u003e\n\u003cspan id=\"環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e環境\u003c/h1\u003e\n\u003cul data-sourcepos=\"11:1-16:0\"\u003e\n\u003cli data-sourcepos=\"11:1-11:13\"\u003eMacbook Air\u003c/li\u003e\n\u003cli data-sourcepos=\"12:1-13:14\"\u003enode\n\u003cul data-sourcepos=\"13:5-13:14\"\u003e\n\u003cli data-sourcepos=\"13:5-13:14\"\u003ev18.13.0\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"14:1-16:0\"\u003epnpm\n\u003cul data-sourcepos=\"15:5-16:0\"\u003e\n\u003cli data-sourcepos=\"15:5-16:0\"\u003e7.27.0\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 data-sourcepos=\"17:1-17:8\"\u003e\n\u003cspan id=\"目次\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%9B%AE%E6%AC%A1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e目次\u003c/h1\u003e\n\u003cul data-sourcepos=\"19:1-33:0\"\u003e\n\u003cli data-sourcepos=\"19:1-23:18\"\u003e\n\u003ca href=\"https://qiita.com/maaaashi/items/fe52db19759ea8a0be31\" id=\"reference-36fe2a3375510a10cab2\"\u003e前編\u003c/a\u003e\n\u003col data-sourcepos=\"20:5-23:18\"\u003e\n\u003cli data-sourcepos=\"20:5-20:22\"\u003eNext Create App\u003c/li\u003e\n\u003cli data-sourcepos=\"21:5-21:32\"\u003eGraphQLサーバー構築\u003c/li\u003e\n\u003cli data-sourcepos=\"22:5-22:19\"\u003eSubscription\u003c/li\u003e\n\u003cli data-sourcepos=\"23:5-23:18\"\u003eDB・Prisma\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"24:1-29:32\"\u003e\n\u003ca href=\"https://qiita.com/maaaashi/items/722d75cf8bd25efded88\" id=\"reference-e0939d211a58f878d354\"\u003e中編\u003c/a\u003e\n\u003col data-sourcepos=\"25:5-29:32\"\u003e\n\u003cli data-sourcepos=\"25:5-25:21\"\u003eGraphQL Schema\u003c/li\u003e\n\u003cli data-sourcepos=\"26:5-26:22\"\u003eGraphQL Context\u003c/li\u003e\n\u003cli data-sourcepos=\"27:5-27:29\"\u003eGraphQL Code Generator\u003c/li\u003e\n\u003cli data-sourcepos=\"28:5-28:23\"\u003eGraphQL Resolver\u003c/li\u003e\n\u003cli data-sourcepos=\"29:5-29:32\"\u003eGraphQLサーバー修正\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"30:1-33:0\"\u003e\n\u003ca href=\"https://qiita.com/maaaashi/items/5c63398a34ac3ea8ddad\"\u003e後編\u003c/a\u003e 👈 今ここ\n\u003col data-sourcepos=\"31:5-33:0\"\u003e\n\u003cli data-sourcepos=\"31:5-31:28\"\u003eフロント側準備\u003c/li\u003e\n\u003cli data-sourcepos=\"32:5-33:0\"\u003eフロント側実装\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 data-sourcepos=\"34:1-34:8\"\u003e\n\u003cspan id=\"後編\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%BE%8C%E7%B7%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e後編\u003c/h1\u003e\n\u003cp data-sourcepos=\"36:1-36:42\"\u003e後編はフロント側の実装です。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"38:1-38:27\"\u003e\n\u003cspan id=\"1-フロント側準備\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E5%81%B4%E6%BA%96%E5%82%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. フロント側準備\u003c/h2\u003e\n\u003cp data-sourcepos=\"40:1-40:80\"\u003eTailwindCSSのフレームワークである\u003ccode\u003edaisyUI\u003c/code\u003eを使っていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"42:1-42:20\"\u003e\u003ciframe id=\"qiita-embed-content__ba8000b87ff6fa4f3d54da9d89829d46\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__ba8000b87ff6fa4f3d54da9d89829d46\" data-content=\"https%3A%2F%2Fdaisyui.com%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"44:1-44:58\"\u003eまた、アイコンには\u003ccode\u003ereact-icons\u003c/code\u003eを使います。\u003c/p\u003e\n\u003cp data-sourcepos=\"46:1-46:41\"\u003e\u003ciframe id=\"qiita-embed-content__12bd73f2b132f2643b4ec5b43652da8e\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__12bd73f2b132f2643b4ec5b43652da8e\" data-content=\"https%3A%2F%2Freact-icons.github.io%2Freact-icons\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch3 data-sourcepos=\"48:1-48:28\"\u003e\n\u003cspan id=\"1-1-daisyui-react-icons\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-1-daisyui-react-icons\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1-1. daisyUI react-icons\u003c/h3\u003e\n\u003cul data-sourcepos=\"50:1-72:0\"\u003e\n\u003cli data-sourcepos=\"50:1-55:0\"\u003e\n\u003cp data-sourcepos=\"50:3-50:9\"\u003einstall\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"52:5-54:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003epnpm add daisyui react-icons\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"56:1-64:0\"\u003e\n\u003cp data-sourcepos=\"56:3-56:20\"\u003etailwind.config.js\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"js\" data-sourcepos=\"58:5-63:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e tailwind.config.js\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nx\"\u003emodule\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eexports\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e//...\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eplugins\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003erequire\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003edaisyui\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e)],\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"65:1-72:0\"\u003e\n\u003cp data-sourcepos=\"65:3-65:38\"\u003eデフォルトのCSS, HTMLの削除\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"css\" data-sourcepos=\"67:5-71:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e global.css\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003e@tailwind\u003c/span\u003e \u003cspan class=\"n\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003e@tailwind\u003c/span\u003e \u003cspan class=\"n\"\u003ecomponents\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003e@tailwind\u003c/span\u003e \u003cspan class=\"n\"\u003eutilities\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 data-sourcepos=\"73:1-73:31\"\u003e\n\u003cspan id=\"1-2-apollo-clientの設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-2-apollo-client%E3%81%AE%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1-2. apollo-clientの設定\u003c/h3\u003e\n\u003cul data-sourcepos=\"75:1-108:0\"\u003e\n\u003cli data-sourcepos=\"75:1-80:0\"\u003e\n\u003cp data-sourcepos=\"75:3-75:9\"\u003einstall\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"77:5-79:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003epnpm add @apollo/client\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"81:1-86:0\"\u003e\n\u003cp data-sourcepos=\"81:3-81:11\"\u003eedit .env\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"shell\" data-sourcepos=\"83:5-85:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e.env\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003eNEXT_PUBLIC_GRAPHQL_ENDPOINT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"http://localhost:3000/api/graphql\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"87:1-108:0\"\u003e\n\u003cp data-sourcepos=\"87:3-87:15\"\u003eedit _app.tsx\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"89:5-107:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e src/pages/_app.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@/styles/globals.css\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eApolloClient\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eApolloProvider\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eInMemoryCache\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@apollo/client\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eAppProps\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003enext/app\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eclient\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eApolloClient\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n  \u003cspan class=\"na\"\u003euri\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eprocess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eenv\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eNEXT_PUBLIC_GRAPHQL_ENDPOINT\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ecache\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eInMemoryCache\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nf\"\u003eApp\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e \u003cspan class=\"nx\"\u003eComponent\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003epageProps\u003c/span\u003e \u003cspan class=\"p\"\u003e}:\u003c/span\u003e \u003cspan class=\"nx\"\u003eAppProps\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eApolloProvider\u003c/span\u003e \u003cspan class=\"na\"\u003eclient\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003eclient\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eComponent\u003c/span\u003e \u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"p\"\u003e...\u003c/span\u003e\u003cspan class=\"nx\"\u003epageProps\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nc\"\u003eApolloProvider\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 data-sourcepos=\"109:1-109:27\"\u003e\n\u003cspan id=\"2-フロント側実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E5%81%B4%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. フロント側実装\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"111:1-111:18\"\u003e\n\u003cspan id=\"2-1-見た目\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-1-%E8%A6%8B%E3%81%9F%E7%9B%AE\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2-1. 見た目\u003c/h3\u003e\n\u003cp data-sourcepos=\"113:1-113:60\"\u003eまずデータを入れずに見た目を調整します。\u003c/p\u003e\n\u003cp data-sourcepos=\"115:1-115:164\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fdb395e5a-df7e-a45f-15c9-ab269f1b5687.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4940d9f6c1df8cfcaa4534e1b9879e30\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fdb395e5a-df7e-a45f-15c9-ab269f1b5687.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4940d9f6c1df8cfcaa4534e1b9879e30\" alt=\"スクリーンショット 2023-04-15 11.01.49.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fdb395e5a-df7e-a45f-15c9-ab269f1b5687.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d6a4383cddd6ba4fdce8d21a13e8b95e 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/db395e5a-df7e-a45f-15c9-ab269f1b5687.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"118:1-165:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e src/pages/index.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eAiOutlineCheckCircle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eAiFillCheckCircle\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ereact-icons/ai\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBsFillTrash2Fill\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ereact-icons/bs\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nf\"\u003eHome\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"min-w-screen min-h-screen\"\u003c/span\u003e \u003cspan class=\"na\"\u003edata-theme\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"winter\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003eform\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"flex p-10\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003einput\u003c/span\u003e\n          \u003cspan class=\"na\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text\"\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eplaceholder\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"TODOを入力\"\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"input input-bordered w-full\"\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"btn btn-primary\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e送信\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003eform\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"flex flex-col items-center gap-3 overflow-y-auto\"\u003c/span\u003e\n        \u003cspan class=\"na\"\u003estyle\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n          \u003cspan class=\"na\"\u003emaxHeight\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ecalc(100vh - 150px)\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"p-3 bg-base-300 rounded-md w-2/3 flex items-center gap-3\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"kc\"\u003etrue\u003c/span\u003e \u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eAiFillCheckCircle\u003c/span\u003e\n                \u003cspan class=\"na\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-primary hover:text-primary-focus\"\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eAiOutlineCheckCircle\u003c/span\u003e\n                \u003cspan class=\"na\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-primary hover:text-primary-focus\"\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-lg font-bold flex-1\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003ehogehoge\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eBsFillTrash2Fill\u003c/span\u003e\n              \u003cspan class=\"na\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n              \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-error hover:text-error-content\"\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch3 data-sourcepos=\"167:1-167:24\"\u003e\n\u003cspan id=\"2-2-データ利用\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-2-%E3%83%87%E3%83%BC%E3%82%BF%E5%88%A9%E7%94%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2-2. データ利用\u003c/h3\u003e\n\u003cp data-sourcepos=\"169:1-169:161\"\u003e次に\u003ca href=\"https://qiita.com/maaaashi/items/722d75cf8bd25efded88\"\u003e中編\u003c/a\u003eで作成した\u003ccode\u003esrc/generated/request.ts\u003c/code\u003eを使って、データを入れていきます。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"171:1-171:34\"\u003e\n\u003cspan id=\"-listtodo-todo一覧取得\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#-listtodo-todo%E4%B8%80%E8%A6%A7%E5%8F%96%E5%BE%97\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e◆ listTodo: Todo一覧取得\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"diff_tsx\" data-sourcepos=\"173:1-263:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e index.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eListTodosQuery\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@/generated/request\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"nx\"\u003euseListTodosQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@/generated/request\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003euseEffect\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003euseState\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ereact\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eAiOutlineCheckCircle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eAiFillCheckCircle\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ereact-icons/ai\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBsFillTrash2Fill\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ereact-icons/bs\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nf\"\u003eHome\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003etodos\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003esetTodos\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003euseState\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eListTodosQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003elistTodos\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e([]);\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eloading\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003erefetch\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003euseListTodosQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003c/span\u003e\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e\u003cspan class=\"nf\"\u003euseEffect\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e  \u003cspan class=\"nf\"\u003esetTodos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e?.\u003c/span\u003e\u003cspan class=\"nx\"\u003elistTodos\u003c/span\u003e \u003cspan class=\"o\"\u003e??\u003c/span\u003e \u003cspan class=\"p\"\u003e[]);\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e?.\u003c/span\u003e\u003cspan class=\"nx\"\u003elistTodos\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e\n\u003c/span\u003e\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eloading\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003eloading...\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003eerror...\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e!\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e?.\u003c/span\u003e\u003cspan class=\"nx\"\u003elistTodos\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003edata error...\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;;\u003c/span\u003e\n\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"min-w-screen min-h-screen\"\u003c/span\u003e \u003cspan class=\"na\"\u003edata-theme\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"winter\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003eform\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"flex p-10\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003einput\u003c/span\u003e\n          \u003cspan class=\"na\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text\"\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eplaceholder\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"TODOを入力\"\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"input input-bordered w-full\"\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"btn btn-primary\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e送信\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003eform\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"flex flex-col items-center gap-3 overflow-y-auto\"\u003c/span\u003e\n        \u003cspan class=\"na\"\u003estyle\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n          \u003cspan class=\"na\"\u003emaxHeight\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ecalc(100vh - 150px)\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hil\"\u003e+        \u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etodos\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e         \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003ediv\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e           \u003cspan class=\"nx\"\u003eclassName\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ep-3 bg-base-300 rounded-md w-2/3 flex items-center gap-3\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e           \u003cspan class=\"nx\"\u003ekey\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e         \u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e           \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003ebutton\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e             \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edone\u003c/span\u003e \u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e               \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eAiFillCheckCircle\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e                 \u003cspan class=\"nx\"\u003esize\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e                 \u003cspan class=\"nx\"\u003eclassName\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003etext-primary hover:text-primary-focus\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e               \u003cspan class=\"o\"\u003e/\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e             \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e               \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eAiOutlineCheckCircle\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e                 \u003cspan class=\"nx\"\u003esize\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e                 \u003cspan class=\"nx\"\u003eclassName\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003etext-primary hover:text-primary-focus\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e               \u003cspan class=\"o\"\u003e/\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e             \u003cspan class=\"p\"\u003e)}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e           \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"sr\"\u003e/button\u003c/span\u003e\u003cspan class=\"err\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e           \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003ediv\u003c/span\u003e \u003cspan class=\"nx\"\u003eclassName\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003etext-lg font-bold flex-1\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003econtent\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u0026lt;\u003c/span\u003e\u003cspan class=\"err\"\u003e/\u003c/span\u003e\u003cspan class=\"na\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e+            \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e+              \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eBsFillTrash2Fill\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"err\"\u003e+\u003c/span\u003e                \u003cspan class=\"na\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"err\"\u003e+\u003c/span\u003e                \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-error hover:text-error-content\"\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"err\"\u003e+\u003c/span\u003e              \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e+            \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e+          \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e       \u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e-        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"p-3 bg-base-300 rounded-md w-2/3 flex items-center gap-3\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e-          \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e-            \u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"kc\"\u003etrue\u003c/span\u003e \u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e\u003cspan class=\"o\"\u003e- \u003c/span\u003e             \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eAiFillCheckCircle\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e\u003cspan class=\"o\"\u003e- \u003c/span\u003e               \u003cspan class=\"nx\"\u003esize\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e\u003cspan class=\"o\"\u003e- \u003c/span\u003e               \u003cspan class=\"nx\"\u003eclassName\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003etext-primary hover:text-primary-focus\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e\u003cspan class=\"o\"\u003e- \u003c/span\u003e             \u003cspan class=\"o\"\u003e/\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e\u003cspan class=\"o\"\u003e- \u003c/span\u003e           \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e\u003cspan class=\"o\"\u003e- \u003c/span\u003e             \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eAiOutlineCheckCircle\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e\u003cspan class=\"o\"\u003e- \u003c/span\u003e               \u003cspan class=\"nx\"\u003esize\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e\u003cspan class=\"o\"\u003e- \u003c/span\u003e               \u003cspan class=\"nx\"\u003eclassName\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003etext-primary hover:text-primary-focus\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e\u003cspan class=\"o\"\u003e- \u003c/span\u003e             \u003cspan class=\"o\"\u003e/\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e\u003cspan class=\"o\"\u003e- \u003c/span\u003e           \u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e-          \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e-          \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-lg font-bold flex-1\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003ehogehoge\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e-          \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e-            \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eBsFillTrash2Fill\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e\u003cspan class=\"err\"\u003e-\u003c/span\u003e              \u003cspan class=\"na\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e\u003cspan class=\"err\"\u003e-\u003c/span\u003e              \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-error hover:text-error-content\"\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e\u003cspan class=\"err\"\u003e-\u003c/span\u003e            \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e-          \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e-        \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e      \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv data-sourcepos=\"265:1-278:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003ch4 data-sourcepos=\"266:1-266:16\"\u003e\n\u003cspan id=\"query-hooks\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#query-hooks\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eQuery hooks\u003c/h4\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"268:1-270:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e example\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eloading\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003erefetch\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003euseListTodosQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"272:1-277:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nx\"\u003eloading\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eBoolean\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eデータ取得中かどうか\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n\u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eObject\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e  \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eエラーが発生した場合、オブジェクトが格納されます\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eObject\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e取得したデータ\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n\u003cspan class=\"nx\"\u003erefetch\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eFunction\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e再取得メソッド(後で登場します)\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003ch3 data-sourcepos=\"280:1-280:30\"\u003e\n\u003cspan id=\"-addtodo-todoを追加\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#-addtodo-todo%E3%82%92%E8%BF%BD%E5%8A%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e◆ addTodo: Todoを追加\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"diff_tsx\" data-sourcepos=\"282:1-372:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e index.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eListTodosQuery\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@/generated/request\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003euseListTodosQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e \u003cspan class=\"nx\"\u003euseAddTodoMutation\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@/generated/request\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eFormEvent\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003euseEffect\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003euseState\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ereact\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eAiOutlineCheckCircle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eAiFillCheckCircle\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ereact-icons/ai\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBsFillTrash2Fill\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ereact-icons/bs\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nf\"\u003eHome\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003etodoContent\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003esetTodoContent\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003euseState\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/span\u003e  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003etodos\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003esetTodos\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003euseState\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eListTodosQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003elistTodos\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e([]);\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eloading\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003erefetch\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003euseListTodosQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eaddTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003euseAddTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003euseEffect\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003esetTodos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e?.\u003c/span\u003e\u003cspan class=\"nx\"\u003elistTodos\u003c/span\u003e \u003cspan class=\"o\"\u003e??\u003c/span\u003e \u003cspan class=\"p\"\u003e[]);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e?.\u003c/span\u003e\u003cspan class=\"nx\"\u003elistTodos\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eloading\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003eloading...\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003eerror...\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e!\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e?.\u003c/span\u003e\u003cspan class=\"nx\"\u003elistTodos\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003edata error...\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;;\u003c/span\u003e\n\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003esubmitHandler\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eFormEvent\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e   \u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003epreventDefault\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e   \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nf\"\u003eaddTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e     \u003cspan class=\"na\"\u003evariables\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e       \u003cspan class=\"na\"\u003econtent\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003etodoContent\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e     \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e   \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e   \u003cspan class=\"nf\"\u003esetTodoContent\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e   \u003cspan class=\"nf\"\u003erefetch\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"min-w-screen min-h-screen\"\u003c/span\u003e \u003cspan class=\"na\"\u003edata-theme\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"winter\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hil\"\u003e+      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003eform\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"flex p-10\"\u003c/span\u003e \u003cspan class=\"na\"\u003eonSubmit\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003esubmitHandler\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hdl\"\u003e-      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003eform\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"flex p-10\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/span\u003e        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003einput\u003c/span\u003e\n          \u003cspan class=\"na\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text\"\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eplaceholder\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"TODOを入力\"\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"input input-bordered w-full\"\u003c/span\u003e\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"err\"\u003e+\u003c/span\u003e          \u003cspan class=\"na\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etodoContent\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"err\"\u003e+\u003c/span\u003e          \u003cspan class=\"na\"\u003eonChange\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e           \u003cspan class=\"nf\"\u003esetTodoContent\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etarget\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e         \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n\u003c/span\u003e        \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"btn btn-primary\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e送信\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003eform\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"flex flex-col items-center gap-3 overflow-y-auto\"\u003c/span\u003e\n        \u003cspan class=\"na\"\u003estyle\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n          \u003cspan class=\"na\"\u003emaxHeight\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ecalc(100vh - 150px)\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etodos\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"p-3 bg-base-300 rounded-md w-2/3 flex items-center gap-3\"\u003c/span\u003e\n            \u003cspan class=\"na\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n              \u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edone\u003c/span\u003e \u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eAiFillCheckCircle\u003c/span\u003e\n                  \u003cspan class=\"na\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n                  \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-primary hover:text-primary-focus\"\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eAiOutlineCheckCircle\u003c/span\u003e\n                  \u003cspan class=\"na\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n                  \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-primary hover:text-primary-focus\"\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-lg font-bold flex-1\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003econtent\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eBsFillTrash2Fill\u003c/span\u003e\n                \u003cspan class=\"na\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-error hover:text-error-content\"\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n  );\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cul data-sourcepos=\"374:1-380:0\"\u003e\n\u003cli data-sourcepos=\"374:1-380:0\"\u003e\n\u003cp data-sourcepos=\"374:3-374:17\"\u003e処理の流れ\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"376:5-378:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eFormSubmit → AddTodo → refetch\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"379:5-379:98\"\u003eとすることで、Todoを追加後に最新状態を取得し、反映させています。\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv data-sourcepos=\"381:1-401:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003ch4 data-sourcepos=\"382:1-382:19\"\u003e\n\u003cspan id=\"mutation-hooks\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#mutation-hooks\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eMutation hooks\u003c/h4\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"384:1-386:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e example\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eaddTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003euseAddTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"388:1-388:133\"\u003e今回は使いませんでしたが、Mutationのhooksの返り値は\u003ccode\u003e[MutationFunction, MutationResult]\u003c/code\u003eの配列となります。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"390:1-400:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"nx\"\u003eMutationFunction\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eMutationの実行関数\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e]:\u003c/span\u003e \u003cspan class=\"nx\"\u003eMutationResult\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eTData\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eMutationから返されたデータ\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eloading\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eBoolean\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e取得中かどうか\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eObject\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eエラーが発生した場合、オブジェクトが格納されます\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ecalled\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eBoolean\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003etrueの場合、呼び出されています\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eclient\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eApolloClient\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eMutationを実行したApollo Client情報\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ereset\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eFunction\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eMutationの状態を初期の呼び出される前に戻す処理\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003ch3 data-sourcepos=\"403:1-403:33\"\u003e\n\u003cspan id=\"-updatetodo-todoを更新\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#-updatetodo-todo%E3%82%92%E6%9B%B4%E6%96%B0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e◆ updateTodo: Todoを更新\u003c/h3\u003e\n\u003cp data-sourcepos=\"405:1-405:51\"\u003emutationの使い方はaddTodoと変わりません\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"diff_tsx\" data-sourcepos=\"407:1-513:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e index.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eListTodosQuery\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@/generated/request\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003euseListTodosQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003euseAddTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e \u003cspan class=\"nx\"\u003euseUpdateTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@/generated/request\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eFormEvent\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003euseEffect\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003euseState\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ereact\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eAiOutlineCheckCircle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eAiFillCheckCircle\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ereact-icons/ai\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBsFillTrash2Fill\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ereact-icons/bs\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nf\"\u003eHome\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003etodoContent\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003esetTodoContent\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003euseState\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003etodos\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003esetTodos\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003euseState\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eListTodosQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003elistTodos\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e([]);\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eloading\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003erefetch\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003euseListTodosQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eaddTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003euseAddTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eupdateTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003euseUpdateTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003euseEffect\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003esetTodos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e?.\u003c/span\u003e\u003cspan class=\"nx\"\u003elistTodos\u003c/span\u003e \u003cspan class=\"o\"\u003e??\u003c/span\u003e \u003cspan class=\"p\"\u003e[]);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e?.\u003c/span\u003e\u003cspan class=\"nx\"\u003elistTodos\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eloading\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003eloading...\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003eerror...\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e!\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e?.\u003c/span\u003e\u003cspan class=\"nx\"\u003elistTodos\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003edata error...\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;;\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003esubmitHandler\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eFormEvent\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003epreventDefault\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nf\"\u003eaddTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n      \u003cspan class=\"na\"\u003evariables\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"na\"\u003econtent\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003etodoContent\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n    \u003cspan class=\"nf\"\u003esetTodoContent\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"nf\"\u003erefetch\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eupdateHandler\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ecurrent\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eboolean\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e   \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nf\"\u003eupdateTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e     \u003cspan class=\"na\"\u003evariables\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e       \u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e       \u003cspan class=\"na\"\u003edone\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e\u003cspan class=\"nx\"\u003ecurrent\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e     \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e   \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e   \u003cspan class=\"nf\"\u003erefetch\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"min-w-screen min-h-screen\"\u003c/span\u003e \u003cspan class=\"na\"\u003edata-theme\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"winter\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003eform\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"flex p-10\"\u003c/span\u003e \u003cspan class=\"na\"\u003eonSubmit\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003esubmitHandler\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003einput\u003c/span\u003e\n          \u003cspan class=\"na\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text\"\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eplaceholder\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"TODOを入力\"\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"input input-bordered w-full\"\u003c/span\u003e\n          \u003cspan class=\"na\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etodoContent\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eonChange\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003esetTodoContent\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etarget\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"btn btn-primary\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e送信\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003eform\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"flex flex-col items-center gap-3 overflow-y-auto\"\u003c/span\u003e\n        \u003cspan class=\"na\"\u003estyle\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n          \u003cspan class=\"na\"\u003emaxHeight\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ecalc(100vh - 150px)\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etodos\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"p-3 bg-base-300 rounded-md w-2/3 flex items-center gap-3\"\u003c/span\u003e\n            \u003cspan class=\"na\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"err\"\u003e+\u003c/span\u003e              \u003cspan class=\"na\"\u003eonClick\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e               \u003cspan class=\"nf\"\u003eupdateHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edone\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e             \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n\u003c/span\u003e            \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n              \u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edone\u003c/span\u003e \u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eAiFillCheckCircle\u003c/span\u003e\n                  \u003cspan class=\"na\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n                  \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-primary hover:text-primary-focus\"\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eAiOutlineCheckCircle\u003c/span\u003e\n                  \u003cspan class=\"na\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n                  \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-primary hover:text-primary-focus\"\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-lg font-bold flex-1\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003econtent\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eBsFillTrash2Fill\u003c/span\u003e\n                \u003cspan class=\"na\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-error hover:text-error-content\"\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch3 data-sourcepos=\"515:1-515:33\"\u003e\n\u003cspan id=\"-deletetodo-todoを削除\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#-deletetodo-todo%E3%82%92%E5%89%8A%E9%99%A4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e◆ deleteTodo: Todoを削除\u003c/h3\u003e\n\u003cp data-sourcepos=\"517:1-517:51\"\u003emutationの使い方はaddTodoと変わりません\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"diff_tsx\" data-sourcepos=\"519:1-639:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e index.tsx\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eListTodosQuery\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@/generated/request\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003euseListTodosQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003euseAddTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003euseUpdateTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e \u003cspan class=\"nx\"\u003euseDeleteTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@/generated/request\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eFormEvent\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003euseEffect\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003euseState\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ereact\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eAiOutlineCheckCircle\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eAiFillCheckCircle\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ereact-icons/ai\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBsFillTrash2Fill\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ereact-icons/bs\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nf\"\u003eHome\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003etodoContent\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003esetTodoContent\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003euseState\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003etodos\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003esetTodos\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003euseState\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eListTodosQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003elistTodos\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e([]);\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eloading\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003erefetch\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003euseListTodosQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eaddTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003euseAddTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eupdateTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003euseUpdateTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003edeleteTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003euseDeleteTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003euseEffect\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003esetTodos\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e?.\u003c/span\u003e\u003cspan class=\"nx\"\u003elistTodos\u003c/span\u003e \u003cspan class=\"o\"\u003e??\u003c/span\u003e \u003cspan class=\"p\"\u003e[]);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e?.\u003c/span\u003e\u003cspan class=\"nx\"\u003elistTodos\u003c/span\u003e\u003cspan class=\"p\"\u003e]);\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eloading\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003eloading...\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003eerror...\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e!\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e?.\u003c/span\u003e\u003cspan class=\"nx\"\u003elistTodos\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003edata error...\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;;\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003esubmitHandler\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eFormEvent\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003epreventDefault\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nf\"\u003eaddTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n      \u003cspan class=\"na\"\u003evariables\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"na\"\u003econtent\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003etodoContent\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n    \u003cspan class=\"nf\"\u003esetTodoContent\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n    \u003cspan class=\"nf\"\u003erefetch\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eupdateHandler\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ecurrent\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eboolean\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nf\"\u003eupdateTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n      \u003cspan class=\"na\"\u003evariables\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"na\"\u003edone\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e\u003cspan class=\"nx\"\u003ecurrent\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\n    \u003cspan class=\"nf\"\u003erefetch\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003edeleteHandler\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e   \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nf\"\u003edeleteTodoMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e     \u003cspan class=\"na\"\u003evariables\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eid\u003c/span\u003e \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e   \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e   \u003cspan class=\"nf\"\u003erefetch\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"min-w-screen min-h-screen\"\u003c/span\u003e \u003cspan class=\"na\"\u003edata-theme\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"winter\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003eform\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"flex p-10\"\u003c/span\u003e \u003cspan class=\"na\"\u003eonSubmit\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003esubmitHandler\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003einput\u003c/span\u003e\n          \u003cspan class=\"na\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text\"\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eplaceholder\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"TODOを入力\"\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"input input-bordered w-full\"\u003c/span\u003e\n          \u003cspan class=\"na\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etodoContent\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eonChange\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"nf\"\u003esetTodoContent\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etarget\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"btn btn-primary\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e送信\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003eform\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"flex flex-col items-center gap-3 overflow-y-auto\"\u003c/span\u003e\n        \u003cspan class=\"na\"\u003estyle\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n          \u003cspan class=\"na\"\u003emaxHeight\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ecalc(100vh - 150px)\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etodos\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"p-3 bg-base-300 rounded-md w-2/3 flex items-center gap-3\"\u003c/span\u003e\n            \u003cspan class=\"na\"\u003ekey\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\n              \u003cspan class=\"na\"\u003eonClick\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"nf\"\u003eupdateHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edone\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n              \u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edone\u003c/span\u003e \u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eAiFillCheckCircle\u003c/span\u003e\n                  \u003cspan class=\"na\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n                  \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-primary hover:text-primary-focus\"\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eAiOutlineCheckCircle\u003c/span\u003e\n                  \u003cspan class=\"na\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n                  \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-primary hover:text-primary-focus\"\u003c/span\u003e\n                \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-lg font-bold flex-1\"\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003econtent\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\n\u003cspan class=\"hil\"\u003e\u003cspan class=\"err\"\u003e+\u003c/span\u003e              \u003cspan class=\"na\"\u003eonClick\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e               \u003cspan class=\"nf\"\u003edeleteHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/span\u003e\u003cspan class=\"hil\"\u003e\u003cspan class=\"o\"\u003e+ \u003c/span\u003e             \u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n\u003c/span\u003e            \u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eBsFillTrash2Fill\u003c/span\u003e\n                \u003cspan class=\"na\"\u003esize\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"mi\"\u003e40\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n                \u003cspan class=\"na\"\u003eclassName\u003c/span\u003e\u003cspan class=\"p\"\u003e=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-error hover:text-error-content\"\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e/\u0026gt;\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ebutton\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e))\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"641:1-641:18\"\u003e完成です！！\u003c/p\u003e\n\u003cp data-sourcepos=\"643:1-643:117\"\u003e前編・中編・後編と長い記事となりましたが、とてもワクワクするような構成でした。\u003c/p\u003e\n",
    "body": "# はじめに\n\n最近GraphQLについて学びまして、\nNext.js + GraphQL + GraphQL CodeGenerator + Prismaの構成でTodoアプリを構築したので\n軽〜く解説をしつつ、その記録をここに残します。\n\n![スクリーンショット 2023-04-15 20.58.42.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/d9c686d4-ca7f-fec9-a91c-1b050cfaafff.png)\n\n# 環境\n\n- Macbook Air\n- node\n    - v18.13.0\n- pnpm\n    - 7.27.0\n\n# 目次\n\n- [前編](https://qiita.com/maaaashi/items/fe52db19759ea8a0be31)\n    1. Next Create App\n    1. GraphQLサーバー構築\n    1. Subscription\n    1. DB・Prisma\n- [中編](https://qiita.com/maaaashi/items/722d75cf8bd25efded88)\n    1. GraphQL Schema\n    1. GraphQL Context\n    1. GraphQL Code Generator\n    1. GraphQL Resolver\n    1. GraphQLサーバー修正\n- [後編](https://qiita.com/maaaashi/items/5c63398a34ac3ea8ddad) 👈 今ここ\n    1. フロント側準備\n    1. フロント側実装\n\n# 後編\n\n後編はフロント側の実装です。\n\n## 1. フロント側準備\n\nTailwindCSSのフレームワークである`daisyUI`を使っていきます。\n\nhttps://daisyui.com/\n\nまた、アイコンには`react-icons`を使います。\n\nhttps://react-icons.github.io/react-icons\n\n### 1-1. daisyUI react-icons\n\n- install\n    \n    ```bash\n    $ pnpm add daisyui react-icons\n    ```\n\n- tailwind.config.js\n\n    ```js: tailwind.config.js\n    module.exports = {\n      //...\n      plugins: [require(\"daisyui\")],\n    }\n    ```\n\n- デフォルトのCSS, HTMLの削除\n\n    ```css: global.css\n    @tailwind base;\n    @tailwind components;\n    @tailwind utilities;\n    ```\n\n### 1-2. apollo-clientの設定\n\n- install\n\n    ```bash\n    pnpm add @apollo/client\n    ```\n\n- edit .env\n\n    ```.env\n    NEXT_PUBLIC_GRAPHQL_ENDPOINT=\"http://localhost:3000/api/graphql\"\n    ```\n\n- edit _app.tsx\n\n    ```tsx: src/pages/_app.tsx\n    import \"@/styles/globals.css\";\n    \n    import { ApolloClient, ApolloProvider, InMemoryCache } from \"@apollo/client\";\n    import type { AppProps } from \"next/app\";\n    \n    export const client = new ApolloClient({\n      uri: process.env.NEXT_PUBLIC_GRAPHQL_ENDPOINT,\n      cache: new InMemoryCache(),\n    });\n    \n    export default function App({ Component, pageProps }: AppProps) {\n      return (\n        \u003cApolloProvider client={client}\u003e\n          \u003cComponent {...pageProps} /\u003e\n        \u003c/ApolloProvider\u003e\n      );\n    }\n    ```\n\n## 2. フロント側実装\n\n### 2-1. 見た目\n\nまずデータを入れずに見た目を調整します。\n\n![スクリーンショット 2023-04-15 11.01.49.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/db395e5a-df7e-a45f-15c9-ab269f1b5687.png)\n\n\n```tsx: src/pages/index.tsx\nimport { AiOutlineCheckCircle, AiFillCheckCircle } from \"react-icons/ai\";\nimport { BsFillTrash2Fill } from \"react-icons/bs\";\n\nexport default function Home() {\n  return (\n    \u003cdiv className=\"min-w-screen min-h-screen\" data-theme=\"winter\"\u003e\n      \u003cform className=\"flex p-10\"\u003e\n        \u003cinput\n          type=\"text\"\n          placeholder=\"TODOを入力\"\n          className=\"input input-bordered w-full\"\n        /\u003e\n        \u003cbutton className=\"btn btn-primary\"\u003e送信\u003c/button\u003e\n      \u003c/form\u003e\n      \u003cdiv\n        className=\"flex flex-col items-center gap-3 overflow-y-auto\"\n        style={{\n          maxHeight: \"calc(100vh - 150px)\",\n        }}\n      \u003e\n        \u003cdiv className=\"p-3 bg-base-300 rounded-md w-2/3 flex items-center gap-3\"\u003e\n          \u003cbutton\u003e\n            {true ? (\n              \u003cAiFillCheckCircle\n                size={40}\n                className=\"text-primary hover:text-primary-focus\"\n              /\u003e\n            ) : (\n              \u003cAiOutlineCheckCircle\n                size={40}\n                className=\"text-primary hover:text-primary-focus\"\n              /\u003e\n            )}\n          \u003c/button\u003e\n          \u003cdiv className=\"text-lg font-bold flex-1\"\u003ehogehoge\u003c/div\u003e\n          \u003cbutton\u003e\n            \u003cBsFillTrash2Fill\n              size={40}\n              className=\"text-error hover:text-error-content\"\n            /\u003e\n          \u003c/button\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  );\n}\n```\n\n### 2-2. データ利用\n\n次に[中編](https://qiita.com/maaaashi/items/722d75cf8bd25efded88)で作成した`src/generated/request.ts`を使って、データを入れていきます。\n\n### ◆ listTodo: Todo一覧取得\n\n```diff_tsx: index.tsx\n+ import type { ListTodosQuery } from \"@/generated/request\";\n+ import {\n+   useListTodosQuery,\n+ } from \"@/generated/request\";\n+ import { useEffect, useState } from \"react\";\nimport { AiOutlineCheckCircle, AiFillCheckCircle } from \"react-icons/ai\";\nimport { BsFillTrash2Fill } from \"react-icons/bs\";\n\nexport default function Home() {\n+ const [todos, setTodos] = useState\u003cListTodosQuery[\"listTodos\"]\u003e([]);\n+ const { loading, error, data, refetch } = useListTodosQuery();\n\n+ useEffect(() =\u003e {\n+   setTodos(data?.listTodos ?? []);\n+ }, [data?.listTodos]);\n\n+  if (loading) return \u003cdiv\u003eloading...\u003c/div\u003e;\n+  if (error) return \u003cdiv\u003eerror...\u003c/div\u003e;\n+  if (!data?.listTodos) return \u003cdiv\u003edata error...\u003c/div\u003e;\n\n  return (\n    \u003cdiv className=\"min-w-screen min-h-screen\" data-theme=\"winter\"\u003e\n      \u003cform className=\"flex p-10\"\u003e\n        \u003cinput\n          type=\"text\"\n          placeholder=\"TODOを入力\"\n          className=\"input input-bordered w-full\"\n        /\u003e\n        \u003cbutton className=\"btn btn-primary\"\u003e送信\u003c/button\u003e\n      \u003c/form\u003e\n      \u003cdiv\n        className=\"flex flex-col items-center gap-3 overflow-y-auto\"\n        style={{\n          maxHeight: \"calc(100vh - 150px)\",\n        }}\n      \u003e\n+        {todos.map((todo) =\u003e (\n+          \u003cdiv\n+            className=\"p-3 bg-base-300 rounded-md w-2/3 flex items-center gap-3\"\n+            key={todo.id}\n+          \u003e\n+            \u003cbutton\u003e\n+              {todo.done ? (\n+                \u003cAiFillCheckCircle\n+                  size={40}\n+                  className=\"text-primary hover:text-primary-focus\"\n+                /\u003e\n+              ) : (\n+                \u003cAiOutlineCheckCircle\n+                  size={40}\n+                  className=\"text-primary hover:text-primary-focus\"\n+                /\u003e\n+              )}\n+            \u003c/button\u003e\n+            \u003cdiv className=\"text-lg font-bold flex-1\"\u003e{todo.content}\u003c/div\u003e\n+            \u003cbutton\u003e\n+              \u003cBsFillTrash2Fill\n+                size={40}\n+                className=\"text-error hover:text-error-content\"\n+              /\u003e\n+            \u003c/button\u003e\n+          \u003c/div\u003e\n+        ))}\n-        \u003cdiv className=\"p-3 bg-base-300 rounded-md w-2/3 flex items-center gap-3\"\u003e\n-          \u003cbutton\u003e\n-            {true ? (\n-              \u003cAiFillCheckCircle\n-                size={40}\n-                className=\"text-primary hover:text-primary-focus\"\n-              /\u003e\n-            ) : (\n-              \u003cAiOutlineCheckCircle\n-                size={40}\n-                className=\"text-primary hover:text-primary-focus\"\n-              /\u003e\n-            )}\n-          \u003c/button\u003e\n-          \u003cdiv className=\"text-lg font-bold flex-1\"\u003ehogehoge\u003c/div\u003e\n-          \u003cbutton\u003e\n-            \u003cBsFillTrash2Fill\n-              size={40}\n-              className=\"text-error hover:text-error-content\"\n-            /\u003e\n-          \u003c/button\u003e\n-        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  );\n}\n```\n\n:::note info\n#### Query hooks\n\n```typescript: example\nconst { loading, error, data, refetch } = useListTodosQuery();\n```\n\n```typescript\nloading: Boolean =\u003e \"データ取得中かどうか\"\nerror: Object =\u003e  \"エラーが発生した場合、オブジェクトが格納されます\"\ndata: Object =\u003e \"取得したデータ\"\nrefetch: Function \"再取得メソッド(後で登場します)\"\n```\n:::\n\n### ◆ addTodo: Todoを追加\n\n```diff_tsx: index.tsx\nimport type { ListTodosQuery } from \"@/generated/request\";\nimport {\n  useListTodosQuery,\n+  useAddTodoMutation\n} from \"@/generated/request\";\n+ import { FormEvent, useEffect, useState } from \"react\";\nimport { AiOutlineCheckCircle, AiFillCheckCircle } from \"react-icons/ai\";\nimport { BsFillTrash2Fill } from \"react-icons/bs\";\n\nexport default function Home() {\n+  const [todoContent, setTodoContent] = useState(\"\");\n  const [todos, setTodos] = useState\u003cListTodosQuery[\"listTodos\"]\u003e([]);\n  const { loading, error, data, refetch } = useListTodosQuery();\n+  const [addTodoMutation] = useAddTodoMutation();\n\n  useEffect(() =\u003e {\n    setTodos(data?.listTodos ?? []);\n  }, [data?.listTodos]);\n\n  if (loading) return \u003cdiv\u003eloading...\u003c/div\u003e;\n  if (error) return \u003cdiv\u003eerror...\u003c/div\u003e;\n  if (!data?.listTodos) return \u003cdiv\u003edata error...\u003c/div\u003e;\n\n+  const submitHandler = async (e: FormEvent) =\u003e {\n+    e.preventDefault();\n+\n+    await addTodoMutation({\n+      variables: {\n+        content: todoContent,\n+      },\n+    });\n+\n+    setTodoContent(\"\");\n+\n+    refetch();\n+  };\n\n  return (\n    \u003cdiv className=\"min-w-screen min-h-screen\" data-theme=\"winter\"\u003e\n+      \u003cform className=\"flex p-10\" onSubmit={submitHandler}\u003e\n-      \u003cform className=\"flex p-10\"\u003e\n        \u003cinput\n          type=\"text\"\n          placeholder=\"TODOを入力\"\n          className=\"input input-bordered w-full\"\n+          value={todoContent}\n+          onChange={(e) =\u003e {\n+            setTodoContent(e.target.value);\n+          }}\n        /\u003e\n        \u003cbutton className=\"btn btn-primary\"\u003e送信\u003c/button\u003e\n      \u003c/form\u003e\n      \u003cdiv\n        className=\"flex flex-col items-center gap-3 overflow-y-auto\"\n        style={{\n          maxHeight: \"calc(100vh - 150px)\",\n        }}\n      \u003e\n        {todos.map((todo) =\u003e (\n          \u003cdiv\n            className=\"p-3 bg-base-300 rounded-md w-2/3 flex items-center gap-3\"\n            key={todo.id}\n          \u003e\n            \u003cbutton\u003e\n              {todo.done ? (\n                \u003cAiFillCheckCircle\n                  size={40}\n                  className=\"text-primary hover:text-primary-focus\"\n                /\u003e\n              ) : (\n                \u003cAiOutlineCheckCircle\n                  size={40}\n                  className=\"text-primary hover:text-primary-focus\"\n                /\u003e\n              )}\n            \u003c/button\u003e\n            \u003cdiv className=\"text-lg font-bold flex-1\"\u003e{todo.content}\u003c/div\u003e\n            \u003cbutton\u003e\n              \u003cBsFillTrash2Fill\n                size={40}\n                className=\"text-error hover:text-error-content\"\n              /\u003e\n            \u003c/button\u003e\n          \u003c/div\u003e\n        ))}\n      \u003c/div\u003e\n    \u003c/div\u003e\n  );\n}\n```\n\n- 処理の流れ\n\n    ```\n    FormSubmit → AddTodo → refetch\n    ```\n    とすることで、Todoを追加後に最新状態を取得し、反映させています。\n\n:::note info\n#### Mutation hooks\n\n```typescript: example\nconst [addTodoMutation] = useAddTodoMutation();\n```\n\n今回は使いませんでしたが、Mutationのhooksの返り値は`[MutationFunction, MutationResult]`の配列となります。\n\n```typescript\n[0]: MutationFunction =\u003e \"Mutationの実行関数\"\n[1]: MutationResult =\u003e {\n  data: TData =\u003e \"Mutationから返されたデータ\"\n  loading: Boolean =\u003e \"取得中かどうか\"\n  error: Object =\u003e \"エラーが発生した場合、オブジェクトが格納されます\"\n  called: Boolean =\u003e \"trueの場合、呼び出されています\"\n  client: ApolloClient =\u003e \"Mutationを実行したApollo Client情報\"\n  reset: Function =\u003e \"Mutationの状態を初期の呼び出される前に戻す処理\"\n}]\n```\n:::\n\n### ◆ updateTodo: Todoを更新\n\nmutationの使い方はaddTodoと変わりません\n\n```diff_tsx: index.tsx\nimport type { ListTodosQuery } from \"@/generated/request\";\nimport {\n  useListTodosQuery,\n  useAddTodoMutation,\n+  useUpdateTodoMutation,\n} from \"@/generated/request\";\nimport { FormEvent, useEffect, useState } from \"react\";\nimport { AiOutlineCheckCircle, AiFillCheckCircle } from \"react-icons/ai\";\nimport { BsFillTrash2Fill } from \"react-icons/bs\";\n\nexport default function Home() {\n  const [todoContent, setTodoContent] = useState(\"\");\n  const [todos, setTodos] = useState\u003cListTodosQuery[\"listTodos\"]\u003e([]);\n  const { loading, error, data, refetch } = useListTodosQuery();\n  const [addTodoMutation] = useAddTodoMutation();\n+  const [updateTodoMutation] = useUpdateTodoMutation();\n\n  useEffect(() =\u003e {\n    setTodos(data?.listTodos ?? []);\n  }, [data?.listTodos]);\n\n  if (loading) return \u003cdiv\u003eloading...\u003c/div\u003e;\n  if (error) return \u003cdiv\u003eerror...\u003c/div\u003e;\n  if (!data?.listTodos) return \u003cdiv\u003edata error...\u003c/div\u003e;\n\n  const submitHandler = async (e: FormEvent) =\u003e {\n    e.preventDefault();\n\n    await addTodoMutation({\n      variables: {\n        content: todoContent,\n      },\n    });\n\n    setTodoContent(\"\");\n\n    refetch();\n  };\n\n+  const updateHandler = async (id: string, current: boolean) =\u003e {\n+    await updateTodoMutation({\n+      variables: {\n+        id,\n+        done: !current,\n+      },\n+    });\n+\n+    refetch();\n+  };\n\n  return (\n    \u003cdiv className=\"min-w-screen min-h-screen\" data-theme=\"winter\"\u003e\n      \u003cform className=\"flex p-10\" onSubmit={submitHandler}\u003e\n        \u003cinput\n          type=\"text\"\n          placeholder=\"TODOを入力\"\n          className=\"input input-bordered w-full\"\n          value={todoContent}\n          onChange={(e) =\u003e {\n            setTodoContent(e.target.value);\n          }}\n        /\u003e\n        \u003cbutton className=\"btn btn-primary\"\u003e送信\u003c/button\u003e\n      \u003c/form\u003e\n      \u003cdiv\n        className=\"flex flex-col items-center gap-3 overflow-y-auto\"\n        style={{\n          maxHeight: \"calc(100vh - 150px)\",\n        }}\n      \u003e\n        {todos.map((todo) =\u003e (\n          \u003cdiv\n            className=\"p-3 bg-base-300 rounded-md w-2/3 flex items-center gap-3\"\n            key={todo.id}\n          \u003e\n            \u003cbutton\n+              onClick={() =\u003e {\n+                updateHandler(todo.id, todo.done);\n+              }}\n            \u003e\n              {todo.done ? (\n                \u003cAiFillCheckCircle\n                  size={40}\n                  className=\"text-primary hover:text-primary-focus\"\n                /\u003e\n              ) : (\n                \u003cAiOutlineCheckCircle\n                  size={40}\n                  className=\"text-primary hover:text-primary-focus\"\n                /\u003e\n              )}\n            \u003c/button\u003e\n            \u003cdiv className=\"text-lg font-bold flex-1\"\u003e{todo.content}\u003c/div\u003e\n            \u003cbutton\u003e\n              \u003cBsFillTrash2Fill\n                size={40}\n                className=\"text-error hover:text-error-content\"\n              /\u003e\n            \u003c/button\u003e\n          \u003c/div\u003e\n        ))}\n      \u003c/div\u003e\n    \u003c/div\u003e\n  );\n}\n```\n\n### ◆ deleteTodo: Todoを削除\n\nmutationの使い方はaddTodoと変わりません\n\n```diff_tsx: index.tsx\nimport type { ListTodosQuery } from \"@/generated/request\";\nimport {\n  useListTodosQuery,\n  useAddTodoMutation,\n  useUpdateTodoMutation,\n+  useDeleteTodoMutation,\n} from \"@/generated/request\";\nimport { FormEvent, useEffect, useState } from \"react\";\nimport { AiOutlineCheckCircle, AiFillCheckCircle } from \"react-icons/ai\";\nimport { BsFillTrash2Fill } from \"react-icons/bs\";\n\nexport default function Home() {\n  const [todoContent, setTodoContent] = useState(\"\");\n  const [todos, setTodos] = useState\u003cListTodosQuery[\"listTodos\"]\u003e([]);\n  const { loading, error, data, refetch } = useListTodosQuery();\n  const [addTodoMutation] = useAddTodoMutation();\n  const [updateTodoMutation] = useUpdateTodoMutation();\n+  const [deleteTodoMutation] = useDeleteTodoMutation();\n\n  useEffect(() =\u003e {\n    setTodos(data?.listTodos ?? []);\n  }, [data?.listTodos]);\n\n  if (loading) return \u003cdiv\u003eloading...\u003c/div\u003e;\n  if (error) return \u003cdiv\u003eerror...\u003c/div\u003e;\n  if (!data?.listTodos) return \u003cdiv\u003edata error...\u003c/div\u003e;\n\n  const submitHandler = async (e: FormEvent) =\u003e {\n    e.preventDefault();\n\n    await addTodoMutation({\n      variables: {\n        content: todoContent,\n      },\n    });\n\n    setTodoContent(\"\");\n\n    refetch();\n  };\n\n  const updateHandler = async (id: string, current: boolean) =\u003e {\n    await updateTodoMutation({\n      variables: {\n        id,\n        done: !current,\n      },\n    });\n\n    refetch();\n  };\n\n+  const deleteHandler = async (id: string) =\u003e {\n+    await deleteTodoMutation({\n+      variables: { id },\n+    });\n+\n+    refetch();\n+  };\n\n  return (\n    \u003cdiv className=\"min-w-screen min-h-screen\" data-theme=\"winter\"\u003e\n      \u003cform className=\"flex p-10\" onSubmit={submitHandler}\u003e\n        \u003cinput\n          type=\"text\"\n          placeholder=\"TODOを入力\"\n          className=\"input input-bordered w-full\"\n          value={todoContent}\n          onChange={(e) =\u003e {\n            setTodoContent(e.target.value);\n          }}\n        /\u003e\n        \u003cbutton className=\"btn btn-primary\"\u003e送信\u003c/button\u003e\n      \u003c/form\u003e\n      \u003cdiv\n        className=\"flex flex-col items-center gap-3 overflow-y-auto\"\n        style={{\n          maxHeight: \"calc(100vh - 150px)\",\n        }}\n      \u003e\n        {todos.map((todo) =\u003e (\n          \u003cdiv\n            className=\"p-3 bg-base-300 rounded-md w-2/3 flex items-center gap-3\"\n            key={todo.id}\n          \u003e\n            \u003cbutton\n              onClick={() =\u003e {\n                updateHandler(todo.id, todo.done);\n              }}\n            \u003e\n              {todo.done ? (\n                \u003cAiFillCheckCircle\n                  size={40}\n                  className=\"text-primary hover:text-primary-focus\"\n                /\u003e\n              ) : (\n                \u003cAiOutlineCheckCircle\n                  size={40}\n                  className=\"text-primary hover:text-primary-focus\"\n                /\u003e\n              )}\n            \u003c/button\u003e\n            \u003cdiv className=\"text-lg font-bold flex-1\"\u003e{todo.content}\u003c/div\u003e\n            \u003cbutton\n+              onClick={() =\u003e {\n+                deleteHandler(todo.id);\n+              }}\n            \u003e\n              \u003cBsFillTrash2Fill\n                size={40}\n                className=\"text-error hover:text-error-content\"\n              /\u003e\n            \u003c/button\u003e\n          \u003c/div\u003e\n        ))}\n      \u003c/div\u003e\n    \u003c/div\u003e\n  );\n}\n```\n\n完成です！！\n\n前編・中編・後編と長い記事となりましたが、とてもワクワクするような構成でした。\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-04-17T08:35:25+09:00",
    "group": null,
    "id": "5c63398a34ac3ea8ddad",
    "likes_count": 9,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 2,
    "tags": [
      { "name": "TypeScript", "versions": [] },
      { "name": "GraphQL", "versions": [] },
      { "name": "apollo", "versions": [] },
      { "name": "Next.js", "versions": [] },
      { "name": "graphql-codegen", "versions": [] }
    ],
    "title": "Next.js + GrapqhQLでTodoアプリを構築する(後編)",
    "updated_at": "2023-04-17T08:57:49+09:00",
    "url": "https://qiita.com/maaaashi/items/5c63398a34ac3ea8ddad",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-5:69\"\u003e最近GraphQLについて学びまして、\u003cbr\u003e\nNext.js + GraphQL + GraphQL CodeGenerator + Prismaの構成でTodoアプリを構築したので\u003cbr\u003e\n軽〜く解説をしつつ、その記録をここに残します。\u003c/p\u003e\n\u003cp data-sourcepos=\"7:1-7:164\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd9c686d4-ca7f-fec9-a91c-1b050cfaafff.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=de64112d9d2965da95e3eab5b36deb8c\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd9c686d4-ca7f-fec9-a91c-1b050cfaafff.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=de64112d9d2965da95e3eab5b36deb8c\" alt=\"スクリーンショット 2023-04-15 20.58.42.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd9c686d4-ca7f-fec9-a91c-1b050cfaafff.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=3a0d18302a874025533f8659264934ff 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/d9c686d4-ca7f-fec9-a91c-1b050cfaafff.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch1 data-sourcepos=\"9:1-9:8\"\u003e\n\u003cspan id=\"環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e環境\u003c/h1\u003e\n\u003cul data-sourcepos=\"11:1-16:0\"\u003e\n\u003cli data-sourcepos=\"11:1-11:13\"\u003eMacbook Air\u003c/li\u003e\n\u003cli data-sourcepos=\"12:1-13:14\"\u003enode\n\u003cul data-sourcepos=\"13:5-13:14\"\u003e\n\u003cli data-sourcepos=\"13:5-13:14\"\u003ev18.13.0\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"14:1-16:0\"\u003epnpm\n\u003cul data-sourcepos=\"15:5-16:0\"\u003e\n\u003cli data-sourcepos=\"15:5-16:0\"\u003e7.27.0\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 data-sourcepos=\"17:1-17:8\"\u003e\n\u003cspan id=\"目次\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%9B%AE%E6%AC%A1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e目次\u003c/h1\u003e\n\u003cul data-sourcepos=\"19:1-33:0\"\u003e\n\u003cli data-sourcepos=\"19:1-23:18\"\u003e\n\u003ca href=\"https://qiita.com/maaaashi/items/fe52db19759ea8a0be31\" id=\"reference-875fcb52237640e57cbf\"\u003e前編\u003c/a\u003e\n\u003col data-sourcepos=\"20:5-23:18\"\u003e\n\u003cli data-sourcepos=\"20:5-20:22\"\u003eNext Create App\u003c/li\u003e\n\u003cli data-sourcepos=\"21:5-21:32\"\u003eGraphQLサーバー構築\u003c/li\u003e\n\u003cli data-sourcepos=\"22:5-22:19\"\u003eSubscription\u003c/li\u003e\n\u003cli data-sourcepos=\"23:5-23:18\"\u003eDB・Prisma\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"24:1-29:32\"\u003e\n\u003ca href=\"https://qiita.com/maaaashi/items/722d75cf8bd25efded88\"\u003e中編\u003c/a\u003e 👈 今ここ\n\u003col data-sourcepos=\"25:5-29:32\"\u003e\n\u003cli data-sourcepos=\"25:5-25:21\"\u003eGraphQL Schema\u003c/li\u003e\n\u003cli data-sourcepos=\"26:5-26:22\"\u003eGraphQL Context\u003c/li\u003e\n\u003cli data-sourcepos=\"27:5-27:29\"\u003eGraphQL Code Generator\u003c/li\u003e\n\u003cli data-sourcepos=\"28:5-28:23\"\u003eGraphQL Resolver\u003c/li\u003e\n\u003cli data-sourcepos=\"29:5-29:32\"\u003eGraphQLサーバー修正\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"30:1-33:0\"\u003e\n\u003ca href=\"https://qiita.com/maaaashi/items/5c63398a34ac3ea8ddad\" id=\"reference-c55f18c26202e41884b3\"\u003e後編\u003c/a\u003e\n\u003col data-sourcepos=\"31:5-33:0\"\u003e\n\u003cli data-sourcepos=\"31:5-31:28\"\u003eフロント側準備\u003c/li\u003e\n\u003cli data-sourcepos=\"32:5-33:0\"\u003eフロント側実装\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 data-sourcepos=\"34:1-34:8\"\u003e\n\u003cspan id=\"中編\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%B8%AD%E7%B7%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e中編\u003c/h1\u003e\n\u003cp data-sourcepos=\"36:1-36:34\"\u003e中編はGraphQLフェーズです\u003c/p\u003e\n\u003ch2 data-sourcepos=\"38:1-38:20\"\u003e\n\u003cspan id=\"1-graphql-schema\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-graphql-schema\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. GraphQL Schema\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"40:1-48:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\n├── src\n│   ├── graphql\n│   │   ├── typeDefs\n│   │   │   ├─ common.graphql\n│   │   │   └─ todo.graphql\n│   │   │\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"50:1-51:121\"\u003eこのようなファイル構成で作成します。\u003cbr\u003e\n\u003ccode\u003ecommon.graphql\u003c/code\u003eには今後schemaが増えてきた時のために、共通のschemaを定義しようと思います。\u003c/p\u003e\n\u003cul data-sourcepos=\"53:1-122:0\"\u003e\n\u003cli data-sourcepos=\"53:1-60:0\"\u003e\n\u003cp data-sourcepos=\"53:3-53:8\"\u003eschema\u003c/p\u003e\n\u003cul data-sourcepos=\"54:5-60:0\"\u003e\n\u003cli data-sourcepos=\"54:5-55:46\"\u003eQuery\n\u003cul data-sourcepos=\"55:9-55:46\"\u003e\n\u003cli data-sourcepos=\"55:9-55:46\"\u003eListTodos: Todo一覧を取得する\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"56:5-60:0\"\u003eMutation\n\u003cul data-sourcepos=\"57:9-60:0\"\u003e\n\u003cli data-sourcepos=\"57:9-57:54\"\u003eaddTodo: contentを元にTodoを作成する\u003c/li\u003e\n\u003cli data-sourcepos=\"58:9-58:68\"\u003eupdateTodo: idとdoneから、todoの状態を更新する\u003c/li\u003e\n\u003cli data-sourcepos=\"59:9-60:0\"\u003edeleteTodo: idから、todoを削除する\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"61:1-66:7\"\u003e\n\u003cp data-sourcepos=\"61:3-61:13\"\u003ecreate file\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"63:5-66:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003emkdir \u003c/span\u003esrc/graphql src/graphql/typeDefs\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003etouch \u003c/span\u003esrc/graphql/typeDefs/todo.graphql src/graphql/typeDefs/common.graphql\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"67:1-122:0\"\u003e\n\u003cp data-sourcepos=\"67:3-67:11\"\u003eedit file\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"graphql\" data-sourcepos=\"69:5-117:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e todo.graphql\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003etype\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eTodo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003eID\u003c/span\u003e\u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003econtent\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003edone\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003eBoolean\u003c/span\u003e\u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eDateTime\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"k\"\u003etype\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eQuery\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003elistTodos\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"n\"\u003eTodo\u003c/span\u003e\u003cspan class=\"p\"\u003e!]!\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"k\"\u003etype\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eMutation\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003eaddTodo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003econtent\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e!):\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eTodo\u003c/span\u003e\u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003eupdateTodo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003eID\u003c/span\u003e\u003cspan class=\"p\"\u003e!,\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edone\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003eBoolean\u003c/span\u003e\u003cspan class=\"p\"\u003e!):\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eTodo\u003c/span\u003e\u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003edeleteTodo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003eID\u003c/span\u003e\u003cspan class=\"p\"\u003e!):\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eTodo\u003c/span\u003e\u003cspan class=\"p\"\u003e!\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"k\"\u003efragment\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eTodoFragment\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"k\"\u003eon\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eTodo\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003econtent\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003edone\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"k\"\u003equery\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eListTodos\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003elistTodos\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e...\u003c/span\u003e\u003cspan class=\"n\"\u003eTodoFragment\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"k\"\u003emutation\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eAddTodo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$content\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003eString\u003c/span\u003e\u003cspan class=\"p\"\u003e!)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003eaddTodo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003econtent\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nv\"\u003e$content\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e...\u003c/span\u003e\u003cspan class=\"n\"\u003eTodoFragment\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"k\"\u003emutation\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eUpdateTodo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$id\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003eID\u003c/span\u003e\u003cspan class=\"p\"\u003e!,\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nv\"\u003e$done\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003eBoolean\u003c/span\u003e\u003cspan class=\"p\"\u003e!)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003eupdateTodo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nv\"\u003e$id\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003edone\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nv\"\u003e$done\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e...\u003c/span\u003e\u003cspan class=\"n\"\u003eTodoFragment\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003cspan class=\"k\"\u003emutation\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eDeleteTodo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$id\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003eID\u003c/span\u003e\u003cspan class=\"p\"\u003e!)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"n\"\u003edeleteTodo\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nv\"\u003e$id\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"p\"\u003e...\u003c/span\u003e\u003cspan class=\"n\"\u003eTodoFragment\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"graphql\" data-sourcepos=\"119:5-121:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e common.graphql\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003escalar\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"n\"\u003eDateTime\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 data-sourcepos=\"123:1-123:30\"\u003e\n\u003cspan id=\"2-graphql-contextの設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-graphql-context%E3%81%AE%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. GraphQL Contextの設定\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"125:1-131:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\n├── src\n│   ├── graphql\n│   │   ├── context\n│   │   │   ├── index.ts\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cul data-sourcepos=\"133:1-157:0\"\u003e\n\u003cli data-sourcepos=\"133:1-139:0\"\u003e\n\u003cp data-sourcepos=\"133:3-133:13\"\u003ecreate file\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"135:5-138:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003emkdir \u003c/span\u003esrc/graphql/context\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003etouch \u003c/span\u003esrc/graphql/context/index.ts\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"140:1-157:0\"\u003e\n\u003cp data-sourcepos=\"140:3-140:11\"\u003eedit file\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"142:5-156:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e src/graphql/context/index.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003ePrismaClient\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@prisma/client\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eprisma\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003ePrismaClient\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"nx\"\u003eContext\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eprisma\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003etypeof\u003c/span\u003e \u003cspan class=\"nx\"\u003eprisma\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreateContext\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eprisma\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eprisma\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 data-sourcepos=\"158:1-158:28\"\u003e\n\u003cspan id=\"3-graphql-code-generator\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-graphql-code-generator\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. GraphQL Code Generator\u003c/h2\u003e\n\u003cp data-sourcepos=\"160:1-160:37\"\u003e\u003ciframe id=\"qiita-embed-content__42669d620efea2a8daf1a6fda8f2a6e6\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__42669d620efea2a8daf1a6fda8f2a6e6\" data-content=\"https%3A%2F%2Fthe-guild.dev%2Fgraphql%2Fcodegen\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"162:1-171:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\n├── src\n│   ├── graphql\n|   |   ├── typeDefs\n|   |   |   ├── common.graphql\n|   |   |   └── todo.graphql\n│   │   ├── context\n│   │   │   ├── index.ts\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv data-sourcepos=\"173:1-175:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"174:1-174:143\"\u003einitのコマンドも用意されていますが、pluginsを入れたりしたいので、マニュアルセットアップしていきます\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"177:1-177:45\"\u003e\u003ciframe id=\"qiita-embed-content__0d01ec33d72fad38d35964dce96687a3\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__0d01ec33d72fad38d35964dce96687a3\" data-content=\"https%3A%2F%2Fthe-guild.dev%2Fgraphql%2Fcodegen%2Fplugins\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cul data-sourcepos=\"180:1-249:0\"\u003e\n\u003cli data-sourcepos=\"180:1-189:0\"\u003e\n\u003cp data-sourcepos=\"180:3-180:9\"\u003einstall\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"182:5-188:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e# dependencies\n$ pnpm add graphql @graphql-tools/graphql-file-loader @graphql-tools/load @graphql-tools/schema\n\n# devDependencies\npnpm add -D @graphql-codegen/cli @graphql-codegen/schema-ast @graphql-codegen/typescript @graphql-codegen/typescript-resolvers @graphql-codegen/typescript-operations @graphql-codegen/typescript-react-apollo ts-node\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"190:1-230:0\"\u003e\n\u003cp data-sourcepos=\"190:3-190:24\"\u003ecreate codegen.yml\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"192:5-194:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003etouch \u003c/span\u003ecodegen.yml\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"196:5-229:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e codegen.yml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003egenerates\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003esrc/generated/schema.graphql\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eschema\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003esrc/graphql/typeDefs/**/*.graphql\"\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eplugins\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003eschema-ast\u003c/span\u003e\n  \u003cspan class=\"na\"\u003esrc/generated/resolvers-types.ts\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eschema\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003esrc/graphql/typeDefs/**/*.graphql\"\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eplugins\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003etypescript\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003etypescript-resolvers\u003c/span\u003e\n    \u003cspan class=\"na\"\u003econfig\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003econtextType\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003e@/graphql/context/#Context\"\u003c/span\u003e\n      \u003cspan class=\"na\"\u003emapperTypeSuffix\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eModel\u003c/span\u003e\n      \u003cspan class=\"na\"\u003emappers\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eTodo\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003e@prisma/client#Todo\"\u003c/span\u003e\n      \u003cspan class=\"na\"\u003escalars\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eDateTime\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003estring\u003c/span\u003e\n  \u003cspan class=\"na\"\u003esrc/generated/request.ts\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eschema\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003esrc/graphql/typeDefs/**/*.graphql\"\u003c/span\u003e\n    \u003cspan class=\"na\"\u003edocuments\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003esrc/graphql/typeDefs/**/*.graphql\"\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eplugins\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003etypescript\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003etypescript-operations\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003etypescript-react-apollo\u003c/span\u003e\n    \u003cspan class=\"na\"\u003econfig\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003escalars\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eDateTime\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003estring\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"231:1-249:0\"\u003e\n\u003cp data-sourcepos=\"231:3-231:21\"\u003erun graphql-codegen\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"233:5-237:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003epnpm graphql-codegen\n✔ Parse Configuration\n✔ Generate outputs\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"239:5-239:108\"\u003e実行すると以下のような構成でresolver用の型定義ファイルなどが生成されます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"241:5-248:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\n├── src\n│   ├── generated\n│   │   ├── request.ts\n│   │   ├── resolvers-type.ts\n│   │   └── schema.graphql\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 data-sourcepos=\"250:1-250:21\"\u003e\n\u003cspan id=\"4-graphql-resolver\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#4-graphql-resolver\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e4. GraphQL Resolver\u003c/h1\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"252:1-259:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\n├── src\n│   ├── graphql\n│   │   ├── resolvers\n│   │   │   └─ index.ts\n│   │   │\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cul data-sourcepos=\"261:1-301:0\"\u003e\n\u003cli data-sourcepos=\"261:1-267:0\"\u003e\n\u003cp data-sourcepos=\"261:3-261:13\"\u003ecreate file\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"263:5-266:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003emkdir \u003c/span\u003esrc/graphql/resolvers\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003etouch \u003c/span\u003esrc/graphql/resolvers/index.ts\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"268:1-301:0\"\u003e\n\u003cp data-sourcepos=\"268:3-268:11\"\u003eedit file\u003c/p\u003e\n\u003cp data-sourcepos=\"270:5-270:118\"\u003e\u003cstrong\u003e3. GraphQL Code Generator\u003c/strong\u003eで作成した\u003ccode\u003eresolvers-types\u003c/code\u003eを利用してresolverを設定していきます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"272:5-300:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e  src/graphql/resolvers/index.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eResolvers\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@/generated/resolvers-types\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eresolvers\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eResolvers\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003elistTodos\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003e_parent\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003e_args\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eprisma\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003eprisma\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003efindMany\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eMutation\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eaddTodo\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003e_parent\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003econtent\u003c/span\u003e \u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eprisma\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003eprisma\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ecreate\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n        \u003cspan class=\"na\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003econtent\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ecreatedAt\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eDate\u003c/span\u003e\u003cspan class=\"p\"\u003e().\u003c/span\u003e\u003cspan class=\"nf\"\u003etoISOString\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eupdateTodo\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003e_parent\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003edone\u003c/span\u003e \u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eprisma\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003eprisma\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eupdate\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n        \u003cspan class=\"na\"\u003ewhere\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eid\u003c/span\u003e \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n        \u003cspan class=\"na\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003edone\u003c/span\u003e \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"na\"\u003edeleteTodo\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003e_parent\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eid\u003c/span\u003e \u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eprisma\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003eprisma\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etodo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"k\"\u003edelete\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n        \u003cspan class=\"na\"\u003ewhere\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eid\u003c/span\u003e \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv data-sourcepos=\"302:1-320:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003ch3 data-sourcepos=\"303:1-303:47\"\u003e\n\u003cspan id=\"graphql-code-generatorを使うメリット\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#graphql-code-generator%E3%82%92%E4%BD%BF%E3%81%86%E3%83%A1%E3%83%AA%E3%83%83%E3%83%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGraphQL Code Generatorを使うメリット\u003c/h3\u003e\n\u003col data-sourcepos=\"305:1-318:0\"\u003e\n\u003cli data-sourcepos=\"305:1-308:0\"\u003e\n\u003cp data-sourcepos=\"305:4-305:99\"\u003e型定義がされているので、このように補完を利用することができます。\u003c/p\u003e\n\u003cp data-sourcepos=\"307:5-307:168\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fedd1b1dc-663b-867c-4184-7c52719e1747.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e5377afd647f6dfda5c744280fc54069\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fedd1b1dc-663b-867c-4184-7c52719e1747.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e5377afd647f6dfda5c744280fc54069\" alt=\"スクリーンショット 2023-04-16 10.29.17.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fedd1b1dc-663b-867c-4184-7c52719e1747.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=bef4e290ce8eaf975f9415a42c608a76 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/edd1b1dc-663b-867c-4184-7c52719e1747.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"309:1-318:0\"\u003e\n\u003cp data-sourcepos=\"309:4-309:15\"\u003e型安全性\u003c/p\u003e\n\u003cp data-sourcepos=\"311:5-311:58\"\u003e試しにエラーを発生させてみましょう。\u003c/p\u003e\n\u003cp data-sourcepos=\"313:5-314:168\"\u003eTodoを返すはずの\u003ccode\u003eaddTodo\u003c/code\u003eで、文字列を返すとこのようにエラーが表示されます。\u003cbr\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F324f73bf-72ad-4d7f-b03d-8aa327653a87.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7477b7e4d8823b7ef49ca4229102b610\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F324f73bf-72ad-4d7f-b03d-8aa327653a87.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7477b7e4d8823b7ef49ca4229102b610\" alt=\"スクリーンショット 2023-04-16 10.31.30.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F324f73bf-72ad-4d7f-b03d-8aa327653a87.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=202af651be2c6814570be5a272e1e7ca 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/324f73bf-72ad-4d7f-b03d-8aa327653a87.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"316:5-317:168\"\u003e予定されていない引数を利用しようとすると、このようにエラーが表示されます。\u003cbr\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F37c1b9b8-aecb-6824-e0f9-ed6a1e3f8aa9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=702252579da0fb10703eb2cfe532858e\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F37c1b9b8-aecb-6824-e0f9-ed6a1e3f8aa9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=702252579da0fb10703eb2cfe532858e\" alt=\"スクリーンショット 2023-04-16 10.32.37.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F37c1b9b8-aecb-6824-e0f9-ed6a1e3f8aa9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d3920dda9b2370980ca33e509f0ab337 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/37c1b9b8-aecb-6824-e0f9-ed6a1e3f8aa9.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"319:1-319:249\"\u003e\u003ccode\u003eGraphQL Code Generator\u003c/code\u003eを使わなくても実装はできますが、使う事でより安全にコーディングが進められますし、何か元schemaファイルを修正した際に、影響範囲を型で考えることができます。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"322:1-322:31\"\u003e\n\u003cspan id=\"5-graphqlサーバー修正\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#5-graphql%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E4%BF%AE%E6%AD%A3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e5. GraphQLサーバー修正\u003c/h2\u003e\n\u003cp data-sourcepos=\"324:1-324:127\"\u003e\u003cstrong\u003e3. GraphQL Code Generator\u003c/strong\u003e及び、\u003cstrong\u003e4. GraphQL Resolver\u003c/strong\u003eで作成したファイルをインポートしていきます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"326:1-348:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e api/graphql.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreateYoga\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreateSchema\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003egraphql-yoga\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003ereadFileSync\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003efs\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003ejoin\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003epath\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eresolvers\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@/graphql/resolvers\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreateContext\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@/graphql/context\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003epath\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003ejoin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eprocess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ecwd\u003c/span\u003e\u003cspan class=\"p\"\u003e(),\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003esrc\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003egenerated\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eschema.graphql\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003etypeDefs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003ereadFileSync\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003epath\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003etoString\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eutf-8\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eschema\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003ecreateSchema\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003etypeDefs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003eresolvers\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003egraphqlEndpoint\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e/api/graphql\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"nf\"\u003ecreateYoga\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003egraphqlEndpoint\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003eschema\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreateContext\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"350:1-350:119\"\u003e\u003ca href=\"http://localhost:3000/api/graphql\" rel=\"nofollow noopener\" target=\"_blank\"\u003elocalhost:3000/api/graphql\u003c/a\u003eにアクセスし、Queryを叩いてみましょう。\u003c/p\u003e\n\u003col data-sourcepos=\"352:1-367:0\"\u003e\n\u003cli data-sourcepos=\"352:1-355:0\"\u003e\n\u003cp data-sourcepos=\"352:4-352:10\"\u003eaddTodo\u003c/p\u003e\n\u003cp data-sourcepos=\"354:5-354:167\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F53308c85-5e89-a283-4e78-06bf0e5e9b6a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=28228f3e8ffe95fb13bdf49ebe1b4df1\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F53308c85-5e89-a283-4e78-06bf0e5e9b6a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=28228f3e8ffe95fb13bdf49ebe1b4df1\" alt=\"スクリーンショット 2023-04-15 0.51.43.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F53308c85-5e89-a283-4e78-06bf0e5e9b6a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c5380d1b7f190632a7ee26cc32002b46 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/53308c85-5e89-a283-4e78-06bf0e5e9b6a.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"356:1-359:0\"\u003e\n\u003cp data-sourcepos=\"356:4-356:11\"\u003elistTodo\u003c/p\u003e\n\u003cp data-sourcepos=\"358:5-358:167\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8d2d04d6-a4da-7236-6dd8-207f6fef147a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=05f6b990162d15d10a3d68787f6b8b93\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8d2d04d6-a4da-7236-6dd8-207f6fef147a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=05f6b990162d15d10a3d68787f6b8b93\" alt=\"スクリーンショット 2023-04-15 0.52.17.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8d2d04d6-a4da-7236-6dd8-207f6fef147a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=62b7cd1bb94e1cd918bb773cd57c2acf 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/8d2d04d6-a4da-7236-6dd8-207f6fef147a.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"360:1-363:0\"\u003e\n\u003cp data-sourcepos=\"360:4-360:13\"\u003edeleteTodo\u003c/p\u003e\n\u003cp data-sourcepos=\"362:5-362:167\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff510d440-5201-5ee6-19b3-98af1402733e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=99b13b9241d2f5d8200c7ad49e6cd9ce\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff510d440-5201-5ee6-19b3-98af1402733e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=99b13b9241d2f5d8200c7ad49e6cd9ce\" alt=\"スクリーンショット 2023-04-15 0.52.53.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff510d440-5201-5ee6-19b3-98af1402733e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=3c8fc88114e2c69af67247163ece8427 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f510d440-5201-5ee6-19b3-98af1402733e.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"364:1-367:0\"\u003e\n\u003cp data-sourcepos=\"364:4-364:11\"\u003elistTodo\u003c/p\u003e\n\u003cp data-sourcepos=\"366:5-366:167\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4aff7c23-c958-5ea9-e47a-99fca054afd0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c5e5059230a14ae2480574b85d2e611c\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4aff7c23-c958-5ea9-e47a-99fca054afd0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c5e5059230a14ae2480574b85d2e611c\" alt=\"スクリーンショット 2023-04-15 0.53.15.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4aff7c23-c958-5ea9-e47a-99fca054afd0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9556c706d4dd3c76cf4e7af68b1fb480 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4aff7c23-c958-5ea9-e47a-99fca054afd0.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"368:1-369:54\"\u003e動いてそうですね👌\u003cbr\u003e\nこれでGrapQLサーバーの設定が完了です。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"371:1-371:8\"\u003e\n\u003cspan id=\"次回\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%AC%A1%E5%9B%9E\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e次回\u003c/h1\u003e\n\u003cp data-sourcepos=\"373:1-373:54\"\u003e次はフロント側の設定をしていきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"375:1-375:53\"\u003e\u003ciframe id=\"qiita-embed-content__fd8a2cc7a846d0cb8541419ad8c31d5a\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__fd8a2cc7a846d0cb8541419ad8c31d5a\" data-content=\"https%3A%2F%2Fqiita.com%2Fmaaaashi%2Fitems%2F5c63398a34ac3ea8ddad\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cul data-sourcepos=\"377:1-379:28\"\u003e\n\u003cli data-sourcepos=\"377:1-379:28\"\u003e後編\n\u003col data-sourcepos=\"378:5-379:28\"\u003e\n\u003cli data-sourcepos=\"378:5-378:28\"\u003eフロント側準備\u003c/li\u003e\n\u003cli data-sourcepos=\"379:5-379:28\"\u003eフロント側実装\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n",
    "body": "# はじめに\n\n最近GraphQLについて学びまして、\nNext.js + GraphQL + GraphQL CodeGenerator + Prismaの構成でTodoアプリを構築したので\n軽〜く解説をしつつ、その記録をここに残します。\n\n![スクリーンショット 2023-04-15 20.58.42.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/d9c686d4-ca7f-fec9-a91c-1b050cfaafff.png)\n\n# 環境\n\n- Macbook Air\n- node\n    - v18.13.0\n- pnpm\n    - 7.27.0\n\n# 目次\n\n- [前編](https://qiita.com/maaaashi/items/fe52db19759ea8a0be31)\n    1. Next Create App\n    1. GraphQLサーバー構築\n    1. Subscription\n    1. DB・Prisma\n- [中編](https://qiita.com/maaaashi/items/722d75cf8bd25efded88) 👈 今ここ\n    1. GraphQL Schema\n    1. GraphQL Context\n    1. GraphQL Code Generator\n    1. GraphQL Resolver\n    1. GraphQLサーバー修正\n- [後編](https://qiita.com/maaaashi/items/5c63398a34ac3ea8ddad)\n    1. フロント側準備\n    1. フロント側実装\n\n# 中編\n\n中編はGraphQLフェーズです\n\n## 1. GraphQL Schema\n\n```bash\n.\n├── src\n│   ├── graphql\n│   │   ├── typeDefs\n│   │   │   ├─ common.graphql\n│   │   │   └─ todo.graphql\n│   │   │\n```\n\nこのようなファイル構成で作成します。\n`common.graphql`には今後schemaが増えてきた時のために、共通のschemaを定義しようと思います。\n\n- schema\n    - Query\n        - ListTodos: Todo一覧を取得する\n    - Mutation\n        - addTodo: contentを元にTodoを作成する\n        - updateTodo: idとdoneから、todoの状態を更新する\n        - deleteTodo: idから、todoを削除する\n\n- create file\n    \n    ```bash\n    $ mkdir src/graphql src/graphql/typeDefs\n    $ touch src/graphql/typeDefs/todo.graphql src/graphql/typeDefs/common.graphql\n    ```\n- edit file\n\n    ```graphql: todo.graphql\n    type Todo {\n      id: ID!\n      content: String!\n      done: Boolean!\n      createdAt: DateTime\n    }\n    \n    type Query {\n      listTodos: [Todo!]!\n    }\n    \n    type Mutation {\n      addTodo(content: String!): Todo!\n      updateTodo(id: ID!, done: Boolean!): Todo!\n      deleteTodo(id: ID!): Todo!\n    }\n    \n    fragment TodoFragment on Todo {\n      id\n      content\n      done\n      createdAt\n    }\n    \n    query ListTodos {\n      listTodos {\n        ...TodoFragment\n      }\n    }\n    \n    mutation AddTodo($content: String!) {\n      addTodo(content: $content) {\n        ...TodoFragment\n      }\n    }\n    \n    mutation UpdateTodo($id: ID!, $done: Boolean!) {\n      updateTodo(id: $id, done: $done) {\n        ...TodoFragment\n      }\n    }\n    \n    mutation DeleteTodo($id: ID!) {\n      deleteTodo(id: $id) {\n        ...TodoFragment\n      }\n    }\n    ```\n    \n    ```graphql: common.graphql\n    scalar DateTime\n    ```\n\n## 2. GraphQL Contextの設定\n\n```bash\n.\n├── src\n│   ├── graphql\n│   │   ├── context\n│   │   │   ├── index.ts\n```\n\n- create file\n    \n    ```bash\n    $ mkdir src/graphql/context\n    $ touch src/graphql/context/index.ts\n    ```\n\n- edit file\n    \n    ```typescript: src/graphql/context/index.ts\n    import { PrismaClient } from \"@prisma/client\";\n    \n    const prisma = new PrismaClient();\n    \n    export type Context = {\n      prisma: typeof prisma;\n    };\n    \n    export const createContext = () =\u003e {\n      return {\n        prisma: prisma,\n      };\n    };\n    ```\n\n## 3. GraphQL Code Generator\n\nhttps://the-guild.dev/graphql/codegen\n\n```bash\n.\n├── src\n│   ├── graphql\n|   |   ├── typeDefs\n|   |   |   ├── common.graphql\n|   |   |   └── todo.graphql\n│   │   ├── context\n│   │   │   ├── index.ts\n```\n\n:::note info\ninitのコマンドも用意されていますが、pluginsを入れたりしたいので、マニュアルセットアップしていきます\n:::\n\nhttps://the-guild.dev/graphql/codegen/plugins\n\n\n- install\n    \n    ```\n    # dependencies\n    $ pnpm add graphql @graphql-tools/graphql-file-loader @graphql-tools/load @graphql-tools/schema\n    \n    # devDependencies\n    pnpm add -D @graphql-codegen/cli @graphql-codegen/schema-ast @graphql-codegen/typescript @graphql-codegen/typescript-resolvers @graphql-codegen/typescript-operations @graphql-codegen/typescript-react-apollo ts-node\n    ```\n\n- create codegen.yml    \n    \n    ```bash\n    $ touch codegen.yml\n    ```\n    \n    ```yaml: codegen.yml\n    generates:\n      src/generated/schema.graphql:\n        schema:\n          - \"src/graphql/typeDefs/**/*.graphql\"\n        plugins:\n          - schema-ast\n      src/generated/resolvers-types.ts:\n        schema:\n          - \"src/graphql/typeDefs/**/*.graphql\"\n        plugins:\n          - typescript\n          - typescript-resolvers\n        config:\n          contextType: \"@/graphql/context/#Context\"\n          mapperTypeSuffix: Model\n          mappers:\n            Todo: \"@prisma/client#Todo\"\n          scalars:\n            DateTime: string\n      src/generated/request.ts:\n        schema:\n          - \"src/graphql/typeDefs/**/*.graphql\"\n        documents:\n          - \"src/graphql/typeDefs/**/*.graphql\"\n        plugins:\n          - typescript\n          - typescript-operations\n          - typescript-react-apollo\n        config:\n          scalars:\n            DateTime: string\n    \n    ```\n\n- run graphql-codegen\n    \n    ```bash\n    $ pnpm graphql-codegen\n    ✔ Parse Configuration\n    ✔ Generate outputs\n    ```\n\n    実行すると以下のような構成でresolver用の型定義ファイルなどが生成されます\n    \n    ```bash\n    .\n    ├── src\n    │   ├── generated\n    │   │   ├── request.ts\n    │   │   ├── resolvers-type.ts\n    │   │   └── schema.graphql\n    ```\n\n# 4. GraphQL Resolver\n\n```bash\n.\n├── src\n│   ├── graphql\n│   │   ├── resolvers\n│   │   │   └─ index.ts\n│   │   │\n```\n\n- create file\n\n    ```bash\n    $ mkdir src/graphql/resolvers\n    $ touch src/graphql/resolvers/index.ts\n    ```\n\n- edit file\n    \n    **3. GraphQL Code Generator**で作成した`resolvers-types`を利用してresolverを設定していきます。\n    \n    ```typescript:  src/graphql/resolvers/index.ts\n    import { Resolvers } from \"@/generated/resolvers-types\";\n    \n    export const resolvers: Resolvers = {\n      Query: {\n        listTodos: async (_parent, _args, { prisma }) =\u003e {\n          return await prisma.todo.findMany();\n        },\n      },\n      Mutation: {\n        addTodo: async (_parent, { content }, { prisma }) =\u003e {\n          return await prisma.todo.create({\n            data: { content, createdAt: new Date().toISOString() },\n          });\n        },\n        updateTodo: async (_parent, { id, done }, { prisma }) =\u003e {\n          return await prisma.todo.update({\n            where: { id },\n            data: { done },\n          });\n        },\n        deleteTodo: async (_parent, { id }, { prisma }) =\u003e {\n          return await prisma.todo.delete({\n            where: { id },\n          });\n        },\n      },\n    };\n    ```\n\n::: note info\n### GraphQL Code Generatorを使うメリット\n\n1. 型定義がされているので、このように補完を利用することができます。\n    \n    ![スクリーンショット 2023-04-16 10.29.17.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/edd1b1dc-663b-867c-4184-7c52719e1747.png)\n\n2. 型安全性\n\n    試しにエラーを発生させてみましょう。\n    \n    Todoを返すはずの`addTodo`で、文字列を返すとこのようにエラーが表示されます。\n    ![スクリーンショット 2023-04-16 10.31.30.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/324f73bf-72ad-4d7f-b03d-8aa327653a87.png)\n    \n    予定されていない引数を利用しようとすると、このようにエラーが表示されます。\n    ![スクリーンショット 2023-04-16 10.32.37.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/37c1b9b8-aecb-6824-e0f9-ed6a1e3f8aa9.png)\n\n`GraphQL Code Generator`を使わなくても実装はできますが、使う事でより安全にコーディングが進められますし、何か元schemaファイルを修正した際に、影響範囲を型で考えることができます。\n:::\n\n## 5. GraphQLサーバー修正\n\n**3. GraphQL Code Generator**及び、**4. GraphQL Resolver**で作成したファイルをインポートしていきます。\n\n```typescript: api/graphql.ts\nimport { createYoga, createSchema } from \"graphql-yoga\";\nimport { readFileSync } from \"fs\";\nimport { join } from \"path\";\nimport { resolvers } from \"@/graphql/resolvers\";\nimport { createContext } from \"@/graphql/context\";\n\nconst path = join(process.cwd(), \"src\", \"generated\", \"schema.graphql\");\nconst typeDefs = readFileSync(path).toString(\"utf-8\");\n\nconst schema = createSchema({\n  typeDefs,\n  resolvers,\n})\n\nconst graphqlEndpoint = \"/api/graphql\";\n\nexport default createYoga({\n  graphqlEndpoint,\n  schema,\n  context: createContext,\n});\n```\n\n[localhost:3000/api/graphql](http://localhost:3000/api/graphql)にアクセスし、Queryを叩いてみましょう。\n\n1. addTodo\n    \n    ![スクリーンショット 2023-04-15 0.51.43.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/53308c85-5e89-a283-4e78-06bf0e5e9b6a.png)\n\n2. listTodo\n    \n    ![スクリーンショット 2023-04-15 0.52.17.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/8d2d04d6-a4da-7236-6dd8-207f6fef147a.png)\n\n3. deleteTodo\n    \n    ![スクリーンショット 2023-04-15 0.52.53.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f510d440-5201-5ee6-19b3-98af1402733e.png)\n\n4. listTodo\n    \n    ![スクリーンショット 2023-04-15 0.53.15.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4aff7c23-c958-5ea9-e47a-99fca054afd0.png)\n\n動いてそうですね👌\nこれでGrapQLサーバーの設定が完了です。\n\n# 次回\n\n次はフロント側の設定をしていきます。\n\nhttps://qiita.com/maaaashi/items/5c63398a34ac3ea8ddad\n\n- 後編\n    1. フロント側準備\n    1. フロント側実装\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-04-16T10:43:16+09:00",
    "group": null,
    "id": "722d75cf8bd25efded88",
    "likes_count": 7,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 1,
    "tags": [
      { "name": "TypeScript", "versions": [] },
      { "name": "GraphQL", "versions": [] },
      { "name": "apollo", "versions": [] },
      { "name": "Next.js", "versions": [] },
      { "name": "graphql-codegen", "versions": [] }
    ],
    "title": "Next.js + GrapqhQLでTodoアプリを構築する(中編)",
    "updated_at": "2023-04-17T08:56:58+09:00",
    "url": "https://qiita.com/maaaashi/items/722d75cf8bd25efded88",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-5:60\"\u003e最近GraphQLについて学びまして、\u003cbr\u003e\nNext.js + GraphQL + GraphQL CodeGenerator + Prismaの構成でTodoアプリを構築したので\u003cbr\u003e\n解説をしつつ、その記録をここに残します。\u003c/p\u003e\n\u003cp data-sourcepos=\"7:1-7:164\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fba3aad5a-743d-1dd6-245f-86986e601c3f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c2388783f56111d80731d8e388f554fb\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fba3aad5a-743d-1dd6-245f-86986e601c3f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c2388783f56111d80731d8e388f554fb\" alt=\"スクリーンショット 2023-04-15 20.58.42.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fba3aad5a-743d-1dd6-245f-86986e601c3f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=1aadff051c98d88c6e93b59c7f8ebb02 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/ba3aad5a-743d-1dd6-245f-86986e601c3f.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch1 data-sourcepos=\"9:1-9:8\"\u003e\n\u003cspan id=\"環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e環境\u003c/h1\u003e\n\u003cul data-sourcepos=\"11:1-16:0\"\u003e\n\u003cli data-sourcepos=\"11:1-11:13\"\u003eMacbook Air\u003c/li\u003e\n\u003cli data-sourcepos=\"12:1-13:14\"\u003enode\n\u003cul data-sourcepos=\"13:5-13:14\"\u003e\n\u003cli data-sourcepos=\"13:5-13:14\"\u003ev18.13.0\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"14:1-16:0\"\u003epnpm\n\u003cul data-sourcepos=\"15:5-16:0\"\u003e\n\u003cli data-sourcepos=\"15:5-16:0\"\u003e7.27.0\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 data-sourcepos=\"17:1-17:8\"\u003e\n\u003cspan id=\"目次\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%9B%AE%E6%AC%A1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e目次\u003c/h1\u003e\n\u003cul data-sourcepos=\"19:1-33:0\"\u003e\n\u003cli data-sourcepos=\"19:1-23:18\"\u003e\n\u003ca href=\"https://qiita.com/maaaashi/items/fe52db19759ea8a0be31\"\u003e前編\u003c/a\u003e 👈 今ここ\n\u003col data-sourcepos=\"20:5-23:18\"\u003e\n\u003cli data-sourcepos=\"20:5-20:22\"\u003eNext Create App\u003c/li\u003e\n\u003cli data-sourcepos=\"21:5-21:32\"\u003eGraphQLサーバー構築\u003c/li\u003e\n\u003cli data-sourcepos=\"22:5-22:19\"\u003eSubscription\u003c/li\u003e\n\u003cli data-sourcepos=\"23:5-23:18\"\u003eDB・Prisma\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"24:1-29:32\"\u003e\n\u003ca href=\"https://qiita.com/maaaashi/items/722d75cf8bd25efded88\" id=\"reference-53ae5090168eb3dd06e6\"\u003e中編\u003c/a\u003e\n\u003col data-sourcepos=\"25:5-29:32\"\u003e\n\u003cli data-sourcepos=\"25:5-25:21\"\u003eGraphQL Schema\u003c/li\u003e\n\u003cli data-sourcepos=\"26:5-26:22\"\u003eGraphQL Context\u003c/li\u003e\n\u003cli data-sourcepos=\"27:5-27:29\"\u003eGraphQL Code Generator\u003c/li\u003e\n\u003cli data-sourcepos=\"28:5-28:23\"\u003eGraphQL Resolver\u003c/li\u003e\n\u003cli data-sourcepos=\"29:5-29:32\"\u003eGraphQLサーバー修正\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"30:1-33:0\"\u003e\n\u003ca href=\"https://qiita.com/maaaashi/items/5c63398a34ac3ea8ddad\" id=\"reference-7746fa5cd0cd4d72f123\"\u003e後編\u003c/a\u003e\n\u003col data-sourcepos=\"31:5-33:0\"\u003e\n\u003cli data-sourcepos=\"31:5-31:28\"\u003eフロント側準備\u003c/li\u003e\n\u003cli data-sourcepos=\"32:5-33:0\"\u003eフロント側実装\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 data-sourcepos=\"34:1-34:8\"\u003e\n\u003cspan id=\"前編\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%89%8D%E7%B7%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e前編\u003c/h1\u003e\n\u003cp data-sourcepos=\"36:1-36:36\"\u003e前編は準備フェーズです。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"38:1-38:21\"\u003e\n\u003cspan id=\"1-next-create-app\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-next-create-app\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. Next Create App\u003c/h2\u003e\n\u003cul data-sourcepos=\"40:1-63:0\"\u003e\n\u003cli data-sourcepos=\"40:1-63:0\"\u003e\n\u003cp data-sourcepos=\"40:3-40:12\"\u003ecreate app\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"42:5-58:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003epnpm create next-app nextjs-sample-graphql \u003cspan class=\"nt\"\u003e--typescript\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# ESLintを使うかどうか・・・Yes\u003c/span\u003e\n✔ Would you like to use ESLint with this project? … Yes\n\u003cspan class=\"c\"\u003e# TailwindCSSを使うかどうか・・・Yes\u003c/span\u003e\n✔ Would you like to use Tailwind CSS with this project? … Yes\n\u003cspan class=\"c\"\u003e# srcディレクトリを使うかどうか・・・Yes\u003c/span\u003e\n✔ Would you like to use \u003cspan class=\"sb\"\u003e`\u003c/span\u003esrc/\u003cspan class=\"sb\"\u003e`\u003c/span\u003e directory with this project? … Yes\n\u003cspan class=\"c\"\u003e# appディレクトリを使うかどうか・・・No\u003c/span\u003e\n✔ Would you like to use experimental \u003cspan class=\"sb\"\u003e`\u003c/span\u003eapp/\u003cspan class=\"sb\"\u003e`\u003c/span\u003e directory with this project? … No\n\u003cspan class=\"c\"\u003e# エイリアス設定・・・@/*\u003c/span\u003e\n✔ What import \u003cspan class=\"nb\"\u003ealias \u003c/span\u003ewould you like configured? … @/\u003cspan class=\"k\"\u003e*\u003c/span\u003e\n\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003ecd \u003c/span\u003enextjs-sample-graphql\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003epnpm run dev\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"60:5-60:79\"\u003e\u003ca href=\"http://localhost:3000\" rel=\"nofollow noopener\" target=\"_blank\"\u003elocalhost:3000\u003c/a\u003eでサーバーが起動します。\u003c/p\u003e\n\u003cp data-sourcepos=\"62:5-62:168\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa30f1cde-31c1-6320-fe0d-1e5512e7330c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=cd3bcbe74f0dbb730ee2a462c2b0fa2c\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa30f1cde-31c1-6320-fe0d-1e5512e7330c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=cd3bcbe74f0dbb730ee2a462c2b0fa2c\" alt=\"スクリーンショット 2023-04-15 12.43.47.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa30f1cde-31c1-6320-fe0d-1e5512e7330c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=57fdef49b2084202555255e3f9b136bd 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a30f1cde-31c1-6320-fe0d-1e5512e7330c.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 data-sourcepos=\"64:1-64:31\"\u003e\n\u003cspan id=\"2-graphqlサーバー構築\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-graphql%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E6%A7%8B%E7%AF%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. GraphQLサーバー構築\u003c/h2\u003e\n\u003cul data-sourcepos=\"66:1-120:0\"\u003e\n\u003cli data-sourcepos=\"66:1-71:0\"\u003e\n\u003cp data-sourcepos=\"66:3-66:9\"\u003einstall\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"68:5-70:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003epnpm add graphql graphql-yoga\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"72:1-120:0\"\u003e\n\u003cp data-sourcepos=\"72:3-72:36\"\u003eGraphQL Server on \u003ccode\u003eapi/graphql.ts\u003c/code\u003e\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"74:5-108:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e src/pages/api/graphql.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreateYoga\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreateSchema\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003egraphql-yoga\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eNextApiRequest\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eNextApiResponse\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003enext\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eYogaSchemaDefinition\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003egraphql-yoga/typings/plugins/useSchema\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003econfig\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eapi\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ebodyParser\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003efalse\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eschema\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003ecreateSchema\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n  \u003cspan class=\"na\"\u003etypeDefs\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"cm\"\u003e/* GraphQL */\u003c/span\u003e \u003cspan class=\"s2\"\u003e`\n    type Query {\n      greetings: String\n    }\n  `\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eresolvers\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eQuery\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"na\"\u003egreetings\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eThis is the `greetings` field of the root `Query` type\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e \u003cspan class=\"kd\"\u003eas \u003c/span\u003e\u003cspan class=\"nx\"\u003eYogaSchemaDefinition\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ereq\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eNextApiRequest\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eres\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eNextApiResponse\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreateYoga\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ereq\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eNextApiRequest\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eres\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eNextApiResponse\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003eschema\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003egraphqlEndpoint\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e/api/graphql\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"110:5-110:67\"\u003e\u003ca href=\"http://localhost:3000/api/graphql\" rel=\"nofollow noopener\" target=\"_blank\"\u003elocalhost:3000/api/graphql\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"112:5-112:126\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa79417f2-bcb0-fd08-1a35-d2a1ba9c9f5c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7089633ffa045b9f27e1f2b505d49777\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa79417f2-bcb0-fd08-1a35-d2a1ba9c9f5c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7089633ffa045b9f27e1f2b505d49777\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa79417f2-bcb0-fd08-1a35-d2a1ba9c9f5c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=751f49cdf54e837fdb804bcd83e95dd9 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a79417f2-bcb0-fd08-1a35-d2a1ba9c9f5c.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"114:5-115:42\"\u003eYogaGraphQLサーバーが立ち上がっています。\u003cbr\u003e\n試しにQueryを叩いてみます。\u003c/p\u003e\n\u003cp data-sourcepos=\"117:5-117:126\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbf702a0e-d875-1e1f-8615-0b5584b72d0a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ce70b9e8455502a696995ee983ad1df1\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbf702a0e-d875-1e1f-8615-0b5584b72d0a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=ce70b9e8455502a696995ee983ad1df1\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbf702a0e-d875-1e1f-8615-0b5584b72d0a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=253c92f073f8e6c9b27f2dfcb35bb36c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/bf702a0e-d875-1e1f-8615-0b5584b72d0a.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"119:5-119:35\"\u003eちゃんと叩けました👍\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 data-sourcepos=\"121:1-121:18\"\u003e\n\u003cspan id=\"3-subscription\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-subscription\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. Subscription\u003c/h2\u003e\n\u003cdiv data-sourcepos=\"123:1-125:3\" class=\"note warn\"\u003e\n\u003cspan class=\"fa fa-fw fa-exclamation-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"124:1-124:236\"\u003eNext.jsのAPIルートではWebSocketsを使うことができません。GraphQL API、WebSocket、および残りの Next.js コンテンツを使うためには、Next.jsカスタムサーバーを作成する必要があります。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cblockquote data-sourcepos=\"127:1-127:229\"\u003e\n\u003cp data-sourcepos=\"127:3-127:229\"\u003e引用: WebSockets cannot be used with Next.js API Routes(opens in a new tab), we therefore have to create a custom Next.js server(opens in a new tab) that will serve the GraphQL API, WebSockets and the rest of Next.js content.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp data-sourcepos=\"129:1-129:185\"\u003e今回はAPIルートにGraphQLサーバーを構築し、Todoアプリを作っていきたいので、\u003ccode\u003eSubscription\u003c/code\u003eの機能は使わない事にし、この設定はSKIPします。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"131:1-131:17\"\u003e\n\u003cspan id=\"4-dbprisma\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#4-dbprisma\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e4. DB・Prisma\u003c/h2\u003e\n\u003cul data-sourcepos=\"133:1-134:0\"\u003e\n\u003cli data-sourcepos=\"133:1-134:0\"\u003eDBには\u003ccode\u003ePostgreSQL\u003c/code\u003eを採用しました\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 data-sourcepos=\"135:1-135:19\"\u003e\n\u003cspan id=\"4-1-postgresql\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#4-1-postgresql\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e4-1. PostgreSQL\u003c/h3\u003e\n\u003cul data-sourcepos=\"137:1-164:0\"\u003e\n\u003cli data-sourcepos=\"137:1-164:0\"\u003e\n\u003cp data-sourcepos=\"137:3-137:34\"\u003ecompose.ymlファイルの作成\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"139:5-141:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003etouch \u003c/span\u003ecompose.yml\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yml\" data-sourcepos=\"143:5-159:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e compose.yml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eversion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\u003c/span\u003e\u003cspan class=\"s\"\u003e3.9'\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003eservices\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003edb\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003epostgres:15.1\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eports\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003e5432:5432\u003c/span\u003e\n    \u003cspan class=\"na\"\u003evolumes\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003epostgres:/var/lib/postgresql/data\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003ePOSTGRES_USER=user\u003c/span\u003e           \u003cspan class=\"c1\"\u003e# 自分で変更してください\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003ePOSTGRES_PASSWORD=password\u003c/span\u003e   \u003cspan class=\"c1\"\u003e# 自分で変更してください\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003ePOSTGRES_DB=graphql-todo\u003c/span\u003e     \u003cspan class=\"c1\"\u003e# 自分で変更してください\u003c/span\u003e\n\u003cspan class=\"na\"\u003evolumes\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003epostgres\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"161:5-163:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003edocker compose up \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 data-sourcepos=\"165:1-165:21\"\u003e\n\u003cspan id=\"4-2-prisma設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#4-2-prisma%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e4-2. Prisma設定\u003c/h3\u003e\n\u003cdiv data-sourcepos=\"167:1-169:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"168:1-168:76\"\u003eprismaとはNodejs, TypeScriptで使えるORM(ObjectRelationalMapping)です\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"171:1-171:22\"\u003e\u003ciframe id=\"qiita-embed-content__97c69562f5d21fe4fb18220790812a07\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__97c69562f5d21fe4fb18220790812a07\" data-content=\"https%3A%2F%2Fwww.prisma.io%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cul data-sourcepos=\"173:1-192:0\"\u003e\n\u003cli data-sourcepos=\"173:1-178:0\"\u003e\n\u003cp data-sourcepos=\"173:3-173:9\"\u003einstall\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"175:5-177:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003epnpm add prisma @prisma/client\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"179:1-192:0\"\u003e\n\u003cp data-sourcepos=\"179:3-179:6\"\u003einit\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"181:5-183:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003epnpm prisma init\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"185:5-185:46\"\u003e.envに\u003ccode\u003eDATABASE_URL\u003c/code\u003eを記述します。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\".env\" data-sourcepos=\"188:5-190:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e.env\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eDATABASE_URL=\"postgresql://user:password@localhost:5432/graphql-todo?schema=public\"\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv data-sourcepos=\"193:1-199:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"194:1-194:58\"\u003eurlは、\u003ccode\u003ecompose.yml\u003c/code\u003eで設定した変数を用いて、\u003c/p\u003e\n\u003cp data-sourcepos=\"196:1-196:99\"\u003epostgresql://\u003ccode\u003e${POSTGRES_USER}\u003c/code\u003e:\u003ccode\u003e${POSTGRES_PASSWORD}\u003c/code\u003e\u003ca href=\"/localhost\" class=\"user-mention js-hovercard\" title=\"localhost\" data-hovercard-target-type=\"user\" data-hovercard-target-name=\"localhost\"\u003e@localhost\u003c/a\u003e:5432/\u003ccode\u003e${POSTGRES_DB}\u003c/code\u003eschema=public\u003c/p\u003e\n\u003cp data-sourcepos=\"198:1-198:18\"\u003eになります。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cul data-sourcepos=\"201:1-257:0\"\u003e\n\u003cli data-sourcepos=\"201:1-223:0\"\u003e\n\u003cp data-sourcepos=\"201:3-201:27\"\u003eTodoテーブルの作成\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"diff\" data-sourcepos=\"203:5-222:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e prisma/schema.prisma\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e// This is your Prisma schema file,\n// learn more about it in the docs: https://pris.ly/d/prisma-schema\n\u003cspan class=\"err\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003egenerator client {\n\u003c/span\u003e  provider = \"prisma-client-js\"\n}\n\u003cspan class=\"err\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003edatasource db {\n\u003c/span\u003e  provider = \"postgresql\"\n  url      = env(\"DATABASE_URL\")\n}\n\u003cspan class=\"err\"\u003e\n\u003c/span\u003e\u003cspan class=\"gi\"\u003e+ model Todo {\n+   id        String  @id @default(cuid())\n+   content   String\n+   done      Boolean @default(false)\n+   createdAt String\n+ }\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"224:1-257:0\"\u003e\n\u003cp data-sourcepos=\"224:3-224:9\"\u003emigrate\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"226:5-242:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003epnpm prisma migrate dev\nEnvironment variables loaded from .env\nPrisma schema loaded from prisma/schema.prisma\nDatasource \u003cspan class=\"s2\"\u003e\"db\"\u003c/span\u003e: PostgreSQL database \u003cspan class=\"s2\"\u003e\"graphql-todo\"\u003c/span\u003e, schema \u003cspan class=\"s2\"\u003e\"public\"\u003c/span\u003e at \u003cspan class=\"s2\"\u003e\"localhost:5432\"\u003c/span\u003e\n\n? Enter a name \u003cspan class=\"k\"\u003efor \u003c/span\u003ethe new migration: › addTodoTable \nApplying migration \u003cspan class=\"sb\"\u003e`\u003c/span\u003e20230413102125_add_todo_table\u003cspan class=\"sb\"\u003e`\u003c/span\u003e\n\nThe following migration\u003cspan class=\"o\"\u003e(\u003c/span\u003es\u003cspan class=\"o\"\u003e)\u003c/span\u003e have been created and applied from new schema changes:\n\nmigrations/\n  └─ 20230413102125_add_todo_table/\n    └─ migration.sql\n\nYour database is now \u003cspan class=\"k\"\u003ein \u003c/span\u003e\u003cspan class=\"nb\"\u003esync \u003c/span\u003ewith your schema.\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv data-sourcepos=\"244:5-258:24\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"245:5-246:147\"\u003emigrateが成功すると、\u003ccode\u003eprisma/\u003c/code\u003eに\u003ccode\u003emigrations\u003c/code\u003eディレクトリが作成され、中に実行されたSQLが入ったmigrationファイルが作成されます。\u003cbr\u003e\nRubyOnRailsのORMである、\u003ccode\u003eActive Record\u003c/code\u003eに慣れている人には割とイメージしやすいファイル構成かもしれません。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"248:5-256:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\n├── prisma\n│   ├── migrations\n│   │   ├── yyyyMMddhhmmss\n│   │   │   └─ migration.sql\n│   │   └─ migration_lock.toml\n|   └─ prisma.schema\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cul data-sourcepos=\"258:1-268:0\"\u003e\n\u003cli data-sourcepos=\"258:1-268:0\"\u003e\n\u003cp data-sourcepos=\"258:3-258:24\"\u003eprisma studioの起動\u003c/p\u003e\n\u003cp data-sourcepos=\"260:5-260:148\"\u003eprismaには入っているデータの検索、操作を簡単に行える\u003ccode\u003eprisma studio\u003c/code\u003eというものが標準で用意されています。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"262:5-264:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003epnpm prisma studio\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"266:5-266:168\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F284e1ddc-8f6e-ccc5-2427-b8af1698d5a9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=29797c0ebd76c364ef11f3261d76a58f\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F284e1ddc-8f6e-ccc5-2427-b8af1698d5a9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=29797c0ebd76c364ef11f3261d76a58f\" alt=\"スクリーンショット 2023-04-15 20.28.22.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F284e1ddc-8f6e-ccc5-2427-b8af1698d5a9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=3e0f5a79c6f1c3663b041ff9168b35f3 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/284e1ddc-8f6e-ccc5-2427-b8af1698d5a9.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 data-sourcepos=\"269:1-269:17\"\u003e\n\u003cspan id=\"次回-graphql\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%AC%A1%E5%9B%9E-graphql\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e次回: GraphQL\u003c/h1\u003e\n\u003cp data-sourcepos=\"271:1-271:53\"\u003e\u003ciframe id=\"qiita-embed-content__af2723a4327f95bd2f2733f65a512c81\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__af2723a4327f95bd2f2733f65a512c81\" data-content=\"https%3A%2F%2Fqiita.com%2Fmaaaashi%2Fitems%2F722d75cf8bd25efded88\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cul data-sourcepos=\"273:1-279:0\"\u003e\n\u003cli data-sourcepos=\"273:1-279:0\"\u003e中編\n\u003col data-sourcepos=\"274:5-279:0\"\u003e\n\u003cli data-sourcepos=\"274:5-274:21\"\u003eGraphQL Schema\u003c/li\u003e\n\u003cli data-sourcepos=\"275:5-275:22\"\u003eGraphQL Context\u003c/li\u003e\n\u003cli data-sourcepos=\"276:5-276:29\"\u003eGraphQL Code Generator\u003c/li\u003e\n\u003cli data-sourcepos=\"277:5-277:23\"\u003eGraphQL Resolver\u003c/li\u003e\n\u003cli data-sourcepos=\"278:5-279:0\"\u003eGraphQLサーバー修正\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n",
    "body": "# はじめに\n\n最近GraphQLについて学びまして、\nNext.js + GraphQL + GraphQL CodeGenerator + Prismaの構成でTodoアプリを構築したので\n解説をしつつ、その記録をここに残します。\n\n![スクリーンショット 2023-04-15 20.58.42.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/ba3aad5a-743d-1dd6-245f-86986e601c3f.png)\n\n# 環境\n\n- Macbook Air\n- node\n    - v18.13.0\n- pnpm\n    - 7.27.0\n\n# 目次\n\n- [前編](https://qiita.com/maaaashi/items/fe52db19759ea8a0be31) 👈 今ここ\n    1. Next Create App\n    1. GraphQLサーバー構築\n    1. Subscription\n    1. DB・Prisma\n- [中編](https://qiita.com/maaaashi/items/722d75cf8bd25efded88)\n    1. GraphQL Schema\n    1. GraphQL Context\n    1. GraphQL Code Generator\n    1. GraphQL Resolver\n    1. GraphQLサーバー修正\n- [後編](https://qiita.com/maaaashi/items/5c63398a34ac3ea8ddad)\n    1. フロント側準備\n    1. フロント側実装\n\n# 前編\n\n前編は準備フェーズです。\n\n## 1. Next Create App\n\n- create app\n    \n    ```bash\n    $ pnpm create next-app nextjs-sample-graphql --typescript\n    \n    # ESLintを使うかどうか・・・Yes\n    ✔ Would you like to use ESLint with this project? … Yes\n    # TailwindCSSを使うかどうか・・・Yes\n    ✔ Would you like to use Tailwind CSS with this project? … Yes\n    # srcディレクトリを使うかどうか・・・Yes\n    ✔ Would you like to use `src/` directory with this project? … Yes\n    # appディレクトリを使うかどうか・・・No\n    ✔ Would you like to use experimental `app/` directory with this project? … No\n    # エイリアス設定・・・@/*\n    ✔ What import alias would you like configured? … @/*\n    \n    $ cd nextjs-sample-graphql\n    $ pnpm run dev\n    ```\n\n    [localhost:3000](http://localhost:3000)でサーバーが起動します。\n\n    ![スクリーンショット 2023-04-15 12.43.47.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a30f1cde-31c1-6320-fe0d-1e5512e7330c.png)\n\n## 2. GraphQLサーバー構築\n\n* install\n    \n    ```bash\n    $ pnpm add graphql graphql-yoga\n    ```\n\n* GraphQL Server on `api/graphql.ts`\n\n    ```typescript: src/pages/api/graphql.ts\n    import { createYoga, createSchema } from 'graphql-yoga'\n    import type { NextApiRequest, NextApiResponse } from 'next'\n    import { YogaSchemaDefinition } from 'graphql-yoga/typings/plugins/useSchema';\n    \n    export const config = {\n      api: {\n        bodyParser: false\n      }\n    }\n    \n    const schema = createSchema({\n      typeDefs: /* GraphQL */ `\n        type Query {\n          greetings: String\n        }\n      `,\n      resolvers: {\n        Query: {\n          greetings: () =\u003e 'This is the `greetings` field of the root `Query` type'\n        }\n      }\n    }) as YogaSchemaDefinition\u003c{\n      req: NextApiRequest;\n      res: NextApiResponse;\n    }\u003e\n    \n    export default createYoga\u003c{\n      req: NextApiRequest\n      res: NextApiResponse\n    }\u003e({\n      schema,\n      graphqlEndpoint: '/api/graphql'\n    })\n    ```\n\n    [localhost:3000/api/graphql](http://localhost:3000/api/graphql)\n    \n    ![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a79417f2-bcb0-fd08-1a35-d2a1ba9c9f5c.png)\n\n    YogaGraphQLサーバーが立ち上がっています。\n    試しにQueryを叩いてみます。\n    \n    ![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/bf702a0e-d875-1e1f-8615-0b5584b72d0a.png)\n    \n    ちゃんと叩けました👍\n\n## 3. Subscription\n\n::: note warn\nNext.jsのAPIルートではWebSocketsを使うことができません。GraphQL API、WebSocket、および残りの Next.js コンテンツを使うためには、Next.jsカスタムサーバーを作成する必要があります。\n:::\n\n\u003e 引用: WebSockets cannot be used with Next.js API Routes(opens in a new tab), we therefore have to create a custom Next.js server(opens in a new tab) that will serve the GraphQL API, WebSockets and the rest of Next.js content.\n\n今回はAPIルートにGraphQLサーバーを構築し、Todoアプリを作っていきたいので、`Subscription`の機能は使わない事にし、この設定はSKIPします。\n\n## 4. DB・Prisma\n\n- DBには`PostgreSQL`を採用しました\n\n### 4-1. PostgreSQL\n\n* compose.ymlファイルの作成\n    \n    ```bash\n    $ touch compose.yml\n    ```\n    \n    ```yml: compose.yml\n    version: '3.9'\n    \n    services:\n      db:\n        image: postgres:15.1\n        ports:\n          - 5432:5432\n        volumes:\n          - postgres:/var/lib/postgresql/data\n        environment:\n          - POSTGRES_USER=user           # 自分で変更してください\n          - POSTGRES_PASSWORD=password   # 自分で変更してください\n          - POSTGRES_DB=graphql-todo     # 自分で変更してください\n    volumes:\n      postgres:\n    ```\n    \n    ```bash\n    docker compose up -d\n    ```\n\n### 4-2. Prisma設定\n\n::: note info\nprismaとはNodejs, TypeScriptで使えるORM(ObjectRelationalMapping)です\n:::\n\nhttps://www.prisma.io/\n\n* install\n    \n    ```bash\n    pnpm add prisma @prisma/client\n    ```\n\n* init\n    \n    ```bash\n    pnpm prisma init\n    ```\n\n    .envに`DATABASE_URL`を記述します。\n\n\n    ```.env:.env\n    DATABASE_URL=\"postgresql://user:password@localhost:5432/graphql-todo?schema=public\"\n    ```\n\n\n:::note info\nurlは、`compose.yml`で設定した変数を用いて、\n\npostgresql://`${POSTGRES_USER}`:`${POSTGRES_PASSWORD}`@localhost:5432/`${POSTGRES_DB}`schema=public\n\nになります。\n:::\n\n* Todoテーブルの作成\n\n    ```diff: prisma/schema.prisma\n    // This is your Prisma schema file,\n    // learn more about it in the docs: https://pris.ly/d/prisma-schema\n    \n    generator client {\n      provider = \"prisma-client-js\"\n    }\n    \n    datasource db {\n      provider = \"postgresql\"\n      url      = env(\"DATABASE_URL\")\n    }\n    \n    + model Todo {\n    +   id        String  @id @default(cuid())\n    +   content   String\n    +   done      Boolean @default(false)\n    +   createdAt String\n    + }\n    ```\n\n* migrate\n    \n    ```bash\n    $ pnpm prisma migrate dev\n    Environment variables loaded from .env\n    Prisma schema loaded from prisma/schema.prisma\n    Datasource \"db\": PostgreSQL database \"graphql-todo\", schema \"public\" at \"localhost:5432\"\n    \n    ? Enter a name for the new migration: › addTodoTable \n    Applying migration `20230413102125_add_todo_table`\n    \n    The following migration(s) have been created and applied from new schema changes:\n    \n    migrations/\n      └─ 20230413102125_add_todo_table/\n        └─ migration.sql\n    \n    Your database is now in sync with your schema.\n    ```\n\n    ::: note info\n    migrateが成功すると、`prisma/`に`migrations`ディレクトリが作成され、中に実行されたSQLが入ったmigrationファイルが作成されます。\n    RubyOnRailsのORMである、`Active Record`に慣れている人には割とイメージしやすいファイル構成かもしれません。\n    \n    ```bash\n    .\n    ├── prisma\n    │   ├── migrations\n    │   │   ├── yyyyMMddhhmmss\n    │   │   │   └─ migration.sql\n    │   │   └─ migration_lock.toml\n    |   └─ prisma.schema\n    ```\n\n- prisma studioの起動\n\n    prismaには入っているデータの検索、操作を簡単に行える`prisma studio`というものが標準で用意されています。\n\n    ```bash\n    pnpm prisma studio\n    ```\n    \n    ![スクリーンショット 2023-04-15 20.28.22.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/284e1ddc-8f6e-ccc5-2427-b8af1698d5a9.png)\n\n\n# 次回: GraphQL\n\nhttps://qiita.com/maaaashi/items/722d75cf8bd25efded88\n\n* 中編\n    1. GraphQL Schema\n    1. GraphQL Context\n    1. GraphQL Code Generator\n    1. GraphQL Resolver\n    1. GraphQLサーバー修正\n\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-04-15T19:23:33+09:00",
    "group": null,
    "id": "fe52db19759ea8a0be31",
    "likes_count": 22,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 22,
    "tags": [
      { "name": "TypeScript", "versions": [] },
      { "name": "GraphQL", "versions": [] },
      { "name": "apollo", "versions": [] },
      { "name": "Next.js", "versions": [] },
      { "name": "graphql-codegen", "versions": [] }
    ],
    "title": "Next.js + GrapqhQLでTodoアプリを構築する(前編)",
    "updated_at": "2023-04-17T08:57:12+09:00",
    "url": "https://qiita.com/maaaashi/items/fe52db19759ea8a0be31",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-3:113\"\u003eGitLabのCIを使ってVitestのテストを回してみたいなぁと思い、回したときのメモです。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"5:1-5:23\"\u003e\n\u003cspan id=\"説明しないこと\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%AA%AC%E6%98%8E%E3%81%97%E3%81%AA%E3%81%84%E3%81%93%E3%81%A8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e説明しないこと\u003c/h1\u003e\n\u003cul data-sourcepos=\"7:1-10:0\"\u003e\n\u003cli data-sourcepos=\"7:1-7:17\"\u003eGitLabとは？\u003c/li\u003e\n\u003cli data-sourcepos=\"8:1-8:13\"\u003eCIとは？\u003c/li\u003e\n\u003cli data-sourcepos=\"9:1-10:0\"\u003eVitestの詳しい使い方(各種メソッド等)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 data-sourcepos=\"11:1-11:14\"\u003e\n\u003cspan id=\"vitestとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#vitest%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eVitestとは\u003c/h1\u003e\n\u003cul data-sourcepos=\"13:1-14:0\"\u003e\n\u003cli data-sourcepos=\"13:1-14:0\"\u003e私が説明するよりも良い記事があったのでこちらから抜粋させていただきます。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"15:1-15:206\"\u003e\u003ciframe id=\"qiita-embed-content__da83727fe4173a2c3f7e00bf31e7c7e2\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__da83727fe4173a2c3f7e00bf31e7c7e2\" data-content=\"https%3A%2F%2Freffect.co.jp%2Fhtml%2Fvitest%23%3A%7E%3Atext%3DVitest%25E3%2581%25AFVite%25E7%2592%25B0%25E5%25A2%2583%25E3%2581%25A7%2C%25E5%2588%25A9%25E7%2594%25A8%25E3%2581%25A7%25E3%2581%258D%25E3%2582%258B%25E3%2581%2593%25E3%2581%25A8%25E3%2581%258C%25E7%2589%25B9%25E5%25BE%25B4%25E3%2581%25A7%25E3%2581%2599%25E3%2580%2582\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cdiv data-sourcepos=\"18:1-20:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"19:1-19:238\"\u003eVitestはVite環境で利用することができるUnit Testingのフレームワークです。Viteを利用していためViteと同様に高速で動き、TypeScriptなども追加設定なしで利用できることが特徴です。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003ch1 data-sourcepos=\"22:1-22:41\"\u003e\n\u003cspan id=\"sveltekitアプリケーション構築\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#sveltekit%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E6%A7%8B%E7%AF%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eSvelteKitアプリケーション構築\u003c/h1\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"24:1-29:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpm create svelte@latest my-app\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003ecd \u003c/span\u003emy-app\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpm \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpm run dev \u003cspan class=\"nt\"\u003e--\u003c/span\u003e \u003cspan class=\"nt\"\u003e--open\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"30:1-30:32\"\u003e\u003ca href=\"https://kit.svelte.jp/\" rel=\"nofollow noopener\" target=\"_blank\"\u003e公式\u003c/a\u003e\u003c/p\u003e\n\u003ch1 data-sourcepos=\"32:1-32:14\"\u003e\n\u003cspan id=\"vitest実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#vitest%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eVitest実装\u003c/h1\u003e\n\u003ch2 data-sourcepos=\"34:1-34:24\"\u003e\n\u003cspan id=\"1-インストール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. インストール\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"36:1-38:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003enpm \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e \u003cspan class=\"nt\"\u003e--save-dev\u003c/span\u003e vitest jsdom @testing-library/svelte\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch2 data-sourcepos=\"40:1-40:26\"\u003e\n\u003cspan id=\"2-viteconfigts修正\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-viteconfigts%E4%BF%AE%E6%AD%A3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. vite.config.ts修正\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"42:1-49:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003evite.config.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"nf\"\u003edefineConfig\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e...\u003c/span\u003e\n  \u003cspan class=\"na\"\u003etest\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e                  \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ejsdom\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e   \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e                        \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"51:1-51:30\"\u003e\n\u003cspan id=\"3-実行コマンド追加\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-%E5%AE%9F%E8%A1%8C%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E8%BF%BD%E5%8A%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. 実行コマンド追加\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"json\" data-sourcepos=\"53:1-59:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003epackage.json(抜粋)\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"scripts\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"test\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"vitest\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e   \u003c/span\u003e\u003cspan class=\"err\"\u003e//\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"err\"\u003e追加\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"61:1-61:30\"\u003e\n\u003cspan id=\"4-テストコード追加\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#4-%E3%83%86%E3%82%B9%E3%83%88%E3%82%B3%E3%83%BC%E3%83%89%E8%BF%BD%E5%8A%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e4. テストコード追加\u003c/h2\u003e\n\u003cp data-sourcepos=\"63:1-63:120\"\u003eテストコードを置くディレクトリには好みがあると思いますのでご自由に設定ください。\u003c/p\u003e\n\u003cp data-sourcepos=\"65:1-65:81\"\u003e私は↓のようにsrc以下に\u003ccode\u003e__test__/index.test.ts\u003c/code\u003eを作成しました。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"67:1-72:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e.\n├── src\n│   ├── __tests__\n│   │   ├── index.test.ts\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"74:1-74:53\"\u003e動作確認のため\u003ccode\u003e1 + 1 = 2\u003c/code\u003eを試してみます\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"76:1-82:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eindex.test.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003etest\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eexpect\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003evitest\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"nf\"\u003etest\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e1 + 1 は 2 であること\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003eexpect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003etoBe\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"84:1-84:83\"\u003e詳しくは\u003ca href=\"https://vitest.dev/\" rel=\"nofollow noopener\" target=\"_blank\"\u003e公式ドキュメント\u003c/a\u003eを見てください。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"86:1-86:12\"\u003e\n\u003cspan id=\"5-実行\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#5-%E5%AE%9F%E8%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e5. 実行\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"88:1-90:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpm run \u003cspan class=\"nb\"\u003etest\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"92:1-93:45\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F50229cf4-9c47-7aa8-c146-c08b374bfeb7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0d6141dd485bf671569298123c4102f7\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F50229cf4-9c47-7aa8-c146-c08b374bfeb7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0d6141dd485bf671569298123c4102f7\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F50229cf4-9c47-7aa8-c146-c08b374bfeb7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e45672ef3d3a37b4d0efbca89190312c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/50229cf4-9c47-7aa8-c146-c08b374bfeb7.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003cstrong\u003ewatchモードでテストが動きます\u003c/strong\u003e\u003c/p\u003e\n\u003ch1 data-sourcepos=\"95:1-95:32\"\u003e\n\u003cspan id=\"vitest-coverageモード起動\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#vitest-coverage%E3%83%A2%E3%83%BC%E3%83%89%E8%B5%B7%E5%8B%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eVitest Coverageモード起動\u003c/h1\u003e\n\u003ch2 data-sourcepos=\"97:1-97:24\"\u003e\n\u003cspan id=\"1-インストール-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. インストール\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"99:1-101:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003enpm i \u003cspan class=\"nt\"\u003e-D\u003c/span\u003e @vitest/coverage-c8\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch2 data-sourcepos=\"103:1-103:30\"\u003e\n\u003cspan id=\"2-実行コマンド追加\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-%E5%AE%9F%E8%A1%8C%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E8%BF%BD%E5%8A%A0\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. 実行コマンド追加\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"json\" data-sourcepos=\"105:1-111:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003epackage.json(抜粋)\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"scripts\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"coverage\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"vitest run --coverage\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e   \u003c/span\u003e\u003cspan class=\"err\"\u003e//\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"err\"\u003e追加\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"113:1-113:12\"\u003e\n\u003cspan id=\"3-実行\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-%E5%AE%9F%E8%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. 実行\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"115:1-117:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpm run coverage\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"119:1-119:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F48b3f38d-80e1-7d9e-16a8-c71c63d8f72c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=be52ed060dfaae59ae22403df4fb0067\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F48b3f38d-80e1-7d9e-16a8-c71c63d8f72c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=be52ed060dfaae59ae22403df4fb0067\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F48b3f38d-80e1-7d9e-16a8-c71c63d8f72c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=08c62d41f371d5eab292025bf9eacff2 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/48b3f38d-80e1-7d9e-16a8-c71c63d8f72c.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"121:1-122:100\"\u003e\u003cstrong\u003ecoverageの計測ができました。\u003c/strong\u003e\u003cbr\u003e\nどのコンポーネント、ファイルも参照していないので当然coverageは0%ですね\u003c/p\u003e\n\u003ch1 data-sourcepos=\"124:1-124:38\"\u003e\n\u003cspan id=\"gitlab-ciでテストを実行する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#gitlab-ci%E3%81%A7%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eGitLab CIでテストを実行する\u003c/h1\u003e\n\u003ch2 data-sourcepos=\"126:1-126:26\"\u003e\n\u003cspan id=\"1-gitlab-ciyml記入\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-gitlab-ciyml%E8%A8%98%E5%85%A5\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. .gitlab-ci.yml記入\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"128:1-142:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003egitlab-ci.yml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003edefault\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003enode:18.14-alpine3.16\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003ebefore_script\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003enpm install\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003estages\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003etest\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003etest\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003estage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003etest\u003c/span\u003e\n  \u003cspan class=\"na\"\u003escript\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003enpm run coverage\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"144:1-144:22\"\u003e\n\u003cspan id=\"2-pushしてみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-push%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. pushしてみる\u003c/h2\u003e\n\u003cp data-sourcepos=\"146:1-146:72\"\u003epushすることでpipelineが動き出し、ちゃんと動きました\u003c/p\u003e\n\u003cp data-sourcepos=\"148:1-148:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3e405c20-bc51-30ce-1027-cc97b3e9a6b6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a4cfd1a8bdc47306b72bac8e678a2909\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3e405c20-bc51-30ce-1027-cc97b3e9a6b6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a4cfd1a8bdc47306b72bac8e678a2909\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3e405c20-bc51-30ce-1027-cc97b3e9a6b6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=86eb7178161fad243f171670cc46eb14 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3e405c20-bc51-30ce-1027-cc97b3e9a6b6.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch1 data-sourcepos=\"151:1-151:14\"\u003e\n\u003cspan id=\"さいごに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%95%E3%81%84%E3%81%94%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eさいごに\u003c/h1\u003e\n\u003cdiv data-sourcepos=\"153:1-155:3\" class=\"note warn\"\u003e\n\u003cspan class=\"fa fa-fw fa-exclamation-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"154:1-154:220\"\u003ecoverageはあくまでテストが通った率であり、これを100%にすればよいというわけではありませんが、1つの指標にはなると思います。良いテスト駆動開発ライフを～！\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"158:1-158:9\"\u003e\n\u003cspan id=\"余談\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%99%E8%AB%87\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e余談\u003c/h2\u003e\n\u003cul data-sourcepos=\"160:1-162:0\"\u003e\n\u003cli data-sourcepos=\"160:1-162:0\"\u003e\n\u003ccode\u003esrc/coverage\u003c/code\u003eに結果が出力されるので、それを\u003ccode\u003eGitLab Pages\u003c/code\u003eを使ってホスティングすることで、結果をWeb上から確認することができました。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"163:1-163:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F69cd57cf-7984-bbe1-d964-00f14645a23a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5468fc2de1b319f577005b34af61944f\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F69cd57cf-7984-bbe1-d964-00f14645a23a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5468fc2de1b319f577005b34af61944f\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F69cd57cf-7984-bbe1-d964-00f14645a23a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b2582c015e586f96549d0e006b0e32b9 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/69cd57cf-7984-bbe1-d964-00f14645a23a.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n",
    "body": "# はじめに\n\nGitLabのCIを使ってVitestのテストを回してみたいなぁと思い、回したときのメモです。\n\n# 説明しないこと\n\n* GitLabとは？\n* CIとは？\n* Vitestの詳しい使い方(各種メソッド等)\n\n# Vitestとは\n\n- 私が説明するよりも良い記事があったのでこちらから抜粋させていただきます。\n\nhttps://reffect.co.jp/html/vitest#:~:text=Vitest%E3%81%AFVite%E7%92%B0%E5%A2%83%E3%81%A7,%E5%88%A9%E7%94%A8%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%93%E3%81%A8%E3%81%8C%E7%89%B9%E5%BE%B4%E3%81%A7%E3%81%99%E3%80%82\n\n\n:::note info \nVitestはVite環境で利用することができるUnit Testingのフレームワークです。Viteを利用していためViteと同様に高速で動き、TypeScriptなども追加設定なしで利用できることが特徴です。\n:::\n\n# SvelteKitアプリケーション構築\n\n```bash\n$ npm create svelte@latest my-app\n$ cd my-app\n$ npm install\n$ npm run dev -- --open\n```\n[公式](https://kit.svelte.jp/)\n\n# Vitest実装\n\n## 1. インストール\n\n```bash\nnpm install --save-dev vitest jsdom @testing-library/svelte\n```\n\n## 2. vite.config.ts修正\n\n```typescript:vite.config.ts\nexport default defineConfig({\n  ...\n  test: {                  // 追加\n    environment: 'jsdom'   // 追加\n  }                        // 追加\n})\n```\n\n## 3. 実行コマンド追加\n\n```json:package.json(抜粋)\n{\n  \"scripts\": {\n    \"test\": \"vitest\",   // 追加\n  },\n}\n```\n\n## 4. テストコード追加\n\nテストコードを置くディレクトリには好みがあると思いますのでご自由に設定ください。\n\n私は↓のようにsrc以下に`__test__/index.test.ts`を作成しました。\n\n```\n.\n├── src\n│   ├── __tests__\n│   │   ├── index.test.ts\n```\n\n動作確認のため`1 + 1 = 2`を試してみます\n\n```typescript:index.test.ts\nimport { test, expect } from 'vitest'\n\ntest('1 + 1 は 2 であること', () =\u003e {\n  expect(1 + 1).toBe(2);\n});\n```\n\n詳しくは[公式ドキュメント](https://vitest.dev/)を見てください。\n\n## 5. 実行\n\n```bash\n$ npm run test\n```\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/50229cf4-9c47-7aa8-c146-c08b374bfeb7.png)\n**watchモードでテストが動きます**\n\n# Vitest Coverageモード起動\n\n## 1. インストール\n\n```bash\nnpm i -D @vitest/coverage-c8\n```\n\n## 2. 実行コマンド追加\n\n```json:package.json(抜粋)\n{\n  \"scripts\": {\n    \"coverage\": \"vitest run --coverage\",   // 追加\n  },\n}\n```\n\n## 3. 実行\n\n```bash\n$ npm run coverage\n```\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/48b3f38d-80e1-7d9e-16a8-c71c63d8f72c.png)\n\n**coverageの計測ができました。**\nどのコンポーネント、ファイルも参照していないので当然coverageは0%ですね\n\n# GitLab CIでテストを実行する\n\n## 1. .gitlab-ci.yml記入\n\n```yaml:gitlab-ci.yml\ndefault:\n  image: node:18.14-alpine3.16\n\nbefore_script:\n  - npm install\n\nstages:\n  - test\n\ntest:\n  stage: test\n  script:\n    - npm run coverage\n```\n\n## 2. pushしてみる\n\npushすることでpipelineが動き出し、ちゃんと動きました\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3e405c20-bc51-30ce-1027-cc97b3e9a6b6.png)\n\n\n# さいごに\n\n:::note warn\ncoverageはあくまでテストが通った率であり、これを100%にすればよいというわけではありませんが、1つの指標にはなると思います。良いテスト駆動開発ライフを～！\n:::\n\n\n## 余談\n\n- `src/coverage`に結果が出力されるので、それを`GitLab Pages`を使ってホスティングすることで、結果をWeb上から確認することができました。\n\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/69cd57cf-7984-bbe1-d964-00f14645a23a.png)\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-03-29T19:01:46+09:00",
    "group": null,
    "id": "d38ae555319495ea41d9",
    "likes_count": 4,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 1,
    "tags": [
      { "name": "CI", "versions": [] },
      { "name": "GitLab", "versions": [] },
      { "name": "SvelteKit", "versions": [] },
      { "name": "Vitest", "versions": [] }
    ],
    "title": "GitLab CIでVitestを実行し、coverageを計測する",
    "updated_at": "2023-04-03T16:36:53+09:00",
    "url": "https://qiita.com/maaaashi/items/d38ae555319495ea41d9",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-4:97\"\u003e最近ちゃんと\u003ccode\u003eTypeScript\u003c/code\u003eについて勉強し直しまして、\u003cbr\u003e\n\u003ccode\u003eClass\u003c/code\u003eを今までちゃんと使ってこなかったなあと思い、記事にしました。\u003c/p\u003e\n\u003cp data-sourcepos=\"6:1-7:140\"\u003e同じような方の参考になれば幸いです。\u003cbr\u003e\n\u003ccode\u003eClass\u003c/code\u003eの説明をする前に\u003cstrong\u003eオブジェクト指向\u003c/strong\u003eについて理解しておく必要があるので、簡単に説明します。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"9:1-9:33\"\u003e\n\u003cspan id=\"オブジェクト指向とは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eオブジェクト指向とは\u003c/h2\u003e\n\u003cp data-sourcepos=\"11:1-11:41\"\u003e話題の\u003ccode\u003eBingAI\u003c/code\u003eにお願いしました\u003c/p\u003e\n\u003cdiv data-sourcepos=\"13:1-19:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"14:1-14:291\"\u003eオブジェクト指向とは、プログラミングの考え方の一つで、現実世界に存在するものを「オブジェクト」として扱い、その特徴や機能を定義することです。オブジェクト指向には、以下のようなメリットがあります。\u003c/p\u003e\n\u003cul data-sourcepos=\"16:1-18:134\"\u003e\n\u003cli data-sourcepos=\"16:1-16:122\"\u003eオブジェクトを再利用しやすくすることで、開発効率や保守性を高めることができます。\u003c/li\u003e\n\u003cli data-sourcepos=\"17:1-17:110\"\u003eオブジェクト同士の関係を明確にすることで、設計や理解がしやすくなります。\u003c/li\u003e\n\u003cli data-sourcepos=\"18:1-18:134\"\u003eオブジェクトの内部構造や動作を隠蔽することで、安全性や信頼性を向上させることができます。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"21:1-21:78\"\u003eわかりやすいですね。ここで具体例も紹介しておきます。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"23:1-23:13\"\u003e\n\u003cspan id=\"具体例\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%85%B7%E4%BD%93%E4%BE%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e具体例\u003c/h3\u003e\n\u003cp data-sourcepos=\"25:1-25:48\"\u003eとある商品を題材に考えてみます。\u003c/p\u003e\n\u003cp data-sourcepos=\"27:1-27:83\"\u003eその商品には以下のプロパティ(特徴・性質)があるとします。\u003c/p\u003e\n\u003col data-sourcepos=\"28:1-32:0\"\u003e\n\u003cli data-sourcepos=\"28:1-28:21\"\u003eString型の名前\u003c/li\u003e\n\u003cli data-sourcepos=\"29:1-29:21\"\u003enumber型の価格\u003c/li\u003e\n\u003cli data-sourcepos=\"30:1-30:45\"\u003e名前を変更することができる。\u003c/li\u003e\n\u003cli data-sourcepos=\"31:1-32:0\"\u003e商品をカートに入れることができる。\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"33:1-33:106\"\u003eこの場合、TypeScriptでは以下のようにオブジェクトを定義することができます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"35:1-53:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003egoods_A\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eA商品\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e          \u003cspan class=\"c1\"\u003e// 名前\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eprice\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e            \u003cspan class=\"c1\"\u003e// 価格\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003erename\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"na\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// 名前変更\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003eaddToCart\u003c/span\u003e\u003cspan class=\"p\"\u003e():\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e          \u003cspan class=\"c1\"\u003e// カートに入れる\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecart\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003epush\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003egoods_A\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 'A商品'\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003egoods_A\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003erename\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ea商品\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"nx\"\u003egoods_A\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 'a商品'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"55:1-56:160\"\u003eこのようにオブジェクトとして定義し、そのプロパティに「名前」や「価格」や、\u003cbr\u003e\n「名前変更」や「カートに入れる」といった機能を定義していくプログラミング手法を\u003cstrong\u003eオブジェクト指向\u003c/strong\u003eと言います\u003c/p\u003e\n\u003ch1 data-sourcepos=\"58:1-58:22\"\u003e\n\u003cspan id=\"1-classについて\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-class%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. classについて\u003c/h1\u003e\n\u003cp data-sourcepos=\"60:1-60:42\"\u003e先ほどの例から考えてみます。\u003c/p\u003e\n\u003cp data-sourcepos=\"62:1-62:43\"\u003e以下のように商品Aがあります。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"64:1-75:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003etypescript\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003egoods_A\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eA商品\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eprice\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003erename\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"na\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003eaddToCart\u003c/span\u003e\u003cspan class=\"p\"\u003e():\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecart\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003epush\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"77:1-77:33\"\u003e商品が複数件ある場合、\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"79:1-95:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003etypescript\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003egoods_B\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eB商品\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eprice\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003erename\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"na\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003eaddToCart\u003c/span\u003e\u003cspan class=\"p\"\u003e():\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecart\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003epush\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003egoods_C\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"err\"\u003e・\u003c/span\u003e\n\u003cspan class=\"err\"\u003e。\u003c/span\u003e\n\u003cspan class=\"err\"\u003e・\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"97:1-98:42\"\u003e全ての商品で同じ動きをさせるためには作成分のオブジェクトを定義する必要が出てきますが、\u003cbr\u003e\nこんなことはしてられません。\u003c/p\u003e\n\u003cp data-sourcepos=\"100:1-101:54\"\u003eオブジェクトの設計書みたいなものがあれば、それを元に増やすことができそうです。\u003cbr\u003e\nそのオブジェクトの設計書が\u003cstrong\u003eClass\u003c/strong\u003eです\u003c/p\u003e\n\u003cp data-sourcepos=\"103:1-103:109\"\u003e先ほどの商品の設計書を\u003ccode\u003eClass\u003c/code\u003eを使い定義し、商品のオブジェクトを生成します。\u003c/p\u003e\n\u003cdiv data-sourcepos=\"105:1-107:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"106:1-106:99\"\u003eちなみに、クラスから作成したオブジェクトをインスタンスと言います。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"109:1-109:76\"\u003e\u003cstrong\u003eクラスからオブジェクト生成し、解読していきます。\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"111:1-135:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003etypescript\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// クラス定義\u003c/span\u003e\n\u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eGoods\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eprice\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003enumber\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003econstructor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003enumber\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprice\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003erename\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003en\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003eaddToCart\u003c/span\u003e\u003cspan class=\"p\"\u003e():\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ecart\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003epush\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// インスタンス生成\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003egoods_A\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eGoods\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e商品A\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"nx\"\u003egoods_A\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 'A商品'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch1 data-sourcepos=\"137:1-137:28\"\u003e\n\u003cspan id=\"2-constructor関数とは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-constructor%E9%96%A2%E6%95%B0%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. constructor関数とは\u003c/h1\u003e\n\u003cp data-sourcepos=\"139:1-140:93\"\u003e\u003cstrong\u003econstructor関数\u003c/strong\u003eとは、クラスで作成されたオブジェクトの初期化のためのメソッドです。\u003cbr\u003e\n\u003cstrong\u003econstructor関数\u003c/strong\u003eは、クラスが呼び出された際に最初に実行されます。\u003c/p\u003e\n\u003cp data-sourcepos=\"142:1-142:69\"\u003eつまり、\u003ccode\u003enew Hoge()\u003c/code\u003eの際に実行されるメソッドです。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"144:1-152:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eclass\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  \u003cspan class=\"nx\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eprice\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003enumber\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003econstructor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003enumber\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprice\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"154:1-157:96\"\u003e先ほど作成したクラスを見ると、\u003cbr\u003e\n\u003ccode\u003ename\u003c/code\u003eを\u003ccode\u003estring\u003c/code\u003e型で定義、\u003cbr\u003e\n\u003ccode\u003eprice\u003c/code\u003eを\u003ccode\u003enumber\u003c/code\u003eで定義し、\u003cbr\u003e\n\u003cstrong\u003econstructor関数\u003c/strong\u003eで引数で受け取った値を初期値として格納しています。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"159:1-161:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eGoods\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e商品A\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"163:1-164:98\"\u003eこのようにオブジェクトを生成します。\u003cbr\u003e\n試しに引数に渡している値を変更し、\u003ccode\u003ename\u003c/code\u003eに\u003ccode\u003enumber\u003c/code\u003e型をを入れてみます。\u003c/p\u003e\n\u003cp data-sourcepos=\"166:1-166:164\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fb44cfc6f-1777-e8e3-ab6b-ca04bf29b5fa.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=15928611bbc168fdad1cf5d60ad1ee9d\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fb44cfc6f-1777-e8e3-ab6b-ca04bf29b5fa.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=15928611bbc168fdad1cf5d60ad1ee9d\" alt=\"スクリーンショット 2023-03-10 21.17.03.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fb44cfc6f-1777-e8e3-ab6b-ca04bf29b5fa.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=10b801662bc2d64eea5fb33f4d63bb9a 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/b44cfc6f-1777-e8e3-ab6b-ca04bf29b5fa.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"168:1-170:84\"\u003eこのようにエラーになります。\u003cbr\u003e\n\u003cstrong\u003econstructor\u003c/strong\u003e関数の引数の型定義\u003ccode\u003e(n: string, p: number)\u003c/code\u003eが、\u003cbr\u003e\nインスタンス化する時に作用していることが確認できますね。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"172:1-172:49\"\u003e\n\u003cspan id=\"3-typescriptのみ-アクセス修飾子\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-typescript%E3%81%AE%E3%81%BF-%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E4%BF%AE%E9%A3%BE%E5%AD%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. 【TypeScriptのみ】 アクセス修飾子\u003c/h1\u003e\n\u003cp data-sourcepos=\"174:1-174:208\"\u003eTypeScriptでは、プロパティのアクセシビリティを制御するため、クラスのプロパティに対してアクセス修飾子\u003ccode\u003epublic\u003c/code\u003e \u003ccode\u003eprivate\u003c/code\u003e \u003ccode\u003eprotected\u003c/code\u003eを使うことができます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"176:1-183:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003etypescript\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eGoods\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eowner\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 自動的にpublicになります。\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"nx\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003eprice\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003enumber\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eprotected\u003c/span\u003e \u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003enumber\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cul data-sourcepos=\"185:1-192:0\"\u003e\n\u003cli data-sourcepos=\"185:1-187:45\"\u003epublic\n\u003cul data-sourcepos=\"186:5-187:45\"\u003e\n\u003cli data-sourcepos=\"186:5-186:81\"\u003eデフォルトはこれ。何も記載がないとpublicになります。\u003c/li\u003e\n\u003cli data-sourcepos=\"187:5-187:45\"\u003eどこからでもアクセスできる\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"188:1-189:57\"\u003eprivate\n\u003cul data-sourcepos=\"189:5-189:57\"\u003e\n\u003cli data-sourcepos=\"189:5-189:57\"\u003e同じクラス内からのみアクセスできる\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"190:1-192:0\"\u003eprotected\n\u003cul data-sourcepos=\"191:5-192:0\"\u003e\n\u003cli data-sourcepos=\"191:5-192:0\"\u003e同じクラスとサブクラス内からのみアクセスできる\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 data-sourcepos=\"193:1-193:24\"\u003e\n\u003cspan id=\"なぜ必要なのか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AA%E3%81%9C%E5%BF%85%E8%A6%81%E3%81%AA%E3%81%AE%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eなぜ必要なのか\u003c/h2\u003e\n\u003cp data-sourcepos=\"195:1-195:70\"\u003e\u003cstrong\u003e不用意に値を変更できないようにするため\u003c/strong\u003eです。\u003c/p\u003e\n\u003cp data-sourcepos=\"197:1-197:30\"\u003e次の例で説明します。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"199:1-217:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003etypescript\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eGoods\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003econstructor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elength\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e100文字以上\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003erename\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elength\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e \u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003en\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"219:1-219:114\"\u003eこのように100文字以下のバリデーションがついた\u003ccode\u003ename\u003c/code\u003eプロパティがあったとします。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"221:1-221:45\"\u003e\n\u003cspan id=\"アクセス修飾子がpublicの場合\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E4%BF%AE%E9%A3%BE%E5%AD%90%E3%81%8Cpublic%E3%81%AE%E5%A0%B4%E5%90%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eアクセス修飾子が\u003ccode\u003epublic\u003c/code\u003eの場合\u003c/h3\u003e\n\u003cp data-sourcepos=\"223:1-224:113\"\u003e\u003ccode\u003epublic\u003c/code\u003eのプロパティはどこからでもアクセスできるため、\u003cbr\u003e\n以下のように、\u003ccode\u003erename\u003c/code\u003eメソッドを通しても通さなくても値を変更できてしまいます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"226:1-234:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003etypescript\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003egoods_A\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eGoods\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e商品A\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// 1. renameメソッドを通す\u003c/span\u003e\n\u003cspan class=\"nx\"\u003egoods_A\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003erename\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehoge\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// 2. 直接値を変更\u003c/span\u003e\n\u003cspan class=\"nx\"\u003egoods_A\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003efuga\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"236:1-237:87\"\u003e\u003ccode\u003erename\u003c/code\u003eメソッド内では100文字のバリデーションがかかるのに対し、\u003cbr\u003e\n直接変更する場合はバリデーションをかけることができません。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"239:1-239:46\"\u003e\n\u003cspan id=\"アクセス修飾子がprivateの場合\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E4%BF%AE%E9%A3%BE%E5%AD%90%E3%81%8Cprivate%E3%81%AE%E5%A0%B4%E5%90%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eアクセス修飾子が\u003ccode\u003eprivate\u003c/code\u003eの場合\u003c/h3\u003e\n\u003cp data-sourcepos=\"241:1-242:48\"\u003e\u003ccode\u003eprivate\u003c/code\u003eのプロパティは同じクラス内からのみアクセスできるため\u003cbr\u003e\n以下のように直接指定はできません\u003c/p\u003e\n\u003cp data-sourcepos=\"244:1-244:164\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F05b2a1d5-1c6d-2083-7771-0585ad7ef501.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=38f98bc89a58b17a8faec36818096760\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F05b2a1d5-1c6d-2083-7771-0585ad7ef501.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=38f98bc89a58b17a8faec36818096760\" alt=\"スクリーンショット 2023-03-11 23.50.22.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F05b2a1d5-1c6d-2083-7771-0585ad7ef501.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9bce43f89dd82af379883a7be0854191 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/05b2a1d5-1c6d-2083-7771-0585ad7ef501.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"246:1-246:148\"\u003eこの例で\u003cstrong\u003e不用意に値を変更しないように\u003c/strong\u003eアクセスプロパティを適切につける意味が理解できたと思います。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"249:1-249:60\"\u003e\n\u003cspan id=\"4-typescriptのみ-constructor関数の省略記法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#4-typescript%E3%81%AE%E3%81%BF-constructor%E9%96%A2%E6%95%B0%E3%81%AE%E7%9C%81%E7%95%A5%E8%A8%98%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e4. 【TypeScriptのみ】 constructor関数の省略記法\u003c/h1\u003e\n\u003cp data-sourcepos=\"251:1-251:57\"\u003eさて、次のコードを見て何を思いますか？\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"253:1-267:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003etypescript\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eGoods\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"nx\"\u003eprice\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003enumber\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"nx\"\u003estore\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003econstructor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003enumber\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprice\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003estore\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"269:1-271:24\"\u003e私であれば\u003cstrong\u003e冗長\u003c/strong\u003eだなぁ...と思います。\u003cbr\u003e\nTypeScriptであればこの冗長を解決できます。\u003cbr\u003e\nそれがこちらです\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"273:1-282:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003etypescript\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eGoods\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003econstructor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"nx\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"nx\"\u003eprice\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003enumber\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eprivate\u003c/span\u003e \u003cspan class=\"nx\"\u003estore\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"k\"\u003epublic\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e){};\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"284:1-284:78\"\u003eこのように初期化処理をかなりシンプルに記述できます。\u003c/p\u003e\n\u003cp data-sourcepos=\"286:1-286:145\"\u003e\u003ccode\u003econstructor\u003c/code\u003e関数の引数にアクセス修飾子とプロパティ名を書くだけで自動で初期化処理まで行ってくれます。\u003c/p\u003e\n\u003cdiv data-sourcepos=\"288:1-291:3\" class=\"note warn\"\u003e\n\u003cspan class=\"fa fa-fw fa-exclamation-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"289:1-290:60\"\u003eアクセス修飾子は必ずつける必要があります。\u003cbr\u003e\npublicであっても省略することはできません。\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"293:1-293:90\"\u003eちなみにこのコードを\u003ccode\u003eJavaScript\u003c/code\u003eにコンパイルするとこうなります。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\" data-sourcepos=\"295:1-304:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ejavascript\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003eclass\u003c/span\u003e \u003cspan class=\"nc\"\u003eGoods\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003econstructor\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003en\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eprice\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ep\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003estore\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003es\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethis\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etype\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003et\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"306:1-306:122\"\u003eアクセス修飾子がなくなり、全て\u003ccode\u003econstructor\u003c/code\u003e関数でthisの中に格納する形になっていますね。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"308:1-308:14\"\u003e\n\u003cspan id=\"5-まとめ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#5-%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e5. まとめ\u003c/h1\u003e\n\u003cdiv data-sourcepos=\"310:1-316:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003col data-sourcepos=\"311:1-315:85\"\u003e\n\u003cli data-sourcepos=\"311:1-311:159\"\u003eオブジェクト指向とは、現実世界に存在するものを「オブジェクト」として扱い、その特徴や機能を定義すること。\u003c/li\u003e\n\u003cli data-sourcepos=\"312:1-312:68\"\u003eclassとは、オブジェクトの設計図のようなもの。\u003c/li\u003e\n\u003cli data-sourcepos=\"313:1-313:113\"\u003econstructor関数とは、クラスで作成されたオブジェクトの初期化のためのメソッド。\u003c/li\u003e\n\u003cli data-sourcepos=\"314:1-314:238\"\u003eTypeScriptでは、不用意に値を変更できないようにするため、クラスのプロパティに対してアクセス修飾子\u003ccode\u003epublic\u003c/code\u003e \u003ccode\u003eprivate\u003c/code\u003e \u003ccode\u003eprotected\u003c/code\u003eを使い、アクセスの制限をかけることができる。\u003c/li\u003e\n\u003cli data-sourcepos=\"315:1-315:85\"\u003eTypeScriptでは、初期化処理を簡潔にかける省略記法が存在する\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"318:1-318:232\"\u003e他にも\u003ccode\u003einterface\u003c/code\u003eを使ってclassを実装する方法だったり、継承だったり、説明できることはたくさんありますが、今回はここまでの基本的な使い方までとさせていただきます。\u003c/p\u003e\n\u003cp data-sourcepos=\"320:1-320:63\"\u003e続きについてはまた今度書きたいと思います。\u003c/p\u003e\n",
    "body": "# はじめに\n\n最近ちゃんと`TypeScript`について勉強し直しまして、\n`Class`を今までちゃんと使ってこなかったなあと思い、記事にしました。\n\n同じような方の参考になれば幸いです。\n`Class`の説明をする前に**オブジェクト指向**について理解しておく必要があるので、簡単に説明します。\n\n## オブジェクト指向とは\n\n話題の`BingAI`にお願いしました\n\n:::note info\nオブジェクト指向とは、プログラミングの考え方の一つで、現実世界に存在するものを「オブジェクト」として扱い、その特徴や機能を定義することです。オブジェクト指向には、以下のようなメリットがあります。\n\n* オブジェクトを再利用しやすくすることで、開発効率や保守性を高めることができます。\n* オブジェクト同士の関係を明確にすることで、設計や理解がしやすくなります。\n* オブジェクトの内部構造や動作を隠蔽することで、安全性や信頼性を向上させることができます。\n:::\n\nわかりやすいですね。ここで具体例も紹介しておきます。\n\n### 具体例\n\nとある商品を題材に考えてみます。\n\nその商品には以下のプロパティ(特徴・性質)があるとします。\n1. String型の名前\n1. number型の価格\n1. 名前を変更することができる。\n1. 商品をカートに入れることができる。\n\nこの場合、TypeScriptでは以下のようにオブジェクトを定義することができます。\n\n```typescript\nconst goods_A = {\n  name: 'A商品',          // 名前\n  price: 100,            // 価格\n  rename(n: string): void {    // 名前変更\n    this.name = n;\n  },\n  addToCart(): void {          // カートに入れる\n    cart.push(this.name)\n  }\n}\n\ngoods_A.name\n// 'A商品'\n\ngoods_A.rename('a商品')\ngoods_A.name\n// 'a商品'\n```\n\nこのようにオブジェクトとして定義し、そのプロパティに「名前」や「価格」や、\n「名前変更」や「カートに入れる」といった機能を定義していくプログラミング手法を**オブジェクト指向**と言います\n\n# 1. classについて\n\n先ほどの例から考えてみます。\n\n以下のように商品Aがあります。\n\n```typescript:typescript\nconst goods_A = {\n  name: 'A商品',\n  price: 100,\n  rename(n: string): void {\n    this.name = n;\n  },\n  addToCart(): void {\n    cart.push(this.name)\n  }\n}\n```\n\n商品が複数件ある場合、\n\n```typescript:typescript\nconst goods_B = {\n  name: 'B商品',\n  price: 100,\n  rename(n: string): void {\n    this.name = n;\n  },\n  addToCart(): void {\n    cart.push(this.name)\n  }\n}\n\nconst goods_C = {\n・\n。\n・\n```\n\n全ての商品で同じ動きをさせるためには作成分のオブジェクトを定義する必要が出てきますが、\nこんなことはしてられません。\n\nオブジェクトの設計書みたいなものがあれば、それを元に増やすことができそうです。\nそのオブジェクトの設計書が**Class**です\n\n先ほどの商品の設計書を`Class`を使い定義し、商品のオブジェクトを生成します。\n\n:::note info\nちなみに、クラスから作成したオブジェクトをインスタンスと言います。\n:::\n\n**クラスからオブジェクト生成し、解読していきます。**\n\n```typescript:typescript\n// クラス定義\nclass Goods {\n  name: string;\n  price: number;\n\n  constructor(n: string, p: number) {\n    this.name = n;\n    this.price = p;\n  };\n\n  rename(n: string): void {\n    this.name = n\n  };\n\n  addToCart(): void {\n    cart.push(this.name)\n  };\n}\n\n// インスタンス生成\nconst goods_A = new Goods('商品A', 100)\ngoods_A.name\n// 'A商品'\n```\n\n# 2. constructor関数とは\n\n**constructor関数**とは、クラスで作成されたオブジェクトの初期化のためのメソッドです。\n**constructor関数**は、クラスが呼び出された際に最初に実行されます。\n\nつまり、`new Hoge()`の際に実行されるメソッドです。\n\n```typescript:class\n  name: string;\n  price: number;\n\n  constructor(n: string, p: number) {\n    this.name = n;\n    this.price = p;\n  };\n```\n\n先ほど作成したクラスを見ると、\n`name`を`string`型で定義、\n`price`を`number`で定義し、\n**constructor関数**で引数で受け取った値を初期値として格納しています。\n\n```typescript\nnew Goods('商品A', 100)\n```\n\nこのようにオブジェクトを生成します。\n試しに引数に渡している値を変更し、`name`に`number`型をを入れてみます。\n\n![スクリーンショット 2023-03-10 21.17.03.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/b44cfc6f-1777-e8e3-ab6b-ca04bf29b5fa.png)\n\nこのようにエラーになります。\n**constructor**関数の引数の型定義`(n: string, p: number)`が、\nインスタンス化する時に作用していることが確認できますね。\n\n# 3. 【TypeScriptのみ】 アクセス修飾子\n\nTypeScriptでは、プロパティのアクセシビリティを制御するため、クラスのプロパティに対してアクセス修飾子`public` `private` `protected`を使うことができます。\n\n```typescript:typescript\nclass Goods {\n  owner: string; // 自動的にpublicになります。\n  private name: string;\n  public price: number;\n  protected id: number;\n}\n```\n\n* public\n    * デフォルトはこれ。何も記載がないとpublicになります。\n    * どこからでもアクセスできる\n* private\n    * 同じクラス内からのみアクセスできる\n* protected\n    * 同じクラスとサブクラス内からのみアクセスできる\n\n## なぜ必要なのか\n\n**不用意に値を変更できないようにするため**です。\n\n次の例で説明します。\n\n```typescript:typescript\nclass Goods {\n  public name: string;\n\n  constructor(n: string) {\n    if (n.length \u003c 100) {\n      this.name = n;\n    } else {\n      this.name = '100文字以上'\n    }\n  };\n\n  rename(n: string): void {\n    if (n.length \u003c 100) {\n      this.name = n\n    }\n  };\n}\n```\n\nこのように100文字以下のバリデーションがついた`name`プロパティがあったとします。\n\n### アクセス修飾子が`public`の場合\n\n`public`のプロパティはどこからでもアクセスできるため、\n以下のように、`rename`メソッドを通しても通さなくても値を変更できてしまいます。\n\n```typescript:typescript\nconst goods_A = new Goods('商品A')\n\n// 1. renameメソッドを通す\ngoods_A.rename('hoge')\n\n// 2. 直接値を変更\ngoods_A.name = 'fuga'\n```\n\n`rename`メソッド内では100文字のバリデーションがかかるのに対し、\n直接変更する場合はバリデーションをかけることができません。\n\n### アクセス修飾子が`private`の場合\n\n`private`のプロパティは同じクラス内からのみアクセスできるため\n以下のように直接指定はできません\n\n![スクリーンショット 2023-03-11 23.50.22.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/05b2a1d5-1c6d-2083-7771-0585ad7ef501.png)\n\nこの例で**不用意に値を変更しないように**アクセスプロパティを適切につける意味が理解できたと思います。\n\n\n# 4. 【TypeScriptのみ】 constructor関数の省略記法\n\nさて、次のコードを見て何を思いますか？\n\n```typescript:typescript\nclass Goods {\n  name: string;\n  private price: number;\n  private store: string;\n  type: string;\n\n  constructor(n: string, p: number, s: string, t: string) {\n    this.name = n;\n    this.price = p;\n    this.store = s;\n    this.type = t;\n  };\n}\n```\n\n私であれば**冗長**だなぁ...と思います。\nTypeScriptであればこの冗長を解決できます。\nそれがこちらです\n\n```typescript:typescript\nclass Goods {\n  constructor(\n    public name: string,\n    private price: number,\n    private store: string,\n    public type: string\n  ){};\n}\n```\n\nこのように初期化処理をかなりシンプルに記述できます。\n\n`constructor`関数の引数にアクセス修飾子とプロパティ名を書くだけで自動で初期化処理まで行ってくれます。\n\n:::note warn\nアクセス修飾子は必ずつける必要があります。\npublicであっても省略することはできません。\n:::\n\nちなみにこのコードを`JavaScript`にコンパイルするとこうなります。\n\n```javascript:javascript\nclass Goods {\n  constructor(n, p, s, t) {\n    this.name = n;\n    this.price = p;\n    this.store = s;\n    this.type = t;\n  };\n}\n```\n\nアクセス修飾子がなくなり、全て`constructor`関数でthisの中に格納する形になっていますね。\n\n# 5. まとめ\n\n:::note info\n1. オブジェクト指向とは、現実世界に存在するものを「オブジェクト」として扱い、その特徴や機能を定義すること。\n1. classとは、オブジェクトの設計図のようなもの。\n1. constructor関数とは、クラスで作成されたオブジェクトの初期化のためのメソッド。\n1. TypeScriptでは、不用意に値を変更できないようにするため、クラスのプロパティに対してアクセス修飾子`public` `private` `protected`を使い、アクセスの制限をかけることができる。\n1. TypeScriptでは、初期化処理を簡潔にかける省略記法が存在する\n:::\n\n他にも`interface`を使ってclassを実装する方法だったり、継承だったり、説明できることはたくさんありますが、今回はここまでの基本的な使い方までとさせていただきます。\n\n続きについてはまた今度書きたいと思います。\n",
    "coediting": false,
    "comments_count": 2,
    "created_at": "2023-03-12T00:13:42+09:00",
    "group": null,
    "id": "d668d3b82e7f65863005",
    "likes_count": 3,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "JavaScript", "versions": [] },
      { "name": "TypeScript", "versions": [] }
    ],
    "title": "【TypeScript | JavaScript】Classまとめ",
    "updated_at": "2023-03-12T09:55:41+09:00",
    "url": "https://qiita.com/maaaashi/items/d668d3b82e7f65863005",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-5:132\"\u003e小学生の頃から嫌いなことがあります。\u003cbr\u003e\nそれは、プリントの「感想」の欄です.\u003cbr\u003e\n自分の思いを文章にするのが苦手で、「箇条書きでよくないか、、、？」と常々思ってきました。\u003c/p\u003e\n\u003cp data-sourcepos=\"7:1-7:48\"\u003e読書感想文なんて一番苦手でした。\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcf77c1c6-1a75-9568-c8e7-7a2637c6a98c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f9ac1bcf52ac2d41a9612816ee2ceb0e\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcf77c1c6-1a75-9568-c8e7-7a2637c6a98c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f9ac1bcf52ac2d41a9612816ee2ceb0e\" width=\"200px\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcf77c1c6-1a75-9568-c8e7-7a2637c6a98c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=dbdc4c96facc519ce6c9e09d4fb5548b 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/cf77c1c6-1a75-9568-c8e7-7a2637c6a98c.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003cp data-sourcepos=\"11:1-13:24\"\u003eそんな私がOpenAI社のGPT-3を利用して\u003cbr\u003e\n【感想文ジェネレーター】\u003cbr\u003e\nを作成しました。\u003c/p\u003e\n\u003cp data-sourcepos=\"15:1-15:30\"\u003e\u003ciframe id=\"qiita-embed-content__a8ed37c38bf2664caf692bff4a293336\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__a8ed37c38bf2664caf692bff4a293336\" data-content=\"https%3A%2F%2Fopinion-ai.vercel.app%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"17:1-18:81\"\u003e無料枠で作成したため、無料枠が尽きると動かなくなりますので、\u003cbr\u003e\n突然サービス終了する可能性があります。ご容赦ください。\u003c/p\u003e\n\u003cp data-sourcepos=\"20:1-20:105\"\u003e\u003cfont color=\"red\"\u003e(特にCSSには)改善の余地があります。ちょっとずつ直します\u003c/font\u003e\u003c/p\u003e\n\u003ch1 data-sourcepos=\"22:1-22:8\"\u003e\n\u003cspan id=\"概要\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A6%82%E8%A6%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e概要\u003c/h1\u003e\n\u003cp data-sourcepos=\"24:1-24:53\"\u003e(現在の画面と異なる可能性があります)\u003c/p\u003e\n\u003col data-sourcepos=\"26:1-48:0\"\u003e\n\u003cli data-sourcepos=\"26:1-29:0\"\u003e\n\u003cp data-sourcepos=\"26:4-26:76\"\u003e\u003ca href=\"https://opinion-ai.vercel.app/\" rel=\"nofollow noopener\" target=\"_blank\"\u003e感想文ジェネレーター\u003c/a\u003eを開く\u003c/p\u003e\n \u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F21098711-fcb1-91a5-83dc-8465330e69a0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=368d5cf146fb0cbf6576a9f3f3e2135c\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F21098711-fcb1-91a5-83dc-8465330e69a0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=368d5cf146fb0cbf6576a9f3f3e2135c\" width=\"400px\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F21098711-fcb1-91a5-83dc-8465330e69a0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=904496cb8ce72756584d1c41b3073a98 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/21098711-fcb1-91a5-83dc-8465330e69a0.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"30:1-41:0\"\u003e\n\u003cp data-sourcepos=\"30:4-30:27\"\u003e必要な項目を入力\u003c/p\u003e\n \u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0120d2f2-f99e-fc34-b159-42e259fac22f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=76e00767467da66b986206e4134a06ff\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0120d2f2-f99e-fc34-b159-42e259fac22f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=76e00767467da66b986206e4134a06ff\" width=\"400px\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0120d2f2-f99e-fc34-b159-42e259fac22f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9feb0542b501c4e4d3db15b427a1edde 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/0120d2f2-f99e-fc34-b159-42e259fac22f.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003cul data-sourcepos=\"34:5-41:0\"\u003e\n\u003cli data-sourcepos=\"34:5-34:11\"\u003e例)\u003c/li\u003e\n\u003cli data-sourcepos=\"35:5-36:35\"\u003e何について\n\u003cul data-sourcepos=\"36:9-36:35\"\u003e\n\u003cli data-sourcepos=\"36:9-36:35\"\u003eTypeScript初学者研修\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"37:5-38:26\"\u003e職業\n\u003cul data-sourcepos=\"38:9-38:26\"\u003e\n\u003cli data-sourcepos=\"38:9-38:26\"\u003e会社員3年目\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"39:5-41:0\"\u003e何文字程度で作成するか\n\u003cul data-sourcepos=\"40:9-41:0\"\u003e\n\u003cli data-sourcepos=\"40:9-41:0\"\u003e300\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"42:1-48:0\"\u003e\n\u003cp data-sourcepos=\"42:4-42:9\"\u003e生成\u003c/p\u003e\n \u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6a112c3c-6022-350c-041d-ddf1acb53db5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f1ede38ac9f557002deb87cc1d01100d\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6a112c3c-6022-350c-041d-ddf1acb53db5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f1ede38ac9f557002deb87cc1d01100d\" width=\"400px\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6a112c3c-6022-350c-041d-ddf1acb53db5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a65dc02d14babc056e3bc46503f068d0 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6a112c3c-6022-350c-041d-ddf1acb53db5.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003cp data-sourcepos=\"46:5-47:58\"\u003eそこそこいい感じですね👍\u003cbr\u003e\n私が作る文章よりもしっかりしています\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch1 data-sourcepos=\"49:1-49:32\"\u003e\n\u003cspan id=\"ざっくり技術スタック\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%96%E3%81%A3%E3%81%8F%E3%82%8A%E6%8A%80%E8%A1%93%E3%82%B9%E3%82%BF%E3%83%83%E3%82%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eざっくり技術スタック\u003c/h1\u003e\n\u003cp data-sourcepos=\"51:1-51:134\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F55c5a322-713e-6ef5-e43c-71faebd433ba.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8244cfd17d5893dc4958fc4a119528b7\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F55c5a322-713e-6ef5-e43c-71faebd433ba.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8244cfd17d5893dc4958fc4a119528b7\" alt=\"opinion-ai.drawio.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F55c5a322-713e-6ef5-e43c-71faebd433ba.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=7fcf7e380db43335d328f5896ce77460 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/55c5a322-713e-6ef5-e43c-71faebd433ba.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch1 data-sourcepos=\"53:1-53:20\"\u003e\n\u003cspan id=\"ざっくり構成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%96%E3%81%A3%E3%81%8F%E3%82%8A%E6%A7%8B%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eざっくり構成\u003c/h1\u003e\n\u003cp data-sourcepos=\"55:1-55:130\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4f0359ae-530e-5e1b-e082-ee5bc1f2cec8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7b57e8ebee64b6b0fd05dbb5cf9c6188\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4f0359ae-530e-5e1b-e082-ee5bc1f2cec8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7b57e8ebee64b6b0fd05dbb5cf9c6188\" alt=\"構成.drawio.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4f0359ae-530e-5e1b-e082-ee5bc1f2cec8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=33fc7c728b0b567032116cbea35e74e1 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4f0359ae-530e-5e1b-e082-ee5bc1f2cec8.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"57:1-57:36\"\u003eざっくり解説してみると、\u003c/p\u003e\n\u003ch2 data-sourcepos=\"59:1-59:12\"\u003e\n\u003cspan id=\"利用者\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%88%A9%E7%94%A8%E8%80%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e利用者\u003c/h2\u003e\n\u003col data-sourcepos=\"61:1-66:0\"\u003e\n\u003cli data-sourcepos=\"61:1-61:90\"\u003eブラウザで必要な情報を入力し、回答生成のリクエストを送る。\u003c/li\u003e\n\u003cli data-sourcepos=\"62:1-62:74\"\u003e\n\u003ccode\u003eAPI Gateway\u003c/code\u003eを通して\u003ccode\u003estep functions\u003c/code\u003eへ通じ処理が始まる。\u003c/li\u003e\n\u003cli data-sourcepos=\"63:1-63:123\"\u003e\n\u003ccode\u003eAPI Gateway\u003c/code\u003eのtimeoutは29sのため、\u003ccode\u003estep functions\u003c/code\u003eを使い、タイムアウトの問題を解決している。\u003c/li\u003e\n\u003cli data-sourcepos=\"64:1-64:105\"\u003e非同期処理で、\u003ccode\u003eOpenAI\u003c/code\u003eからの回答が返ってきたら\u003ccode\u003eSupabase\u003c/code\u003eに回答を格納する。\u003c/li\u003e\n\u003cli data-sourcepos=\"65:1-66:0\"\u003eブラウザでは\u003ccode\u003eSupabase\u003c/code\u003eのリアルタイム機能を使い、特定のテーブルの\u003ccode\u003eINSERT\u003c/code\u003eイベントを検知し、回答を表示する。\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 data-sourcepos=\"67:1-67:9\"\u003e\n\u003cspan id=\"開発\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%96%8B%E7%99%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e開発\u003c/h2\u003e\n\u003cul data-sourcepos=\"69:1-71:0\"\u003e\n\u003cli data-sourcepos=\"69:1-69:171\"\u003eフロントエンド側は\u003ccode\u003eVercel\u003c/code\u003eでビルド・デプロイしているので、\u003ccode\u003egithub\u003c/code\u003eの\u003ccode\u003emain\u003c/code\u003eブランチの変更を検知してビルド・デプロイが走る\u003c/li\u003e\n\u003cli data-sourcepos=\"70:1-71:0\"\u003eバックエンド側のは\u003ccode\u003eServerlessFramework\u003c/code\u003eでデプロイしている。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 data-sourcepos=\"72:1-72:22\"\u003e\n\u003cspan id=\"openai回答生成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#openai%E5%9B%9E%E7%AD%94%E7%94%9F%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eOpenAI\u003c/code\u003e回答生成\u003c/h1\u003e\n\u003ch2 data-sourcepos=\"74:1-74:21\"\u003e\n\u003cspan id=\"ソースコード\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eソースコード\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"76:1-96:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ehandler.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eConfiguration\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eOpenAIApi\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eopenai\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003egetAnswer\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003econfig\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eConfiguration\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e \u003cspan class=\"na\"\u003eapiKey\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e**************\u003c/span\u003e \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eopenai\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eOpenAIApi\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003econfig\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eprompt\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e`\n  質問: あなたの職業は\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eoccupation\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eです。\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eについての感想を以下を参考に\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eanswer_length\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e文字程度で作成してください。\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efeature\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n  回答: \n  `\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003eopenai\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ecreateCompletion\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"na\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003etext-davinci-003\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eprompt\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eprompt\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"na\"\u003etemperature\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"na\"\u003emax_tokens\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e1000\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"98:1-98:9\"\u003e\n\u003cspan id=\"解説\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A7%A3%E8%AA%AC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e解説\u003c/h2\u003e\n\u003cp data-sourcepos=\"100:1-100:77\"\u003enodejsでは、\u003ccode\u003eopenai\u003c/code\u003eライブラリをインストールして使います\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"102:1-109:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c\"\u003e# npm\u003c/span\u003e\nnpm i openai\n\u003cspan class=\"c\"\u003e# yarn\u003c/span\u003e\nyarn add openai\n\u003cspan class=\"c\"\u003e# pnpm\u003c/span\u003e\npnpm i openai\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003col data-sourcepos=\"111:1-174:0\"\u003e\n\u003cli data-sourcepos=\"111:1-119:0\"\u003e\n\u003cp data-sourcepos=\"111:4-111:15\"\u003econfig設定\u003c/p\u003e\n\u003cp data-sourcepos=\"113:5-114:62\"\u003eこの時にapiKeyを使うのですが、この値は\u003ccode\u003eGitHub\u003c/code\u003eに上げたり、フロント側のソースコードに載せたりしないようにしましょう\u003cbr\u003e\n私は\u003ccode\u003eprocess.env.*****\u003c/code\u003eで環境変数にしました。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"116:5-118:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003econfig\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eConfiguration\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e \u003cspan class=\"na\"\u003eapiKey\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e**************\u003c/span\u003e \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"120:1-125:0\"\u003e\n\u003cp data-sourcepos=\"120:4-120:45\"\u003econfigを使って初期化をします。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"122:5-124:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eopenai\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eOpenAIApi\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003econfig\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"126:1-150:0\"\u003e\n\u003cp data-sourcepos=\"126:4-126:19\"\u003ecreateCompletion\u003c/p\u003e\n\u003cp data-sourcepos=\"128:5-129:103\"\u003e初期化をしたら\u003ccode\u003ecreateCompletion\u003c/code\u003eメソッドを使います。\u003cbr\u003e\nこのメソッドはプロンプトに基づいてテキストを生成するメソッドです。\u003c/p\u003e\n\u003cp data-sourcepos=\"131:5-131:52\"\u003e主なプロパティは以下の通りです。\u003c/p\u003e\n\u003cul data-sourcepos=\"133:5-137:4\"\u003e\n\u003cli data-sourcepos=\"133:5-133:43\"\u003emodel: 使用するモデルの名前\u003c/li\u003e\n\u003cli data-sourcepos=\"134:5-134:68\"\u003eprompt: テキスト生成のための入力となる文字列\u003c/li\u003e\n\u003cli data-sourcepos=\"135:5-135:51\"\u003emax_tokens: 生成する最大トークン数\u003c/li\u003e\n\u003cli data-sourcepos=\"136:5-137:4\"\u003etemperature: 生成されるテキストの多様性を制御するパラメータ。0から1までの値を設定し、1に近づくほど多様性が上がる。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"138:5-138:206\"\u003e他にも色々なプロパティがあるので、もっとカスタマイズしたい場合は\u003ca href=\"https://platform.openai.com/docs/introduction/overview\" rel=\"nofollow noopener\" target=\"_blank\"\u003e公式ドキュメント\u003c/a\u003eをご参照ください\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"140:5-149:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003eopenai\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ecreateCompletion\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"na\"\u003emodel\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003etext-davinci-003\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eprompt\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eprompt\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"na\"\u003etemperature\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"na\"\u003emax_tokens\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e1000\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"151:1-174:0\"\u003e\n\u003cp data-sourcepos=\"151:4-151:21\"\u003epromptについて\u003c/p\u003e\n\u003cp data-sourcepos=\"154:5-154:157\"\u003e\u003ccode\u003ecreateCompletion\u003c/code\u003eメソッドは前の文から予測して次の文を考えるメソッドなので、例としては以下のように使います。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"156:5-159:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eAさん: 昨日の星空は綺麗だったね。Bさんはどうだった？\nBさん: \n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"161:5-161:134\"\u003eここまでを\u003ccode\u003epropmt\u003c/code\u003eに入れることでBさんのセリフをBさんの立場で考えてくれるという仕組みです。\u003c/p\u003e\n\u003cp data-sourcepos=\"163:5-163:19\"\u003e私の場合は\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"165:5-171:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eprompt\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e`\n  質問: あなたの職業は\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eoccupation\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eです。\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etitle\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003eについての感想を以下を参考に\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eanswer_length\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e文字程度で作成してください。\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003efeature\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e\n  回答: \n`\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"173:5-173:145\"\u003eこのようにすることで、感想文を書く立場・対象・特徴について設置を教え、回答を生成させています。\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"175:1-175:84\"\u003e他の実装箇所については徐々に記事にして行こうと思います〜\u003c/p\u003e\n\u003ch1 data-sourcepos=\"177:1-177:11\"\u003e\n\u003cspan id=\"最後に\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e最後に\u003c/h1\u003e\n\u003cp data-sourcepos=\"179:1-180:35\"\u003eAIを作るのは大変ですが、\u003cbr\u003e\nAIを使うのは簡単でした。\u003c/p\u003e\n\u003cp data-sourcepos=\"182:1-182:45\"\u003e楽しい世の中になってきましたね\u003c/p\u003e\n",
    "body": "# はじめに\n\n小学生の頃から嫌いなことがあります。\nそれは、プリントの「感想」の欄です.\n自分の思いを文章にするのが苦手で、「箇条書きでよくないか、、、？」と常々思ってきました。\n\n読書感想文なんて一番苦手でした。\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/cf77c1c6-1a75-9568-c8e7-7a2637c6a98c.png\" width=\"200px\"/\u003e\n\nそんな私がOpenAI社のGPT-3を利用して\n【感想文ジェネレーター】\nを作成しました。\n\nhttps://opinion-ai.vercel.app/\n\n無料枠で作成したため、無料枠が尽きると動かなくなりますので、\n突然サービス終了する可能性があります。ご容赦ください。\n\n\u003cfont color=\"red\"\u003e(特にCSSには)改善の余地があります。ちょっとずつ直します\u003c/font\u003e\n\n# 概要\n\n(現在の画面と異なる可能性があります)\n\n1. [感想文ジェネレーター](https://opinion-ai.vercel.app/)を開く\n\n    \u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/21098711-fcb1-91a5-83dc-8465330e69a0.png\" width=\"400px\"/\u003e\n\n1. 必要な項目を入力\n\n    \u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/0120d2f2-f99e-fc34-b159-42e259fac22f.png\" width=\"400px\"/\u003e\n\n    * 例) \n    * 何について\n        * TypeScript初学者研修\n    * 職業\n        * 会社員3年目\n    * 何文字程度で作成するか\n        * 300\n\n1. 生成\n\n    \u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6a112c3c-6022-350c-041d-ddf1acb53db5.png\" width=\"400px\"/\u003e\n\n    そこそこいい感じですね👍\n    私が作る文章よりもしっかりしています\n\n# ざっくり技術スタック\n\n![opinion-ai.drawio.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/55c5a322-713e-6ef5-e43c-71faebd433ba.png)\n\n# ざっくり構成\n\n![構成.drawio.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4f0359ae-530e-5e1b-e082-ee5bc1f2cec8.png)\n\nざっくり解説してみると、\n\n## 利用者\n\n1. ブラウザで必要な情報を入力し、回答生成のリクエストを送る。\n1. `API Gateway`を通して`step functions`へ通じ処理が始まる。\n1. `API Gateway`のtimeoutは29sのため、`step functions`を使い、タイムアウトの問題を解決している。\n1. 非同期処理で、`OpenAI`からの回答が返ってきたら`Supabase`に回答を格納する。\n1. ブラウザでは`Supabase`のリアルタイム機能を使い、特定のテーブルの`INSERT`イベントを検知し、回答を表示する。\n\n## 開発\n\n* フロントエンド側は`Vercel`でビルド・デプロイしているので、`github`の`main`ブランチの変更を検知してビルド・デプロイが走る\n* バックエンド側のは`ServerlessFramework`でデプロイしている。\n\n# `OpenAI`回答生成\n\n## ソースコード\n\n```typescript:handler.ts\nimport { Configuration, OpenAIApi } from 'openai'\n\nconst getAnswer = async (event) =\u003e {\n  const config = new Configuration({ apiKey: ************** });\n  const openai = new OpenAIApi(config);\n  const prompt = `\n  質問: あなたの職業は${event.occupation}です。${event.title}についての感想を以下を参考に${event.answer_length}文字程度で作成してください。\n  ${event.feature}\n  回答: \n  `\n  const response = await openai.createCompletion(\n    {\n      model: \"text-davinci-003\",\n      prompt: prompt,\n      temperature: 1,\n      max_tokens: 1000,\n    }\n  );\n}\n```\n\n## 解説\n\nnodejsでは、`openai`ライブラリをインストールして使います\n\n```bash\n# npm\nnpm i openai\n# yarn\nyarn add openai\n# pnpm\npnpm i openai\n```\n\n1. config設定\n\n    この時にapiKeyを使うのですが、この値は`GitHub`に上げたり、フロント側のソースコードに載せたりしないようにしましょう\n    私は`process.env.*****`で環境変数にしました。\n    \n    ```typescript\n    const config = new Configuration({ apiKey: ************** });\n    ```\n\n1. configを使って初期化をします。\n    \n    ```typescript\n    const openai = new OpenAIApi(config);\n    ```\n\n1. createCompletion\n\n    初期化をしたら`createCompletion`メソッドを使います。\n    このメソッドはプロンプトに基づいてテキストを生成するメソッドです。\n    \n    主なプロパティは以下の通りです。\n    \n    * model: 使用するモデルの名前\n    * prompt: テキスト生成のための入力となる文字列\n    * max_tokens: 生成する最大トークン数\n    * temperature: 生成されるテキストの多様性を制御するパラメータ。0から1までの値を設定し、1に近づくほど多様性が上がる。\n    \n    他にも色々なプロパティがあるので、もっとカスタマイズしたい場合は[公式ドキュメント](https://platform.openai.com/docs/introduction/overview)をご参照ください\n\n    ```typescript\n      const response = await openai.createCompletion(\n        {\n          model: \"text-davinci-003\",\n          prompt: prompt,\n          temperature: 1,\n          max_tokens: 1000,\n        }\n      );\n    ```\n\n1. promptについて\n\n\n    `createCompletion`メソッドは前の文から予測して次の文を考えるメソッドなので、例としては以下のように使います。\n    \n    ```\n    Aさん: 昨日の星空は綺麗だったね。Bさんはどうだった？\n    Bさん: \n    ```\n    \n    ここまでを`propmt`に入れることでBさんのセリフをBさんの立場で考えてくれるという仕組みです。\n    \n    私の場合は\n    \n    ```typescript\n    const prompt = `\n      質問: あなたの職業は${event.occupation}です。${event.title}についての感想を以下を参考に${event.answer_length}文字程度で作成してください。\n      ${event.feature}\n      回答: \n    `\n    ```\n    \n    このようにすることで、感想文を書く立場・対象・特徴について設置を教え、回答を生成させています。\n\n他の実装箇所については徐々に記事にして行こうと思います〜\n\n# 最後に\n\nAIを作るのは大変ですが、\nAIを使うのは簡単でした。\n\n楽しい世の中になってきましたね\n",
    "coediting": false,
    "comments_count": 3,
    "created_at": "2023-02-28T00:44:27+09:00",
    "group": null,
    "id": "cbc06263c51ab64e5dbe",
    "likes_count": 31,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 13,
    "tags": [
      { "name": "TypeScript", "versions": [] },
      { "name": "OpenAI", "versions": [] },
      { "name": "ServerlessFramework", "versions": [] },
      { "name": "stepfunctions", "versions": [] },
      { "name": "Supabase", "versions": [] }
    ],
    "title": "OpenAI APIを利用して【感想文ジェネレーター】を作成しました",
    "updated_at": "2023-02-28T00:44:27+09:00",
    "url": "https://qiita.com/maaaashi/items/cbc06263c51ab64e5dbe",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-6:125\"\u003e\u003ccode\u003eFirebase\u003c/code\u003eの代替と謳われている\u003ccode\u003esupabase\u003c/code\u003eをよく使ってwebアプリを構築していますが、\u003cbr\u003e\nWeb版の無料枠では2つのプロジェクトまでしか作成することができないため、\u003cbr\u003e\nAWSのEC2上に\u003ccode\u003eself-hosting\u003c/code\u003eしました\u003cbr\u003e\n今回はシングル構成ですが、\u003ccode\u003edocker swarm\u003c/code\u003eなどを利用することで冗長構成にすることも可能です\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6705e4e9-5bae-8323-aa81-3c0b3b67321b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b2c1512f0f0fda5d664aaed063a08cd9\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6705e4e9-5bae-8323-aa81-3c0b3b67321b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b2c1512f0f0fda5d664aaed063a08cd9\" width=\"300\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6705e4e9-5bae-8323-aa81-3c0b3b67321b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5b3d8f6b40c44dee4a2ec44cf41e482f 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6705e4e9-5bae-8323-aa81-3c0b3b67321b.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F914f2f3c-48d2-d430-5531-588fa2c5a12f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c3cc354c27923178ea82b6cca59580c8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F914f2f3c-48d2-d430-5531-588fa2c5a12f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c3cc354c27923178ea82b6cca59580c8\" width=\"103\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F914f2f3c-48d2-d430-5531-588fa2c5a12f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=6a8f0dc39001f77620e834fbdcf82299 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/914f2f3c-48d2-d430-5531-588fa2c5a12f.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003ch1 data-sourcepos=\"14:1-14:17\"\u003e\n\u003cspan id=\"1-ec2の作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-ec2%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. EC2の作成\u003c/h1\u003e\n\u003col data-sourcepos=\"16:1-39:0\"\u003e\n\u003cli data-sourcepos=\"16:1-16:34\"\u003e\n\u003cp data-sourcepos=\"16:4-16:34\"\u003eAWS management consoleを開く\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"17:1-17:27\"\u003e\n\u003cp data-sourcepos=\"17:4-17:27\"\u003eEC2のページを開く\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"18:1-37:0\"\u003e\n\u003cp data-sourcepos=\"18:4-19:31\"\u003e画面右上の「インスタンスを起動」ボタンをクリック\u003cbr\u003e\n以下設定項目を設定\u003c/p\u003e\n\u003cul data-sourcepos=\"21:5-37:0\"\u003e\n\u003cli data-sourcepos=\"21:5-22:25\"\u003e名前\n\u003cul data-sourcepos=\"22:9-22:25\"\u003e\n\u003cli data-sourcepos=\"22:9-22:25\"\u003e自由に設定\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"23:5-24:21\"\u003eOSイメージ\n\u003cul data-sourcepos=\"24:9-24:21\"\u003e\n\u003cli data-sourcepos=\"24:9-24:21\"\u003eAmazonLinux\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"25:5-27:148\"\u003eインスタンスタイプ\n\u003cul data-sourcepos=\"26:9-27:148\"\u003e\n\u003cli data-sourcepos=\"26:9-26:25\"\u003e自由に設定\u003c/li\u003e\n\u003cli data-sourcepos=\"27:9-27:148\"\u003e無料枠の\u003ccode\u003et2.micro\u003c/code\u003eでも動くかもしれませんが、あまりにもストレスが溜まったので\u003ccode\u003et3a.small\u003c/code\u003eにしました。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"28:5-31:50\"\u003eキーペア\n\u003cul data-sourcepos=\"29:9-31:50\"\u003e\n\u003cli data-sourcepos=\"29:9-31:50\"\u003e新しいキーペアを生成\n\u003cul data-sourcepos=\"30:13-31:50\"\u003e\n\u003cli data-sourcepos=\"30:13-30:47\"\u003eキーペア名：自由に設定\u003c/li\u003e\n\u003cli data-sourcepos=\"31:13-31:50\"\u003e他はそのままキーペア生成\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"32:5-34:77\"\u003eセキュリティグループ\n\u003cul data-sourcepos=\"33:9-34:77\"\u003e\n\u003cli data-sourcepos=\"33:9-34:77\"\u003eあとで設定するため、\u003cbr\u003e\n「既存のセキュリティグループを設定」 \u0026gt; 空のまま\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"35:5-37:0\"\u003eストレージ\n\u003cul data-sourcepos=\"36:9-37:0\"\u003e\n\u003cli data-sourcepos=\"36:9-37:0\"\u003e無料枠の限界30GiBまで拡張\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"38:1-39:0\"\u003e\n\u003cp data-sourcepos=\"38:4-38:36\"\u003e「インスタンスを起動」\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch1 data-sourcepos=\"40:1-40:56\"\u003e\n\u003cspan id=\"2-セキュリティーグループを作成する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E3%83%BC%E3%82%B0%E3%83%AB%E3%83%BC%E3%83%97%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. セキュリティーグループを作成する。\u003c/h1\u003e\n\u003col data-sourcepos=\"42:1-70:0\"\u003e\n\u003cli data-sourcepos=\"42:1-42:138\"\u003e\n\u003cp data-sourcepos=\"42:4-42:138\"\u003e左側サイドメニューから、「ネットワーク \u0026amp; セキュリティ」 \u0026gt; 「セキュリティグループ」を選択する\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"43:1-66:0\"\u003e\n\u003cp data-sourcepos=\"43:4-44:31\"\u003e画面右上「セキュリティグループを作成」をクリック\u003cbr\u003e\n以下設定項目を設定\u003c/p\u003e\n\u003cul data-sourcepos=\"46:5-53:4\"\u003e\n\u003cli data-sourcepos=\"46:5-47:25\"\u003eセキュリティグループ名\n\u003cul data-sourcepos=\"47:9-47:25\"\u003e\n\u003cli data-sourcepos=\"47:9-47:25\"\u003e自由に設定\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"48:5-49:25\"\u003e説明\n\u003cul data-sourcepos=\"49:9-49:25\"\u003e\n\u003cli data-sourcepos=\"49:9-49:25\"\u003e自由に設定\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"50:5-51:49\"\u003eVPC\n\u003cul data-sourcepos=\"51:9-51:49\"\u003e\n\u003cli data-sourcepos=\"51:9-51:49\"\u003e先ほどEC2を構築したVPCを選択\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"52:5-53:4\"\u003eインバウンドルール\u003c/li\u003e\n\u003c/ul\u003e\n\u003ctable data-sourcepos=\"54:5-60:70\"\u003e\n\u003cthead\u003e\n\u003ctr data-sourcepos=\"54:5-54:65\"\u003e\n\u003cth data-sourcepos=\"54:6-54:14\"\u003eタイプ\u003c/th\u003e\n\u003cth data-sourcepos=\"54:16-54:30\"\u003eプロトコル\u003c/th\u003e\n\u003cth data-sourcepos=\"54:32-54:46\"\u003eポート範囲\u003c/th\u003e\n\u003cth data-sourcepos=\"54:48-54:56\"\u003eソース\u003c/th\u003e\n\u003cth data-sourcepos=\"54:58-54:57\"\u003e\u003c/th\u003e\n\u003cth data-sourcepos=\"54:59-54:64\"\u003e説明\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr data-sourcepos=\"56:5-56:70\"\u003e\n\u003ctd data-sourcepos=\"56:6-56:20\"\u003eカスタムTCP\u003c/td\u003e\n\u003ctd data-sourcepos=\"56:22-56:24\"\u003eTCP\u003c/td\u003e\n\u003ctd data-sourcepos=\"56:26-56:29\"\u003e8000\u003c/td\u003e\n\u003ctd data-sourcepos=\"56:31-56:43\"\u003eAnywhere-IPv4\u003c/td\u003e\n\u003ctd data-sourcepos=\"56:45-56:53\"\u003e0.0.0.0/0\u003c/td\u003e\n\u003ctd data-sourcepos=\"56:55-56:69\"\u003e自由に設定\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"57:5-57:56\"\u003e\n\u003ctd data-sourcepos=\"57:6-57:8\"\u003essh\u003c/td\u003e\n\u003ctd data-sourcepos=\"57:10-57:12\"\u003eTCP\u003c/td\u003e\n\u003ctd data-sourcepos=\"57:14-57:15\"\u003e22\u003c/td\u003e\n\u003ctd data-sourcepos=\"57:17-57:29\"\u003eAnywhere-IPv4\u003c/td\u003e\n\u003ctd data-sourcepos=\"57:31-57:39\"\u003e0.0.0.0/0\u003c/td\u003e\n\u003ctd data-sourcepos=\"57:41-57:55\"\u003e自由に設定\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"58:5-58:59\"\u003e\n\u003ctd data-sourcepos=\"58:6-58:10\"\u003eHTTPS\u003c/td\u003e\n\u003ctd data-sourcepos=\"58:12-58:14\"\u003eTCP\u003c/td\u003e\n\u003ctd data-sourcepos=\"58:16-58:18\"\u003e443\u003c/td\u003e\n\u003ctd data-sourcepos=\"58:20-58:32\"\u003eAnywhere-IPv4\u003c/td\u003e\n\u003ctd data-sourcepos=\"58:34-58:42\"\u003e0.0.0.0/0\u003c/td\u003e\n\u003ctd data-sourcepos=\"58:44-58:58\"\u003e自由に設定\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"59:5-59:70\"\u003e\n\u003ctd data-sourcepos=\"59:6-59:20\"\u003eカスタムTCP\u003c/td\u003e\n\u003ctd data-sourcepos=\"59:22-59:24\"\u003eTCP\u003c/td\u003e\n\u003ctd data-sourcepos=\"59:26-59:29\"\u003e3000\u003c/td\u003e\n\u003ctd data-sourcepos=\"59:31-59:43\"\u003eAnywhere-IPv4\u003c/td\u003e\n\u003ctd data-sourcepos=\"59:45-59:53\"\u003e0.0.0.0/0\u003c/td\u003e\n\u003ctd data-sourcepos=\"59:55-59:69\"\u003e自由に設定\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"60:5-60:70\"\u003e\n\u003ctd data-sourcepos=\"60:6-60:20\"\u003eカスタムTCP\u003c/td\u003e\n\u003ctd data-sourcepos=\"60:22-60:24\"\u003eTCP\u003c/td\u003e\n\u003ctd data-sourcepos=\"60:26-60:29\"\u003e5432\u003c/td\u003e\n\u003ctd data-sourcepos=\"60:31-60:43\"\u003eAnywhere-IPv4\u003c/td\u003e\n\u003ctd data-sourcepos=\"60:45-60:53\"\u003e0.0.0.0/0\u003c/td\u003e\n\u003ctd data-sourcepos=\"60:55-60:69\"\u003e自由に設定\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp data-sourcepos=\"62:5-62:103\"\u003e\u003ccode\u003e0.0.0.0/0\u003c/code\u003eの部分を自社のIPに設定することでIP制限をかけることができます\u003c/p\u003e\n\u003cul data-sourcepos=\"64:5-66:0\"\u003e\n\u003cli data-sourcepos=\"64:5-66:0\"\u003eタグ\n\u003cul data-sourcepos=\"65:9-66:0\"\u003e\n\u003cli data-sourcepos=\"65:9-66:0\"\u003e自由に設定\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"67:1-67:54\"\u003e\n\u003cp data-sourcepos=\"67:4-67:54\"\u003e先ほど作成したEC2インスタンスを選択\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"68:1-68:99\"\u003e\n\u003cp data-sourcepos=\"68:4-68:99\"\u003e「アクション」 \u0026gt; 「セキュリティ」 \u0026gt; 「セキュリティグループを変更」\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"69:1-70:0\"\u003e\n\u003cp data-sourcepos=\"69:4-69:54\"\u003e今作ったセキュリティグループを設定\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"71:1-71:164\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F47275789-a8cb-9e1a-9da5-14c83740e6f7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3f04f8e0010a6aad80e147397cb0cc60\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F47275789-a8cb-9e1a-9da5-14c83740e6f7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3f04f8e0010a6aad80e147397cb0cc60\" alt=\"スクリーンショット 2023-02-24 23.17.59.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F47275789-a8cb-9e1a-9da5-14c83740e6f7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=0adb05cd6d886e7bd5cfaceb1777465f 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/47275789-a8cb-9e1a-9da5-14c83740e6f7.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"73:1-73:35\"\u003eこのようになっていたらOK\u003c/p\u003e\n\u003ch1 data-sourcepos=\"75:1-75:46\"\u003e\n\u003cspan id=\"3-ec2に接続しsupabaseを起動する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-ec2%E3%81%AB%E6%8E%A5%E7%B6%9A%E3%81%97supabase%E3%82%92%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. EC2に接続し、supabaseを起動する\u003c/h1\u003e\n\u003col data-sourcepos=\"77:1-178:0\"\u003e\n\u003cli data-sourcepos=\"77:1-81:0\"\u003e\n\u003cp data-sourcepos=\"77:4-77:95\"\u003e\u003ccode\u003eterraterm\u003c/code\u003eなどのツールや、\u003ccode\u003einstance connect\u003c/code\u003eを利用してEC2にssh接続をする\u003c/p\u003e\n\u003cul data-sourcepos=\"79:5-81:0\"\u003e\n\u003cli data-sourcepos=\"79:5-79:81\"\u003eファイルを操作するのでVScodeで入っちゃうのがおすすめ\u003c/li\u003e\n\u003cli data-sourcepos=\"80:5-81:0\"\u003e楽なのは\u003ccode\u003einstance connect\u003c/code\u003eで、画面上部の「接続」ボタンから接続したらOK\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"82:1-117:0\"\u003e\n\u003cp data-sourcepos=\"82:4-82:42\"\u003e以下の通りにコマンドを実行\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"sh\" data-sourcepos=\"84:5-116:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003esudo \u003c/span\u003eyum update\n・\n・\n・\nUpgrade  4 Packages\n\nTotal download size: 34 M\nIs this ok \u003cspan class=\"o\"\u003e[\u003c/span\u003ey/d/N]: y\n・\n・\n・\nComplete!\n\n\u003cspan class=\"c\"\u003e# docker install\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003esudo \u003c/span\u003eyum \u003cspan class=\"nb\"\u003einstall \u003c/span\u003edocker \u003cspan class=\"nt\"\u003e-y\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003esudo \u003c/span\u003eservice docker start\n\n\u003cspan class=\"c\"\u003e# docker-compose install\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# version 1.29.2の場合\u003c/span\u003e\n\u003cspan class=\"c\"\u003e# versionは好きなものを入れる\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003esudo \u003c/span\u003ecurl \u003cspan class=\"nt\"\u003e-L\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"https://github.com/docker/compose/releases/download/1.29.2/docker-compose-\u003c/span\u003e\u003cspan class=\"si\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003euname\u003c/span\u003e \u003cspan class=\"nt\"\u003e-s\u003c/span\u003e\u003cspan class=\"si\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e-\u003c/span\u003e\u003cspan class=\"si\"\u003e$(\u003c/span\u003e\u003cspan class=\"nb\"\u003euname\u003c/span\u003e \u003cspan class=\"nt\"\u003e-m\u003c/span\u003e\u003cspan class=\"si\"\u003e)\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e-o\u003c/span\u003e /usr/local/bin/docker-compose\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003esudo chmod\u003c/span\u003e +x /usr/local/bin/docker-compose\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003esudo chmod \u003c/span\u003e666 /var/run/docker.sock\n\n\u003cspan class=\"c\"\u003e# Gitのinstall\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003esudo \u003c/span\u003eyum \u003cspan class=\"nb\"\u003einstall \u003c/span\u003egit \u003cspan class=\"nt\"\u003e-y\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# supabase リポジトリのcloen\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egit clone \u003cspan class=\"nt\"\u003e--depth\u003c/span\u003e 1 https://github.com/supabase/supabase\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003ecd \u003c/span\u003esupabase/docker\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003ecp\u003c/span\u003e .env.example .env\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"118:1-124:0\"\u003e\n\u003cp data-sourcepos=\"118:4-118:16\"\u003e.envの修正\u003c/p\u003e\n\u003cp data-sourcepos=\"120:5-121:49\"\u003e.env内に出てくる\u003ccode\u003elocalhost\u003c/code\u003eの値を全てEC2の\u003ccode\u003epublicIP\u003c/code\u003eに置き換える\u003cbr\u003e\n私の環境では４箇所ありました。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"125:1-140:11\"\u003e\n\u003cp data-sourcepos=\"125:4-125:50\"\u003esupabaseのセキュリティセットアップ\u003c/p\u003e\n\u003col data-sourcepos=\"127:5-140:11\"\u003e\n\u003cli data-sourcepos=\"127:5-128:59\"\u003e\n\u003cp data-sourcepos=\"127:8-128:59\"\u003e公式のガイドに従い\u003ca href=\"https://supabase.com/docs/guides/self-hosting#api-keys\" rel=\"nofollow noopener\" target=\"_blank\"\u003eJWT Generator\u003c/a\u003eを利用して\u003cbr\u003e\n\u003ccode\u003ejwt secret\u003c/code\u003eと、\u003ccode\u003eanon key\u003c/code\u003eと\u003ccode\u003eservice key\u003c/code\u003eを作成する\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"129:5-140:11\"\u003e\n\u003cp data-sourcepos=\"129:8-129:37\"\u003e次の箇所を書き換える\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"131:9-140:11\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e.env:\n    JWT_SECRET - jwt secret\n    ANON_KEY - anon key\n    SERVICE_ROLE_KEY - service key\n\nvolumes/api/kong.yml\n    anon - anon key\n    service_role - service key\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"141:1-170:0\"\u003e\n\u003cp data-sourcepos=\"141:4-141:53\"\u003edocker-compose.ymlの微修正(いらないかも)\u003c/p\u003e\n\u003cp data-sourcepos=\"143:5-143:245\"\u003e私のPC上ではこれまでのセットアップで動いたのですが、\u003ccode\u003eAmazon linux\u003c/code\u003e上ではコンテナがうまく立ち上がらなかったので、脳死気味になるが、以下の設定を全てのサービスに追加する\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"145:5-147:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e \u003cspan class=\"na\"\u003eprivileged\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"149:5-149:9\"\u003e例)\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"151:5-166:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  \u003cspan class=\"na\"\u003erest\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003econtainer_name\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esupabase-rest\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003epostgrest/postgrest:v10.1.2\u003c/span\u003e\n    \u003cspan class=\"na\"\u003edepends_on\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003edb\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e# Disable this if you are using an external Postgres database\u003c/span\u003e\n        \u003cspan class=\"na\"\u003econdition\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eservice_healthy\u003c/span\u003e\n    \u003cspan class=\"na\"\u003erestart\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eunless-stopped\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePGRST_DB_URI\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003epostgres://authenticator:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePGRST_DB_SCHEMAS\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${PGRST_DB_SCHEMAS}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePGRST_DB_ANON_ROLE\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eanon\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePGRST_JWT_SECRET\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${JWT_SECRET}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePGRST_DB_USE_LEGACY_GUCS\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003efalse\"\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eprivileged\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e   \u003cspan class=\"c1\"\u003e# 追加\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"169:5-169:83\"\u003e\u003cfont color=\"red\"\u003e最後にdocker-compose.ymlファイルを載せます\u003c/font\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"171:1-176:0\"\u003e\n\u003cp data-sourcepos=\"171:4-171:92\"\u003eお待ちかねのサーバー起動(初回はimageのpullに時間がかかります。)\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"173:5-175:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003edocker-compose up \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"177:1-178:0\"\u003e\n\u003cp data-sourcepos=\"177:4-177:49\"\u003e\u003ca href=\"\"\u003ehttp://public ip:3000\u003c/a\u003eを開くと、、、\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"179:1-179:163\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc39ca2a5-f6de-630e-c6a0-319d42be5d76.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=13e1c5394efb3c4e94a5e8d7d387eb42\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc39ca2a5-f6de-630e-c6a0-319d42be5d76.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=13e1c5394efb3c4e94a5e8d7d387eb42\" alt=\"スクリーンショット 2023-02-25 0.23.38.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc39ca2a5-f6de-630e-c6a0-319d42be5d76.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=f87cf6d0031c91e16e6e85c6c6b2b3ca 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/c39ca2a5-f6de-630e-c6a0-319d42be5d76.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"181:1-181:15\"\u003eやったー！\u003c/p\u003e\n\u003ch1 data-sourcepos=\"183:1-183:32\"\u003e\n\u003cspan id=\"4-storageをs3に変更する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#4-storage%E3%82%92s3%E3%81%AB%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e4. storageをs3に変更する\u003c/h1\u003e\n\u003cul data-sourcepos=\"185:1-187:0\"\u003e\n\u003cli data-sourcepos=\"185:1-185:86\"\u003eせっかくAWS上で動かしているので、storageはs3を使いましょう〜\u003c/li\u003e\n\u003cli data-sourcepos=\"186:1-187:0\"\u003eEBSも圧迫しますしね\u003c/li\u003e\n\u003c/ul\u003e\n\u003col data-sourcepos=\"188:1-210:0\"\u003e\n\u003cli data-sourcepos=\"188:1-191:0\"\u003e\n\u003cp data-sourcepos=\"188:4-188:20\"\u003es3を作成する\u003c/p\u003e\n\u003cp data-sourcepos=\"190:5-190:66\"\u003e名前は自由。他はデフォルトのままでOKです。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"192:1-204:0\"\u003e\n\u003cp data-sourcepos=\"192:4-192:67\"\u003edocker-compose.ymlファイルのstorageの環境変数を変更\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"194:5-203:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e      \u003cspan class=\"na\"\u003eFILE_SIZE_LIMIT\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e52428800\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eSTORAGE_BACKEND\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003es3\u003c/span\u003e       \u003cspan class=\"c1\"\u003e# 変更\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eFILE_STORAGE_BACKEND_PATH\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e/var/lib/storage\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eTENANT_ID\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esupabase\u003c/span\u003e       \u003cspan class=\"c1\"\u003e# 変更(なんでもいいです。変えなくてもいいです。)\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eREGION\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eap-northeast-1\u003c/span\u003e    \u003cspan class=\"c1\"\u003e# s3のリージョン指定\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eGLOBAL_S3_BUCKET\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"err\"\u003e*****\u003c/span\u003e   \u003cspan class=\"c1\"\u003e# s3バケット名を指定\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eENABLE_IMAGE_TRANSFORMATION\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003etrue\"\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eIMGPROXY_URL\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ehttp://imgproxy:5001\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"205:1-210:0\"\u003e\n\u003cp data-sourcepos=\"205:4-205:18\"\u003e環境再起動\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"207:5-209:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003edocker-compose restart\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"211:1-211:57\"\u003eこれでstorage機能の保存先がs3になります。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"213:1-213:11\"\u003e\n\u003cspan id=\"5-参考\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#5-%E5%8F%82%E8%80%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e5. 参考\u003c/h1\u003e\n\u003cdetails\u003e\u003csummary\u003e開く: docker-compose.yaml\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"217:1-468:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003edocker-compose.yml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e# Usage\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e#   Start:          docker compose up\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e#   With helpers:   docker compose -f docker-compose.yml -f ./dev/docker-compose.dev.yml up\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e#   Stop:           docker compose down\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e#   Destroy:        docker compose -f docker-compose.yml -f ./dev/docker-compose.dev.yml down -v --remove-orphans\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003eversion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003e3.8\"\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003eservices\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003estudio\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003econtainer_name\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esupabase-studio\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esupabase/studio:20230216-e731b77\u003c/span\u003e\n    \u003cspan class=\"na\"\u003erestart\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eunless-stopped\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ehealthcheck\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003etest\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"pi\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003eCMD\"\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003enode\"\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003e-e\"\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003erequire('http').get('http://localhost:3000/api/profile',\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e(r)\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e{if\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e(r.statusCode\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e!==\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e200)\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003ethrow\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003enew\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003eError(r.statusCode)})\"\u003c/span\u003e \u003cspan class=\"pi\"\u003e]\u003c/span\u003e\n      \u003cspan class=\"na\"\u003etimeout\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e5s\u003c/span\u003e\n      \u003cspan class=\"na\"\u003einterval\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e5s\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eretries\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e3\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eports\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003e${STUDIO_PORT}:3000/tcp\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eSTUDIO_PG_META_URL\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ehttp://meta:8080\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePOSTGRES_PASSWORD\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${POSTGRES_PASSWORD}\u003c/span\u003e\n\n      \u003cspan class=\"na\"\u003eDEFAULT_ORGANIZATION_NAME\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${STUDIO_DEFAULT_ORGANIZATION}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eDEFAULT_PROJECT_NAME\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${STUDIO_DEFAULT_PROJECT}\u003c/span\u003e\n\n      \u003cspan class=\"na\"\u003eSUPABASE_URL\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ehttp://kong:8000\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eSUPABASE_PUBLIC_URL\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${SUPABASE_PUBLIC_URL}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eSUPABASE_ANON_KEY\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${ANON_KEY}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eSUPABASE_SERVICE_KEY\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${SERVICE_ROLE_KEY}\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eprivileged\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n\n  \u003cspan class=\"na\"\u003ekong\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003econtainer_name\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esupabase-kong\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ekong:2.8.1\u003c/span\u003e\n    \u003cspan class=\"na\"\u003erestart\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eunless-stopped\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eports\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003e${KONG_HTTP_PORT}:8000/tcp\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003e${KONG_HTTPS_PORT}:8443/tcp\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eKONG_DATABASE\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003eoff\"\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eKONG_DECLARATIVE_CONFIG\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e/var/lib/kong/kong.yml\u003c/span\u003e\n      \u003cspan class=\"c1\"\u003e# https://github.com/supabase/cli/issues/14\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eKONG_DNS_ORDER\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eLAST,A,CNAME\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eKONG_PLUGINS\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003erequest-transformer,cors,key-auth,acl\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eKONG_NGINX_PROXY_PROXY_BUFFER_SIZE\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e160k\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eKONG_NGINX_PROXY_PROXY_BUFFERS\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e64 160k\u003c/span\u003e\n    \u003cspan class=\"na\"\u003evolumes\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003e./volumes/api:/var/lib/kong:ro\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eprivileged\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n\n  \u003cspan class=\"na\"\u003eauth\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003econtainer_name\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esupabase-auth\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esupabase/gotrue:v2.47.0\u003c/span\u003e\n    \u003cspan class=\"na\"\u003edepends_on\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003edb\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e# Disable this if you are using an external Postgres database\u003c/span\u003e\n        \u003cspan class=\"na\"\u003econdition\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eservice_healthy\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ehealthcheck\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003etest\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"pi\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003eCMD\"\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003ewget\"\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003e--no-verbose\"\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003e--tries=1\"\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003e--spider\"\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003ehttp://localhost:9999/health\"\u003c/span\u003e \u003cspan class=\"pi\"\u003e]\u003c/span\u003e\n      \u003cspan class=\"na\"\u003etimeout\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e5s\u003c/span\u003e\n      \u003cspan class=\"na\"\u003einterval\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e5s\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eretries\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e3\u003c/span\u003e\n    \u003cspan class=\"na\"\u003erestart\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eunless-stopped\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eGOTRUE_API_HOST\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e0.0.0.0\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eGOTRUE_API_PORT\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e9999\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eAPI_EXTERNAL_URL\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${API_EXTERNAL_URL}\u003c/span\u003e\n\n      \u003cspan class=\"na\"\u003eGOTRUE_DB_DRIVER\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003epostgres\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eGOTRUE_DB_DATABASE_URL\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003epostgres://supabase_auth_admin:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}\u003c/span\u003e\n\n      \u003cspan class=\"na\"\u003eGOTRUE_SITE_URL\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${SITE_URL}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eGOTRUE_URI_ALLOW_LIST\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${ADDITIONAL_REDIRECT_URLS}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eGOTRUE_DISABLE_SIGNUP\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${DISABLE_SIGNUP}\u003c/span\u003e\n\n      \u003cspan class=\"na\"\u003eGOTRUE_JWT_ADMIN_ROLES\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eservice_role\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eGOTRUE_JWT_AUD\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eauthenticated\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eGOTRUE_JWT_DEFAULT_GROUP_NAME\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eauthenticated\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eGOTRUE_JWT_EXP\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${JWT_EXPIRY}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eGOTRUE_JWT_SECRET\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${JWT_SECRET}\u003c/span\u003e\n\n      \u003cspan class=\"na\"\u003eGOTRUE_EXTERNAL_EMAIL_ENABLED\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${ENABLE_EMAIL_SIGNUP}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eGOTRUE_MAILER_AUTOCONFIRM\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${ENABLE_EMAIL_AUTOCONFIRM}\u003c/span\u003e\n      \u003cspan class=\"c1\"\u003e# GOTRUE_MAILER_SECURE_EMAIL_CHANGE_ENABLED: true\u003c/span\u003e\n      \u003cspan class=\"c1\"\u003e# GOTRUE_SMTP_MAX_FREQUENCY: 1s\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eGOTRUE_SMTP_ADMIN_EMAIL\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${SMTP_ADMIN_EMAIL}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eGOTRUE_SMTP_HOST\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${SMTP_HOST}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eGOTRUE_SMTP_PORT\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${SMTP_PORT}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eGOTRUE_SMTP_USER\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${SMTP_USER}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eGOTRUE_SMTP_PASS\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${SMTP_PASS}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eGOTRUE_SMTP_SENDER_NAME\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${SMTP_SENDER_NAME}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eGOTRUE_MAILER_URLPATHS_INVITE\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${MAILER_URLPATHS_INVITE}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eGOTRUE_MAILER_URLPATHS_CONFIRMATION\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${MAILER_URLPATHS_CONFIRMATION}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eGOTRUE_MAILER_URLPATHS_RECOVERY\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${MAILER_URLPATHS_RECOVERY}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eGOTRUE_MAILER_URLPATHS_EMAIL_CHANGE\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${MAILER_URLPATHS_EMAIL_CHANGE}\u003c/span\u003e\n\n      \u003cspan class=\"na\"\u003eGOTRUE_EXTERNAL_PHONE_ENABLED\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${ENABLE_PHONE_SIGNUP}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eGOTRUE_SMS_AUTOCONFIRM\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${ENABLE_PHONE_AUTOCONFIRM}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eMFA_ENABLED\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${MFA_ENABLED}\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eprivileged\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n\n  \u003cspan class=\"na\"\u003erest\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003econtainer_name\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esupabase-rest\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003epostgrest/postgrest:v10.1.2\u003c/span\u003e\n    \u003cspan class=\"na\"\u003edepends_on\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003edb\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e# Disable this if you are using an external Postgres database\u003c/span\u003e\n        \u003cspan class=\"na\"\u003econdition\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eservice_healthy\u003c/span\u003e\n    \u003cspan class=\"na\"\u003erestart\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eunless-stopped\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePGRST_DB_URI\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003epostgres://authenticator:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePGRST_DB_SCHEMAS\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${PGRST_DB_SCHEMAS}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePGRST_DB_ANON_ROLE\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eanon\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePGRST_JWT_SECRET\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${JWT_SECRET}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePGRST_DB_USE_LEGACY_GUCS\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003efalse\"\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eprivileged\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n\n  \u003cspan class=\"na\"\u003erealtime\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003econtainer_name\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003erealtime-dev.supabase-realtime\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esupabase/realtime:v2.5.1\u003c/span\u003e\n    \u003cspan class=\"na\"\u003edepends_on\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003edb\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e# Disable this if you are using an external Postgres database\u003c/span\u003e\n        \u003cspan class=\"na\"\u003econdition\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eservice_healthy\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ehealthcheck\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003etest\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"pi\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003eCMD\"\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003ebash\"\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003e-c\"\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003eprintf\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"se\"\u003e\\\\\u003c/span\u003e\u003cspan class=\"s\"\u003e0\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e/dev/tcp/localhost/4000\"\u003c/span\u003e \u003cspan class=\"pi\"\u003e]\u003c/span\u003e\n      \u003cspan class=\"na\"\u003etimeout\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e5s\u003c/span\u003e\n      \u003cspan class=\"na\"\u003einterval\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e5s\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eretries\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e3\u003c/span\u003e\n    \u003cspan class=\"na\"\u003erestart\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eunless-stopped\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePORT\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e4000\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eDB_HOST\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${POSTGRES_HOST}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eDB_PORT\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${POSTGRES_PORT}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eDB_USER\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esupabase_admin\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eDB_PASSWORD\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${POSTGRES_PASSWORD}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eDB_NAME\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${POSTGRES_DB}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eDB_AFTER_CONNECT_QUERY\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\u003c/span\u003e\u003cspan class=\"s\"\u003eSET\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003esearch_path\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003eTO\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003e_realtime'\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eDB_ENC_KEY\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esupabaserealtime\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eAPI_JWT_SECRET\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${JWT_SECRET}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eFLY_ALLOC_ID\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003efly123\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eFLY_APP_NAME\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003erealtime\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eSECRET_KEY_BASE\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eUpNVntn3cDxHJpq99YMc1T1AQgQpc8kfYTuRgBiYa15BLrx8etQoXz3gZv1/u2oq\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eERL_AFLAGS\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e-proto_dist inet_tcp\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eENABLE_TAILSCALE\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003efalse\"\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eDNS_NODES\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003e''\"\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ecommand\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"pi\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"s\"\u003esh -c \"/app/bin/migrate \u0026amp;\u0026amp; /app/bin/realtime eval 'Realtime.Release.seeds(Realtime.Repo)' \u0026amp;\u0026amp; /app/bin/server\"\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eprivileged\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n\n  \u003cspan class=\"na\"\u003estorage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003econtainer_name\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esupabase-storage\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esupabase/storage-api:v0.28.2\u003c/span\u003e\n    \u003cspan class=\"na\"\u003edepends_on\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003edb\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e# Disable this if you are using an external Postgres database\u003c/span\u003e\n        \u003cspan class=\"na\"\u003econdition\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eservice_healthy\u003c/span\u003e\n      \u003cspan class=\"na\"\u003erest\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"na\"\u003econdition\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eservice_started\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eimgproxy\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"na\"\u003econdition\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eservice_started\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ehealthcheck\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003etest\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"pi\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003eCMD\"\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003ewget\"\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003e--no-verbose\"\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003e--tries=1\"\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003e--spider\"\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003ehttp://localhost:5000/status\"\u003c/span\u003e \u003cspan class=\"pi\"\u003e]\u003c/span\u003e\n      \u003cspan class=\"na\"\u003etimeout\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e5s\u003c/span\u003e\n      \u003cspan class=\"na\"\u003einterval\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e5s\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eretries\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e3\u003c/span\u003e\n    \u003cspan class=\"na\"\u003erestart\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eunless-stopped\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eANON_KEY\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${ANON_KEY}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eSERVICE_KEY\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${SERVICE_ROLE_KEY}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePOSTGREST_URL\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ehttp://rest:3000\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePGRST_JWT_SECRET\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${JWT_SECRET}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eDATABASE_URL\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003epostgres://supabase_storage_admin:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eFILE_SIZE_LIMIT\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e52428800\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eSTORAGE_BACKEND\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003es3\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eFILE_STORAGE_BACKEND_PATH\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e/var/lib/storage\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eTENANT_ID\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esupabase\u003c/span\u003e\n      \u003cspan class=\"c1\"\u003e# TODO: https://github.com/supabase/storage-api/issues/55\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eREGION\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eap-northeast-1\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eGLOBAL_S3_BUCKET\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esupabase-sample-storage\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eENABLE_IMAGE_TRANSFORMATION\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003etrue\"\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eIMGPROXY_URL\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ehttp://imgproxy:5001\u003c/span\u003e\n    \u003cspan class=\"na\"\u003evolumes\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003e./volumes/storage:/var/lib/storage\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eprivileged\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n\n  \u003cspan class=\"na\"\u003eimgproxy\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003econtainer_name\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esupabase-imgproxy\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003edarthsim/imgproxy:v3.11\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ehealthcheck\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003etest\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"pi\"\u003e[\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003eCMD\"\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003eimgproxy\"\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003ehealth\"\u003c/span\u003e \u003cspan class=\"pi\"\u003e]\u003c/span\u003e\n      \u003cspan class=\"na\"\u003etimeout\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e5s\u003c/span\u003e\n      \u003cspan class=\"na\"\u003einterval\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e5s\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eretries\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e3\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eIMGPROXY_BIND\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003e:5001\"\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eIMGPROXY_LOCAL_FILESYSTEM_ROOT\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e/\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eIMGPROXY_USE_ETAG\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003etrue\"\u003c/span\u003e\n    \u003cspan class=\"na\"\u003evolumes\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003e./volumes/storage:/var/lib/storage\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eprivileged\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n\n  \u003cspan class=\"na\"\u003emeta\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003econtainer_name\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esupabase-meta\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esupabase/postgres-meta:v0.60.7\u003c/span\u003e\n    \u003cspan class=\"na\"\u003edepends_on\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003edb\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e# Disable this if you are using an external Postgres database\u003c/span\u003e\n        \u003cspan class=\"na\"\u003econdition\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eservice_healthy\u003c/span\u003e\n    \u003cspan class=\"na\"\u003erestart\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eunless-stopped\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePG_META_PORT\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e8080\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePG_META_DB_HOST\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${POSTGRES_HOST}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePG_META_DB_PORT\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${POSTGRES_PORT}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePG_META_DB_NAME\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${POSTGRES_DB}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePG_META_DB_USER\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esupabase_admin\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePG_META_DB_PASSWORD\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${POSTGRES_PASSWORD}\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eprivileged\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n\n  \u003cspan class=\"c1\"\u003e# Comment out everything below this point if you are using an external Postgres database\u003c/span\u003e\n  \u003cspan class=\"na\"\u003edb\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003econtainer_name\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esupabase-db\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003esupabase/postgres:15.1.0.42-rc2\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ehealthcheck\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003etest\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003epg_isready -U postgres -h localhost\u003c/span\u003e\n      \u003cspan class=\"na\"\u003einterval\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e5s\u003c/span\u003e\n      \u003cspan class=\"na\"\u003etimeout\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e5s\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eretries\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e10\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ecommand\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003epostgres\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003e-c\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003econfig_file=/etc/postgresql/postgresql.conf\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003e-c\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003elog_min_messages=fatal\u003c/span\u003e \u003cspan class=\"c1\"\u003e# prevents Realtime polling queries from appearing in logs\u003c/span\u003e\n    \u003cspan class=\"na\"\u003erestart\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eunless-stopped\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eports\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"c1\"\u003e# Pass down internal port because it's set dynamically by other services\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003e${POSTGRES_PORT}:${POSTGRES_PORT}\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePOSTGRES_HOST\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e/var/run/postgresql\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePGPORT\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${POSTGRES_PORT}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePOSTGRES_PORT\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${POSTGRES_PORT}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePGPASSWORD\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${POSTGRES_PASSWORD}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePOSTGRES_PASSWORD\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${POSTGRES_PASSWORD}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePGDATABASE\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${POSTGRES_DB}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ePOSTGRES_DB\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${POSTGRES_DB}\u003c/span\u003e\n    \u003cspan class=\"na\"\u003evolumes\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003e./volumes/db/realtime.sql:/docker-entrypoint-initdb.d/realtime.sql\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003e./volumes/db/roles.sql:/docker-entrypoint-initdb.d/roles.sql\u003c/span\u003e\n      \u003cspan class=\"c1\"\u003e# Must be superuser to enable pg_net extension\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003e./volumes/db/webhooks.sql:/etc/postgresql.schema.sql\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003e./volumes/db/data:/var/lib/postgresql/data\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eprivileged\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdetails\u003e\n\u003c/details\u003e\u003c/details\u003e",
    "body": "# はじめに\n\n`Firebase`の代替と謳われている`supabase`をよく使ってwebアプリを構築していますが、\nWeb版の無料枠では2つのプロジェクトまでしか作成することができないため、\nAWSのEC2上に`self-hosting`しました\n今回はシングル構成ですが、`docker swarm`などを利用することで冗長構成にすることも可能です\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6705e4e9-5bae-8323-aa81-3c0b3b67321b.png\" width=\"300\" /\u003e\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/914f2f3c-48d2-d430-5531-588fa2c5a12f.png\" width=\"103\"/\u003e\n\n\n\n# 1. EC2の作成\n\n1. AWS management consoleを開く\n1. EC2のページを開く\n1. 画面右上の「インスタンスを起動」ボタンをクリック\n    以下設定項目を設定\n\n    * 名前\n        * 自由に設定\n    * OSイメージ\n        * AmazonLinux\n    * インスタンスタイプ\n        * 自由に設定\n        * 無料枠の`t2.micro`でも動くかもしれませんが、あまりにもストレスが溜まったので`t3a.small`にしました。\n    * キーペア\n        * 新しいキーペアを生成\n            * キーペア名：自由に設定\n            * 他はそのままキーペア生成\n    * セキュリティグループ\n        * あとで設定するため、\n        「既存のセキュリティグループを設定」 \u003e 空のまま\n    * ストレージ\n        * 無料枠の限界30GiBまで拡張\n\n1. 「インスタンスを起動」\n\n# 2. セキュリティーグループを作成する。\n\n1. 左側サイドメニューから、「ネットワーク \u0026 セキュリティ」 \u003e 「セキュリティグループ」を選択する\n1. 画面右上「セキュリティグループを作成」をクリック\n    以下設定項目を設定\n\n    * セキュリティグループ名\n        * 自由に設定\n    * 説明\n        * 自由に設定\n    * VPC\n        * 先ほどEC2を構築したVPCを選択\n    * インバウンドルール\n    \n    |タイプ|プロトコル|ポート範囲|ソース||説明|\n    |----|----|----|----|----|----|\n    |カスタムTCP|TCP|8000|Anywhere-IPv4|0.0.0.0/0|自由に設定|\n    |ssh|TCP|22|Anywhere-IPv4|0.0.0.0/0|自由に設定|\n    |HTTPS|TCP|443|Anywhere-IPv4|0.0.0.0/0|自由に設定|\n    |カスタムTCP|TCP|3000|Anywhere-IPv4|0.0.0.0/0|自由に設定|\n    |カスタムTCP|TCP|5432|Anywhere-IPv4|0.0.0.0/0|自由に設定|\n    \n    `0.0.0.0/0`の部分を自社のIPに設定することでIP制限をかけることができます\n\n    * タグ\n        * 自由に設定\n\n1. 先ほど作成したEC2インスタンスを選択\n1. 「アクション」 \u003e 「セキュリティ」 \u003e 「セキュリティグループを変更」\n1. 今作ったセキュリティグループを設定\n\n![スクリーンショット 2023-02-24 23.17.59.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/47275789-a8cb-9e1a-9da5-14c83740e6f7.png)\n\nこのようになっていたらOK\n\n# 3. EC2に接続し、supabaseを起動する\n\n1. `terraterm`などのツールや、`instance connect`を利用してEC2にssh接続をする\n\n    * ファイルを操作するのでVScodeで入っちゃうのがおすすめ\n    * 楽なのは`instance connect`で、画面上部の「接続」ボタンから接続したらOK\n\n1. 以下の通りにコマンドを実行\n\n    ```sh\n    $ sudo yum update\n    ・\n    ・\n    ・\n    Upgrade  4 Packages\n    \n    Total download size: 34 M\n    Is this ok [y/d/N]: y\n    ・\n    ・\n    ・\n    Complete!\n    \n    # docker install\n    $ sudo yum install docker -y\n    $ sudo service docker start\n    \n    # docker-compose install\n    # version 1.29.2の場合\n    # versionは好きなものを入れる\n    $ sudo curl -L \"https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose\n    $ sudo chmod +x /usr/local/bin/docker-compose\n    $ sudo chmod 666 /var/run/docker.sock\n    \n    # Gitのinstall\n    $ sudo yum install git -y\n    \n    # supabase リポジトリのcloen\n    $ git clone --depth 1 https://github.com/supabase/supabase\n    $ cd supabase/docker\n    $ cp .env.example .env\n    ```\n\n1. .envの修正\n\n    .env内に出てくる`localhost`の値を全てEC2の`publicIP`に置き換える\n    私の環境では４箇所ありました。\n\n\n\n1. supabaseのセキュリティセットアップ\n\n    1. 公式のガイドに従い[JWT Generator](https://supabase.com/docs/guides/self-hosting#api-keys)を利用して\n`jwt secret`と、`anon key`と`service key`を作成する\n    1. 次の箇所を書き換える\n        \n        ```\n        .env:\n            JWT_SECRET - jwt secret\n            ANON_KEY - anon key\n            SERVICE_ROLE_KEY - service key\n        \n        volumes/api/kong.yml\n            anon - anon key\n            service_role - service key\n        ```\n1. docker-compose.ymlの微修正(いらないかも)\n\n    私のPC上ではこれまでのセットアップで動いたのですが、`Amazon linux`上ではコンテナがうまく立ち上がらなかったので、脳死気味になるが、以下の設定を全てのサービスに追加する\n\n    ```yaml\n     privileged: true\n    ```\n    \n    例) \n    \n    ```yaml\n      rest:\n        container_name: supabase-rest\n        image: postgrest/postgrest:v10.1.2\n        depends_on:\n          db: # Disable this if you are using an external Postgres database\n            condition: service_healthy\n        restart: unless-stopped\n        environment:\n          PGRST_DB_URI: postgres://authenticator:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}\n          PGRST_DB_SCHEMAS: ${PGRST_DB_SCHEMAS}\n          PGRST_DB_ANON_ROLE: anon\n          PGRST_JWT_SECRET: ${JWT_SECRET}\n          PGRST_DB_USE_LEGACY_GUCS: \"false\"\n        privileged: true   # 追加\n    ```\n\n\n    \u003cfont color=\"red\"\u003e最後にdocker-compose.ymlファイルを載せます\u003c/font\u003e\n\n1. お待ちかねのサーバー起動(初回はimageのpullに時間がかかります。)\n\n    ```bash\n    $ docker-compose up -d\n    ```\n\n1. [http://public ip:3000]()を開くと、、、\n\n![スクリーンショット 2023-02-25 0.23.38.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/c39ca2a5-f6de-630e-c6a0-319d42be5d76.png)\n\nやったー！\n\n# 4. storageをs3に変更する\n\n* せっかくAWS上で動かしているので、storageはs3を使いましょう〜\n* EBSも圧迫しますしね\n\n1. s3を作成する\n\n    名前は自由。他はデフォルトのままでOKです。\n\n1. docker-compose.ymlファイルのstorageの環境変数を変更\n\n    ```yaml\n          FILE_SIZE_LIMIT: 52428800\n          STORAGE_BACKEND: s3       # 変更\n          FILE_STORAGE_BACKEND_PATH: /var/lib/storage\n          TENANT_ID: supabase       # 変更(なんでもいいです。変えなくてもいいです。)\n          REGION: ap-northeast-1    # s3のリージョン指定\n          GLOBAL_S3_BUCKET: *****   # s3バケット名を指定\n          ENABLE_IMAGE_TRANSFORMATION: \"true\"\n          IMGPROXY_URL: http://imgproxy:5001\n    ```\n\n1. 環境再起動\n    \n    ```bash\n    docker-compose restart\n    ```\n\nこれでstorage機能の保存先がs3になります。\n\n# 5. 参考\n\n\u003cdetails\u003e\u003csummary\u003e開く: docker-compose.yaml\u003c/summary\u003e\n\n```yaml:docker-compose.yml\n# Usage\n#   Start:          docker compose up\n#   With helpers:   docker compose -f docker-compose.yml -f ./dev/docker-compose.dev.yml up\n#   Stop:           docker compose down\n#   Destroy:        docker compose -f docker-compose.yml -f ./dev/docker-compose.dev.yml down -v --remove-orphans\n\nversion: \"3.8\"\n\nservices:\n  studio:\n    container_name: supabase-studio\n    image: supabase/studio:20230216-e731b77\n    restart: unless-stopped\n    healthcheck:\n      test: [ \"CMD\", \"node\", \"-e\", \"require('http').get('http://localhost:3000/api/profile', (r) =\u003e {if (r.statusCode !== 200) throw new Error(r.statusCode)})\" ]\n      timeout: 5s\n      interval: 5s\n      retries: 3\n    ports:\n      - ${STUDIO_PORT}:3000/tcp\n    environment:\n      STUDIO_PG_META_URL: http://meta:8080\n      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}\n\n      DEFAULT_ORGANIZATION_NAME: ${STUDIO_DEFAULT_ORGANIZATION}\n      DEFAULT_PROJECT_NAME: ${STUDIO_DEFAULT_PROJECT}\n\n      SUPABASE_URL: http://kong:8000\n      SUPABASE_PUBLIC_URL: ${SUPABASE_PUBLIC_URL}\n      SUPABASE_ANON_KEY: ${ANON_KEY}\n      SUPABASE_SERVICE_KEY: ${SERVICE_ROLE_KEY}\n    privileged: true\n\n  kong:\n    container_name: supabase-kong\n    image: kong:2.8.1\n    restart: unless-stopped\n    ports:\n      - ${KONG_HTTP_PORT}:8000/tcp\n      - ${KONG_HTTPS_PORT}:8443/tcp\n    environment:\n      KONG_DATABASE: \"off\"\n      KONG_DECLARATIVE_CONFIG: /var/lib/kong/kong.yml\n      # https://github.com/supabase/cli/issues/14\n      KONG_DNS_ORDER: LAST,A,CNAME\n      KONG_PLUGINS: request-transformer,cors,key-auth,acl\n      KONG_NGINX_PROXY_PROXY_BUFFER_SIZE: 160k\n      KONG_NGINX_PROXY_PROXY_BUFFERS: 64 160k\n    volumes:\n      - ./volumes/api:/var/lib/kong:ro\n    privileged: true\n\n  auth:\n    container_name: supabase-auth\n    image: supabase/gotrue:v2.47.0\n    depends_on:\n      db: # Disable this if you are using an external Postgres database\n        condition: service_healthy\n    healthcheck:\n      test: [ \"CMD\", \"wget\", \"--no-verbose\", \"--tries=1\", \"--spider\", \"http://localhost:9999/health\" ]\n      timeout: 5s\n      interval: 5s\n      retries: 3\n    restart: unless-stopped\n    environment:\n      GOTRUE_API_HOST: 0.0.0.0\n      GOTRUE_API_PORT: 9999\n      API_EXTERNAL_URL: ${API_EXTERNAL_URL}\n\n      GOTRUE_DB_DRIVER: postgres\n      GOTRUE_DB_DATABASE_URL: postgres://supabase_auth_admin:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}\n\n      GOTRUE_SITE_URL: ${SITE_URL}\n      GOTRUE_URI_ALLOW_LIST: ${ADDITIONAL_REDIRECT_URLS}\n      GOTRUE_DISABLE_SIGNUP: ${DISABLE_SIGNUP}\n\n      GOTRUE_JWT_ADMIN_ROLES: service_role\n      GOTRUE_JWT_AUD: authenticated\n      GOTRUE_JWT_DEFAULT_GROUP_NAME: authenticated\n      GOTRUE_JWT_EXP: ${JWT_EXPIRY}\n      GOTRUE_JWT_SECRET: ${JWT_SECRET}\n\n      GOTRUE_EXTERNAL_EMAIL_ENABLED: ${ENABLE_EMAIL_SIGNUP}\n      GOTRUE_MAILER_AUTOCONFIRM: ${ENABLE_EMAIL_AUTOCONFIRM}\n      # GOTRUE_MAILER_SECURE_EMAIL_CHANGE_ENABLED: true\n      # GOTRUE_SMTP_MAX_FREQUENCY: 1s\n      GOTRUE_SMTP_ADMIN_EMAIL: ${SMTP_ADMIN_EMAIL}\n      GOTRUE_SMTP_HOST: ${SMTP_HOST}\n      GOTRUE_SMTP_PORT: ${SMTP_PORT}\n      GOTRUE_SMTP_USER: ${SMTP_USER}\n      GOTRUE_SMTP_PASS: ${SMTP_PASS}\n      GOTRUE_SMTP_SENDER_NAME: ${SMTP_SENDER_NAME}\n      GOTRUE_MAILER_URLPATHS_INVITE: ${MAILER_URLPATHS_INVITE}\n      GOTRUE_MAILER_URLPATHS_CONFIRMATION: ${MAILER_URLPATHS_CONFIRMATION}\n      GOTRUE_MAILER_URLPATHS_RECOVERY: ${MAILER_URLPATHS_RECOVERY}\n      GOTRUE_MAILER_URLPATHS_EMAIL_CHANGE: ${MAILER_URLPATHS_EMAIL_CHANGE}\n\n      GOTRUE_EXTERNAL_PHONE_ENABLED: ${ENABLE_PHONE_SIGNUP}\n      GOTRUE_SMS_AUTOCONFIRM: ${ENABLE_PHONE_AUTOCONFIRM}\n      MFA_ENABLED: ${MFA_ENABLED}\n    privileged: true\n\n  rest:\n    container_name: supabase-rest\n    image: postgrest/postgrest:v10.1.2\n    depends_on:\n      db: # Disable this if you are using an external Postgres database\n        condition: service_healthy\n    restart: unless-stopped\n    environment:\n      PGRST_DB_URI: postgres://authenticator:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}\n      PGRST_DB_SCHEMAS: ${PGRST_DB_SCHEMAS}\n      PGRST_DB_ANON_ROLE: anon\n      PGRST_JWT_SECRET: ${JWT_SECRET}\n      PGRST_DB_USE_LEGACY_GUCS: \"false\"\n    privileged: true\n\n  realtime:\n    container_name: realtime-dev.supabase-realtime\n    image: supabase/realtime:v2.5.1\n    depends_on:\n      db: # Disable this if you are using an external Postgres database\n        condition: service_healthy\n    healthcheck:\n      test: [ \"CMD\", \"bash\", \"-c\", \"printf \\\\0 \u003e /dev/tcp/localhost/4000\" ]\n      timeout: 5s\n      interval: 5s\n      retries: 3\n    restart: unless-stopped\n    environment:\n      PORT: 4000\n      DB_HOST: ${POSTGRES_HOST}\n      DB_PORT: ${POSTGRES_PORT}\n      DB_USER: supabase_admin\n      DB_PASSWORD: ${POSTGRES_PASSWORD}\n      DB_NAME: ${POSTGRES_DB}\n      DB_AFTER_CONNECT_QUERY: 'SET search_path TO _realtime'\n      DB_ENC_KEY: supabaserealtime\n      API_JWT_SECRET: ${JWT_SECRET}\n      FLY_ALLOC_ID: fly123\n      FLY_APP_NAME: realtime\n      SECRET_KEY_BASE: UpNVntn3cDxHJpq99YMc1T1AQgQpc8kfYTuRgBiYa15BLrx8etQoXz3gZv1/u2oq\n      ERL_AFLAGS: -proto_dist inet_tcp\n      ENABLE_TAILSCALE: \"false\"\n      DNS_NODES: \"''\"\n    command: \u003e\n      sh -c \"/app/bin/migrate \u0026\u0026 /app/bin/realtime eval 'Realtime.Release.seeds(Realtime.Repo)' \u0026\u0026 /app/bin/server\"\n    privileged: true\n\n  storage:\n    container_name: supabase-storage\n    image: supabase/storage-api:v0.28.2\n    depends_on:\n      db: # Disable this if you are using an external Postgres database\n        condition: service_healthy\n      rest:\n        condition: service_started\n      imgproxy:\n        condition: service_started\n    healthcheck:\n      test: [ \"CMD\", \"wget\", \"--no-verbose\", \"--tries=1\", \"--spider\", \"http://localhost:5000/status\" ]\n      timeout: 5s\n      interval: 5s\n      retries: 3\n    restart: unless-stopped\n    environment:\n      ANON_KEY: ${ANON_KEY}\n      SERVICE_KEY: ${SERVICE_ROLE_KEY}\n      POSTGREST_URL: http://rest:3000\n      PGRST_JWT_SECRET: ${JWT_SECRET}\n      DATABASE_URL: postgres://supabase_storage_admin:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}\n      FILE_SIZE_LIMIT: 52428800\n      STORAGE_BACKEND: s3\n      FILE_STORAGE_BACKEND_PATH: /var/lib/storage\n      TENANT_ID: supabase\n      # TODO: https://github.com/supabase/storage-api/issues/55\n      REGION: ap-northeast-1\n      GLOBAL_S3_BUCKET: supabase-sample-storage\n      ENABLE_IMAGE_TRANSFORMATION: \"true\"\n      IMGPROXY_URL: http://imgproxy:5001\n    volumes:\n      - ./volumes/storage:/var/lib/storage\n    privileged: true\n\n  imgproxy:\n    container_name: supabase-imgproxy\n    image: darthsim/imgproxy:v3.11\n    healthcheck:\n      test: [ \"CMD\", \"imgproxy\", \"health\" ]\n      timeout: 5s\n      interval: 5s\n      retries: 3\n    environment:\n      IMGPROXY_BIND: \":5001\"\n      IMGPROXY_LOCAL_FILESYSTEM_ROOT: /\n      IMGPROXY_USE_ETAG: \"true\"\n    volumes:\n      - ./volumes/storage:/var/lib/storage\n    privileged: true\n\n  meta:\n    container_name: supabase-meta\n    image: supabase/postgres-meta:v0.60.7\n    depends_on:\n      db: # Disable this if you are using an external Postgres database\n        condition: service_healthy\n    restart: unless-stopped\n    environment:\n      PG_META_PORT: 8080\n      PG_META_DB_HOST: ${POSTGRES_HOST}\n      PG_META_DB_PORT: ${POSTGRES_PORT}\n      PG_META_DB_NAME: ${POSTGRES_DB}\n      PG_META_DB_USER: supabase_admin\n      PG_META_DB_PASSWORD: ${POSTGRES_PASSWORD}\n    privileged: true\n\n  # Comment out everything below this point if you are using an external Postgres database\n  db:\n    container_name: supabase-db\n    image: supabase/postgres:15.1.0.42-rc2\n    healthcheck:\n      test: pg_isready -U postgres -h localhost\n      interval: 5s\n      timeout: 5s\n      retries: 10\n    command:\n      - postgres\n      - -c\n      - config_file=/etc/postgresql/postgresql.conf\n      - -c\n      - log_min_messages=fatal # prevents Realtime polling queries from appearing in logs\n    restart: unless-stopped\n    ports:\n      # Pass down internal port because it's set dynamically by other services\n      - ${POSTGRES_PORT}:${POSTGRES_PORT}\n    environment:\n      POSTGRES_HOST: /var/run/postgresql\n      PGPORT: ${POSTGRES_PORT}\n      POSTGRES_PORT: ${POSTGRES_PORT}\n      PGPASSWORD: ${POSTGRES_PASSWORD}\n      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}\n      PGDATABASE: ${POSTGRES_DB}\n      POSTGRES_DB: ${POSTGRES_DB}\n    volumes:\n      - ./volumes/db/realtime.sql:/docker-entrypoint-initdb.d/realtime.sql\n      - ./volumes/db/roles.sql:/docker-entrypoint-initdb.d/roles.sql\n      # Must be superuser to enable pg_net extension\n      - ./volumes/db/webhooks.sql:/etc/postgresql.schema.sql\n      - ./volumes/db/data:/var/lib/postgresql/data\n    privileged: true\n```\n\n\u003cdetails\u003e\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-02-25T00:32:24+09:00",
    "group": null,
    "id": "3b40350381ac6e734af1",
    "likes_count": 13,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 5,
    "tags": [
      { "name": "AWS", "versions": [] },
      { "name": "EC2", "versions": [] },
      { "name": "Docker", "versions": [] },
      { "name": "Supabase", "versions": [] }
    ],
    "title": "AWS EC2にsupabaseをdockerでself-hostingする",
    "updated_at": "2023-02-25T00:54:26+09:00",
    "url": "https://qiita.com/maaaashi/items/3b40350381ac6e734af1",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cul data-sourcepos=\"3:1-6:0\"\u003e\n\u003cli data-sourcepos=\"3:1-4:66\"\u003e認証サーバーとして\u003ccode\u003eKeycloak\u003c/code\u003e、フロントエンドビルドツールとして\u003ccode\u003eSvelteKit\u003c/code\u003eを採用し、\u003cbr\u003e\n構築するまでの手順を残していこうと思います。\u003c/li\u003e\n\u003cli data-sourcepos=\"5:1-6:0\"\u003eちょっと長いですがお付き合いください。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 data-sourcepos=\"7:1-7:8\"\u003e\n\u003cspan id=\"環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e環境\u003c/h1\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2996a114-a73e-51f3-cefe-fb43a3ba44fc.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=126f74d02208b1a4834ab94d74723866\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"300\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2996a114-a73e-51f3-cefe-fb43a3ba44fc.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=126f74d02208b1a4834ab94d74723866\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2996a114-a73e-51f3-cefe-fb43a3ba44fc.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d0f02b96e38fb113079dc35e849deff6 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/2996a114-a73e-51f3-cefe-fb43a3ba44fc.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003cul data-sourcepos=\"11:1-19:0\"\u003e\n\u003cli data-sourcepos=\"11:1-12:22\"\u003eMacBook Air\n\u003cul data-sourcepos=\"12:5-12:22\"\u003e\n\u003cli data-sourcepos=\"12:5-12:22\"\u003eM2チップ 2022\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"13:1-14:22\"\u003eDocker\n\u003cul data-sourcepos=\"14:5-14:22\"\u003e\n\u003cli data-sourcepos=\"14:5-14:22\"\u003eversion 20.10.22\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"15:1-16:21\"\u003eDocker Compose\n\u003cul data-sourcepos=\"16:5-16:21\"\u003e\n\u003cli data-sourcepos=\"16:5-16:21\"\u003eversion v2.15.1\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"17:1-19:0\"\u003ekeycloak-js\n\u003cul data-sourcepos=\"18:5-19:0\"\u003e\n\u003cli data-sourcepos=\"18:5-19:0\"\u003e20.0.5\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 data-sourcepos=\"20:1-20:82\"\u003e\n\u003cspan id=\"1-ネットの記事にあったdocker-composeファイルで構築してみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-%E3%83%8D%E3%83%83%E3%83%88%E3%81%AE%E8%A8%98%E4%BA%8B%E3%81%AB%E3%81%82%E3%81%A3%E3%81%9Fdocker-compose%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%A7%E6%A7%8B%E7%AF%89%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. ネットの記事にあったdocker-composeファイルで構築してみる\u003c/h1\u003e\n\u003col data-sourcepos=\"22:1-73:0\"\u003e\n\u003cli data-sourcepos=\"22:1-63:0\"\u003e\n\u003cp data-sourcepos=\"22:4-22:30\"\u003edocker-compose.ymlの作成\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"24:5-26:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nb\"\u003etouch \u003c/span\u003edocker-compose.yml\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n \u003cdetails\u003e\u003csummary\u003e開く: docker-compose.yaml\u003c/summary\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"29:5-60:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eversion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\u003c/span\u003e\u003cspan class=\"s\"\u003e3'\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003evolumes\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003emysql_data\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003edriver\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elocal\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003eservices\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003emysql\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003emysql:5.7\u003c/span\u003e\n      \u003cspan class=\"na\"\u003evolumes\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003emysql_data:/var/lib/mysql\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eMYSQL_ROOT_PASSWORD\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eroot\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eMYSQL_DATABASE\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ekeycloak\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eMYSQL_USER\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ekeycloak\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eMYSQL_PASSWORD\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003epassword\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ekeycloak\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003equay.io/keycloak/keycloak:legacy\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eDB_VENDOR\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eMYSQL\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eDB_ADDR\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003emysql\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eDB_DATABASE\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ekeycloak\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eDB_USER\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ekeycloak\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eDB_PASSWORD\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003epassword\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eKEYCLOAK_USER\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eadmin\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eKEYCLOAK_PASSWORD\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ePa55w0rd\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eports\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003e8080:8080\u003c/span\u003e\n      \u003cspan class=\"na\"\u003edepends_on\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003emysql\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n \u003c/details\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"64:1-73:0\"\u003e\n\u003cp data-sourcepos=\"64:4-64:21\"\u003eサーバー起動\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"66:5-68:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003edocker-compose up \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"70:5-70:83\"\u003e\u003ca href=\"http://localhost:8080\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://localhost:8080\u003c/a\u003eでサーバーが立ち上がる\u003c/p\u003e\n\u003cp data-sourcepos=\"72:5-72:61\"\u003e立ち上がるまでまあまあ時間はかかります\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch1 data-sourcepos=\"74:1-74:44\"\u003e\n\u003cspan id=\"2-レルムクライアントの設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-%E3%83%AC%E3%83%AB%E3%83%A0%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E3%81%AE%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. レルム、クライアントの設定\u003c/h1\u003e\n\u003col data-sourcepos=\"76:1-87:0\"\u003e\n\u003cli data-sourcepos=\"76:1-76:19\"\u003e\n\u003cp data-sourcepos=\"76:4-76:19\"\u003e\u003ccode\u003erealm\u003c/code\u003eの作成\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"77:1-77:20\"\u003e\n\u003cp data-sourcepos=\"77:4-77:20\"\u003e\u003ccode\u003eclient\u003c/code\u003eの作成\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"78:1-81:0\"\u003e\n\u003cp data-sourcepos=\"78:4-78:157\"\u003e作成できたら、作成したclientの設定画面から、\u003ccode\u003eValid redirect URIs\u003c/code\u003eと\u003ccode\u003eWeb Origins\u003c/code\u003eにフロントエンドサーバーを登録する。\u003c/p\u003e\n\u003cp data-sourcepos=\"80:5-80:176\"\u003e私はとりあえずローカルで試していたので\u003ccode\u003eValid redirect URIs\u003c/code\u003e: \u003ccode\u003ehttp://localhost:18080/*\u003c/code\u003e、\u003ccode\u003eWeb Origins\u003c/code\u003e: \u003ccode\u003ehttp://localhost:18080\u003c/code\u003eと設定しました。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"82:1-87:0\"\u003e\n\u003cp data-sourcepos=\"82:4-82:24\"\u003eユーザーの作成\u003c/p\u003e\n\u003col data-sourcepos=\"84:5-87:0\"\u003e\n\u003cli data-sourcepos=\"84:5-84:95\"\u003e\n\u003ccode\u003eUsers\u003c/code\u003eから、\u003ccode\u003eAdd User\u003c/code\u003eを選択し、ユーザー名を任意に設定し、\u003ccode\u003ecreate\u003c/code\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"85:5-87:0\"\u003e作成したユーザーの設定画面が開くので、\u003ccode\u003eCredentials\u003c/code\u003eタブを開き、\u003ccode\u003eSet Password\u003c/code\u003eでパスワードを設定する。\u003cbr\u003e\n※ \u003ccode\u003eTemporary\u003c/code\u003eはOFFにしておく。\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"88:1-88:51\"\u003eこれで認証サーバー側の設定は完了。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"90:1-90:29\"\u003e\n\u003cspan id=\"3-フロント側の準備\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E5%81%B4%E3%81%AE%E6%BA%96%E5%82%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. フロント側の準備\u003c/h1\u003e\n\u003col data-sourcepos=\"92:1-129:0\"\u003e\n\u003cli data-sourcepos=\"92:1-99:0\"\u003e\n\u003cp data-sourcepos=\"92:4-92:17\"\u003eCreate Project\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"94:5-98:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003enpm create svelte@latest my-app\n\u003cspan class=\"nb\"\u003ecd \u003c/span\u003emy-app\nnpm i\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"100:1-117:0\"\u003e\n\u003cp data-sourcepos=\"100:4-100:26\"\u003evite.config.tsの修正\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"102:5-113:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003evite.config.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003esveltekit\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@sveltejs/kit/vite\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003edefineConfig\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003evite\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"nf\"\u003edefineConfig\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eplugins\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003esveltekit\u003c/span\u003e\u003cspan class=\"p\"\u003e()],\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eserver\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e          \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ehost\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e      \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eport\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e18080\u003c/span\u003e      \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e                  \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n\u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"115:5-116:133\"\u003eportは自由に設定してください。\u003cbr\u003e\nただし、\u003ccode\u003e2. レルム、クライアントの設定\u003c/code\u003eで設定したフロントサーバーのportに合わせるように。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"118:1-123:0\"\u003e\n\u003cp data-sourcepos=\"118:4-118:24\"\u003ekeycloak-jsのinstall\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"120:5-122:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003enpm i keycloak-js\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"124:1-129:0\"\u003e\n\u003cp data-sourcepos=\"124:4-124:21\"\u003eサーバー起動\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"126:5-128:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003enpm run dev\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"130:1-131:48\"\u003eこれでSvelteKitのwelcomeページが開くはず\u003cbr\u003e\n\u003ca href=\"http://localhost:18080\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://localhost:18080\u003c/a\u003e\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe1c09eee-ae04-4897-7763-4119aa920480.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d114dcda5514b5bdb541ca5d4b2ec0fc\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe1c09eee-ae04-4897-7763-4119aa920480.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d114dcda5514b5bdb541ca5d4b2ec0fc\" width=\"300\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe1c09eee-ae04-4897-7763-4119aa920480.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=77c23ca39613d124827c80a62c86a1c4 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e1c09eee-ae04-4897-7763-4119aa920480.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003ch1 data-sourcepos=\"135:1-135:46\"\u003e\n\u003cspan id=\"4-keyclaok-jsを使って認証してみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#4-keyclaok-js%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E8%AA%8D%E8%A8%BC%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e4. keyclaok-jsを使って認証してみる\u003c/h1\u003e\n\u003col data-sourcepos=\"137:1-241:0\"\u003e\n\u003cli data-sourcepos=\"137:1-152:4\"\u003e\n\u003cp data-sourcepos=\"137:4-137:27\"\u003eインスタンス生成\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"139:5-149:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e+page.svelte(抜粋)\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ts\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eKeycloak\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ekeycloak-js\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ekeycloak\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eKeycloak\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eclientId\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eクライアント名\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ehttp://localhost:8080/auth/\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003erealm\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eレルム名\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"151:5-151:248\"\u003e\u003ccode\u003enew Keycloak(*)\u003c/code\u003eの部分にkeycloakの管理コンソールからconfigファイルをダウンロードしてきてそれを読ませる方法がネットにあがっていましたが、私のバージョンでは動きませんでした。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"153:1-184:0\"\u003e\n\u003cp data-sourcepos=\"153:4-153:24\"\u003e認証処理を作成\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"155:5-183:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e+page.svelte()\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  \u003cspan class=\"c1\"\u003e// 認証状態\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003ekeycloakState\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ekeycloak\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eauthenticated\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ekeycloak\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eKeycloak\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eclientId\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eクライアント名\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ehttp://localhost:8080/auth/\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003erealm\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eレルム名\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n  \u003cspan class=\"c1\"\u003e// 認証処理\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003ekeycloak\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003einit\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eonLoad\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003elogin-required\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eredirectUri\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehttp://localhost:18080/\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003escope\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eopenid\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ethen\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003eauthenticated\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// 認証成功時には認証状態を更新する\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ekeycloakState\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ekeycloak\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003ekeycloak\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003eauthenticated\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eauthenticated\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"k\"\u003ecatch\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"185:1-226:0\"\u003e\n\u003cp data-sourcepos=\"185:4-185:77\"\u003e認証後にページ内容が表示されるようにawait blockを使う\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"187:5-225:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e+page.svelte\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ts\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003ekeycloakState\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ekeycloak\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003enull\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eauthenticated\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003efalse\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003esignIn\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ekeycloak\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eKeycloak\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eclientId\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eクライアント名\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ehttp://localhost:8080/auth/\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"na\"\u003erealm\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eレルム名\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e})\u003c/span\u003e    \n    \u003cspan class=\"c1\"\u003e// 認証処理\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ekeycloak\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003einit\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eonLoad\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003elogin-required\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eredirectUri\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehttp://localhost:18080/\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"na\"\u003escope\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eopenid\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ethen\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003eauthenticated\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"c1\"\u003e// 認証成功時には認証状態を更新する\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003ekeycloakState\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"na\"\u003ekeycloak\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003ekeycloak\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003eauthenticated\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eauthenticated\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"k\"\u003ecatch\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n{#await signIn()}\n  ...ログイン中\n{:then data}\n  \u003cspan class=\"nt\"\u003e\u0026lt;section\u0026gt;\u003c/span\u003e\n    省略  \n  \u003cspan class=\"nt\"\u003e\u0026lt;/section\u0026gt;\u003c/span\u003e\n{/await}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"227:1-241:0\"\u003e\n\u003cp data-sourcepos=\"227:4-227:27\"\u003e画面を開いてみる\u003c/p\u003e\n\u003cp data-sourcepos=\"229:5-229:168\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F78e07c03-1763-55ba-f84d-893636aafe16.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=603f6f28d9fda5d1125435e7e9c5ca0c\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F78e07c03-1763-55ba-f84d-893636aafe16.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=603f6f28d9fda5d1125435e7e9c5ca0c\" alt=\"スクリーンショット 2023-02-23 22.01.20.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F78e07c03-1763-55ba-f84d-893636aafe16.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=7b1ba964a3817afee5721d759b1ebe71 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/78e07c03-1763-55ba-f84d-893636aafe16.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"231:5-232:102\"\u003e\u003cstrong\u003eKeyCloakログイン画面が表示された！\u003c/strong\u003e\u003cbr\u003e\n\u003ccode\u003e2. レルム、クライアントの設定\u003c/code\u003eで作成したユーザーでログインすると...\u003c/p\u003e\n \u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe1c09eee-ae04-4897-7763-4119aa920480.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d114dcda5514b5bdb541ca5d4b2ec0fc\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe1c09eee-ae04-4897-7763-4119aa920480.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d114dcda5514b5bdb541ca5d4b2ec0fc\" width=\"300\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe1c09eee-ae04-4897-7763-4119aa920480.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=77c23ca39613d124827c80a62c86a1c4 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e1c09eee-ae04-4897-7763-4119aa920480.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003cp data-sourcepos=\"237:5-238:83\"\u003ewelcomeページにリダイレクトされた!\u003cbr\u003e\n成功！！かと思いきや、、、\u003cfont color=\"red\"\u003eエラー発見\u003c/font\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"240:5-240:57\"\u003e\u003cfont color=\"red\"\u003etoken requestで401エラー\u003c/font\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch1 data-sourcepos=\"242:1-242:20\"\u003e\n\u003cspan id=\"5-エラー調査\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#5-%E3%82%A8%E3%83%A9%E3%83%BC%E8%AA%BF%E6%9F%BB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e5. エラー調査\u003c/h1\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"json\" data-sourcepos=\"244:1-250:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"w\"\u003e  \u003c/span\u003e\u003cspan class=\"err\"\u003eStatusCode:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"mi\"\u003e401\u003c/span\u003e\u003cspan class=\"err\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"err\"\u003eResponse\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"err\"\u003eBody:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"error\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"unauthorized_client\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"error_description\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"Client secret not provided in request\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e \n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"252:1-252:56\"\u003eよくわからなかったのでAIに聞いてみた。\u003c/p\u003e\n\u003cblockquote data-sourcepos=\"254:1-257:41\"\u003e\n\u003cp data-sourcepos=\"254:3-257:41\"\u003e\u003cstrong\u003e私\u003c/strong\u003e\u003cbr\u003e\ntoken endpointを叩いたときにステータスコード401になってしまいます。 エラー内容は以下の通りです。\u003cbr\u003e\n{\"error\":\"unauthorized_client\",\"error_description\":\"Client secret not provided in request\"}\u003cbr\u003e\n原因はなんだと思いますか？\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote data-sourcepos=\"259:1-262:74\"\u003e\n\u003cp data-sourcepos=\"259:4-262:74\"\u003e\u003cfont color=\"red\"\u003e\u003cstrong\u003eAI\u003c/strong\u003e\u003c/font\u003e\u003cbr\u003e\nkeycloakjsを使っているとのことですが、token endpointを叩くときにclient secretをリクエストに含めていますか？\u003cbr\u003e\nclient secretはaccess typeがconfidentialの場合に必要なパラメーターです。\u003cbr\u003e\nclient secretはKeycloakの管理コンソールで確認できます。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp data-sourcepos=\"264:1-265:79\"\u003eなるほどなるほど。\u003cbr\u003e\nじゃあkeycloak-jsで\u003cstrong\u003eclient secret\u003c/strong\u003eが設定できたらいいんだな！\u003c/p\u003e\n\u003cblockquote data-sourcepos=\"267:1-268:91\"\u003e\n\u003cp data-sourcepos=\"267:3-268:91\"\u003e\u003cstrong\u003e私\u003c/strong\u003e\u003cbr\u003e\nkeycloakjsを使っている時にclient secretを含める方法を教えてください\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote data-sourcepos=\"270:1-272:114\"\u003e\n\u003cp data-sourcepos=\"270:3-272:114\"\u003e\u003cfont color=\"red\"\u003e\u003cstrong\u003eAI\u003c/strong\u003e\u003c/font\u003e\u003cbr\u003e\nkeycloakjsを使っている時にclient secretを含める方法は、keycloak-jsクライアントではサポートされていないようです。\u003cbr\u003e\nkeycloak-jsクライアントはpublic keycloak clientとして動作し、client secretを必要としません\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp data-sourcepos=\"274:1-276:85\"\u003eなるほどなるほど。\u003cbr\u003e\nじゃあKeycloak管理コンソール上で今使っているclientを\u003cstrong\u003ecredentialなclientからpublicなclientへ\u003c/strong\u003e変えればいいんだな！\u003cbr\u003e\nと思ったが、\u003cstrong\u003e設定箇所が管理コンソール上に見当たらない...\u003c/strong\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"278:1-278:29\"\u003eこれもAIに聞いてみた\u003c/p\u003e\n\u003cblockquote data-sourcepos=\"280:1-282:91\"\u003e\n\u003cp data-sourcepos=\"280:3-282:91\"\u003e\u003cstrong\u003e私\u003c/strong\u003e\u003cbr\u003e\nDockerでquay.io/keycloak/keycloak:legacyのイメージを使用してkeycloakを起動していますが、\u003cbr\u003e\nAccess Typeを変更できる箇所が見当たりません。どこにありますか？\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote data-sourcepos=\"284:1-287:166\"\u003e\n\u003cp data-sourcepos=\"284:3-287:166\"\u003e\u003cfont color=\"red\"\u003e\u003cstrong\u003eAI\u003c/strong\u003e\u003c/font\u003e\u003cbr\u003e\nquay.io/keycloak/keycloak:legacyのイメージを使用しているとのことですが、そのイメージはKeycloakの古いバージョン（3.4.3.Final）を含んでいます。\u003cbr\u003e\nAccess Typeの設定は、Keycloakの新しいバージョン（4.0以降）で導入されたものです。\u003cbr\u003e\nそのため、Access Typeが管理コンソールに見つからないのだと思われます。 最新版のKeycloakを使用することをお勧めします。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp data-sourcepos=\"289:1-290:51\"\u003e\u003cstrong\u003e優秀すぎる...\u003c/strong\u003e\u003cbr\u003e\nすぐにdocker-compose.ymlを書き換えました\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"292:1-302:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003edocker-compose.yml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eversion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003e3\"\u003c/span\u003e\n\u003cspan class=\"na\"\u003eservices\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ekeycloak\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ejboss/keycloak:latest\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eKEYCLOAK_USER\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ekeycloak\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eKEYCLOAK_PASSWORD\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003epassword\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eports\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003e8080:8080\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"304:1-305:94\"\u003e次は、、\u003cfont color=\"red\"\u003eコンテナが立ち上がらない...!!\u003c/font\u003e\u003cbr\u003e\n調べてみると\u003cstrong\u003ejboss/keycloak\u003c/strong\u003eは \u003cstrong\u003eApple CPU搭載 Mac\u003c/strong\u003e 非対応のようです。。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"307:1-307:40\"\u003e\n\u003cspan id=\"6-jbosskeycloakをmacで起動する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#6-jbosskeycloak%E3%82%92mac%E3%81%A7%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e6. jboss/keycloakをMacで起動する\u003c/h1\u003e\n\u003cp data-sourcepos=\"309:1-309:56\"\u003e\u003ciframe id=\"qiita-embed-content__64823f663689fa93b5206eed290c0f53\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__64823f663689fa93b5206eed290c0f53\" data-content=\"https%3A%2F%2Fqiita.com%2Ftamaki_tech%2Fitems%2F3001577a5db1f0f43b56\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"311:1-311:42\"\u003eこちらの記事を参考にしました\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"313:1-325:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c\"\u003e# 1. git clone\u003c/span\u003e\ngit clone https://github.com/keycloak/keycloak-containers.git\n\n\u003cspan class=\"c\"\u003e# 2.　ディレクトリ移動\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003ecd \u003c/span\u003ekeycloak-containers/server\n\n\u003cspan class=\"c\"\u003e# 3. ver19.0.3ブランチに移動する\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003egit checkout 19.0.3\n\n\u003cspan class=\"c\"\u003e# 4. 任意のimage名・タグでdocker buildする\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003edocker build ./ \u003cspan class=\"nt\"\u003e-t\u003c/span\u003e jboss/keycloak:19.0.3\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F12659da4-348d-eb78-e8f8-415909071c8f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b30475d3a4e65352945b7dc89a729aa7\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F12659da4-348d-eb78-e8f8-415909071c8f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b30475d3a4e65352945b7dc89a729aa7\" width=\"400\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F12659da4-348d-eb78-e8f8-415909071c8f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=dacb6375e92eae88ae237c35fc871dc9 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/12659da4-348d-eb78-e8f8-415909071c8f.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003cp data-sourcepos=\"329:1-329:23\"\u003e作られていたらOK\u003c/p\u003e\n\u003cp data-sourcepos=\"331:1-331:177\"\u003eこのイメージを使うように\u003ccode\u003e1. ネットの記事にあったdocker-composeファイルで構築してみる\u003c/code\u003eで作った\u003ccode\u003edocker-compose.yml\u003c/code\u003eファイルを修正する\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"333:1-344:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003edocker-compose.yml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eversion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\u003c/span\u003e\u003cspan class=\"s\"\u003e3'\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003eservices\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ekeycloak\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ejboss/keycloak:19.0.3\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eKEYCLOAK_USER\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eadmin\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eKEYCLOAK_PASSWORD\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003epassword\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eports\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003e8080:8080\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"346:1-348:53\"\u003e起動OK。\u003cbr\u003e\n再度\u003ccode\u003e2. レルム、クライアントの設定\u003c/code\u003eをし直す。\u003cbr\u003e\n※ 👇の設定をOFFにした方が良さそう。\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fdac6bad9-d45e-9dce-9d09-7a49910abd5a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b31257f7e6568194009b7bf729d33473\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fdac6bad9-d45e-9dce-9d09-7a49910abd5a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b31257f7e6568194009b7bf729d33473\" width=\"300\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fdac6bad9-d45e-9dce-9d09-7a49910abd5a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=1e72a279859d2e1ba6bcd848644d8545 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/dac6bad9-d45e-9dce-9d09-7a49910abd5a.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003ch1 data-sourcepos=\"353:1-353:15\"\u003e\n\u003cspan id=\"7-再挑戦\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#7-%E5%86%8D%E6%8C%91%E6%88%A6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e7. 再挑戦\u003c/h1\u003e\n\u003cp data-sourcepos=\"355:1-355:54\"\u003eもう一度アプリ側からログインを試す。\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F78e07c03-1763-55ba-f84d-893636aafe16.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=603f6f28d9fda5d1125435e7e9c5ca0c\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F78e07c03-1763-55ba-f84d-893636aafe16.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=603f6f28d9fda5d1125435e7e9c5ca0c\" width=\"300\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F78e07c03-1763-55ba-f84d-893636aafe16.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=7b1ba964a3817afee5721d759b1ebe71 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/78e07c03-1763-55ba-f84d-893636aafe16.png\" loading=\"lazy\"\u003e\u003c/a\u003e  \n\u003cp data-sourcepos=\"359:1-359:15\"\u003eドキドキ...\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe1c09eee-ae04-4897-7763-4119aa920480.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d114dcda5514b5bdb541ca5d4b2ec0fc\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe1c09eee-ae04-4897-7763-4119aa920480.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d114dcda5514b5bdb541ca5d4b2ec0fc\" width=\"300\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe1c09eee-ae04-4897-7763-4119aa920480.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=77c23ca39613d124827c80a62c86a1c4 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e1c09eee-ae04-4897-7763-4119aa920480.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003cp data-sourcepos=\"363:1-363:18\"\u003eやったー！！\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Feaf066fa-1f8d-9d73-d94b-f19e054d1830.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=022ebefb3b153c6faa97da3508e1a1fe\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Feaf066fa-1f8d-9d73-d94b-f19e054d1830.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=022ebefb3b153c6faa97da3508e1a1fe\" width=\"400\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Feaf066fa-1f8d-9d73-d94b-f19e054d1830.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ea2c2f0d0a827fc1ad71dee378b381d9 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/eaf066fa-1f8d-9d73-d94b-f19e054d1830.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003cp data-sourcepos=\"367:1-367:100\"\u003eちゃんと状態を保存している\u003ccode\u003ekeycloakState\u003c/code\u003eにも認証情報が入っていますね👍\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F40b0a2d8-b0b7-c334-618a-db6fcdb364e8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d8dd9d09507a759c975304dc10f7c981\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F40b0a2d8-b0b7-c334-618a-db6fcdb364e8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d8dd9d09507a759c975304dc10f7c981\" width=\"400\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F40b0a2d8-b0b7-c334-618a-db6fcdb364e8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=27eee0a1a21562b60839ff717acf058a 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/40b0a2d8-b0b7-c334-618a-db6fcdb364e8.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003ch1 data-sourcepos=\"371:1-371:14\"\u003e\n\u003cspan id=\"8-まとめ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#8-%E3%81%BE%E3%81%A8%E3%82%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e8. まとめ\u003c/h1\u003e\n\u003ch4 data-sourcepos=\"373:1-373:17\"\u003e\n\u003cspan id=\"ai優秀\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#ai%E5%84%AA%E7%A7%80\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cstrong\u003eAI優秀\u003c/strong\u003e\n\u003c/h4\u003e\n",
    "body": "# はじめに\n\n* 認証サーバーとして`Keycloak`、フロントエンドビルドツールとして`SvelteKit`を採用し、\n構築するまでの手順を残していこうと思います。\n* ちょっと長いですがお付き合いください。\n\n# 環境\n\n\u003cimg width=\"300\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/2996a114-a73e-51f3-cefe-fb43a3ba44fc.png\" /\u003e\n\n* MacBook Air\n    * M2チップ 2022\n* Docker\n    * version 20.10.22\n* Docker Compose\n    * version v2.15.1\n* keycloak-js\n    * 20.0.5\n\n# 1. ネットの記事にあったdocker-composeファイルで構築してみる\n\n1. docker-compose.ymlの作成\n\n    ```bash\n    touch docker-compose.yml\n    ```\n    \u003cdetails\u003e\u003csummary\u003e開く: docker-compose.yaml\u003c/summary\u003e\n\n    ```yaml\n    version: '3'\n\n    volumes:\n      mysql_data:\n          driver: local\n\n    services:\n      mysql:\n          image: mysql:5.7\n          volumes:\n            - mysql_data:/var/lib/mysql\n          environment:\n            MYSQL_ROOT_PASSWORD: root\n            MYSQL_DATABASE: keycloak\n            MYSQL_USER: keycloak\n            MYSQL_PASSWORD: password\n      keycloak:\n          image: quay.io/keycloak/keycloak:legacy\n          environment:\n            DB_VENDOR: MYSQL\n            DB_ADDR: mysql\n            DB_DATABASE: keycloak\n            DB_USER: keycloak\n            DB_PASSWORD: password\n            KEYCLOAK_USER: admin\n            KEYCLOAK_PASSWORD: Pa55w0rd\n          ports:\n            - 8080:8080\n          depends_on:\n            - mysql\n    ```\n\n    \u003c/details\u003e\n\n1. サーバー起動\n\n    ```bash\n    docker-compose up -d\n    ```\n\n    [http://localhost:8080](http://localhost:8080)でサーバーが立ち上がる\n\n    立ち上がるまでまあまあ時間はかかります\n\n# 2. レルム、クライアントの設定\n\n1. `realm`の作成\n1. `client`の作成\n1. 作成できたら、作成したclientの設定画面から、`Valid redirect URIs`と`Web Origins`にフロントエンドサーバーを登録する。\n\n    私はとりあえずローカルで試していたので`Valid redirect URIs`: `http://localhost:18080/*`、`Web Origins`: `http://localhost:18080`と設定しました。\n\n1. ユーザーの作成\n\n    1. `Users`から、`Add User`を選択し、ユーザー名を任意に設定し、`create`\n    2. 作成したユーザーの設定画面が開くので、`Credentials`タブを開き、`Set Password`でパスワードを設定する。  \n    ※ `Temporary`はOFFにしておく。\n\nこれで認証サーバー側の設定は完了。\n\n# 3. フロント側の準備\n\n1. Create Project\n\n    ```bash\n    npm create svelte@latest my-app\n    cd my-app\n    npm i\n    ```\n\n1. vite.config.tsの修正\n\n    ```typescript:vite.config.ts\n    import { sveltekit } from '@sveltejs/kit/vite';\n    import { defineConfig } from 'vite';\n\n    export default defineConfig({\n      plugins: [sveltekit()],\n      server: {          // 追加\n        host: true,      // 追加\n        port: 18080      // 追加\n      }                  // 追加\n    });\n    ```\n\n    portは自由に設定してください。\n    ただし、`2. レルム、クライアントの設定`で設定したフロントサーバーのportに合わせるように。\n\n1. keycloak-jsのinstall\n\n    ```bash\n    npm i keycloak-js\n    ```\n\n1. サーバー起動\n\n    ```bash\n    npm run dev\n    ```\n\nこれでSvelteKitのwelcomeページが開くはず\n[http://localhost:18080](http://localhost:18080)\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e1c09eee-ae04-4897-7763-4119aa920480.png\" width=\"300\" /\u003e\n\n# 4. keyclaok-jsを使って認証してみる\n\n1. インスタンス生成\n    \n    ```vue:+page.svelte(抜粋)\n    \u003cscript lang=\"ts\"\u003e\n      import Keycloak from 'keycloak-js'\n    \n      const keycloak = new Keycloak({\n        clientId: \"クライアント名\",\n        url: \"http://localhost:8080/auth/\",\n        realm: \"レルム名\",\n      })\n    \u003c/script\u003e\n    ```\n    \n    `new Keycloak(*)`の部分にkeycloakの管理コンソールからconfigファイルをダウンロードしてきてそれを読ませる方法がネットにあがっていましたが、私のバージョンでは動きませんでした。\n    \n1. 認証処理を作成\n    \n    ```typescript:+page.svelte()\n      // 認証状態\n      let keycloakState = {\n        keycloak: null,\n        authenticated: false,\n      }\n    \n      const keycloak = new Keycloak({\n        clientId: \"クライアント名\",\n        url: \"http://localhost:8080/auth/\",\n        realm: \"レルム名\",\n      })\n    \n      // 認証処理\n      keycloak.init({\n        onLoad: 'login-required',\n        redirectUri: 'http://localhost:18080/',\n        scope: 'openid'\n      })\n      .then((authenticated) =\u003e {\n        // 認証成功時には認証状態を更新する\n        keycloakState = {\n          keycloak: keycloak, authenticated: authenticated\n        };\n      })\n      .catch((e) =\u003e {\n        console.error(e)\n      });\n    ```\n\n1. 認証後にページ内容が表示されるようにawait blockを使う\n\n    ```vue:+page.svelte\n    \u003cscript lang=\"ts\"\u003e\n      let keycloakState = {\n        keycloak: null,\n        authenticated: false,\n      }\n    \n      const signIn = async () =\u003e {\n        const keycloak = new Keycloak({\n          clientId: \"クライアント名\",\n          url: \"http://localhost:8080/auth/\",\n          realm: \"レルム名\",\n        })    \n        // 認証処理\n        keycloak.init({\n          onLoad: 'login-required',\n          redirectUri: 'http://localhost:18080/',\n          scope: 'openid'\n        })\n        .then((authenticated) =\u003e {\n          // 認証成功時には認証状態を更新する\n          keycloakState = {\n            keycloak: keycloak, authenticated: authenticated\n          };\n        })\n        .catch((e) =\u003e {\n          console.error(e)\n        });\n      }\n    \u003c/script\u003e\n    \n    {#await signIn()}\n      ...ログイン中\n    {:then data}\n      \u003csection\u003e\n        省略  \n      \u003c/section\u003e\n    {/await}\n    ```\n\n1. 画面を開いてみる\n    \n    ![スクリーンショット 2023-02-23 22.01.20.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/78e07c03-1763-55ba-f84d-893636aafe16.png)\n    \n    **KeyCloakログイン画面が表示された！**\n    `2. レルム、クライアントの設定`で作成したユーザーでログインすると...\n\n\n    \u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e1c09eee-ae04-4897-7763-4119aa920480.png\" width=\"300\" /\u003e\n\n    welcomeページにリダイレクトされた!\n    成功！！かと思いきや、、、\u003cfont color=\"red\"\u003eエラー発見\u003c/font\u003e\n\n    \u003cfont color=\"red\"\u003etoken requestで401エラー\u003c/font\u003e\n\n# 5. エラー調査\n\n```json\n  StatusCode: 401,\n  Response Body: {\n    \"error\":\"unauthorized_client\",\n    \"error_description\":\"Client secret not provided in request\"\n  } \n```\n\nよくわからなかったのでAIに聞いてみた。\n\n\u003e **私**\n\u003e token endpointを叩いたときにステータスコード401になってしまいます。 エラー内容は以下の通りです。 \n\u003e {\"error\":\"unauthorized_client\",\"error_description\":\"Client secret not provided in request\"} \n\u003e 原因はなんだと思いますか？\n\n\u003e  \u003cfont color=\"red\"\u003e**AI**\u003c/font\u003e\n\u003e keycloakjsを使っているとのことですが、token endpointを叩くときにclient secretをリクエストに含めていますか？\n\u003e client secretはaccess typeがconfidentialの場合に必要なパラメーターです。\n\u003e client secretはKeycloakの管理コンソールで確認できます。\n\nなるほどなるほど。\nじゃあkeycloak-jsで**client secret**が設定できたらいいんだな！\n\n\u003e **私**\n\u003e keycloakjsを使っている時にclient secretを含める方法を教えてください\n\n\u003e \u003cfont color=\"red\"\u003e**AI**\u003c/font\u003e\n\u003e keycloakjsを使っている時にclient secretを含める方法は、keycloak-jsクライアントではサポートされていないようです。\n\u003e keycloak-jsクライアントはpublic keycloak clientとして動作し、client secretを必要としません\n\nなるほどなるほど。\nじゃあKeycloak管理コンソール上で今使っているclientを**credentialなclientからpublicなclientへ**変えればいいんだな！\nと思ったが、**設定箇所が管理コンソール上に見当たらない...**\n\nこれもAIに聞いてみた\n\n\u003e **私**\n\u003e Dockerでquay.io/keycloak/keycloak:legacyのイメージを使用してkeycloakを起動していますが、\n\u003e Access Typeを変更できる箇所が見当たりません。どこにありますか？\n\n\u003e \u003cfont color=\"red\"\u003e**AI**\u003c/font\u003e\n\u003e quay.io/keycloak/keycloak:legacyのイメージを使用しているとのことですが、そのイメージはKeycloakの古いバージョン（3.4.3.Final）を含んでいます。 \n\u003e Access Typeの設定は、Keycloakの新しいバージョン（4.0以降）で導入されたものです。\n\u003e そのため、Access Typeが管理コンソールに見つからないのだと思われます。 最新版のKeycloakを使用することをお勧めします。\n\n**優秀すぎる...**\nすぐにdocker-compose.ymlを書き換えました\n\n```yaml:docker-compose.yml\nversion: \"3\"\nservices:\n  keycloak:\n    image: jboss/keycloak:latest\n    environment:\n      KEYCLOAK_USER: keycloak\n      KEYCLOAK_PASSWORD: password\n    ports:\n      - 8080:8080\n```\n\n次は、、\u003cfont color=\"red\"\u003eコンテナが立ち上がらない...!!\u003c/font\u003e\n調べてみると**jboss/keycloak**は **Apple CPU搭載 Mac** 非対応のようです。。\n\n# 6. jboss/keycloakをMacで起動する\n\nhttps://qiita.com/tamaki_tech/items/3001577a5db1f0f43b56\n\nこちらの記事を参考にしました\n\n```bash\n# 1. git clone\ngit clone https://github.com/keycloak/keycloak-containers.git\n\n# 2.　ディレクトリ移動\n$ cd keycloak-containers/server\n\n# 3. ver19.0.3ブランチに移動する\n$ git checkout 19.0.3\n\n# 4. 任意のimage名・タグでdocker buildする\n$ docker build ./ -t jboss/keycloak:19.0.3\n```\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/12659da4-348d-eb78-e8f8-415909071c8f.png\" width=\"400\" /\u003e\n\n作られていたらOK\n\nこのイメージを使うように`1. ネットの記事にあったdocker-composeファイルで構築してみる`で作った`docker-compose.yml`ファイルを修正する\n\n```yaml:docker-compose.yml\nversion: '3'\n\nservices:\n  keycloak:\n    image: jboss/keycloak:19.0.3\n    environment:\n      KEYCLOAK_USER: admin\n      KEYCLOAK_PASSWORD: password\n    ports:\n      - 8080:8080\n```\n\n起動OK。\n再度`2. レルム、クライアントの設定`をし直す。\n※ 👇の設定をOFFにした方が良さそう。\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/dac6bad9-d45e-9dce-9d09-7a49910abd5a.png\" width=\"300\" /\u003e\n\n\n#  7. 再挑戦\n\nもう一度アプリ側からログインを試す。\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/78e07c03-1763-55ba-f84d-893636aafe16.png\" width=\"300\"/\u003e  \n\nドキドキ...\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e1c09eee-ae04-4897-7763-4119aa920480.png\" width=\"300\" /\u003e\n\nやったー！！\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/eaf066fa-1f8d-9d73-d94b-f19e054d1830.png\" width=\"400\" /\u003e\n\nちゃんと状態を保存している`keycloakState`にも認証情報が入っていますね👍\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/40b0a2d8-b0b7-c334-618a-db6fcdb364e8.png\" width=\"400\" /\u003e\n\n# 8. まとめ\n\n#### **AI優秀**\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-02-23T22:55:43+09:00",
    "group": null,
    "id": "685c6ac112320172203b",
    "likes_count": 3,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 1,
    "tags": [
      { "name": "Mac", "versions": [] },
      { "name": "TypeScript", "versions": [] },
      { "name": "Keycloak", "versions": [] },
      { "name": "SvelteKit", "versions": [] }
    ],
    "title": "【Keycloak + SvelteKit】Keycloakをdockerで構築し、keycloak-jsを使ってアプリケーションからログインできるまで悩んだ記録",
    "updated_at": "2023-02-24T10:45:34+09:00",
    "url": "https://qiita.com/maaaashi/items/685c6ac112320172203b",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8372eb05-f54b-d860-b243-c9e0c655af67.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=452c9f8e29557b61cbd8022a1fe3641a\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8372eb05-f54b-d860-b243-c9e0c655af67.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=452c9f8e29557b61cbd8022a1fe3641a\" width=\"300\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8372eb05-f54b-d860-b243-c9e0c655af67.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e6765905c47b650b26fb3f836900bfd6 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/8372eb05-f54b-d860-b243-c9e0c655af67.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003cp data-sourcepos=\"5:1-7:103\"\u003e\u003cstrong\u003e\u003ca href=\"https://kit.svelte.jp/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eSvelteKit\u003c/a\u003e\u003c/strong\u003e  + \u003cstrong\u003e\u003ca href=\"https://flowbite-svelte.com/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eFlowbite-svelte\u003c/a\u003e\u003c/strong\u003e\u003cbr\u003e\nでよくあるパスワードフォームの実装をしました。\u003cbr\u003e\nよく使うと思うので、記事にしておき、使うときにコピペしようと思いますw\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:96\"\u003eアイコンには \u003cstrong\u003e\u003ca href=\"https://svelte-icons.vercel.app/\" rel=\"nofollow noopener\" target=\"_blank\"\u003esvelte-icons\u003c/a\u003e\u003c/strong\u003e を使っています。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"12:1-12:21\"\u003e\n\u003cspan id=\"完成イメージ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%8C%E6%88%90%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e完成イメージ\u003c/h2\u003e\n\u003cp data-sourcepos=\"14:1-14:164\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F138ab662-9fd3-e12b-1832-93746382c2ab.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e039d1553339cc3ca20badc3baef93b5\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F138ab662-9fd3-e12b-1832-93746382c2ab.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e039d1553339cc3ca20badc3baef93b5\" alt=\"スクリーンショット 2023-02-18 23.15.30.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F138ab662-9fd3-e12b-1832-93746382c2ab.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=3b6b579e7a666d2a936ab87aefbc7e0c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/138ab662-9fd3-e12b-1832-93746382c2ab.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cul data-sourcepos=\"16:1-17:0\"\u003e\n\u003cli data-sourcepos=\"16:1-17:0\"\u003e目のマークをクリックすると、パスワードが表示される\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"18:1-18:164\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd22827e5-a017-b006-96c4-ff745eee9d6b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f557c3590218fcf7bc2786577c340603\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd22827e5-a017-b006-96c4-ff745eee9d6b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f557c3590218fcf7bc2786577c340603\" alt=\"スクリーンショット 2023-02-18 23.15.10.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd22827e5-a017-b006-96c4-ff745eee9d6b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=931f14df7a9dc6a94df4fad5678e2161 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/d22827e5-a017-b006-96c4-ff745eee9d6b.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch1 data-sourcepos=\"21:1-21:55\"\u003e\n\u003cspan id=\"flowbite-svelte導入\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#flowbite-svelte%E5%B0%8E%E5%85%A5\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ca href=\"https://flowbite-svelte.com/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eFlowbite-svelte\u003c/a\u003e導入\u003c/h1\u003e\n\u003col data-sourcepos=\"23:1-48:0\"\u003e\n\u003cli data-sourcepos=\"23:1-35:0\"\u003e\n\u003cp data-sourcepos=\"23:4-23:52\"\u003e\u003ccode\u003esvelte-add\u003c/code\u003eで\u003ccode\u003etailwindcss\u003c/code\u003eのインストール\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"25:5-34:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e// npm\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpx svelte-add@latest tailwindcss\n\n// yarn\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003eyarn \u003cspan class=\"nt\"\u003e-s\u003c/span\u003e run svelte-add@latest tailwindcss\n\n// pnpm\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003epnpm dlx svelte-add@latest tailwindcss\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"36:1-48:0\"\u003e\n\u003cp data-sourcepos=\"36:4-36:39\"\u003e依存関係含めインストール\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"38:5-47:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e// npm\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpm i \u003cspan class=\"nt\"\u003e-D\u003c/span\u003e flowbite flowbite-svelte classnames @popperjs/core\n\n// yarn\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003eyarn add flowbite flowbite-svelte classnames @popperjs/core\n\n// pnpm\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003epnpm i \u003cspan class=\"nt\"\u003e-D\u003c/span\u003e flowbite flowbite-svelte classnames @popperjs/core\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch1 data-sourcepos=\"49:1-49:56\"\u003e\n\u003cspan id=\"svelte-icons導入\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#svelte-icons%E5%B0%8E%E5%85%A5\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ca href=\"https://svelte-icons.vercel.app/\" rel=\"nofollow noopener\" target=\"_blank\"\u003esvelte-icons\u003c/a\u003e導入\u003c/h1\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"51:1-60:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e// npm\n$ npm i -D svelte-icons\n\n// yarn\n$ yarn add svelte-icons\n\n// pnpm\n$ pnpm i -D svelte-icons\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch1 data-sourcepos=\"62:1-62:8\"\u003e\n\u003cspan id=\"実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装\u003c/h1\u003e\n\u003ch2 data-sourcepos=\"64:1-64:33\"\u003e\n\u003cspan id=\"先にソースコードから\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%85%88%E3%81%AB%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89%E3%81%8B%E3%82%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e先にソースコードから\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"66:1-111:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e+page.svelte\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ts\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eHeading\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eLabel\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eflowbite-svelte\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eFaRegEyeSlash\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003esvelte-icons/fa/FaRegEyeSlash.svelte\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eFaRegEye\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003esvelte-icons/fa/FaRegEye.svelte\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003eemail\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e''\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003epassword\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e''\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003epasswordFormType\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003epassword\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003etext\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003epassword\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003eviewPassword\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003efalse\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eclickHandler\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e():\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eviewPassword\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e\u003cspan class=\"nx\"\u003eviewPassword\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eviewPassword\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"nx\"\u003epasswordFormType\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003etext\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"nx\"\u003epasswordFormType\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003epassword\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"h-full w-4/5 mx-auto mt-10 p-5 border bg-gray-100 rounded-lg\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;form\u003c/span\u003e \u003cspan class=\"na\"\u003eaction=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"login\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-center\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"nt\"\u003e\u0026lt;Heading\u003c/span\u003e \u003cspan class=\"na\"\u003etag=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"h3\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eSignIn\u003cspan class=\"nt\"\u003e\u0026lt;/Heading\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;Label\u003c/span\u003e \u003cspan class=\"na\"\u003efor=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"email\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eemail\u003cspan class=\"nt\"\u003e\u0026lt;/Label\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;Input\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eid=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"email\"\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ebind:value=\u003c/span\u003e\u003cspan class=\"s\"\u003e{email}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003etype=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"email\"\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n\n    \u003cspan class=\"nt\"\u003e\u0026lt;Label\u003c/span\u003e \u003cspan class=\"na\"\u003efor=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"password\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003epassword\u003cspan class=\"nt\"\u003e\u0026lt;/Label\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;Input\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eid=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"password\"\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ebind:value=\u003c/span\u003e\u003cspan class=\"s\"\u003e{password}\u003c/span\u003e\n      \u003cspan class=\"na\"\u003etype=\u003c/span\u003e\u003cspan class=\"s\"\u003e{passwordFormType}\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"nt\"\u003e\u0026lt;button\u003c/span\u003e \u003cspan class=\"na\"\u003etype=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"button\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"h-1/2\"\u003c/span\u003e \u003cspan class=\"na\"\u003eslot=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"right\"\u003c/span\u003e \u003cspan class=\"na\"\u003eon:click=\u003c/span\u003e\u003cspan class=\"s\"\u003e{clickHandler}\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n        {#if viewPassword}\n          \u003cspan class=\"nt\"\u003e\u0026lt;FaRegEye\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n          {:else}\n          \u003cspan class=\"nt\"\u003e\u0026lt;FaRegEyeSlash\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n        {/if}\n      \u003cspan class=\"nt\"\u003e\u0026lt;/button\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;/Input\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;/form\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"113:1-113:30\"\u003e\n\u003cspan id=\"目のアイコンの表示\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%9B%AE%E3%81%AE%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3%E3%81%AE%E8%A1%A8%E7%A4%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e目のアイコンの表示\u003c/h2\u003e\n\u003cp data-sourcepos=\"115:1-115:91\"\u003e\u003ccode\u003e\u0026lt;Input\u0026gt;\u0026lt;/Input\u0026gt;\u003c/code\u003eコンポーネントの\u003ccode\u003eslot=\"right\"\u003c/code\u003eにボタンを入れています。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"117:1-131:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;Input\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eid=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"password\"\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ebind:value=\u003c/span\u003e\u003cspan class=\"s\"\u003e{password}\u003c/span\u003e\n  \u003cspan class=\"na\"\u003etype=\u003c/span\u003e\u003cspan class=\"s\"\u003e{passwordFormType}\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;button\u003c/span\u003e \u003cspan class=\"na\"\u003etype=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"button\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"h-1/2\"\u003c/span\u003e \u003cspan class=\"na\"\u003eslot=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"right\"\u003c/span\u003e \u003cspan class=\"na\"\u003eon:click=\u003c/span\u003e\u003cspan class=\"s\"\u003e{clickHandler}\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n    {#if viewPassword}\n      \u003cspan class=\"nt\"\u003e\u0026lt;FaRegEye\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n    {:else}\n      \u003cspan class=\"nt\"\u003e\u0026lt;FaRegEyeSlash\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n    {/if}\n  \u003cspan class=\"nt\"\u003e\u0026lt;/button\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/Input\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"133:1-133:99\"\u003eこれによりフォームの右側に目のアイコンを表示させることができます。\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9b67b524-c3ad-42d2-a086-f89ac3e17ab0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9674670d292f414305beee8308a201b1\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9b67b524-c3ad-42d2-a086-f89ac3e17ab0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9674670d292f414305beee8308a201b1\" width=\"100\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9b67b524-c3ad-42d2-a086-f89ac3e17ab0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=6aaa45cb37aa1d22341bc294e08b224d 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/9b67b524-c3ad-42d2-a086-f89ac3e17ab0.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003ch2 data-sourcepos=\"137:1-137:36\"\u003e\n\u003cspan id=\"パスワード表示--非表示\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%91%E3%82%B9%E3%83%AF%E3%83%BC%E3%83%89%E8%A1%A8%E7%A4%BA--%E9%9D%9E%E8%A1%A8%E7%A4%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eパスワード表示 / 非表示\u003c/h2\u003e\n\u003col data-sourcepos=\"139:1-144:0\"\u003e\n\u003cli data-sourcepos=\"139:1-141:54\"\u003eパスワードフォームの\u003ccode\u003etype\u003c/code\u003eを変数に持っておきます。\n\u003cul data-sourcepos=\"140:5-141:54\"\u003e\n\u003cli data-sourcepos=\"140:5-140:27\"\u003e初期値: 'password'\u003c/li\u003e\n\u003cli data-sourcepos=\"141:5-141:54\"\u003e例のソースコードでは\u003ccode\u003epasswordFormType\u003c/code\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"142:1-142:70\"\u003eアイコンの切り替え用にflagも定義しておきます。\u003c/li\u003e\n\u003cli data-sourcepos=\"143:1-144:0\"\u003e先ほど表示させたボタンの\u003ccode\u003eon:click\u003c/code\u003e属性で1.2.で定めた値を書き換えます\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"145:1-162:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e一部抜粋\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ts\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003epassword\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\"\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003epasswordFormType\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003epassword\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003etext\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003epassword\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eclickHandler\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eviewPassword\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"o\"\u003e!\u003c/span\u003e\u003cspan class=\"nx\"\u003eviewPassword\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eviewPassword\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"nx\"\u003epasswordFormType\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003etext\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"nx\"\u003epasswordFormType\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003epassword\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003e\u0026lt;Input\u003c/span\u003e \u003cspan class=\"na\"\u003etype=\u003c/span\u003e\u003cspan class=\"s\"\u003e{passwordFormType}\u003c/span\u003e \u003cspan class=\"na\"\u003ebind:value=\u003c/span\u003e\u003cspan class=\"s\"\u003e{password}\u003c/span\u003e \u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;button\u003c/span\u003e\n        \u003cspan class=\"na\"\u003etype=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"button\"\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"h-1/2\"\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eslot=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"right\"\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eon:click=\u003c/span\u003e\u003cspan class=\"s\"\u003e{clickHandler}\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"164:1-165:120\"\u003eこれでフォーム横のアイコンをクリックしたときに\u003cbr\u003e\nパスワードフォームの\u003ccode\u003etype\u003c/code\u003eが切り替わり、表示非表示を切り替えることができるでしょう\u003c/p\u003e\n",
    "body": "# はじめに\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/8372eb05-f54b-d860-b243-c9e0c655af67.png\" width=\"300\"/\u003e\n\n**[SvelteKit](https://kit.svelte.jp/)**  + **[Flowbite-svelte](https://flowbite-svelte.com/)**\nでよくあるパスワードフォームの実装をしました。\nよく使うと思うので、記事にしておき、使うときにコピペしようと思いますw\n\nアイコンには **[svelte-icons](https://svelte-icons.vercel.app/)** を使っています。\n\n\n## 完成イメージ\n\n![スクリーンショット 2023-02-18 23.15.30.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/138ab662-9fd3-e12b-1832-93746382c2ab.png)\n\n* 目のマークをクリックすると、パスワードが表示される\n\n![スクリーンショット 2023-02-18 23.15.10.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/d22827e5-a017-b006-96c4-ff745eee9d6b.png)\n\n\n# [Flowbite-svelte](https://flowbite-svelte.com/)導入\n\n1. `svelte-add`で`tailwindcss`のインストール\n\n    ```bash\n    // npm\n    $ npx svelte-add@latest tailwindcss\n    \n    // yarn\n    $ yarn -s run svelte-add@latest tailwindcss\n    \n    // pnpm\n    $ pnpm dlx svelte-add@latest tailwindcss\n    ```\n\n1. 依存関係含めインストール\n\n    ```bash\n    // npm\n    $ npm i -D flowbite flowbite-svelte classnames @popperjs/core\n    \n    // yarn\n    $ yarn add flowbite flowbite-svelte classnames @popperjs/core\n    \n    // pnpm\n    $ pnpm i -D flowbite flowbite-svelte classnames @popperjs/core\n    ```\n\n# [svelte-icons](https://svelte-icons.vercel.app/)導入\n\n```\n// npm\n$ npm i -D svelte-icons\n\n// yarn\n$ yarn add svelte-icons\n\n// pnpm\n$ pnpm i -D svelte-icons\n```\n\n# 実装\n\n## 先にソースコードから\n\n```vue:+page.svelte\n\u003cscript lang=\"ts\"\u003e\n  import { Heading, Input, Label } from \"flowbite-svelte\";\n  import FaRegEyeSlash from 'svelte-icons/fa/FaRegEyeSlash.svelte'\n  import FaRegEye from 'svelte-icons/fa/FaRegEye.svelte'\n  let email = ''\n  let password = ''\n  let passwordFormType: 'password' | 'text' = 'password'\n  let viewPassword = false\n\n  const clickHandler = (): void =\u003e {\n    viewPassword = !viewPassword\n    if (viewPassword) passwordFormType = 'text'\n    else passwordFormType = 'password'\n  }\n\u003c/script\u003e\n\n\u003cdiv class=\"h-full w-4/5 mx-auto mt-10 p-5 border bg-gray-100 rounded-lg\"\u003e\n  \u003cform action=\"login\"\u003e\n    \u003cdiv class=\"text-center\"\u003e\n      \u003cHeading tag=\"h3\"\u003eSignIn\u003c/Heading\u003e\n    \u003c/div\u003e\n    \u003cLabel for=\"email\"\u003eemail\u003c/Label\u003e\n    \u003cInput\n      id=\"email\"\n      bind:value={email}\n      type=\"email\"\n    /\u003e\n\n    \u003cLabel for=\"password\"\u003epassword\u003c/Label\u003e\n    \u003cInput\n      id=\"password\"\n      bind:value={password}\n      type={passwordFormType}\n    \u003e\n      \u003cbutton type=\"button\" class=\"h-1/2\" slot=\"right\" on:click={clickHandler}\u003e\n        {#if viewPassword}\n          \u003cFaRegEye /\u003e\n          {:else}\n          \u003cFaRegEyeSlash /\u003e\n        {/if}\n      \u003c/button\u003e\n    \u003c/Input\u003e\n  \u003c/form\u003e\n\u003c/div\u003e\n```\n\n## 目のアイコンの表示\n\n`\u003cInput\u003e\u003c/Input\u003e`コンポーネントの`slot=\"right\"`にボタンを入れています。\n\n```vue\n\u003cInput\n  id=\"password\"\n  bind:value={password}\n  type={passwordFormType}\n\u003e\n  \u003cbutton type=\"button\" class=\"h-1/2\" slot=\"right\" on:click={clickHandler}\u003e\n    {#if viewPassword}\n      \u003cFaRegEye /\u003e\n    {:else}\n      \u003cFaRegEyeSlash /\u003e\n    {/if}\n  \u003c/button\u003e\n\u003c/Input\u003e\n```\n\nこれによりフォームの右側に目のアイコンを表示させることができます。\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/9b67b524-c3ad-42d2-a086-f89ac3e17ab0.png\" width=\"100\"/\u003e\n\n## パスワード表示 / 非表示\n\n1. パスワードフォームの`type`を変数に持っておきます。\n    * 初期値: 'password'\n    * 例のソースコードでは`passwordFormType`\n1. アイコンの切り替え用にflagも定義しておきます。\n1. 先ほど表示させたボタンの`on:click`属性で1.2.で定めた値を書き換えます\n\n```vue:一部抜粋\n\u003cscript lang=\"ts\"\u003e\n  let password = \"\"\n  let passwordFormType: \"password\" | \"text\" = \"password\"\n  const clickHandler = () =\u003e {\n    viewPassword = !viewPassword\n    if (viewPassword) passwordFormType = 'text'\n    else passwordFormType = 'password'\n  }\n\u003c/script\u003e\n\n\u003cInput type={passwordFormType} bind:value={password} \u003e\n    \u003cbutton\n        type=\"button\"\n        class=\"h-1/2\"\n        slot=\"right\"\n        on:click={clickHandler}\u003e\n```\n\nこれでフォーム横のアイコンをクリックしたときに\nパスワードフォームの`type`が切り替わり、表示非表示を切り替えることができるでしょう\n\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-02-18T23:36:34+09:00",
    "group": null,
    "id": "fbeb32b4ec1663fc1383",
    "likes_count": 4,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "TypeScript", "versions": [] },
      { "name": "tailwindcss", "versions": [] },
      { "name": "SvelteKit", "versions": [] }
    ],
    "title": "【SvelteKit + Flowbite-svelte + svelte-icons】よくあるパスワードフォームを実装する",
    "updated_at": "2023-02-18T23:36:34+09:00",
    "url": "https://qiita.com/maaaashi/items/fbeb32b4ec1663fc1383",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003ch3 data-sourcepos=\"3:1-3:10\"\u003e\n\u003cspan id=\"前提\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%89%8D%E6%8F%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e前提\u003c/h3\u003e\n\u003cp data-sourcepos=\"5:1-7:121\"\u003e\u003cstrong\u003eSvelteKit\u003c/strong\u003eでは、\u003cbr\u003e\n\u003cstrong\u003e+page.svelte\u003c/strong\u003eや、 \u003cstrong\u003e+page.ts\u003c/strong\u003eに書くことで\u003cfont color=\"green\"\u003eクライアントサイド\u003c/font\u003eでjsを動かすことができ、\u003cbr\u003e\n*\u003cstrong\u003e.server.ts\u003c/strong\u003eに書くことで\u003cfont color=\"blue\"\u003eサーバーサイド\u003c/font\u003eでjsを動かすことができます。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:34\"\u003e\u003cstrong\u003e今回やりたかったこと\u003c/strong\u003e\u003c/p\u003e\n\u003cul data-sourcepos=\"11:1-13:0\"\u003e\n\u003cli data-sourcepos=\"11:1-11:50\"\u003eログインしていればそのまま表示、\u003c/li\u003e\n\u003cli data-sourcepos=\"12:1-13:0\"\u003eログインしていないときは任意のパスへとリダイレクトさせる\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"14:1-16:59\"\u003eいつもは\u003cfont color=\"green\"\u003eクライアントサイド\u003c/font\u003eのjsに処理を書いているが、\u003cbr\u003e\nそれだとログインしていなくても一瞬ログイン後の画面が出てしまっていた。\u003cbr\u003e\n(画面表示後にリダイレクト処理が動くため)\u003c/p\u003e\n\u003cp data-sourcepos=\"18:1-19:177\"\u003e画面表示前に動く\u003cfont color=\"blue\"\u003eサーバーサイド\u003c/font\u003eでリダイレクトさせることでその事象を抑えたかったが、\u003cbr\u003e\n普段\u003cfont color=\"green\"\u003eクライアントサイド\u003c/font\u003eで書いているやり方ではリダイレクトさせることができなかったのでそのときのメモ。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"22:1-22:92\"\u003e\n\u003cspan id=\"クライアントサイドでリダイレクトさせる場合\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E3%82%B5%E3%82%A4%E3%83%89%E3%81%A7%E3%83%AA%E3%83%80%E3%82%A4%E3%83%AC%E3%82%AF%E3%83%88%E3%81%95%E3%81%9B%E3%82%8B%E5%A0%B4%E5%90%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cfont color=\"green\"\u003eクライアントサイド\u003c/font\u003eでリダイレクトさせる場合\u003c/h1\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"24:1-37:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e+layout.svelte\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ts\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003egoto\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e$app/navigation\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eonMount\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003esvelte\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003epage\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e$app/store\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003eonMount\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003esession\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003egetSession\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\t\u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e!\u003c/span\u003e\u003cspan class=\"nx\"\u003esession\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"nx\"\u003e$page\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epathname\u003c/span\u003e \u003cspan class=\"o\"\u003e!==\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e/auth\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"nf\"\u003egoto\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e/auth\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\t\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"39:1-40:72\"\u003e\u003ccode\u003eapp\u003c/code\u003eモジュールの\u003ccode\u003egoto\u003c/code\u003eを使うことでリダイレクトさせることができます。\u003cbr\u003e\n(当然window.location.href = \"\"でもリダイレクトできます。)\u003c/p\u003e\n\u003cp data-sourcepos=\"42:1-42:53\"\u003e※ \u003ccode\u003egoto\u003c/code\u003eはonMount内でのみ使用できます。\u003c/p\u003e\n\u003cp data-sourcepos=\"44:1-44:115\"\u003e\u003cfont color=\"red\"\u003eこの場合一瞬ですが、ログイン後の画面が表示されてしまいます。\u003c/font\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"46:1-46:18\"\u003e\n\u003cspan id=\"goto使い方\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#goto%E4%BD%BF%E3%81%84%E6%96%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003egoto\u003c/code\u003e使い方\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"48:1-48:7\"\u003e\n\u003cspan id=\"型\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%9E%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e型\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"50:1-58:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nf\"\u003egoto\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"nx\"\u003eURL\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eopts\u003c/span\u003e\u003cspan class=\"p\"\u003e?:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003ereplaceState\u003c/span\u003e\u003cspan class=\"p\"\u003e?:\u003c/span\u003e \u003cspan class=\"nx\"\u003eboolean\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"kc\"\u003eundefined\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003enoScroll\u003c/span\u003e\u003cspan class=\"p\"\u003e?:\u003c/span\u003e \u003cspan class=\"nx\"\u003eboolean\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"kc\"\u003eundefined\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003ekeepFocus\u003c/span\u003e\u003cspan class=\"p\"\u003e?:\u003c/span\u003e \u003cspan class=\"nx\"\u003eboolean\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"kc\"\u003eundefined\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003estate\u003c/span\u003e\u003cspan class=\"p\"\u003e?:\u003c/span\u003e \u003cspan class=\"kr\"\u003eany\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003einvalidateAll\u003c/span\u003e\u003cspan class=\"p\"\u003e?:\u003c/span\u003e \u003cspan class=\"nx\"\u003eboolean\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"kc\"\u003eundefined\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"kc\"\u003eundefined\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"60:1-60:7\"\u003e\n\u003cspan id=\"例\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BE%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e例\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"62:1-76:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// example 1\u003c/span\u003e\n\u003cspan class=\"nf\"\u003egoto\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e/auth\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// example 2\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ebase\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehttps://hogehoge.com\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eurl\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eURL\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e/auth\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ebase\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"nf\"\u003egoto\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// example 3\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eopt\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ereplaceState\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"nf\"\u003egoto\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e/auth\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eopt\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"78:1-78:30\"\u003eこんな感じのようです\u003c/p\u003e\n\u003ch1 data-sourcepos=\"80:1-80:85\"\u003e\n\u003cspan id=\"サーバーサイドでリダイレクトさせる場合\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E3%82%B5%E3%82%A4%E3%83%89%E3%81%A7%E3%83%AA%E3%83%80%E3%82%A4%E3%83%AC%E3%82%AF%E3%83%88%E3%81%95%E3%81%9B%E3%82%8B%E5%A0%B4%E5%90%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cfont color=\"blue\"\u003eサーバーサイド\u003c/font\u003eでリダイレクトさせる場合\u003c/h1\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"82:1-98:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e+layout.server.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eredirect\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@sveltejs/kit\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003esupabase\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e../supabase\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"cm\"\u003e/** @type {import('./$types').PageServerLoad} */\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nf\"\u003eload\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e \u003cspan class=\"nx\"\u003eurl\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003esession\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003esupabase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eauth\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003egetSession\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003esession\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003esession\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003esession\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epathname\u003c/span\u003e \u003cspan class=\"o\"\u003e!==\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e/auth\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ethrow\u003c/span\u003e \u003cspan class=\"nf\"\u003eredirect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e301\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e/auth\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"100:1-101:105\"\u003e\u003ccode\u003eredirect\u003c/code\u003eを使うことでリダイレクトさせることができます。\u003cbr\u003e\nこちらであれば一瞬画面が表示されちゃうみたいなことはありませんでした。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"103:1-103:23\"\u003e\n\u003cspan id=\"redirect-使い方\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#redirect-%E4%BD%BF%E3%81%84%E6%96%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eredirect\u003c/code\u003e 使い方\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"105:1-105:7\"\u003e\n\u003cspan id=\"型-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%9E%8B-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e型\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"107:1-110:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nf\"\u003eredirect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003estatus\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e300\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"mi\"\u003e301\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"mi\"\u003e302\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"mi\"\u003e303\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"mi\"\u003e304\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"mi\"\u003e305\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"mi\"\u003e306\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"mi\"\u003e307\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"mi\"\u003e308\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n         \u003cspan class=\"nx\"\u003elocation\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"112:1-112:7\"\u003e\n\u003cspan id=\"例-1\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BE%8B-1\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e例\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"114:1-121:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// OK\u003c/span\u003e\n\u003cspan class=\"nf\"\u003eredirect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e301\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e/auth\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// NG\u003c/span\u003e\n\u003cspan class=\"nf\"\u003eredirect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e/auth\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"nf\"\u003eredirect\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e/auth\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n",
    "body": "# はじめに\n\n### 前提\n\n**SvelteKit**では、\n**+page.svelte**や、 **+page.ts**に書くことで\u003cfont color=\"green\"\u003eクライアントサイド\u003c/font\u003eでjsを動かすことができ、\n***.server.ts**に書くことで\u003cfont color=\"blue\"\u003eサーバーサイド\u003c/font\u003eでjsを動かすことができます。\n\n**今回やりたかったこと**\n\n* ログインしていればそのまま表示、\n* ログインしていないときは任意のパスへとリダイレクトさせる\n\nいつもは\u003cfont color=\"green\"\u003eクライアントサイド\u003c/font\u003eのjsに処理を書いているが、\nそれだとログインしていなくても一瞬ログイン後の画面が出てしまっていた。\n(画面表示後にリダイレクト処理が動くため)\n\n画面表示前に動く\u003cfont color=\"blue\"\u003eサーバーサイド\u003c/font\u003eでリダイレクトさせることでその事象を抑えたかったが、\n普段\u003cfont color=\"green\"\u003eクライアントサイド\u003c/font\u003eで書いているやり方ではリダイレクトさせることができなかったのでそのときのメモ。\n\n\n# \u003cfont color=\"green\"\u003eクライアントサイド\u003c/font\u003eでリダイレクトさせる場合\n\n```vue:+layout.svelte\n\u003cscript lang=\"ts\"\u003e\n  import { goto } from \"$app/navigation\";\n  import { onMount } from \"svelte\";\n  import { page } from \"$app/store\";\n\n  onMount(() =\u003e {\n    const session = getSession()\n\tif(!session \u0026\u0026 $page.url.pathname !== '/auth') {\n      goto('/auth')\n\t}\n  })\n\u003c/script\u003e\n```\n\n`app`モジュールの`goto`を使うことでリダイレクトさせることができます。\n(当然window.location.href = \"\"でもリダイレクトできます。)\n\n※ `goto`はonMount内でのみ使用できます。\n\n\u003cfont color=\"red\"\u003eこの場合一瞬ですが、ログイン後の画面が表示されてしまいます。\u003c/font\u003e\n\n## `goto`使い方\n\n### 型\n\n```typescript\ngoto(url: string | URL, opts?: {\n    replaceState?: boolean | undefined;\n    noScroll?: boolean | undefined;\n    keepFocus?: boolean | undefined;\n    state?: any;\n    invalidateAll?: boolean | undefined;\n} | undefined)\n```\n\n### 例\n\n```typescript\n// example 1\ngoto('/auth')\n\n// example 2\nconst base = 'https://hogehoge.com'\nconst url = new URL('/auth', base)\ngoto(url)\n\n// example 3\nconst opt = {\n  replaceState: true\n}\ngoto('/auth', opt)\n```\n\nこんな感じのようです\n\n# \u003cfont color=\"blue\"\u003eサーバーサイド\u003c/font\u003eでリダイレクトさせる場合\n\n```typescript:+layout.server.ts\nimport { redirect } from \"@sveltejs/kit\";\nimport supabase from \"../supabase\";\n\n/** @type {import('./$types').PageServerLoad} */\nexport async function load({ url }) {\n  const session = await supabase.auth.getSession()\n\n  if (session.data.session) {\n    return session;\n  }\n\n  if (url.pathname !== '/auth') {\n    throw redirect(301, '/auth')\n  }\n}\n```\n\n`redirect`を使うことでリダイレクトさせることができます。\nこちらであれば一瞬画面が表示されちゃうみたいなことはありませんでした。\n\n## `redirect` 使い方\n\n### 型\n\n```typescript\nredirect(status: 300 | 301 | 302 | 303 | 304 | 305 | 306 | 307 | 308,\n         location: string)\n```\n\n### 例\n\n```typescript\n// OK\nredirect(301, '/auth')\n\n// NG\nredirect('/auth')\nredirect(200, '/auth')\n```\n\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-02-18T21:42:07+09:00",
    "group": null,
    "id": "77782694be12c1123cc8",
    "likes_count": 8,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 4,
    "tags": [
      { "name": "TypeScript", "versions": [] },
      { "name": "SvelteKit", "versions": [] }
    ],
    "title": "【SvelteKit】クライアントサイドとサーバーサイドでのリダイレクトのさせ方の違いについて",
    "updated_at": "2023-02-18T21:47:14+09:00",
    "url": "https://qiita.com/maaaashi/items/77782694be12c1123cc8",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cul data-sourcepos=\"3:1-5:0\"\u003e\n\u003cli data-sourcepos=\"3:1-3:74\"\u003e\n\u003ccode\u003eserverless.yml\u003c/code\u003e内に\u003ccode\u003eapi\u003c/code\u003eの情報や認証情報を載せたくない\u003c/li\u003e\n\u003cli data-sourcepos=\"4:1-5:0\"\u003e\n\u003ccode\u003elocal\u003c/code\u003e, \u003ccode\u003edev\u003c/code\u003e, \u003ccode\u003eproduction\u003c/code\u003eで値を変えたい\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"6:1-7:57\"\u003eそんな時は\u003ccode\u003e.env\u003c/code\u003eファイルに変数を格納することが多いと思うので、\u003cbr\u003e\n\u003ccode\u003eServerlessFramework\u003c/code\u003eで\u003ccode\u003e.env\u003c/code\u003eを使うときのメモ。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"10:1-10:14\"\u003e\n\u003cspan id=\"導入方法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%B0%8E%E5%85%A5%E6%96%B9%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e導入方法\u003c/h1\u003e\n\u003col data-sourcepos=\"12:1-65:0\"\u003e\n\u003cli data-sourcepos=\"12:1-23:0\"\u003e\n\u003cp data-sourcepos=\"12:4-12:55\"\u003e\u003ccode\u003eserverless.[yml, ts]\u003c/code\u003eファイルにpluginの記載\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"14:5-18:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eserverless.yml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eplugins\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003e...\u003c/span\u003e\n  \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003eserverless-dotenv-plugin\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"20:5-22:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eserverless.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  \u003cspan class=\"nx\"\u003eplugins\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[...,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eserverless-dotenv-plugin\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"24:1-39:0\"\u003e\n\u003cp data-sourcepos=\"24:4-24:79\"\u003e\u003ccode\u003eserverless.[yml, ts]\u003c/code\u003eファイルの修正(すでに書いてあればSKIP)\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"26:5-30:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eserverless.yml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eprovider\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e# ここに.envを読み込んだ環境変数が入るようになります\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"32:5-38:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eserverless.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nx\"\u003eprovider\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// ここに.envを読み込んだ環境変数が入るようになります\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"40:1-52:4\"\u003e\n\u003cp data-sourcepos=\"40:4-40:50\"\u003e\u003ccode\u003eserverless-dotenv-plugin\u003c/code\u003eのインストール\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"42:5-51:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c\"\u003e# npm\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpm i \u003cspan class=\"nt\"\u003e--save-dev\u003c/span\u003e serverless-dotenv-plugin\n\n\u003cspan class=\"c\"\u003e# yarn\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003eyarn add \u003cspan class=\"nt\"\u003e--dev\u003c/span\u003e serverless-dotenv-plugin\n\n\u003cspan class=\"c\"\u003e# pnpm\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003epnpm i \u003cspan class=\"nt\"\u003e--save-dev\u003c/span\u003e serverless-dotenv-plugin\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"53:1-65:0\"\u003e\n\u003cp data-sourcepos=\"53:4-53:16\"\u003e.envの作成\u003c/p\u003e\n\u003cp data-sourcepos=\"55:5-55:89\"\u003e\u003ccode\u003eserverless.[yml, ts]\u003c/code\u003eと同じディレクトリに\u003ccode\u003e.env\u003c/code\u003eファイルを作成する\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"57:5-64:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003els\u003c/span\u003e\n...\nserverless.[yaml, ts]\n...\n\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003etouch\u003c/span\u003e .env\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch1 data-sourcepos=\"66:1-66:20\"\u003e\n\u003cspan id=\"動かしてみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8B%95%E3%81%8B%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e動かしてみる\u003c/h1\u003e\n\u003cp data-sourcepos=\"68:1-68:51\"\u003eまずは\u003ccode\u003e.env\u003c/code\u003eに適当な変数を入れてみる\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"shell\" data-sourcepos=\"70:1-72:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e.env\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003eQIITA\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003ehoge\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"74:1-74:98\"\u003e\u003ccode\u003esls print\u003c/code\u003eで実際にデプロイされる変数が入った後のファイルを見てみる。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"76:1-83:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003esls print\n\n・・・・省略\n  environment:\n    QIITA: hoge\n・・・・省略\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"85:1-86:55\"\u003e\u003ccode\u003eserverless.yml\u003c/code\u003eには\u003ccode\u003eQIITA\u003c/code\u003eの記載はしていないですが、\u003cbr\u003e\nちゃんと\u003ccode\u003e.env\u003c/code\u003eから変数が入りましたね👍\u003c/p\u003e\n\u003ch1 data-sourcepos=\"88:1-88:24\"\u003e\n\u003cspan id=\"envenvについて\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#envenv%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e.env.{env}について\u003c/h1\u003e\n\u003ch4 data-sourcepos=\"90:1-90:123\"\u003e\n\u003cspan id=\"envlocal-にはシークレット情報が載るためgit管理はやめましょう\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#envlocal-%E3%81%AB%E3%81%AF%E3%82%B7%E3%83%BC%E3%82%AF%E3%83%AC%E3%83%83%E3%83%88%E6%83%85%E5%A0%B1%E3%81%8C%E8%BC%89%E3%82%8B%E3%81%9F%E3%82%81git%E7%AE%A1%E7%90%86%E3%81%AF%E3%82%84%E3%82%81%E3%81%BE%E3%81%97%E3%82%87%E3%81%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cfont color=\"red\"\u003e\u003ccode\u003e.env.*.local\u003c/code\u003e にはシークレット情報が載るため、git管理はやめましょう\u003c/font\u003e\n\u003c/h4\u003e\n\u003ch3 data-sourcepos=\"92:1-92:8\"\u003e\n\u003cspan id=\"env\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#env\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e.env\u003c/h3\u003e\n\u003cul data-sourcepos=\"94:1-96:0\"\u003e\n\u003cli data-sourcepos=\"94:1-94:38\"\u003eデフォルトで呼ばれます。\u003c/li\u003e\n\u003cli data-sourcepos=\"95:1-96:0\"\u003e例) 環境に依存しないデフォルト値の設定などで使います。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 data-sourcepos=\"97:1-97:14\"\u003e\n\u003cspan id=\"envlocal\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#envlocal\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e.env.local\u003c/h3\u003e\n\u003cul data-sourcepos=\"99:1-101:0\"\u003e\n\u003cli data-sourcepos=\"99:1-99:86\"\u003e環境に依存しないが、シークレットにしたいものを入れます。\u003c/li\u003e\n\u003cli data-sourcepos=\"100:1-101:0\"\u003e例) 個人のアカウント情報など\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 data-sourcepos=\"102:1-102:20\"\u003e\n\u003cspan id=\"envdevelopment\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#envdevelopment\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e.env.development\u003c/h3\u003e\n\u003cul data-sourcepos=\"104:1-106:0\"\u003e\n\u003cli data-sourcepos=\"104:1-104:79\"\u003e\n\u003ccode\u003eNODE_ENV\u003c/code\u003eや\u003ccode\u003e--env\u003c/code\u003eや\u003ccode\u003e--stage\u003c/code\u003eが指定されない場合に呼ばれます\u003c/li\u003e\n\u003cli data-sourcepos=\"105:1-106:0\"\u003e例) 開発環境で使われるデフォルト値を入れます。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 data-sourcepos=\"107:1-107:26\"\u003e\n\u003cspan id=\"envdevelopmentlocal\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#envdevelopmentlocal\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e.env.development.local\u003c/h3\u003e\n\u003cul data-sourcepos=\"109:1-111:0\"\u003e\n\u003cli data-sourcepos=\"109:1-109:91\"\u003e\n\u003ccode\u003eNODE_ENV\u003c/code\u003eや\u003ccode\u003e--env\u003c/code\u003eや\u003ccode\u003e--stage\u003c/code\u003eが指定されない場合のシークレット情報。\u003c/li\u003e\n\u003cli data-sourcepos=\"110:1-111:0\"\u003e例) 開発環境で使われるAPI_KEY情報など\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 data-sourcepos=\"112:1-112:14\"\u003e\n\u003cspan id=\"envenv\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#envenv\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e.env.{env}\u003c/h3\u003e\n\u003cul data-sourcepos=\"114:1-116:0\"\u003e\n\u003cli data-sourcepos=\"114:1-114:100\"\u003e\n\u003ccode\u003eNODE_ENV\u003c/code\u003eや\u003ccode\u003e--env\u003c/code\u003eや\u003ccode\u003e--stage\u003c/code\u003eが指定されている場合に使われるデフォルト値。\u003c/li\u003e\n\u003cli data-sourcepos=\"115:1-116:0\"\u003e例) \u003ccode\u003esls deploy --env production\u003c/code\u003e時には\u003ccode\u003e.env.production\u003c/code\u003eが呼ばれます。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 data-sourcepos=\"117:1-117:19\"\u003e\n\u003cspan id=\"envenvlocal\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#envenvlocal\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eenv.{ENV}.local\u003c/h3\u003e\n\u003cul data-sourcepos=\"119:1-121:0\"\u003e\n\u003cli data-sourcepos=\"119:1-119:94\"\u003e\n\u003ccode\u003eNODE_ENV\u003c/code\u003eや\u003ccode\u003e--env\u003c/code\u003eや\u003ccode\u003e--stage\u003c/code\u003eが指定されている場合のシークレット情報。\u003c/li\u003e\n\u003cli data-sourcepos=\"120:1-121:0\"\u003e例) \u003ccode\u003esls deploy --env production\u003c/code\u003e時には\u003ccode\u003e.env.production.local\u003c/code\u003eが呼ばれます。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 data-sourcepos=\"122:1-122:158\"\u003e\n\u003cspan id=\"envlocal-にはシークレット情報が載るためgit管理はやめましょう大事なことなので２回\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#envlocal-%E3%81%AB%E3%81%AF%E3%82%B7%E3%83%BC%E3%82%AF%E3%83%AC%E3%83%83%E3%83%88%E6%83%85%E5%A0%B1%E3%81%8C%E8%BC%89%E3%82%8B%E3%81%9F%E3%82%81git%E7%AE%A1%E7%90%86%E3%81%AF%E3%82%84%E3%82%81%E3%81%BE%E3%81%97%E3%82%87%E3%81%86%E5%A4%A7%E4%BA%8B%E3%81%AA%E3%81%93%E3%81%A8%E3%81%AA%E3%81%AE%E3%81%A7%EF%BC%92%E5%9B%9E\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cfont color=\"red\"\u003e\u003ccode\u003e.env.*.local\u003c/code\u003e にはシークレット情報が載るため、git管理はやめましょう(大事なことなので２回...)\u003c/font\u003e\n\u003c/h4\u003e\n\u003ch1 data-sourcepos=\"125:1-125:17\"\u003e\n\u003cspan id=\"オプション\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eオプション\u003c/h1\u003e\n\u003cp data-sourcepos=\"127:1-129:66\"\u003erootディレクトリの設定ができたり、色々できそうです。\u003cbr\u003e\nデフォルトのままでも十分使えますが、プロジェクトによって設定してみても良いと思います。\u003cbr\u003e\n気になる方は公式サイトを確認してみてください\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"131:1-136:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eserverless.yml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003ecustom\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003edotenv\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e# default: project root\u003c/span\u003e\n    \u003cspan class=\"na\"\u003epath\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003epath/to/my/dotenvfiles\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch1 data-sourcepos=\"138:1-138:8\"\u003e\n\u003cspan id=\"参考\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8F%82%E8%80%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e参考\u003c/h1\u003e\n\u003cp data-sourcepos=\"140:1-140:59\"\u003e\u003ciframe id=\"qiita-embed-content__869bae63018638ea1f9ba30bb2f6476f\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__869bae63018638ea1f9ba30bb2f6476f\" data-content=\"https%3A%2F%2Fwww.serverless.com%2Fplugins%2Fserverless-dotenv-plugin\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n",
    "body": "# はじめに\n\n* `serverless.yml`内に`api`の情報や認証情報を載せたくない\n* `local`, `dev`, `production`で値を変えたい\n\nそんな時は`.env`ファイルに変数を格納することが多いと思うので、\n`ServerlessFramework`で`.env`を使うときのメモ。\n\n\n# 導入方法\n\n1. `serverless.[yml, ts]`ファイルにpluginの記載\n\n    ```yaml:serverless.yml\n    plugins:\n      - ...\n      - serverless-dotenv-plugin\n    ```\n    \n    ```typescript:serverless.ts\n      plugins: [..., 'serverless-dotenv-plugin'],\n    ```\n\n1. `serverless.[yml, ts]`ファイルの修正(すでに書いてあればSKIP)\n    \n    ```yaml:serverless.yml\n    provider:\n      environment:\n      # ここに.envを読み込んだ環境変数が入るようになります\n    ```\n\n    ```typescript:serverless.ts\n    provider: {\n      environment: {\n        // ここに.envを読み込んだ環境変数が入るようになります\n      }\n    },\n    ```\n\n1. `serverless-dotenv-plugin`のインストール\n    \n    ```bash\n    # npm\n    $ npm i --save-dev serverless-dotenv-plugin\n    \n    # yarn\n    $ yarn add --dev serverless-dotenv-plugin\n    \n    # pnpm\n    $ pnpm i --save-dev serverless-dotenv-plugin\n    ```\n    \n1. .envの作成\n\n    `serverless.[yml, ts]`と同じディレクトリに`.env`ファイルを作成する\n\n    ```bash\n    $ ls\n    ...\n    serverless.[yaml, ts]\n    ...\n    \n    $ touch .env\n    ```\n\n# 動かしてみる\n\nまずは`.env`に適当な変数を入れてみる\n\n```.env\nQIITA=hoge\n```\n\n`sls print`で実際にデプロイされる変数が入った後のファイルを見てみる。\n\n```bash\n$ sls print\n\n・・・・省略\n  environment:\n    QIITA: hoge\n・・・・省略\n```\n\n`serverless.yml`には`QIITA`の記載はしていないですが、\nちゃんと`.env`から変数が入りましたね👍\n\n# .env.{env}について\n\n#### \u003cfont color=\"red\"\u003e`.env.*.local` にはシークレット情報が載るため、git管理はやめましょう\u003c/font\u003e\n\n### .env\n\n* デフォルトで呼ばれます。\n* 例) 環境に依存しないデフォルト値の設定などで使います。\n\n### .env.local\n\n* 環境に依存しないが、シークレットにしたいものを入れます。\n* 例) 個人のアカウント情報など\n\n### .env.development\n\n* `NODE_ENV`や`--env`や`--stage`が指定されない場合に呼ばれます\n* 例) 開発環境で使われるデフォルト値を入れます。\n\n### .env.development.local\n\n* `NODE_ENV`や`--env`や`--stage`が指定されない場合のシークレット情報。\n* 例) 開発環境で使われるAPI_KEY情報など\n\n### .env.{env}\n\n* `NODE_ENV`や`--env`や`--stage`が指定されている場合に使われるデフォルト値。\n* 例) `sls deploy --env production`時には`.env.production`が呼ばれます。\n\n### env.{ENV}.local\n\n* `NODE_ENV`や`--env`や`--stage`が指定されている場合のシークレット情報。\n* 例) `sls deploy --env production`時には`.env.production.local`が呼ばれます。\n\n#### \u003cfont color=\"red\"\u003e`.env.*.local` にはシークレット情報が載るため、git管理はやめましょう(大事なことなので２回...)\u003c/font\u003e\n\n\n# オプション\n\nrootディレクトリの設定ができたり、色々できそうです。\nデフォルトのままでも十分使えますが、プロジェクトによって設定してみても良いと思います。\n気になる方は公式サイトを確認してみてください\n\n```yaml:serverless.yml\ncustom:\n  dotenv:\n    # default: project root\n    path: path/to/my/dotenvfiles\n```\n\n# 参考\n\nhttps://www.serverless.com/plugins/serverless-dotenv-plugin\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-02-17T08:26:55+09:00",
    "group": null,
    "id": "b810920b589c701ecdfc",
    "likes_count": 3,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 1,
    "tags": [{ "name": "ServerlessFramework", "versions": [] }],
    "title": "serverless frameworkで.envを使う",
    "updated_at": "2023-02-26T18:05:24+09:00",
    "url": "https://qiita.com/maaaashi/items/b810920b589c701ecdfc",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-4:97\"\u003e\u003ccode\u003eAWS Lambda\u003c/code\u003e \u003ccode\u003eruntime: nodejs\u003c/code\u003eを使って\u003cbr\u003e\n\u003ccode\u003eS3\u003c/code\u003eにファイルをアップロードしようとした際につまづいたことをメモ。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"6:1-6:8\"\u003e\n\u003cspan id=\"環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e環境\u003c/h1\u003e\n\u003cul data-sourcepos=\"8:1-10:0\"\u003e\n\u003cli data-sourcepos=\"8:1-10:0\"\u003eaws-lambda\n\u003cul data-sourcepos=\"9:5-10:0\"\u003e\n\u003cli data-sourcepos=\"9:5-10:0\"\u003eruntime: nodejs 14.*\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 data-sourcepos=\"11:1-11:8\"\u003e\n\u003cspan id=\"結論\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%90%E8%AB%96\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e結論\u003c/h1\u003e\n\u003ch4 data-sourcepos=\"13:1-13:86\"\u003e\n\u003cspan id=\"aws-sdkにはv2とv3がある\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#aws-sdk%E3%81%AB%E3%81%AFv2%E3%81%A8v3%E3%81%8C%E3%81%82%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eaws-sdk\u003c/code\u003eには\u003cfont color=\"red\"\u003eV2\u003c/font\u003eと\u003cfont color=\"red\"\u003eV3\u003c/font\u003eがある\u003c/h4\u003e\n\u003ch4 data-sourcepos=\"15:1-15:70\"\u003e\n\u003cspan id=\"そして私の環境ではv2だと動きませんでした\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%9D%E3%81%97%E3%81%A6%E7%A7%81%E3%81%AE%E7%92%B0%E5%A2%83%E3%81%A7%E3%81%AFv2%E3%81%A0%E3%81%A8%E5%8B%95%E3%81%8D%E3%81%BE%E3%81%9B%E3%82%93%E3%81%A7%E3%81%97%E3%81%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eそして、私の環境ではV2だと動きませんでした。\u003c/h4\u003e\n\u003cp data-sourcepos=\"17:1-17:45\"\u003eクラメソにも記事がありました。\u003c/p\u003e\n\u003cp data-sourcepos=\"19:1-19:70\"\u003e\u003ciframe id=\"qiita-embed-content__f6af85c7a251cbe9c460652de1fac748\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__f6af85c7a251cbe9c460652de1fac748\" data-content=\"https%3A%2F%2Fdev.classmethod.jp%2Farticles%2Faws-sdk-for-javascript-v2-v3-diff%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch1 data-sourcepos=\"21:1-21:23\"\u003e\n\u003cspan id=\"導入方法の違い\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%B0%8E%E5%85%A5%E6%96%B9%E6%B3%95%E3%81%AE%E9%81%95%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e導入方法の違い\u003c/h1\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"23:1-29:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e// V2\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpm \u003cspan class=\"nb\"\u003einstall \u003c/span\u003eaws-sdk\n\n// V3\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpm \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e @aws-sdk/client-s3\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch1 data-sourcepos=\"31:1-31:55\"\u003e\n\u003cspan id=\"s3へオブジェクトをuploadするときの違い\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#s3%E3%81%B8%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92upload%E3%81%99%E3%82%8B%E3%81%A8%E3%81%8D%E3%81%AE%E9%81%95%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eS3へオブジェクトをuploadするときの違い\u003c/h1\u003e\n\u003ch2 data-sourcepos=\"33:1-33:14\"\u003e\n\u003cspan id=\"v2の場合\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#v2%E3%81%AE%E5%A0%B4%E5%90%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eV2の場合\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"35:1-56:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"o\"\u003e*\u003c/span\u003e \u003cspan class=\"kd\"\u003eas \u003c/span\u003e\u003cspan class=\"nx\"\u003eAWS\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eaws-sdk\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003eAWS\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003econfig\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eapiVersions\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003es3\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e2006-03-01\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eputObject\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003es3\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nx\"\u003eAWS\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nc\"\u003eS3\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \n  \u003cspan class=\"kd\"\u003evar\u003c/span\u003e \u003cspan class=\"nx\"\u003eparams\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eBody\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nb\"\u003eObject\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \n    \u003cspan class=\"na\"\u003eBucket\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eBucket名\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \n    \u003cspan class=\"na\"\u003eKey\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e  \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eObject名\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n  \n  \u003cspan class=\"nx\"\u003es3\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eputObject\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eparams\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eerr\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eerr\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eerr\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eelse\u003c/span\u003e \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch2 data-sourcepos=\"58:1-58:14\"\u003e\n\u003cspan id=\"v3の場合\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#v3%E3%81%AE%E5%A0%B4%E5%90%88\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eV3の場合\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"60:1-77:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eS3Client\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ePutObjectCommand\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@aws-sdk/client-s3\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eputObject\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003es3\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eS3Client\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eregion\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eap-northeast-1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n  \n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ecommand\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003ePutObjectCommand\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eBody\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nb\"\u003eObject\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \n    \u003cspan class=\"na\"\u003eBucket\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eBucket名\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \n    \u003cspan class=\"na\"\u003eKey\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e  \u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eObject名\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n  \n  \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003es3\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003esend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ecommand\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch1 data-sourcepos=\"79:1-79:11\"\u003e\n\u003cspan id=\"最後に\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e最後に\u003c/h1\u003e\n\u003cp data-sourcepos=\"81:1-81:92\"\u003eV2は2023年にメンテナンスモードになるらしいので、V3を使いましょう\u003c/p\u003e\n",
    "body": "# はじめに\n\n`AWS Lambda` `runtime: nodejs`を使って\n`S3`にファイルをアップロードしようとした際につまづいたことをメモ。\n\n# 環境\n\n* aws-lambda\n    * runtime: nodejs 14.*\n\n# 結論\n\n#### `aws-sdk`には\u003cfont color=\"red\"\u003eV2\u003c/font\u003eと\u003cfont color=\"red\"\u003eV3\u003c/font\u003eがある\n\n#### そして、私の環境ではV2だと動きませんでした。\n\nクラメソにも記事がありました。\n\nhttps://dev.classmethod.jp/articles/aws-sdk-for-javascript-v2-v3-diff/\n\n# 導入方法の違い\n\n```bash\n// V2\n$ npm install aws-sdk\n\n// V3\n$ npm install @aws-sdk/client-s3\n```\n\n# S3へオブジェクトをuploadするときの違い\n\n## V2の場合\n\n```typescript\nimport * as AWS from 'aws-sdk'\n\nAWS.config.apiVersions = {\n  s3: '2006-03-01',\n};\n\nconst putObject = async () =\u003e {\n  var s3 = new AWS.S3();\n  \n  var params = {\n    Body: \u003cObject\u003e, \n    Bucket: \u003cBucket名\u003e, \n    Key:  \u003cObject名\u003e,\n  };\n  \n  s3.putObject(params, (err, data) =\u003e {\n    if (err) console.log(err);\n    else console.log(data);\n  });\n}\n```\n\n## V3の場合\n\n```typescript\nimport { S3Client, PutObjectCommand } from '@aws-sdk/client-s3';\n\nconst putObject = async () =\u003e {\n  const s3 = new S3Client({\n    region: 'ap-northeast-1'\n  })\n  \n  const command = new PutObjectCommand({\n    Body: \u003cObject\u003e, \n    Bucket: \u003cBucket名\u003e, \n    Key:  \u003cObject名\u003e,\n  })\n  \n  await s3.send(command)\n}\n\n```\n\n# 最後に\n\nV2は2023年にメンテナンスモードになるらしいので、V3を使いましょう\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-02-16T19:19:13+09:00",
    "group": null,
    "id": "c568bf36e5399b7df8f2",
    "likes_count": 5,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "JavaScript", "versions": [] },
      { "name": "Node.js", "versions": [] },
      { "name": "AWS", "versions": [] }
    ],
    "title": "nodejsでaws-sdkを使った時にハマったこと",
    "updated_at": "2023-02-16T19:19:13+09:00",
    "url": "https://qiita.com/maaaashi/items/c568bf36e5399b7df8f2",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-3:198\"\u003e\u003ccode\u003eServerlessFramework\u003c/code\u003eの\u003ccode\u003eaws-nodejs-typescript\u003c/code\u003eテンプレートを使って構築したlambdaを使った\u003ccode\u003eStep Functions\u003c/code\u003eを構築した時にエラーになったので、修正内容をメモ。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"6:1-6:22\"\u003e\n\u003cspan id=\"step-functionsとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#step-functions%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eStep Functionsとは\u003c/h1\u003e\n\u003cp data-sourcepos=\"8:1-8:39\"\u003eこちらの記事がわかりやすい\u003c/p\u003e\n\u003cp data-sourcepos=\"10:1-10:60\"\u003e\u003ciframe id=\"qiita-embed-content__10842835b3a565a12ac27e7cb1c33c0d\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__10842835b3a565a12ac27e7cb1c33c0d\" data-content=\"https%3A%2F%2Fqiita.com%2Fmiyuki_samitani%2Fitems%2F6c58d107cdc86d938fe3\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch1 data-sourcepos=\"12:1-12:22\"\u003e\n\u003cspan id=\"step-funcitons構築\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#step-funcitons%E6%A7%8B%E7%AF%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eStep Funcitons構築\u003c/h1\u003e\n\u003col data-sourcepos=\"15:1-157:0\"\u003e\n\u003cli data-sourcepos=\"15:1-35:0\"\u003e\n\u003cp data-sourcepos=\"15:4-15:13\"\u003esls create\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"17:5-19:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003esls create \u003cspan class=\"nt\"\u003e--template\u003c/span\u003e aws-nodejs-typescript\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"21:5-21:49\"\u003eこれで以下ファイルが生成される\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"23:5-34:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003etree \u003cspan class=\"nt\"\u003e-L\u003c/span\u003e 1\n\u003cspan class=\"nb\"\u003e.\u003c/span\u003e\n├── README.md\n├── node_modules\n├── package.json\n├── pnpm-lock.yaml\n├── serverless.ts\n├── src\n├── tsconfig.json\n└── tsconfig.paths.json\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"36:1-51:0\"\u003e\n\u003cp data-sourcepos=\"36:4-36:59\"\u003ePlugin: \u003ccode\u003eserverless-step-functions\u003c/code\u003eのインストール\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"38:5-46:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eserverless.yml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  \u003cspan class=\"nx\"\u003eservice\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003estep-functions\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003eframeworkVersion\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e3\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"err\"\u003e　　　　\u003c/span\u003e\u003cspan class=\"c1\"\u003e// serverless-step-functions追加\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003eplugins\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eserverless-esbuild\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eserverless-step-functions\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003eprovider\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eaws\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eruntime\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003enodejs14.x\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"48:5-50:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eserverless plugin \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e \u003cspan class=\"nt\"\u003e-n\u003c/span\u003e serverless-step-functions\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"52:1-125:0\"\u003e\n\u003cp data-sourcepos=\"52:4-52:25\"\u003eserverless.tsの修正\u003c/p\u003e\n\u003cp data-sourcepos=\"54:5-55:84\"\u003e今回は試しとして、lambdaが１つだけある構成で作ってみる。\u003cbr\u003e\nlambdaは\u003ccode\u003ePOST: hellow\u003c/code\u003eがすでに作られているので、それを使う。\u003c/p\u003e\n\u003cp data-sourcepos=\"57:5-58:142\"\u003e構成\u003cbr\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ffd542edd-de4f-f72d-4f57-08e76739c496.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4c7d8b360f173210a13b449c3b24df0a\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ffd542edd-de4f-f72d-4f57-08e76739c496.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4c7d8b360f173210a13b449c3b24df0a\" width=\"400\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ffd542edd-de4f-f72d-4f57-08e76739c496.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8538179ffd6bd8b7823e0ec3fe09e37d 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/fd542edd-de4f-f72d-4f57-08e76739c496.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"60:5-60:37\"\u003e公式から例を拾ってくる\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"62:5-80:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eserverless.yml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003estepFunctions\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003estateMachines\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ehellostepfunc1\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eevents\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003ehttp\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"na\"\u003epath\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003egofunction\u003c/span\u003e\n            \u003cspan class=\"na\"\u003emethod\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eGET\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003emyStateMachine\u003c/span\u003e\n      \u003cspan class=\"na\"\u003edefinition\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eComment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003eA\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003eHello\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003eWorld\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003eexample\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003eof\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003ethe\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003eAmazon\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003eStates\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003eLanguage\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003eusing\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003ean\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003eAWS\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003eLambda\u003c/span\u003e\u003cspan class=\"nv\"\u003e \u003c/span\u003e\u003cspan class=\"s\"\u003eFunction\"\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eStartAt\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eHelloWorld1\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eStates\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eHelloWorld1\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eType\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eTask\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eResource\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n              \u003cspan class=\"na\"\u003eFn::GetAtt\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"pi\"\u003e[\u003c/span\u003e\u003cspan class=\"nv\"\u003ehello\u003c/span\u003e\u003cspan class=\"pi\"\u003e,\u003c/span\u003e \u003cspan class=\"nv\"\u003eArn\u003c/span\u003e\u003cspan class=\"pi\"\u003e]\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eEnd\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"82:5-82:109\"\u003eこれを\u003ccode\u003ePOST\u003c/code\u003eにし、corsを有効にして、`serverless.tsに書き直すと↓のようになる。\u003c/p\u003e\n\u003cp data-sourcepos=\"84:5-84:71\"\u003eただし、Commentは使えなかったので外しています。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"86:5-124:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eserverless.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  \u003cspan class=\"nx\"\u003estepFunctions\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003estateMachines\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ehellostepfunc1\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eevents\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[{\u003c/span\u003e\n          \u003cspan class=\"na\"\u003ehttp\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"na\"\u003epath\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003egofunction\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"na\"\u003emethod\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ePOST\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"na\"\u003ecors\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n              \u003cspan class=\"na\"\u003eorigin\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e*\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n              \u003cspan class=\"na\"\u003eheaders\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n                \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eContent-Type\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eX-Amz-Date\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eAuthorization\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eX-Api-Key\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eX-Amz-Security-Token\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n                \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eX-Amz-User-Agent\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e]\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}],\u003c/span\u003e\n        \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003emyStateMachine\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"na\"\u003edefinition\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eCommnet\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eA Hello World example of the Amazon States Language using an AWS Lambda Function\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eStartAt\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eHelloWorld1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eStates\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eHelloWorld1\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n              \u003cspan class=\"na\"\u003eType\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eTask\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n              \u003cspan class=\"na\"\u003eResource\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n                \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eFn::GetAtt\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehello\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eArn\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n              \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n              \u003cspan class=\"na\"\u003eEnd\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n            \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n          \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"126:1-137:0\"\u003e\n\u003cp data-sourcepos=\"126:4-126:15\"\u003eデプロイ\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"128:5-136:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003esls deploy\n\n・・・\n\n✔ Serverless StepFunctions OutPuts\nendpoints:\n  POST - https://\u003cspan class=\"k\"\u003e************\u003c/span\u003e.execute-api.us-east-1.amazonaws.com/dev/gofunction\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"138:1-147:0\"\u003e\n\u003cp data-sourcepos=\"138:4-138:40\"\u003ePOSTリクエストを送ってみる\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"140:5-144:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl \u003cspan class=\"nt\"\u003e-X\u003c/span\u003e POST \u003cspan class=\"nt\"\u003e-H\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Content-Type: application/json\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"s1\"\u003e'{\"name\":\"太郎\"}'\u003c/span\u003e https://\u003cspan class=\"k\"\u003e***********\u003c/span\u003e.execute-api.us-east-1.amazonaws.com/dev/gofunction\n\n\u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"executionArn\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"arn:aws:states:us-east-1:**********:execution:myStateMachine:***************-*******\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"startDate\"\u003c/span\u003e:1.67637299142E9\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"146:5-146:52\"\u003eそれらしいレスポンスが帰ってきた\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"148:1-157:0\"\u003e\n\u003cp data-sourcepos=\"148:4-148:75\"\u003eマネジメントコンソールから実行結果を確認してみる\u003c/p\u003e\n\u003cp data-sourcepos=\"150:5-150:167\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F829c7fb7-95fc-5c1d-790c-81c34d66ea6e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6be3532c96a99745a734c0f0a0b23cbe\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F829c7fb7-95fc-5c1d-790c-81c34d66ea6e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6be3532c96a99745a734c0f0a0b23cbe\" alt=\"スクリーンショット 2023-02-14 1.49.39.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F829c7fb7-95fc-5c1d-790c-81c34d66ea6e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=0c5f81f95274c1f870849552cfdaae3e 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/829c7fb7-95fc-5c1d-790c-81c34d66ea6e.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"152:5-152:142\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc3bafe80-0733-af4c-ef52-82b7919c1256.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a646a7b070cf519e9faa14a0723e9079\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc3bafe80-0733-af4c-ef52-82b7919c1256.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a646a7b070cf519e9faa14a0723e9079\" width=\"250\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc3bafe80-0733-af4c-ef52-82b7919c1256.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=3b06421b3e67362a9286ff235a74c94d 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/c3bafe80-0733-af4c-ef52-82b7919c1256.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"155:5-155:47\"\u003e\u003cfont color=\"red\"\u003e失敗していた\u003c/font\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch1 data-sourcepos=\"158:1-158:23\"\u003e\n\u003cspan id=\"失敗の原因調査\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%A4%B1%E6%95%97%E3%81%AE%E5%8E%9F%E5%9B%A0%E8%AA%BF%E6%9F%BB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e失敗の原因調査\u003c/h1\u003e\n\u003cp data-sourcepos=\"160:1-160:89\"\u003estep functionsでは失敗のログが出力されるので、それを確認すると、\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"json\" data-sourcepos=\"162:1-175:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eType\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"errorType\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"TypeError\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"errorMessage\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"Cannot read property 'Content-Type' of undefined\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"trace\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"TypeError: Cannot read property 'Content-Type' of undefined\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"    at httpJsonBodyParserMiddlewareBefore (/node_modules/.pnpm/@middy+http-json-body-parser@3.6.2/node_modules/@middy/http-json-body-parser/index.js:13:29)\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"    at runMiddlewares (/node_modules/.pnpm/@middy+core@3.6.2/node_modules/@middy/core/index.js:118:27)\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"    at runRequest (/node_modules/.pnpm/@middy+core@3.6.2/node_modules/@middy/core/index.js:78:15)\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"    at Runtime.middy2 (/node_modules/.pnpm/@middy+core@3.6.2/node_modules/@middy/core/index.js:32:16)\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"    at Runtime.handleOnceNonStreaming (/var/runtime/Runtime.js:74:25)\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"177:1-177:116\"\u003eこのように出ており、\u003ccode\u003emiddy\u003c/code\u003eで\u003ccode\u003eContent-Type\u003c/code\u003eが\u003ccode\u003eundefined\u003c/code\u003eに対して呼ばれているようでした。\u003c/p\u003e\n\u003cp data-sourcepos=\"179:1-179:76\"\u003e実際にlambdaのコードを見てみると、この部分でした。👇\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"181:1-186:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ehttpJsonBodyParserMiddlewareBefore\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003erequest\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eheaders\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ebody\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003erequest\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e// headersがundefinedになっていた\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003econtentType\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eheaders\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eContent-Type\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e??\u003c/span\u003e \u003cspan class=\"nx\"\u003eheaders\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003econtent-type\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cblockquote data-sourcepos=\"188:1-190:42\"\u003e\n\u003ch4 data-sourcepos=\"188:3-188:18\"\u003e\n\u003cspan id=\"middyとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#middy%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003emiddyとは\u003c/h4\u003e\n\u003cp data-sourcepos=\"189:3-190:42\"\u003e「AWS Lambda 向け軽量Node.jsミドルウエアエンジン」と紹介されていました。\u003cbr\u003e\n詳しくは調べてみてください。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch1 data-sourcepos=\"193:1-193:8\"\u003e\n\u003cspan id=\"修正\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BF%AE%E6%AD%A3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e修正\u003c/h1\u003e\n\u003cp data-sourcepos=\"195:1-196:71\"\u003estep functionsのlambaでは、headersやbodyが\u003ccode\u003eundefined\u003c/code\u003eになってしまうため、\u003cbr\u003e\nmiddyは使わないように直してあげれば良さそうです。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"198:1-207:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ehandler.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ehello\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e`Hello \u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e, welcome to the exciting Serverless world!`\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003emain\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ehello\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"209:1-209:46\"\u003e\n\u003cspan id=\"再度postリクエストを送ってみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%86%8D%E5%BA%A6post%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%82%92%E9%80%81%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e再度POSTリクエストを送ってみる\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"211:1-215:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003ecurl \u003cspan class=\"nt\"\u003e-X\u003c/span\u003e POST \u003cspan class=\"nt\"\u003e-H\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"Content-Type: application/json\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e-d\u003c/span\u003e \u003cspan class=\"s1\"\u003e'{\"name\":\"太郎\"}'\u003c/span\u003e https://\u003cspan class=\"k\"\u003e***********\u003c/span\u003e.execute-api.us-east-1.amazonaws.com/dev/gofunction\n\n\u003cspan class=\"o\"\u003e{\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"executionArn\"\u003c/span\u003e:\u003cspan class=\"s2\"\u003e\"arn:aws:states:us-east-1:**********:execution:myStateMachine:***************-*******\"\u003c/span\u003e,\u003cspan class=\"s2\"\u003e\"startDate\"\u003c/span\u003e:1.67637299142E9\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"217:1-217:164\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fb5487f87-4aca-49d5-0482-5f719b8b329c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c2929c8d64b60392e5bf821a315913cd\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fb5487f87-4aca-49d5-0482-5f719b8b329c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c2929c8d64b60392e5bf821a315913cd\" alt=\"スクリーンショット 2023-02-14 20.12.57.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fb5487f87-4aca-49d5-0482-5f719b8b329c.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=517f048374d5fb23bccc56a44d9dccb3 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/b5487f87-4aca-49d5-0482-5f719b8b329c.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch3 data-sourcepos=\"219:1-219:13\"\u003e\n\u003cspan id=\"成功\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%88%90%E5%8A%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e成功！\u003c/h3\u003e\n\u003cp data-sourcepos=\"221:1-221:69\"\u003e入出力もコンソールから確認できて良い感じですね\u003c/p\u003e\n\u003cp data-sourcepos=\"223:1-223:164\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5c44d80a-2120-3760-1d25-30a2b5c323a8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=053ca44e42b33dba03f02fae4a5f16a8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5c44d80a-2120-3760-1d25-30a2b5c323a8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=053ca44e42b33dba03f02fae4a5f16a8\" alt=\"スクリーンショット 2023-02-14 20.13.41.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5c44d80a-2120-3760-1d25-30a2b5c323a8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a37cd19a30b08738761c2792214c20f1 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/5c44d80a-2120-3760-1d25-30a2b5c323a8.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n",
    "body": "# はじめに\n\n`ServerlessFramework`の`aws-nodejs-typescript`テンプレートを使って構築したlambdaを使った`Step Functions`を構築した時にエラーになったので、修正内容をメモ。\n\n\n# Step Functionsとは\n\nこちらの記事がわかりやすい\n\nhttps://qiita.com/miyuki_samitani/items/6c58d107cdc86d938fe3\n\n# Step Funcitons構築\n\n\n1. sls create\n\n    ```bash\n    sls create --template aws-nodejs-typescript\n    ```\n\n    これで以下ファイルが生成される\n    \n    ```bash\n    $ tree -L 1\n    .\n    ├── README.md\n    ├── node_modules\n    ├── package.json\n    ├── pnpm-lock.yaml\n    ├── serverless.ts\n    ├── src\n    ├── tsconfig.json\n    └── tsconfig.paths.json\n    ```\n\n1. Plugin: `serverless-step-functions`のインストール\n    \n    ```typescript:serverless.yml\n      service: 'step-functions',\n      frameworkVersion: '3',\n    　　　　// serverless-step-functions追加\n      plugins: ['serverless-esbuild', 'serverless-step-functions'],\n      provider: {\n        name: 'aws',\n        runtime: 'nodejs14.x',\n    ```\n    \n    ```bash\n    serverless plugin install -n serverless-step-functions\n    ```\n\n1. serverless.tsの修正\n\n    今回は試しとして、lambdaが１つだけある構成で作ってみる。\n    lambdaは`POST: hellow`がすでに作られているので、それを使う。\n    \n    構成\n    \u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/fd542edd-de4f-f72d-4f57-08e76739c496.png\" width=\"400\"\u003e\u003c/img\u003e\n    \n    公式から例を拾ってくる\n    \n    ```yaml:serverless.yml\n    stepFunctions:\n      stateMachines:\n        hellostepfunc1:\n          events:\n            - http:\n                path: gofunction\n                method: GET\n          name: myStateMachine\n          definition:\n            Comment: \"A Hello World example of the Amazon States Language using an AWS Lambda Function\"\n            StartAt: HelloWorld1\n            States:\n              HelloWorld1:\n                Type: Task\n                Resource:\n                  Fn::GetAtt: [hello, Arn]\n                End: true\n    ```\n    \n    これを`POST`にし、corsを有効にして、`serverless.tsに書き直すと↓のようになる。\n\n    ただし、Commentは使えなかったので外しています。\n    \n    ```typescript:serverless.ts\n      stepFunctions: {\n        stateMachines: {\n          hellostepfunc1: {\n            events: [{\n              http: {\n                path: 'gofunction',\n                method: 'POST',\n                cors: {\n                  origin: \"*\",\n                  headers: [\n                    \"Content-Type\",\n                    \"X-Amz-Date\",\n                    \"Authorization\",\n                    \"X-Api-Key\",\n                    \"X-Amz-Security-Token\",\n                    \"X-Amz-User-Agent\"\n                  ]\n                }\n              }\n            }],\n            name: 'myStateMachine',\n            definition: {\n              Commnet: \"A Hello World example of the Amazon States Language using an AWS Lambda Function\",\n              StartAt: 'HelloWorld1',\n              States: {\n                HelloWorld1: {\n                  Type: 'Task',\n                  Resource: {\n                    'Fn::GetAtt': ['hello', 'Arn']\n                  },\n                  End: true\n                }\n              }\n            }\n          }\n        }\n      }\n    ```\n\n1. デプロイ\n\n    ```bash\n    sls deploy\n    \n    ・・・\n    \n    ✔ Serverless StepFunctions OutPuts\n    endpoints:\n      POST - https://************.execute-api.us-east-1.amazonaws.com/dev/gofunction\n    ```\n\n1. POSTリクエストを送ってみる\n        \n    ```bash\n    $ curl -X POST -H \"Content-Type: application/json\" -d '{\"name\":\"太郎\"}' https://***********.execute-api.us-east-1.amazonaws.com/dev/gofunction\n    \n    {\"executionArn\":\"arn:aws:states:us-east-1:**********:execution:myStateMachine:***************-*******\",\"startDate\":1.67637299142E9}\n    ```\n        \n    それらしいレスポンスが帰ってきた\n\n1. マネジメントコンソールから実行結果を確認してみる\n\n    ![スクリーンショット 2023-02-14 1.49.39.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/829c7fb7-95fc-5c1d-790c-81c34d66ea6e.png)\n\n    \u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/c3bafe80-0733-af4c-ef52-82b7919c1256.png\" width=\"250\"\u003e\u003c/img\u003e\n\n\n    \u003cfont color=\"red\"\u003e失敗していた\u003c/font\u003e\n\n\n# 失敗の原因調査\n\nstep functionsでは失敗のログが出力されるので、それを確認すると、\n\n```json:Type\n{\n  \"errorType\": \"TypeError\",\n  \"errorMessage\": \"Cannot read property 'Content-Type' of undefined\",\n  \"trace\": [\n    \"TypeError: Cannot read property 'Content-Type' of undefined\",\n    \"    at httpJsonBodyParserMiddlewareBefore (/node_modules/.pnpm/@middy+http-json-body-parser@3.6.2/node_modules/@middy/http-json-body-parser/index.js:13:29)\",\n    \"    at runMiddlewares (/node_modules/.pnpm/@middy+core@3.6.2/node_modules/@middy/core/index.js:118:27)\",\n    \"    at runRequest (/node_modules/.pnpm/@middy+core@3.6.2/node_modules/@middy/core/index.js:78:15)\",\n    \"    at Runtime.middy2 (/node_modules/.pnpm/@middy+core@3.6.2/node_modules/@middy/core/index.js:32:16)\",\n    \"    at Runtime.handleOnceNonStreaming (/var/runtime/Runtime.js:74:25)\"\n  ]\n}\n```\n\nこのように出ており、`middy`で`Content-Type`が`undefined`に対して呼ばれているようでした。\n\n実際にlambdaのコードを見てみると、この部分でした。👇\n\n```typescript\n  const httpJsonBodyParserMiddlewareBefore = async (request) =\u003e {\n    const { headers, body } = request.event;\n    // headersがundefinedになっていた\n    const contentType = headers[\"Content-Type\"] ?? headers[\"content-type\"];\n```\n\n\u003e #### middyとは\n\u003e 「AWS Lambda 向け軽量Node.jsミドルウエアエンジン」と紹介されていました。\n詳しくは調べてみてください。\n\n\n# 修正\n\nstep functionsのlambaでは、headersやbodyが`undefined`になってしまうため、\nmiddyは使わないように直してあげれば良さそうです。\n\n```typescript:handler.ts\nconst hello = async (event) =\u003e {\n  return {\n    message: `Hello ${event.body.name}, welcome to the exciting Serverless world!`,\n    event,\n  };\n};\n\nexport const main = hello;\n```\n\n## 再度POSTリクエストを送ってみる\n        \n```bash\n$ curl -X POST -H \"Content-Type: application/json\" -d '{\"name\":\"太郎\"}' https://***********.execute-api.us-east-1.amazonaws.com/dev/gofunction\n\n{\"executionArn\":\"arn:aws:states:us-east-1:**********:execution:myStateMachine:***************-*******\",\"startDate\":1.67637299142E9}\n```\n\n![スクリーンショット 2023-02-14 20.12.57.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/b5487f87-4aca-49d5-0482-5f719b8b329c.png)\n        \n### 成功！\n\n入出力もコンソールから確認できて良い感じですね\n\n![スクリーンショット 2023-02-14 20.13.41.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/5c44d80a-2120-3760-1d25-30a2b5c323a8.png)\n\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-02-14T20:17:04+09:00",
    "group": null,
    "id": "2e55d673f1bd3cbd087c",
    "likes_count": 3,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "TypeScript", "versions": [] },
      { "name": "ServerlessFramework", "versions": [] }
    ],
    "title": "aws-nodejs-typescriptで作成したlambdaを使ってStep Functionsを構築したらハマったこと",
    "updated_at": "2023-02-14T20:17:04+09:00",
    "url": "https://qiita.com/maaaashi/items/2e55d673f1bd3cbd087c",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-3:80\"\u003e\u003cfont color=\"red\"\u003eplaygroundみたいなものを作ってみたかった\u003c/font\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"5:1-6:80\"\u003e普段フロントエンド開発をしていて\u003ccode\u003etailwindcss\u003c/code\u003eに触れる機会が多いので、\u003cbr\u003e\nclassを書き換えると反映されるようなサイトを作りました。\u003c/p\u003e\n\u003cp data-sourcepos=\"8:1-8:75\"\u003e大したものではないのでハードルは下げてくださいまし\u003c/p\u003e\n\u003ch2 data-sourcepos=\"11:1-11:12\"\u003e\n\u003cspan id=\"全体像\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%85%A8%E4%BD%93%E5%83%8F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e全体像\u003c/h2\u003e\n\u003cp data-sourcepos=\"13:1-13:164\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4e4463c8-cfc0-debe-d7e8-ed4ed5baa8bf.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2f5c7574228da79a9086c900eb4f79ff\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4e4463c8-cfc0-debe-d7e8-ed4ed5baa8bf.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2f5c7574228da79a9086c900eb4f79ff\" alt=\"スクリーンショット 2023-02-12 15.04.25.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4e4463c8-cfc0-debe-d7e8-ed4ed5baa8bf.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8b4c2cf56918fffd54fad6ba1b865778 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4e4463c8-cfc0-debe-d7e8-ed4ed5baa8bf.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"15:1-15:9\"\u003e\n\u003cspan id=\"概要\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A6%82%E8%A6%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e概要\u003c/h2\u003e\n\u003cp data-sourcepos=\"17:1-17:164\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1e16ff6d-43d8-9803-90ea-f92e3460e131.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=10b03c9937f7bdcaf94cb38a137f3105\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1e16ff6d-43d8-9803-90ea-f92e3460e131.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=10b03c9937f7bdcaf94cb38a137f3105\" alt=\"スクリーンショット 2023-02-12 15.05.01.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1e16ff6d-43d8-9803-90ea-f92e3460e131.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=bdf071fa92cb84f50f3c3daeb6656453 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/1e16ff6d-43d8-9803-90ea-f92e3460e131.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"19:1-19:51\"\u003eこちらのフォームで書き換えたものが\u003c/p\u003e\n\u003cp data-sourcepos=\"21:1-21:164\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff9173812-dc59-6d1b-b88e-257ff8d76b82.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7094463d1f103f255334e2ee6a62a784\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff9173812-dc59-6d1b-b88e-257ff8d76b82.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7094463d1f103f255334e2ee6a62a784\" alt=\"スクリーンショット 2023-02-12 15.06.15.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff9173812-dc59-6d1b-b88e-257ff8d76b82.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d4bc9ed923cfcca18d00d837d9372898 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f9173812-dc59-6d1b-b88e-257ff8d76b82.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"23:1-23:60\"\u003eこちらに反映されるようになっております。\u003c/p\u003e\n\u003cp data-sourcepos=\"25:1-25:49\"\u003e\u003ciframe id=\"qiita-embed-content__c91915400650186a5717becda6e71b0d\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__c91915400650186a5717becda6e71b0d\" data-content=\"https%3A%2F%2Fmaaaashi-tailwindcss-preview.mss-rep.com%2F\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch1 data-sourcepos=\"28:1-28:14\"\u003e\n\u003cspan id=\"開発環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e開発環境\u003c/h1\u003e\n\u003cul data-sourcepos=\"30:1-38:0\"\u003e\n\u003cli data-sourcepos=\"30:1-31:14\"\u003enode\n\u003cul data-sourcepos=\"31:5-31:14\"\u003e\n\u003cli data-sourcepos=\"31:5-31:14\"\u003ev18.14.0\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"32:1-33:12\"\u003epnpm\n\u003cul data-sourcepos=\"33:5-33:12\"\u003e\n\u003cli data-sourcepos=\"33:5-33:12\"\u003e7.26.3\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"34:1-35:41\"\u003eFramework\n\u003cul data-sourcepos=\"35:5-35:41\"\u003e\n\u003cli data-sourcepos=\"35:5-35:41\"\u003e\u003ca href=\"https://kit.svelte.jp/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eSvelteKit\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"36:1-38:0\"\u003eUI components\n\u003cul data-sourcepos=\"37:5-38:0\"\u003e\n\u003cli data-sourcepos=\"37:5-38:0\"\u003e\u003ca href=\"https://flowbite-svelte.com/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eFlowbite-svlete\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 data-sourcepos=\"39:1-39:22\"\u003e\n\u003cspan id=\"実装方法抜粋\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85%E6%96%B9%E6%B3%95%E6%8A%9C%E7%B2%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装方法(抜粋)\u003c/h1\u003e\n\u003cp data-sourcepos=\"41:1-41:58\"\u003e\u003cfont color=\"red\"\u003eより良い方法がありそう\u003c/font\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"43:1-43:83\"\u003e\u003ccode\u003eclassname\u003c/code\u003eをストアに持ち、右側の変更を左側に伝えています。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"45:1-45:12\"\u003e\n\u003cspan id=\"ストア\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B9%E3%83%88%E3%82%A2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eストア\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"47:1-52:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esrc/store/classname.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003ewritable\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"nx\"\u003eWritable\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003esvelte/store\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// 適当にデフォルト値入れておくと利用者が使い方を連想しやすい(かも)\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003edivClass\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eWritable\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003ewritable\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003efont-bold text-2xl text-green-500\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"54:1-54:32\"\u003e\n\u003cspan id=\"プレビュー画面左側\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%97%E3%83%AC%E3%83%93%E3%83%A5%E3%83%BC%E7%94%BB%E9%9D%A2%E5%B7%A6%E5%81%B4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eプレビュー(画面左側)\u003c/h2\u003e\n\u003cp data-sourcepos=\"56:1-56:138\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff9173812-dc59-6d1b-b88e-257ff8d76b82.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7094463d1f103f255334e2ee6a62a784\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"300\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff9173812-dc59-6d1b-b88e-257ff8d76b82.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7094463d1f103f255334e2ee6a62a784\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff9173812-dc59-6d1b-b88e-257ff8d76b82.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d4bc9ed923cfcca18d00d837d9372898 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f9173812-dc59-6d1b-b88e-257ff8d76b82.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"58:1-69:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ePreview.svelte\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e// divの部分のみ抜粋\n\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ts\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003edivClass\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e../store/classname\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ml-5 my-5\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e{$divClass}\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n    preview\n  \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch2 data-sourcepos=\"71:1-71:32\"\u003e\n\u003cspan id=\"プロパティ画面右側\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%97%E3%83%AD%E3%83%91%E3%83%86%E3%82%A3%E7%94%BB%E9%9D%A2%E5%8F%B3%E5%81%B4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eプロパティ(画面右側)\u003c/h2\u003e\n\u003cp data-sourcepos=\"73:1-73:138\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1e16ff6d-43d8-9803-90ea-f92e3460e131.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=10b03c9937f7bdcaf94cb38a137f3105\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg width=\"300\" src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1e16ff6d-43d8-9803-90ea-f92e3460e131.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=10b03c9937f7bdcaf94cb38a137f3105\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1e16ff6d-43d8-9803-90ea-f92e3460e131.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=bdf071fa92cb84f50f3c3daeb6656453 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/1e16ff6d-43d8-9803-90ea-f92e3460e131.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"75:1-97:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eProperty.svelte\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e// divの部分のみ抜粋\n\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ts\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eTabs\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eTabItem\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eInput\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eTooltip\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eList\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eLi\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eflowbite-svelte\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003edivClass\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e../store/classname\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n\n// 実際には87~94行目は別コンポーネントに切り出し、'div', 'button', 'a'で使いまわしています。\n\u003cspan class=\"nt\"\u003e\u0026lt;Tabs\u003c/span\u003e \u003cspan class=\"na\"\u003estyle=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"pill\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;TabItem\u003c/span\u003e \u003cspan class=\"na\"\u003eopen\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;span\u003c/span\u003e \u003cspan class=\"na\"\u003eslot=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"title\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003ediv\u003cspan class=\"nt\"\u003e\u0026lt;/span\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;Input\u003c/span\u003e \u003cspan class=\"na\"\u003ebind:value=\u003c/span\u003e\u003cspan class=\"s\"\u003e{$divClass}/\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;Tooltip\u0026gt;\u003c/span\u003eedit class name\u003cspan class=\"nt\"\u003e\u0026lt;/Tooltip\u0026gt;\u003c/span\u003e\n\n    \u003cspan class=\"nt\"\u003e\u0026lt;List\u003c/span\u003e \u003cspan class=\"na\"\u003etag=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ul\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"space-y-1\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n      {#each $divClass.split(' ') as classname}\n        \u003cspan class=\"nt\"\u003e\u0026lt;Li\u0026gt;\u003c/span\u003e{classname}\u003cspan class=\"nt\"\u003e\u0026lt;/Li\u0026gt;\u003c/span\u003e\n      {/each}\n    \u003cspan class=\"nt\"\u003e\u0026lt;/List\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;/TabItem\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/Tabs\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch1 data-sourcepos=\"99:1-99:43\"\u003e\n\u003cspan id=\"改善点徐々に直していきます\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%94%B9%E5%96%84%E7%82%B9%E5%BE%90%E3%80%85%E3%81%AB%E7%9B%B4%E3%81%97%E3%81%A6%E3%81%84%E3%81%8D%E3%81%BE%E3%81%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e改善点(徐々に直していきます)\u003c/h1\u003e\n\u003cul data-sourcepos=\"101:1-107:50\"\u003e\n\u003cli data-sourcepos=\"101:1-103:27\"\u003eclassを変えても一部のstyleが反映されないことがある\n\u003cul data-sourcepos=\"102:5-103:27\"\u003e\n\u003cli data-sourcepos=\"102:5-102:47\"\u003e{#key}blockを使ったが、ダメそう\u003c/li\u003e\n\u003cli data-sourcepos=\"103:5-103:27\"\u003e何か方法を探す\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"104:1-105:68\"\u003edisplay: flexなどのために子の要素を追加できるように\n\u003cul data-sourcepos=\"105:5-105:68\"\u003e\n\u003cli data-sourcepos=\"105:5-105:68\"\u003einnnerHTMLに追加するか、componentsを再起的に使う\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"106:1-107:50\"\u003ediv, button, aを用意しておくのではなく、element名も変えれるように\n\u003cul data-sourcepos=\"107:5-107:50\"\u003e\n\u003cli data-sourcepos=\"107:5-107:50\"\u003e\n\u003ccode\u003e\u0026lt;svelte:element this={tag}\u0026gt;\u003c/code\u003eで出来そう\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n",
    "body": "# はじめに\n\n\u003cfont color=\"red\"\u003eplaygroundみたいなものを作ってみたかった\u003c/font\u003e\n\n普段フロントエンド開発をしていて`tailwindcss`に触れる機会が多いので、\nclassを書き換えると反映されるようなサイトを作りました。\n\n大したものではないのでハードルは下げてくださいまし\n\n\n## 全体像\n\n![スクリーンショット 2023-02-12 15.04.25.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4e4463c8-cfc0-debe-d7e8-ed4ed5baa8bf.png)\n\n## 概要\n\n![スクリーンショット 2023-02-12 15.05.01.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/1e16ff6d-43d8-9803-90ea-f92e3460e131.png)\n\nこちらのフォームで書き換えたものが\n\n![スクリーンショット 2023-02-12 15.06.15.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f9173812-dc59-6d1b-b88e-257ff8d76b82.png)\n\nこちらに反映されるようになっております。\n\nhttps://maaaashi-tailwindcss-preview.mss-rep.com/\n\n\n# 開発環境\n\n* node\n    * v18.14.0\n* pnpm\n    * 7.26.3\n* Framework\n    * [SvelteKit](https://kit.svelte.jp/)\n* UI components\n    * [Flowbite-svlete](https://flowbite-svelte.com/)\n\n# 実装方法(抜粋)\n\n\u003cfont color=\"red\"\u003eより良い方法がありそう\u003c/font\u003e\n\n`classname`をストアに持ち、右側の変更を左側に伝えています。\n\n## ストア\n\n```typescript:src/store/classname.ts\nimport { writable, type Writable } from \"svelte/store\"\n\n// 適当にデフォルト値入れておくと利用者が使い方を連想しやすい(かも)\nexport const divClass: Writable\u003cstring\u003e = writable('font-bold text-2xl text-green-500')\n```\n\n## プレビュー(画面左側)\n\n\u003cimg width=\"300\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f9173812-dc59-6d1b-b88e-257ff8d76b82.png\"\u003e\u003c/img\u003e\n\n```vue:Preview.svelte\n// divの部分のみ抜粋\n\u003cscript lang=\"ts\"\u003e\n  import { divClass } from \"../store/classname\";\n\u003c/script\u003e\n\n\u003cdiv class=\"ml-5 my-5\"\u003e\n  \u003cdiv class={$divClass}\u003e\n    preview\n  \u003c/div\u003e\n\u003c/div\u003e\n```\n\n## プロパティ(画面右側)\n\n\u003cimg width=\"300\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/1e16ff6d-43d8-9803-90ea-f92e3460e131.png\"\u003e\u003c/img\u003e\n\n```vue:Property.svelte\n// divの部分のみ抜粋\n\u003cscript lang=\"ts\"\u003e\n  import { Tabs, TabItem, Input, Tooltip, List, Li } from 'flowbite-svelte';\n  import { divClass } from \"../store/classname\";\n\u003c/script\u003e\n\n\n// 実際には87~94行目は別コンポーネントに切り出し、'div', 'button', 'a'で使いまわしています。\n\u003cTabs style=\"pill\"\u003e\n  \u003cTabItem open\u003e\n    \u003cspan slot=\"title\"\u003ediv\u003c/span\u003e\n    \u003cInput bind:value={$divClass}/\u003e\n    \u003cTooltip\u003eedit class name\u003c/Tooltip\u003e\n\n    \u003cList tag=\"ul\" class=\"space-y-1\"\u003e\n      {#each $divClass.split(' ') as classname}\n        \u003cLi\u003e{classname}\u003c/Li\u003e\n      {/each}\n    \u003c/List\u003e\n  \u003c/TabItem\u003e\n\u003c/Tabs\u003e\n```\n\n# 改善点(徐々に直していきます)\n\n* classを変えても一部のstyleが反映されないことがある\n    * {#key}blockを使ったが、ダメそう\n    * 何か方法を探す\n* display: flexなどのために子の要素を追加できるように\n    * innnerHTMLに追加するか、componentsを再起的に使う\n* div, button, aを用意しておくのではなく、element名も変えれるように\n    * `\u003csvelte:element this={tag}\u003e`で出来そう\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-02-12T15:29:53+09:00",
    "group": null,
    "id": "7a4f3a4a64dd39036b99",
    "likes_count": 4,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "JavaScript", "versions": [] },
      { "name": "TypeScript", "versions": [] },
      { "name": "tailwindcss", "versions": [] },
      { "name": "SvelteKit", "versions": [] }
    ],
    "title": "tailwindcssを試せるサイトを作りました",
    "updated_at": "2023-02-12T15:38:25+09:00",
    "url": "https://qiita.com/maaaashi/items/7a4f3a4a64dd39036b99",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-6:43\"\u003e普段はフロント側を\u003ccode\u003etypescript\u003c/code\u003eで書き、lambdaは\u003ccode\u003eruby\u003c/code\u003eや\u003ccode\u003enodejs\u003c/code\u003eで書いている私ですが、\u003cbr\u003e\n\u003cfont color=\"red\"\u003eそろそろバックエンドもtypescriptで書きたい！\u003c/font\u003eと思い、\u003cbr\u003e\n\u003ccode\u003esls create -t aws-nodejs-typescript\u003c/code\u003eで\u003ccode\u003etypescript\u003c/code\u003e環境を作ってみた際、\u003cbr\u003e\nCORSエラーにハマった時のメモ。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"8:1-8:8\"\u003e\n\u003cspan id=\"前提\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%89%8D%E6%8F%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e前提\u003c/h1\u003e\n\u003cul data-sourcepos=\"10:1-18:0\"\u003e\n\u003cli data-sourcepos=\"10:1-13:16\"\u003eServerlessFramework\n\u003cul data-sourcepos=\"11:5-13:16\"\u003e\n\u003cli data-sourcepos=\"11:5-11:52\"\u003eFramework Core: 3.27.0 (local) 3.27.0 (global)\u003c/li\u003e\n\u003cli data-sourcepos=\"12:5-12:19\"\u003ePlugin: 6.2.3\u003c/li\u003e\n\u003cli data-sourcepos=\"13:5-13:16\"\u003eSDK: 4.3.2\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"14:1-15:19\"\u003etypescript\n\u003cul data-sourcepos=\"15:5-15:19\"\u003e\n\u003cli data-sourcepos=\"15:5-15:19\"\u003eVersion 4.9.5\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"16:1-18:0\"\u003ets-node -v\n\u003cul data-sourcepos=\"17:5-18:0\"\u003e\n\u003cli data-sourcepos=\"17:5-18:0\"\u003ev10.9.1\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 data-sourcepos=\"19:1-19:14\"\u003e\n\u003cspan id=\"構築手順\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A7%8B%E7%AF%89%E6%89%8B%E9%A0%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e構築手順\u003c/h1\u003e\n\u003col data-sourcepos=\"21:1-33:0\"\u003e\n\u003cli data-sourcepos=\"21:1-27:0\"\u003e\n\u003cp data-sourcepos=\"21:4-21:33\"\u003eテンプレートから作成\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"23:5-25:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003esls create \u003cspan class=\"nt\"\u003e-t\u003c/span\u003e aws-nodejs-typescript \u003cspan class=\"nt\"\u003e-p\u003c/span\u003e hoge\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"26:5-26:53\"\u003e-pは省略可能(無い場合はcurrent directry\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"28:1-33:0\"\u003e\n\u003cp data-sourcepos=\"28:4-28:15\"\u003eデプロイ\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"30:5-32:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003esls deploy\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"34:1-34:36\"\u003e無事デプロイが完了すると\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"36:1-44:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eDeploying hoge to stage dev \u003cspan class=\"o\"\u003e(\u003c/span\u003eus-east-1\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\n✔ Service deployed to stack hoge-dev \u003cspan class=\"o\"\u003e(\u003c/span\u003e124s\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\nendpoint: POST - https://hogehoge.execute-api.us-east-1.amazonaws.com/dev/hello\nfunctions:\n  hello: hoge-dev-hello \u003cspan class=\"o\"\u003e(\u003c/span\u003e12 kB\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"46:1-46:49\"\u003eのように\u003ccode\u003eendpoint\u003c/code\u003eが表示されるはず。\u003c/p\u003e\n\u003cp data-sourcepos=\"48:1-48:119\"\u003e試しにPOSTMANや、VScodeの拡張機能である、ThunderClinetで表示されたendpointへPOSTを送ってみる\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"\" data-sourcepos=\"50:1-54:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003erequest\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003emethod: \"POST\"\nHeaders: { Content-type: application/json }\nBody: { \"name\": \"hoge\" }\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"56:1-56:18\"\u003eすると、、、\u003c/p\u003e\n\u003cp data-sourcepos=\"58:1-58:163\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F61f7a988-a4a3-41aa-2562-8d8104dc4ae6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=de115604145a13ddff8925a8e6735603\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F61f7a988-a4a3-41aa-2562-8d8104dc4ae6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=de115604145a13ddff8925a8e6735603\" alt=\"スクリーンショット 2023-02-07 0.40.14.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F61f7a988-a4a3-41aa-2562-8d8104dc4ae6.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=f007c1076b8b40c2dc2aee327fe34407 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/61f7a988-a4a3-41aa-2562-8d8104dc4ae6.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"61:1-61:61\"\u003eちゃんと\u003ccode\u003eHello hoge, ....\u003c/code\u003eとmessageが帰ってきた！\u003c/p\u003e\n\u003cp data-sourcepos=\"63:1-63:44\"\u003eAPI Gateway + lambdaの構成は作れた！\u003c/p\u003e\n\u003ch1 data-sourcepos=\"65:1-65:14\"\u003e\n\u003cspan id=\"事象発生\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BA%8B%E8%B1%A1%E7%99%BA%E7%94%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e事象発生\u003c/h1\u003e\n\u003cp data-sourcepos=\"67:1-67:99\"\u003e次にウェブサイトからjavascriptの\u003ccode\u003efetch\u003c/code\u003eを使ってPOSTを送ってみたところ、、\u003c/p\u003e\n\u003cp data-sourcepos=\"69:1-69:163\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ffa8fd02e-404c-950a-3e4d-ede4055b079b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7bb6a4a3d525f8382fc71addb57d3752\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ffa8fd02e-404c-950a-3e4d-ede4055b079b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7bb6a4a3d525f8382fc71addb57d3752\" alt=\"スクリーンショット 2023-02-07 0.45.02.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ffa8fd02e-404c-950a-3e4d-ede4055b079b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=38c0ff052c1fc08e636fdec09aeb29ca 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/fa8fd02e-404c-950a-3e4d-ede4055b079b.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"71:1-71:44\"\u003e\u003cfont color=\"red\"\u003eCORSエラー発生\u003c/font\u003e\u003c/p\u003e\n\u003ch1 data-sourcepos=\"74:1-74:8\"\u003e\n\u003cspan id=\"解決\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A7%A3%E6%B1%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e解決\u003c/h1\u003e\n\u003cp data-sourcepos=\"76:1-76:113\"\u003e\u003ccode\u003e./src/libs/api-gateway.ts\u003c/code\u003eにあるレスポンス生成部分に\u003ccode\u003eAccess-Control-Allow-Origin\u003c/code\u003eの設定を追加\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"78:1-88:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e./src/libs/api-gateway.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eformatJSONResponse\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eRecord\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eunknown\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003estatusCode\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eheaders\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e                              \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n      \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eAccess-Control-Allow-Origin\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e*\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e   \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e                                      \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ebody\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eJSON\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003estringify\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eresponse\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n",
    "body": "# はじめに\n\n普段はフロント側を`typescript`で書き、lambdaは`ruby`や`nodejs`で書いている私ですが、\n\u003cfont color=\"red\"\u003eそろそろバックエンドもtypescriptで書きたい！\u003c/font\u003eと思い、\n`sls create -t aws-nodejs-typescript`で`typescript`環境を作ってみた際、\nCORSエラーにハマった時のメモ。\n\n# 前提\n\n* ServerlessFramework\n    * Framework Core: 3.27.0 (local) 3.27.0 (global)\n    * Plugin: 6.2.3\n    * SDK: 4.3.2\n* typescript\n    * Version 4.9.5\n* ts-node -v\n    * v10.9.1\n\n# 構築手順\n\n1. テンプレートから作成\n\n    ```zsh\n    $ sls create -t aws-nodejs-typescript -p hoge\n    ```\n    -pは省略可能(無い場合はcurrent directry\n\n1. デプロイ\n    \n    ```zsh\n    $ sls deploy\n    ```\n\n無事デプロイが完了すると\n\n```zsh\nDeploying hoge to stage dev (us-east-1)\n\n✔ Service deployed to stack hoge-dev (124s)\n\nendpoint: POST - https://hogehoge.execute-api.us-east-1.amazonaws.com/dev/hello\nfunctions:\n  hello: hoge-dev-hello (12 kB)\n```\n\nのように`endpoint`が表示されるはず。\n\n試しにPOSTMANや、VScodeの拡張機能である、ThunderClinetで表示されたendpointへPOSTを送ってみる\n\n```:request\nmethod: \"POST\"\nHeaders: { Content-type: application/json }\nBody: { \"name\": \"hoge\" }\n```\n\nすると、、、\n\n![スクリーンショット 2023-02-07 0.40.14.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/61f7a988-a4a3-41aa-2562-8d8104dc4ae6.png)\n\n\nちゃんと`Hello hoge, ....`とmessageが帰ってきた！\n\nAPI Gateway + lambdaの構成は作れた！\n\n# 事象発生\n\n次にウェブサイトからjavascriptの`fetch`を使ってPOSTを送ってみたところ、、\n\n![スクリーンショット 2023-02-07 0.45.02.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/fa8fd02e-404c-950a-3e4d-ede4055b079b.png)\n\n\u003cfont color=\"red\"\u003eCORSエラー発生\u003c/font\u003e\n\n\n# 解決\n\n`./src/libs/api-gateway.ts`にあるレスポンス生成部分に`Access-Control-Allow-Origin`の設定を追加\n\n```typescript:./src/libs/api-gateway.ts\nexport const formatJSONResponse = (response: Record\u003cstring, unknown\u003e) =\u003e {\n  return {\n    statusCode: 200,\n    headers: {                              // 追加\n      'Access-Control-Allow-Origin': '*',   // 追加\n    },                                      // 追加\n    body: JSON.stringify(response)\n  }\n}\n```\n\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-02-07T00:54:07+09:00",
    "group": null,
    "id": "cb21474df4990dc0f246",
    "likes_count": 3,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "TypeScript", "versions": [] },
      { "name": "ServerlessFramework", "versions": [] }
    ],
    "title": "【ServerlessFramework】template の API Gateway + lambda 構成で CORSにハマった",
    "updated_at": "2023-02-07T00:54:07+09:00",
    "url": "https://qiita.com/maaaashi/items/cb21474df4990dc0f246",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F557d8bcf-0b00-563c-52fc-eef4a6f23373.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2d426f3d126ed7e49fc0307357cf210a\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F557d8bcf-0b00-563c-52fc-eef4a6f23373.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2d426f3d126ed7e49fc0307357cf210a\" width=\"300px\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F557d8bcf-0b00-563c-52fc-eef4a6f23373.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5a82b71b36b2ec0f6e89e99a9466f624 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/557d8bcf-0b00-563c-52fc-eef4a6f23373.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003cp data-sourcepos=\"5:1-6:66\"\u003e👆画像のようなQiitaの記事をカードで表示するようなものを実装したところ、\u003cbr\u003e\n\u003ccode\u003eSafari\u003c/code\u003eで👇のように潰れて表示されてしまった。\u003c/p\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3064d4f5-ee56-ad5e-e148-1d59571154a7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9c3662fd9f134f0e1326e5d5427532fb\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3064d4f5-ee56-ad5e-e148-1d59571154a7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9c3662fd9f134f0e1326e5d5427532fb\" width=\"300px\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3064d4f5-ee56-ad5e-e148-1d59571154a7.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=36ead7d8a1c71cef3cd7ea988c06e304 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3064d4f5-ee56-ad5e-e148-1d59571154a7.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003cp data-sourcepos=\"10:1-10:33\"\u003eこれを解消した時のメモ\u003c/p\u003e\n\u003ch1 data-sourcepos=\"12:1-12:8\"\u003e\n\u003cspan id=\"環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e環境\u003c/h1\u003e\n\u003cul data-sourcepos=\"14:1-16:0\"\u003e\n\u003cli data-sourcepos=\"14:1-16:0\"\u003eSafari\n\u003cul data-sourcepos=\"15:5-16:0\"\u003e\n\u003cli data-sourcepos=\"15:5-16:0\"\u003e16.1（18614.2.9.1.12）\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 data-sourcepos=\"17:1-17:8\"\u003e\n\u003cspan id=\"実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装\u003c/h1\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"css\" data-sourcepos=\"19:1-26:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nc\"\u003e.content\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eoverflow\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003ehidden\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003edisplay\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003e-webkit-box\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003e-webkit-box-orient\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003evertical\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003e-webkit-line-clamp\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"28:1-28:116\"\u003eこの実装で\u003ccode\u003eGoogleChrome\u003c/code\u003eでは3行制限ができたが、\u003ccode\u003eSafari\u003c/code\u003eでは画像のように潰れてしまった\u003c/p\u003e\n\u003ch1 data-sourcepos=\"30:1-30:22\"\u003e\n\u003cspan id=\"原因おそらく\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8E%9F%E5%9B%A0%E3%81%8A%E3%81%9D%E3%82%89%E3%81%8F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e原因(おそらく)\u003c/h1\u003e\n\u003cp data-sourcepos=\"32:1-33:59\"\u003e\u003ccode\u003eChrome\u003c/code\u003eでは上記の実装をするといい感じに指定行数の高さで、\u003ccode\u003emin-height\u003c/code\u003eを設定してくれるが、\u003cbr\u003e\n\u003ccode\u003eSafari\u003c/code\u003eではそれがないため、潰れてしまう。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"35:1-35:8\"\u003e\n\u003cspan id=\"解決\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A7%A3%E6%B1%BA\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e解決\u003c/h1\u003e\n\u003cp data-sourcepos=\"37:1-37:98\"\u003e明示的に\u003ccode\u003emin-height\u003c/code\u003eを示すことで\u003ccode\u003eSafari\u003c/code\u003eでも潰れることなく表示されました\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"css\" data-sourcepos=\"39:1-47:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nc\"\u003e.content\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eoverflow\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003ehidden\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003edisplay\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003e-webkit-box\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003e-webkit-box-orient\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"n\"\u003evertical\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003e-webkit-line-clamp\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003emin-height\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e5em\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0e7ee2f8-af83-d01e-abf4-363abe2cbad5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=75039d96b10e2cd9501708bd8e032488\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0e7ee2f8-af83-d01e-abf4-363abe2cbad5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=75039d96b10e2cd9501708bd8e032488\" width=\"300px\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0e7ee2f8-af83-d01e-abf4-363abe2cbad5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c4a6c111c84361e5e1addc133376024e 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/0e7ee2f8-af83-d01e-abf4-363abe2cbad5.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n",
    "body": "# はじめに\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/557d8bcf-0b00-563c-52fc-eef4a6f23373.png\" width=\"300px\" /\u003e\n\n👆画像のようなQiitaの記事をカードで表示するようなものを実装したところ、\n`Safari`で👇のように潰れて表示されてしまった。\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3064d4f5-ee56-ad5e-e148-1d59571154a7.png\" width=\"300px\" /\u003e\n\nこれを解消した時のメモ\n\n# 環境\n\n* Safari\n    * 16.1（18614.2.9.1.12）\n\n# 実装\n\n```css\n.content {\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 3;\n}\n```\n\nこの実装で`GoogleChrome`では3行制限ができたが、`Safari`では画像のように潰れてしまった\n\n# 原因(おそらく)\n\n`Chrome`では上記の実装をするといい感じに指定行数の高さで、`min-height`を設定してくれるが、\n`Safari`ではそれがないため、潰れてしまう。\n\n# 解決\n\n明示的に`min-height`を示すことで`Safari`でも潰れることなく表示されました\n\n```css\n.content {\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 3;\n  min-height: 5em;\n}\n```\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/0e7ee2f8-af83-d01e-abf4-363abe2cbad5.png\" width=\"300px\" /\u003e\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-02-05T12:46:16+09:00",
    "group": null,
    "id": "79556226fb8552378ffb",
    "likes_count": 2,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "CSS", "versions": [] },
      { "name": "Safari", "versions": [] }
    ],
    "title": "safariでwebkit-line-clampによる行数制限が効かない",
    "updated_at": "2023-02-05T20:16:42+09:00",
    "url": "https://qiita.com/maaaashi/items/79556226fb8552378ffb",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-3:147\"\u003eServerlessFrameworkを用いて、ApiGatewayのWebsocket通信を利用したリアルタイムアウトTodoアプリを実装した時のメモ。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"5:1-5:8\"\u003e\n\u003cspan id=\"環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e環境\u003c/h1\u003e\n\u003cul data-sourcepos=\"7:1-11:0\"\u003e\n\u003cli data-sourcepos=\"7:1-8:12\"\u003eSvelte\n\u003cul data-sourcepos=\"8:5-8:12\"\u003e\n\u003cli data-sourcepos=\"8:5-8:12\"\u003e3.54.0\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"9:1-11:0\"\u003eServerlessFramework\n\u003cul data-sourcepos=\"10:5-11:0\"\u003e\n\u003cli data-sourcepos=\"10:5-11:0\"\u003e3.27.0\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 data-sourcepos=\"12:1-12:14\"\u003e\n\u003cspan id=\"完成画面\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%8C%E6%88%90%E7%94%BB%E9%9D%A2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e完成画面\u003c/h1\u003e\n\u003cp data-sourcepos=\"14:1-14:129\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa50b694f-0e0b-0b0f-aa85-52efb182f739.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c3f9beff178d79093af73bd62d525b3c\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa50b694f-0e0b-0b0f-aa85-52efb182f739.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c3f9beff178d79093af73bd62d525b3c\" alt=\"realTimeTodo.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa50b694f-0e0b-0b0f-aa85-52efb182f739.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c32cf60b9acd90f83f2ef003297079b3 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a50b694f-0e0b-0b0f-aa85-52efb182f739.gif\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch1 data-sourcepos=\"16:1-16:20\"\u003e\n\u003cspan id=\"環境について\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%92%B0%E5%A2%83%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e環境について\u003c/h1\u003e\n\u003ch2 data-sourcepos=\"18:1-18:12\"\u003e\n\u003cspan id=\"構成図\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A7%8B%E6%88%90%E5%9B%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e構成図\u003c/h2\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0b89a0ff-a55e-6745-9e53-627450fb463e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f106c8555ad941ea65c729d45e71216a\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0b89a0ff-a55e-6745-9e53-627450fb463e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f106c8555ad941ea65c729d45e71216a\" width=\"500px\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0b89a0ff-a55e-6745-9e53-627450fb463e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9cf86f3a183a9127d501a4ea7000bb85 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/0b89a0ff-a55e-6745-9e53-627450fb463e.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003ch2 data-sourcepos=\"22:1-22:18\"\u003e\n\u003cspan id=\"websocket説明\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#websocket%E8%AA%AC%E6%98%8E\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eWebSocket説明\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"24:1-24:111\"\u003e\n\u003cspan id=\"1-connect--disconnect時にはdynamodbに用意したテーブルにユーザーの追加削除を行う\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-connect--disconnect%E6%99%82%E3%81%AB%E3%81%AFdynamodb%E3%81%AB%E7%94%A8%E6%84%8F%E3%81%97%E3%81%9F%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB%E3%81%AB%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%AE%E8%BF%BD%E5%8A%A0%E5%89%8A%E9%99%A4%E3%82%92%E8%A1%8C%E3%81%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. connect / disconnect時にはDynamoDBに用意したテーブルにユーザーの追加/削除を行う\u003c/h3\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa8cc299e-d3c3-b1f3-a6c0-8db99a562417.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2962f06106f75e2dbd4ba1c786ce323f\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa8cc299e-d3c3-b1f3-a6c0-8db99a562417.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2962f06106f75e2dbd4ba1c786ce323f\" width=\"500px\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa8cc299e-d3c3-b1f3-a6c0-8db99a562417.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=03d2f9594f6bf8e1bb8ee073849237e3 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a8cc299e-d3c3-b1f3-a6c0-8db99a562417.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003ch3 data-sourcepos=\"28:1-28:61\"\u003e\n\u003cspan id=\"2-scandata時にはdyamodbからデータを取得する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-scandata%E6%99%82%E3%81%AB%E3%81%AFdyamodb%E3%81%8B%E3%82%89%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. scanData時にはDyamoDBからデータを取得する\u003c/h3\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F79a17a56-4e50-f443-76bd-a553af2ba6af.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7f2b8ddfd0ad4da7553b8b62769b9e4c\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F79a17a56-4e50-f443-76bd-a553af2ba6af.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7f2b8ddfd0ad4da7553b8b62769b9e4c\" width=\"500px\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F79a17a56-4e50-f443-76bd-a553af2ba6af.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=bb084ba515281dc22553357957cfa52d 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/79a17a56-4e50-f443-76bd-a553af2ba6af.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003ch3 data-sourcepos=\"32:1-32:105\"\u003e\n\u003cspan id=\"3-adddata--deletedata時にはdynamodbに用意したデータテーブルに追加削除を行う\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-adddata--deletedata%E6%99%82%E3%81%AB%E3%81%AFdynamodb%E3%81%AB%E7%94%A8%E6%84%8F%E3%81%97%E3%81%9F%E3%83%87%E3%83%BC%E3%82%BF%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB%E3%81%AB%E8%BF%BD%E5%8A%A0%E5%89%8A%E9%99%A4%E3%82%92%E8%A1%8C%E3%81%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. addData / deleteData時にはDynamoDBに用意したデータテーブルに追加/削除を行う\u003c/h3\u003e\n\u003col data-sourcepos=\"34:1-36:0\"\u003e\n\u003cli data-sourcepos=\"34:1-34:41\"\u003elambdaでDataの追加/削除を行う\u003c/li\u003e\n\u003cli data-sourcepos=\"35:1-36:0\"\u003e現在接続中のユーザー情報をDynamoDBから取得し、情報を送信する\u003c/li\u003e\n\u003c/ol\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7d621c72-c19a-ac2e-5861-cef8f1adc2c0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=fd87f2519482216299fa0303dea32c0a\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7d621c72-c19a-ac2e-5861-cef8f1adc2c0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=fd87f2519482216299fa0303dea32c0a\" width=\"500px\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7d621c72-c19a-ac2e-5861-cef8f1adc2c0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e288cfd8ad2103c821eb1126d87c918a 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/7d621c72-c19a-ac2e-5861-cef8f1adc2c0.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003ch1 data-sourcepos=\"39:1-39:30\"\u003e\n\u003cspan id=\"serverlessyml--α-抜粋\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#serverlessyml--%CE%B1-%E6%8A%9C%E7%B2%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eserverless.yml + α (抜粋)\u003c/h1\u003e\n\u003ch2 data-sourcepos=\"41:1-41:18\"\u003e\n\u003cspan id=\"s3--cloudfront\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#s3--cloudfront\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eS3 + CloudFront\u003c/h2\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe7e9178c-fd42-1150-96ba-44c634068a7a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e1473a8c645c0eabec1b6b430a1428d7\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe7e9178c-fd42-1150-96ba-44c634068a7a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e1473a8c645c0eabec1b6b430a1428d7\" width=\"300px\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe7e9178c-fd42-1150-96ba-44c634068a7a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=2abf281cd3d25062345a330950fc9922 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e7e9178c-fd42-1150-96ba-44c634068a7a.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003cdetails\u003e\u003csummary\u003eserverless.yaml\u003c/summary\u003e\u003cdiv\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"47:1-130:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eserverless.yml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eservice\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e# 自由に\u003c/span\u003e\n\u003cspan class=\"na\"\u003eframeworkVersion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\u003c/span\u003e\u003cspan class=\"s\"\u003e3'\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003eplugins\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003eserverless-s3-sync\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003eprovider\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eaws\u003c/span\u003e\n  \u003cspan class=\"na\"\u003estage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003edev\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eregion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e# 自由に\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eprofile\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e# 自由に\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003ecustom\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003estage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${opt:stage, self:provider.stage}\u003c/span\u003e\n  \u003cspan class=\"na\"\u003es3Sync\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003ebucketName\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e# s3 syncを行うバケット名\u003c/span\u003e\n      \u003cspan class=\"na\"\u003elocalDir\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e# sync ディレクトリ\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003eresources\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eResources\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e# S3\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eAssetsBucket\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eType\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eAWS::S3::Bucket\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eDeletionPolicy\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eDelete\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eProperties\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eBucketName\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e# 自由に(custom.s3sync.bucketNameに合わせる)\u003c/span\u003e\n        \u003cspan class=\"na\"\u003ePublicAccessBlockConfiguration\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eBlockPublicAcls\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eBlockPublicPolicy\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eIgnorePublicAcls\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eRestrictPublicBuckets\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eCorsConfiguration\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eCorsRules\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003eAllowedMethods\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003eGET\u003c/span\u003e\n                \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003eHEAD\u003c/span\u003e\n              \u003cspan class=\"na\"\u003eAllowedOrigins\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\u003c/span\u003e\u003cspan class=\"s\"\u003e*'\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e# s3バケットポリシー\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e# 後述するCloudFrontOriginAccessIdentityを許可する\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eAssetsBucketPolicy\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eType\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eAWS::S3::BucketPolicy\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eProperties\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eBucket\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kt\"\u003e!Ref\u003c/span\u003e \u003cspan class=\"s\"\u003eAssetsBucket\u003c/span\u003e\n        \u003cspan class=\"na\"\u003ePolicyDocument\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eStatement\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003eAction\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003es3:GetObject\u003c/span\u003e\n              \u003cspan class=\"na\"\u003eEffect\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eAllow\u003c/span\u003e\n              \u003cspan class=\"na\"\u003eResource\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kt\"\u003e!Sub\u003c/span\u003e \u003cspan class=\"s\"\u003earn:aws:s3:::${AssetsBucket}/*\u003c/span\u003e\n              \u003cspan class=\"na\"\u003ePrincipal\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"na\"\u003eAWS\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kt\"\u003e!Sub\u003c/span\u003e \u003cspan class=\"s\"\u003earn:aws:iam::cloudfront:user/CloudFront Origin Access Identity ${CloudFrontOriginAccessIdentity}\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e# CloudFront\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eAssetsDistribution\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eType\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eAWS::CloudFront::Distribution\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eProperties\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eDistributionConfig\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eOrigins\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003eId\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eS3Origin\u003c/span\u003e\n              \u003cspan class=\"na\"\u003eDomainName\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kt\"\u003e!GetAtt\u003c/span\u003e \u003cspan class=\"s\"\u003eAssetsBucket.DomainName\u003c/span\u003e\n              \u003cspan class=\"na\"\u003eS3OriginConfig\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n                \u003cspan class=\"na\"\u003eOriginAccessIdentity\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kt\"\u003e!Sub\u003c/span\u003e \u003cspan class=\"s\"\u003eorigin-access-identity/cloudfront/${CloudFrontOriginAccessIdentity}\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eEnabled\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eDefaultRootObject\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eindex.html\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eComment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kt\"\u003e!Sub\u003c/span\u003e \u003cspan class=\"s\"\u003e${AWS::StackName} distribution\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eDefaultCacheBehavior\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eTargetOriginId\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eS3Origin\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eForwardedValues\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n              \u003cspan class=\"na\"\u003eQueryString\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003efalse\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eViewerProtocolPolicy\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eredirect-to-https\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eAllowedMethods\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n              \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003eGET\u003c/span\u003e\n              \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003eHEAD\u003c/span\u003e\n              \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003eOPTIONS\u003c/span\u003e\n              \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003ePUT\u003c/span\u003e\n              \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003ePOST\u003c/span\u003e\n              \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003ePATCH\u003c/span\u003e\n              \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003eDELETE\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eCloudFrontOriginAccessIdentity\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eType\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eAWS::CloudFront::CloudFrontOriginAccessIdentity\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eProperties\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eCloudFrontOriginAccessIdentityConfig\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eComment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kt\"\u003e!Ref\u003c/span\u003e \u003cspan class=\"s\"\u003eAWS::StackName\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003c/details\u003e\n\u003ch2 data-sourcepos=\"134:1-134:34\"\u003e\n\u003cspan id=\"api-gateway--lambda--dynamodb\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#api-gateway--lambda--dynamodb\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eApi Gateway + lambda + DynamoDB\u003c/h2\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9a5eb35d-6db4-4657-a2fc-c90e71e2226b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d1a624f0c795824d5b4840e77fbe26cc\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9a5eb35d-6db4-4657-a2fc-c90e71e2226b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d1a624f0c795824d5b4840e77fbe26cc\" width=\"300px\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9a5eb35d-6db4-4657-a2fc-c90e71e2226b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=7a572eef303bd7dc3a76b73dcde0cebe 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/9a5eb35d-6db4-4657-a2fc-c90e71e2226b.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003cdetails\u003e\u003csummary\u003eserverless.yaml\u003c/summary\u003e\u003cdiv\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"140:1-196:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eserverless.yml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eservice\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e# 自由に\u003c/span\u003e\n\u003cspan class=\"na\"\u003eframeworkVersion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\u003c/span\u003e\u003cspan class=\"s\"\u003e3'\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003eprovider\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eaws\u003c/span\u003e\n  \u003cspan class=\"na\"\u003estage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003edev\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eruntime\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e# 好きなものを\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eregion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e# 自由に\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eprofile\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e# 自由に\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ewebsocketsApiRouteSelectionExpression\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e$request.body.action\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eiam\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003erole\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003estatements\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003eEffect\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003eAllow\"\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eAction\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003edynamodb:*\"\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eResource\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n            \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003earn:aws:dynamodb:ap-northeast-1:*:table/○○\u003c/span\u003e \u003cspan class=\"c1\"\u003e# ○○にはDynamoDBのテーブル名を\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003ecustom\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003estage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e${opt:stage, self:provider.stage}\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003efunctions\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"c1\"\u003e# 例としてconnectHandlerとscanDataHandler\u003c/span\u003e\n  \u003cspan class=\"na\"\u003econnectHandler\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ehandler\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ehandler.connectHandler\u003c/span\u003e\n    \u003cspan class=\"na\"\u003etimeout\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e30\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eevents\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003ewebsocket\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e$connect\u003c/span\u003e\n  \u003cspan class=\"na\"\u003escanDataHandler\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ehandler\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ehandler.scanDataHandler\u003c/span\u003e\n    \u003cspan class=\"na\"\u003etimeout\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e30\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eevents\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003ewebsocket\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003escanData\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003eresources\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eResources\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"c1\"\u003e# DynamoDB\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eDynamodb\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eType\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\u003c/span\u003e\u003cspan class=\"s\"\u003eAWS::DynamoDB::Table'\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eProperties\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eTableName\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"c1\"\u003e# 自由に\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eAttributeDefinitions\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003eAttributeName\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eid\u003c/span\u003e   \u003cspan class=\"c1\"\u003e# パーティションキー\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eAttributeType\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eS\u003c/span\u003e\n          \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003eAttributeName\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003etype\u003c/span\u003e \u003cspan class=\"c1\"\u003e# ソートキー\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eAttributeType\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eS\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eKeySchema\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003eAttributeName\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eid\u003c/span\u003e   \u003cspan class=\"c1\"\u003e# パーティションキー\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eKeyType\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eHASH\u003c/span\u003e\n          \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"na\"\u003eAttributeName\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003etype\u003c/span\u003e \u003cspan class=\"c1\"\u003e# ソートキー\u003c/span\u003e\n            \u003cspan class=\"na\"\u003eKeyType\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eRANGE\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eProvisionedThroughput\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eReadCapacityUnits\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\n          \u003cspan class=\"na\"\u003eWriteCapacityUnits\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e1\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003c/details\u003e\n\u003cdetails\u003e\u003csummary\u003ehandler.rb\u003c/summary\u003e\u003cdiv\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"ruby\" data-sourcepos=\"202:1-245:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ehandler.rb\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nb\"\u003erequire\u003c/span\u003e \u003cspan class=\"s1\"\u003e'json'\u003c/span\u003e\n\u003cspan class=\"nb\"\u003erequire\u003c/span\u003e \u003cspan class=\"s1\"\u003e'aws-sdk'\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003edynamodb_client\u003c/span\u003e\n  \u003cspan class=\"no\"\u003eAws\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"no\"\u003eDynamoDB\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"no\"\u003eClient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003enew\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"ss\"\u003eregion: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'ap-northeast-1'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003econnectHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e:,\u003c/span\u003e \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e:)\u003c/span\u003e\n  \u003cspan class=\"k\"\u003ebegin\u003c/span\u003e\n    \u003cspan class=\"n\"\u003etable_item\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"ss\"\u003etable_name: \u003c/span\u003e\u003cspan class=\"err\"\u003e○○\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"c1\"\u003e# 作成したテーブル名\u003c/span\u003e\n      \u003cspan class=\"ss\"\u003eitem: \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"ss\"\u003eid: \u003c/span\u003e\u003cspan class=\"n\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e'requestContext'\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"s1\"\u003e'connectionId'\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e \u003cspan class=\"c1\"\u003e# パーティションキー\u003c/span\u003e\n        \u003cspan class=\"ss\"\u003etype: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'user'\u003c/span\u003e                                 \u003cspan class=\"c1\"\u003e# ハッシュキー\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"n\"\u003edynamodb_client\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eput_item\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003etable_item\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"statusCode\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e200\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"k\"\u003erescue\u003c/span\u003e \u003cspan class=\"no\"\u003eStandardError\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\n    \u003cspan class=\"nb\"\u003eputs\u003c/span\u003e \u003cspan class=\"n\"\u003ee\u003c/span\u003e\n\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"statusCode\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e500\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003edef\u003c/span\u003e \u003cspan class=\"nf\"\u003escanDataHandler\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e:,\u003c/span\u003e \u003cspan class=\"n\"\u003econtext\u003c/span\u003e\u003cspan class=\"p\"\u003e:)\u003c/span\u003e\n  \u003cspan class=\"n\"\u003escanData\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003edynamodb_client\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003escan\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"ss\"\u003etable_name: \u003c/span\u003e\u003cspan class=\"err\"\u003e○○\u003c/span\u003e \u003cspan class=\"c1\"\u003e# 作成したテーブル名\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"n\"\u003etodos\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"n\"\u003escanData\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eitems\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eselect\u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e\u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"n\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"type\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e===\u003c/span\u003e \u003cspan class=\"s1\"\u003e'todo'\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n  \u003cspan class=\"n\"\u003eapi_gw\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"no\"\u003eAws\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"no\"\u003eApiGatewayManagementApi\u003c/span\u003e\u003cspan class=\"o\"\u003e::\u003c/span\u003e\u003cspan class=\"no\"\u003eClient\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003enew\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"ss\"\u003eendpoint: \u003c/span\u003e\u003cspan class=\"s1\"\u003e'https://'\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e'requestContext'\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"s1\"\u003e'domainName'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"s1\"\u003e'/'\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"n\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e'requestContext'\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"s1\"\u003e'stage'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n  \u003cspan class=\"n\"\u003eapi_gw\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"n\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003epost_to_connection\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"ss\"\u003econnection_id: \u003c/span\u003e\u003cspan class=\"n\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s1\"\u003e'requestContext'\u003c/span\u003e\u003cspan class=\"p\"\u003e][\u003c/span\u003e\u003cspan class=\"s1\"\u003e'connectionId'\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\n    \u003cspan class=\"ss\"\u003edata: \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"ss\"\u003etodos: \u003c/span\u003e\u003cspan class=\"n\"\u003etodos\u003c/span\u003e \u003cspan class=\"p\"\u003e}.\u003c/span\u003e\u003cspan class=\"nf\"\u003eto_json\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"k\"\u003eend\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003c/details\u003e\n\u003ch1 data-sourcepos=\"249:1-249:25\"\u003e\n\u003cspan id=\"フロント側svelte\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E5%81%B4svelte\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eフロント側(Svelte)\u003c/h1\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"251:1-283:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e+page.svelte\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ts\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eonMount\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003esvelte\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003econnection\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eWebSocket\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003emeta\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eenv\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eVITE_WEBSOCKET_URL\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003escanTodo\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003emessage\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eaction\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003escanTodo\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"nx\"\u003econnection\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003esend\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eJSON\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003estringify\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n  \u003cspan class=\"kr\"\u003einterface\u003c/span\u003e \u003cspan class=\"nx\"\u003eTodo\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003econtent\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eany\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003etodos\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eTodo\u003c/span\u003e\u003cspan class=\"p\"\u003e[];\u003c/span\u003e\n\n  \u003cspan class=\"c1\"\u003e// メッセージを受け取ったときの処理\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003econnection\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eonmessage\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eevent\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"na\"\u003ejson_todo\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eTodo\u003c/span\u003e\u003cspan class=\"p\"\u003e[]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eJSON\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eparse\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eevent\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edata\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003etodos\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ejson_todo\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n  \u003cspan class=\"nf\"\u003eonMount\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003escanTodo\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch1 data-sourcepos=\"285:1-285:11\"\u003e\n\u003cspan id=\"最後に\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e最後に\u003c/h1\u003e\n\u003cp data-sourcepos=\"287:1-287:80\"\u003eGraphQLとAppSyncを使って同じような構成も作ってみたいです〜\u003c/p\u003e\n",
    "body": "# はじめに\n\nServerlessFrameworkを用いて、ApiGatewayのWebsocket通信を利用したリアルタイムアウトTodoアプリを実装した時のメモ。\n\n# 環境\n\n* Svelte\n    * 3.54.0\n* ServerlessFramework\n    * 3.27.0\n\n# 完成画面\n\n![realTimeTodo.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a50b694f-0e0b-0b0f-aa85-52efb182f739.gif)\n\n# 環境について\n\n## 構成図\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/0b89a0ff-a55e-6745-9e53-627450fb463e.png\" width=\"500px\" /\u003e\n\n## WebSocket説明\n\n### 1. connect / disconnect時にはDynamoDBに用意したテーブルにユーザーの追加/削除を行う\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a8cc299e-d3c3-b1f3-a6c0-8db99a562417.png\" width=\"500px\" /\u003e\n\n### 2. scanData時にはDyamoDBからデータを取得する\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/79a17a56-4e50-f443-76bd-a553af2ba6af.png\" width=\"500px\" /\u003e\n\n### 3. addData / deleteData時にはDynamoDBに用意したデータテーブルに追加/削除を行う\n\n1. lambdaでDataの追加/削除を行う\n1. 現在接続中のユーザー情報をDynamoDBから取得し、情報を送信する\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/7d621c72-c19a-ac2e-5861-cef8f1adc2c0.png\" width=\"500px\" /\u003e\n\n# serverless.yml + α (抜粋)\n\n## S3 + CloudFront\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e7e9178c-fd42-1150-96ba-44c634068a7a.png\" width=\"300px\" /\u003e\n\n\u003cdetails\u003e\u003csummary\u003eserverless.yaml\u003c/summary\u003e\u003cdiv\u003e\n\n```yaml:serverless.yml\nservice: # 自由に\nframeworkVersion: '3'\n\nplugins:\n  - serverless-s3-sync\n\nprovider:\n  name: aws\n  stage: dev\n  region: # 自由に\n  profile: # 自由に\n\ncustom:\n  stage: ${opt:stage, self:provider.stage}\n  s3Sync:\n    - bucketName: # s3 syncを行うバケット名\n      localDir: # sync ディレクトリ\n\nresources:\n  Resources:\n    # S3\n    AssetsBucket:\n      Type: AWS::S3::Bucket\n      DeletionPolicy: Delete\n      Properties:\n        BucketName: # 自由に(custom.s3sync.bucketNameに合わせる)\n        PublicAccessBlockConfiguration:\n          BlockPublicAcls: true\n          BlockPublicPolicy: true\n          IgnorePublicAcls: true\n          RestrictPublicBuckets: true\n        CorsConfiguration:\n          CorsRules:\n            - AllowedMethods:\n                - GET\n                - HEAD\n              AllowedOrigins:\n                - '*'\n    # s3バケットポリシー\n    # 後述するCloudFrontOriginAccessIdentityを許可する\n    AssetsBucketPolicy:\n      Type: AWS::S3::BucketPolicy\n      Properties:\n        Bucket: !Ref AssetsBucket\n        PolicyDocument:\n          Statement:\n            - Action: s3:GetObject\n              Effect: Allow\n              Resource: !Sub arn:aws:s3:::${AssetsBucket}/*\n              Principal:\n                AWS: !Sub arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity ${CloudFrontOriginAccessIdentity}\n    # CloudFront\n    AssetsDistribution:\n      Type: AWS::CloudFront::Distribution\n      Properties:\n        DistributionConfig:\n          Origins:\n            - Id: S3Origin\n              DomainName: !GetAtt AssetsBucket.DomainName\n              S3OriginConfig:\n                OriginAccessIdentity: !Sub origin-access-identity/cloudfront/${CloudFrontOriginAccessIdentity}\n          Enabled: true\n          DefaultRootObject: index.html\n          Comment: !Sub ${AWS::StackName} distribution\n          DefaultCacheBehavior:\n            TargetOriginId: S3Origin\n            ForwardedValues:\n              QueryString: false\n            ViewerProtocolPolicy: redirect-to-https\n            AllowedMethods:\n              - GET\n              - HEAD\n              - OPTIONS\n              - PUT\n              - POST\n              - PATCH\n              - DELETE\n    CloudFrontOriginAccessIdentity:\n      Type: AWS::CloudFront::CloudFrontOriginAccessIdentity\n      Properties:\n        CloudFrontOriginAccessIdentityConfig:\n          Comment: !Ref AWS::StackName\n```\n\n\u003c/div\u003e\u003c/details\u003e\n\n## Api Gateway + lambda + DynamoDB\n\n\u003cimg src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/9a5eb35d-6db4-4657-a2fc-c90e71e2226b.png\" width=\"300px\" /\u003e\n\n\u003cdetails\u003e\u003csummary\u003eserverless.yaml\u003c/summary\u003e\u003cdiv\u003e\n\n```yaml:serverless.yml\nservice: # 自由に\nframeworkVersion: '3'\n\nprovider:\n  name: aws\n  stage: dev\n  runtime: # 好きなものを\n  region: # 自由に\n  profile: # 自由に\n  websocketsApiRouteSelectionExpression: $request.body.action\n  iam:\n    role:\n      statements:\n        - Effect: \"Allow\"\n          Action:\n            - \"dynamodb:*\"\n          Resource:\n            - arn:aws:dynamodb:ap-northeast-1:*:table/○○ # ○○にはDynamoDBのテーブル名を\n\ncustom:\n  stage: ${opt:stage, self:provider.stage}\n\nfunctions:\n  # 例としてconnectHandlerとscanDataHandler\n  connectHandler:\n    handler: handler.connectHandler\n    timeout: 30\n    events:\n      - websocket: $connect\n  scanDataHandler:\n    handler: handler.scanDataHandler\n    timeout: 30\n    events:\n      - websocket: scanData\n\nresources:\n  Resources:\n    # DynamoDB\n    Dynamodb:\n      Type: 'AWS::DynamoDB::Table'\n      Properties:\n        TableName: # 自由に\n        AttributeDefinitions:\n          - AttributeName: id   # パーティションキー\n            AttributeType: S\n          - AttributeName: type # ソートキー\n            AttributeType: S\n        KeySchema:\n          - AttributeName: id   # パーティションキー\n            KeyType: HASH\n          - AttributeName: type # ソートキー\n            KeyType: RANGE\n        ProvisionedThroughput:\n          ReadCapacityUnits: 1\n          WriteCapacityUnits: 1\n```\n\n\u003c/div\u003e\u003c/details\u003e\n\n\u003cdetails\u003e\u003csummary\u003ehandler.rb\u003c/summary\u003e\u003cdiv\u003e\n\n```ruby:handler.rb\nrequire 'json'\nrequire 'aws-sdk'\n\ndef dynamodb_client\n  Aws::DynamoDB::Client.new(region: 'ap-northeast-1')\nend\n\ndef connectHandler(event:, context:)\n  begin\n    table_item = {\n      table_name: ○○, # 作成したテーブル名\n      item: {\n        id: event['requestContext']['connectionId'], # パーティションキー\n        type: 'user'                                 # ハッシュキー\n      }\n    }\n\n    dynamodb_client.put_item(table_item)\n\n    { \"statusCode\": 200 }\n  rescue StandardError =\u003e e\n    puts e\n\n    { \"statusCode\": 500 }\n  end\nend\n\ndef scanDataHandler(event:, context:)\n  scanData = dynamodb_client.scan(\n    table_name: ○○ # 作成したテーブル名\n  )\n  todos = scanData.items.select{ |data| data[\"type\"] === 'todo' }\n\n  api_gw = Aws::ApiGatewayManagementApi::Client.new(\n    endpoint: 'https://' + event['requestContext']['domainName'] + '/' + event['requestContext']['stage']\n  )\n\n  api_gw(event).post_to_connection(\n    connection_id: event['requestContext']['connectionId'],\n    data: { todos: todos }.to_json\n  )\nend\n```\n\n\u003c/div\u003e\u003c/details\u003e\n\n# フロント側(Svelte)\n\n```vue:+page.svelte\n\u003cscript lang=\"ts\"\u003e\n  import { onMount } from 'svelte';\n\n  const connection = new WebSocket(import.meta.env.VITE_WEBSOCKET_URL)\n\n  const scanTodo = () =\u003e {\n    const message = {\n      action: 'scanTodo'\n    }\n\n    connection.send(JSON.stringify(message))\n  }\n\n  interface Todo {\n    id: string;\n    type: string;\n    content: any;\n  }\n\n  let todos: Todo[];\n\n  // メッセージを受け取ったときの処理\n  connection.onmessage = event =\u003e {\n    const json_todo: Todo[] = JSON.parse(event.data)\n    todos = json_todo\n  }\n\n  onMount(() =\u003e {\n    scanTodo()\n  })\n\u003c/script\u003e\n```\n\n# 最後に\n\nGraphQLとAppSyncを使って同じような構成も作ってみたいです〜\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-02-02T18:36:12+09:00",
    "group": null,
    "id": "74933bf63ab56fee725c",
    "likes_count": 5,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "Ruby", "versions": [] },
      { "name": "JavaScript", "versions": [] },
      { "name": "ServerlessFramework", "versions": [] },
      { "name": "Svelte", "versions": [] }
    ],
    "title": "【ServerlessFramework】API GatewayのWebSocket通信を利用してリアルタイムに変化するTodoアプリを作成した",
    "updated_at": "2023-02-02T18:52:04+09:00",
    "url": "https://qiita.com/maaaashi/items/74933bf63ab56fee725c",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-4:105\"\u003e普段から\u003ccode\u003eServerlessFramework\u003c/code\u003eを用いてデプロイしていますが、\u003cbr\u003e\nその中で\u003ccode\u003e!Ref\u003c/code\u003eと\u003ccode\u003e!Sub\u003c/code\u003eの使い分けについて整理したのでこちらにもまとめます。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"6:1-6:9\"\u003e\n\u003cspan id=\"結論\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%B5%90%E8%AB%96\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e結論\u003c/h2\u003e\n\u003cp data-sourcepos=\"8:1-8:48\"\u003e表記の違いと、結合できるかどうか\u003c/p\u003e\n\u003ch2 data-sourcepos=\"10:1-10:18\"\u003e\n\u003cspan id=\"1-表記違い\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-%E8%A1%A8%E8%A8%98%E9%81%95%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. 表記違い\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yml\" data-sourcepos=\"12:1-18:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kt\"\u003e!Ref\u003c/span\u003e \u003cspan class=\"s\"\u003eMyBucketName\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# ⇒ \"hoge-bucket\"\u003c/span\u003e\n\n\u003cspan class=\"kt\"\u003e!Sub\u003c/span\u003e \u003cspan class=\"s\"\u003e${MyBucketName}\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# ⇒ \"hoge-bucket\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"20:1-20:37\"\u003e\u003ccode\u003eSub\u003c/code\u003eは\u003ccode\u003e${}\u003c/code\u003eで囲む必要がある\u003c/p\u003e\n\u003ch2 data-sourcepos=\"22:1-22:33\"\u003e\n\u003cspan id=\"2-結合できるかどうか\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-%E7%B5%90%E5%90%88%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%8B%E3%81%A9%E3%81%86%E3%81%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. 結合できるかどうか\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yml\" data-sourcepos=\"24:1-30:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kt\"\u003e!Ref\u003c/span\u003e \u003cspan class=\"s\"\u003eMyBucketName-dev-assets\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# ⇒ error\u003c/span\u003e\n\n\u003cspan class=\"kt\"\u003e!Sub\u003c/span\u003e \u003cspan class=\"s\"\u003e${MyBucketName}-dev-assets\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# ⇒ \"hoge-bucket-dev-assets\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"32:1-32:65\"\u003e\u003ccode\u003eRef\u003c/code\u003eで結合をしたいときは\u003ccode\u003eJoin\u003c/code\u003eを使う必要がある\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yml\" data-sourcepos=\"34:1-41:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kt\"\u003e!Join\u003c/span\u003e\n  \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\u003c/span\u003e\u003cspan class=\"s\"\u003e-'\u003c/span\u003e\n  \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"kt\"\u003e!Ref\u003c/span\u003e \u003cspan class=\"s\"\u003eMyBucketName\u003c/span\u003e\n  \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003edev\u003c/span\u003e\n  \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003eassets\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e# ⇒ \"hoge-bucket-dev-assets\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch2 data-sourcepos=\"43:1-43:12\"\u003e\n\u003cspan id=\"3-結論\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-%E7%B5%90%E8%AB%96\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. 結論\u003c/h2\u003e\n\u003cp data-sourcepos=\"45:1-46:47\"\u003e単純に論理値変換で使うのであれば\u003ccode\u003e${}\u003c/code\u003eを忘れやすいため 、\u003ccode\u003eRef\u003c/code\u003eを使い\u003cbr\u003e\n結合とかしたいときは\u003ccode\u003eSub\u003c/code\u003eを使う。\u003c/p\u003e\n\u003cp data-sourcepos=\"48:1-48:36\"\u003eというのが良さそうです。\u003c/p\u003e\n",
    "body": "## はじめに\n\n普段から`ServerlessFramework`を用いてデプロイしていますが、\nその中で`!Ref`と`!Sub`の使い分けについて整理したのでこちらにもまとめます。\n\n## 結論\n\n表記の違いと、結合できるかどうか\n\n## 1. 表記違い\n\n~~~yml\n!Ref MyBucketName\n# ⇒ \"hoge-bucket\"\n\n!Sub ${MyBucketName}\n# ⇒ \"hoge-bucket\"\n~~~\n\n`Sub`は`${}`で囲む必要がある\n\n## 2. 結合できるかどうか\n\n~~~yml\n!Ref MyBucketName-dev-assets\n# ⇒ error\n\n!Sub ${MyBucketName}-dev-assets\n# ⇒ \"hoge-bucket-dev-assets\"\n~~~\n\n`Ref`で結合をしたいときは`Join`を使う必要がある\n\n~~~yml\n!Join\n  - '-'\n  - !Ref MyBucketName\n  - dev\n  - assets\n# ⇒ \"hoge-bucket-dev-assets\"\n~~~\n\n## 3. 結論\n\n単純に論理値変換で使うのであれば`${}`を忘れやすいため 、`Ref`を使い\n結合とかしたいときは`Sub`を使う。\n\nというのが良さそうです。\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-01-31T13:11:26+09:00",
    "group": null,
    "id": "e7d9461fec0cff332171",
    "likes_count": 2,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "CloudFormation", "versions": [] },
      { "name": "ServerlessFramework", "versions": [] }
    ],
    "title": "【CloudFormation | Serverless Framework】RefとSubの使い分け",
    "updated_at": "2023-01-31T13:11:26+09:00",
    "url": "https://qiita.com/maaaashi/items/e7d9461fec0cff332171",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-4:125\"\u003eDockerでnodejsの環境をalpineベースで作成し、\u003cbr\u003e\n\u003ccode\u003esupabase-js\u003c/code\u003eをインストールしようとしたところ以下エラーが発生したのを修正した時のメモ。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"6:1-6:47\"\u003e\n\u003cspan id=\"エラー時の状況原因解消方法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A8%E3%83%A9%E3%83%BC%E6%99%82%E3%81%AE%E7%8A%B6%E6%B3%81%E5%8E%9F%E5%9B%A0%E8%A7%A3%E6%B6%88%E6%96%B9%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eエラー時の状況・原因・解消方法\u003c/h1\u003e\n\u003ch2 data-sourcepos=\"8:1-8:21\"\u003e\n\u003cspan id=\"発現時の状況\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%99%BA%E7%8F%BE%E6%99%82%E3%81%AE%E7%8A%B6%E6%B3%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e発現時の状況\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"dockerfile\" data-sourcepos=\"10:1-20:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eDockerfile\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eFROM\u003c/span\u003e\u003cspan class=\"s\"\u003e node:18.13-alpine3.16\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eRUN \u003c/span\u003eapk update\n\n\u003cspan class=\"k\"\u003eWORKDIR\u003c/span\u003e\u003cspan class=\"s\"\u003e /var/www/app\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eUSER\u003c/span\u003e\u003cspan class=\"s\"\u003e node\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eCMD\u003c/span\u003e\u003cspan class=\"s\"\u003e [\"yarn\", \"dev\"]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"22:1-33:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003edocker-compose.yml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eversion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\u003c/span\u003e\u003cspan class=\"s\"\u003e3'\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003eservices\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eapp\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ebuild\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e.\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eports\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003e8080:8080\"\u003c/span\u003e\n    \u003cspan class=\"na\"\u003evolumes\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003e./front:/var/www/app\"\u003c/span\u003e\n    \u003cspan class=\"na\"\u003etty\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"35:1-62:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003edocker-compose \u003cspan class=\"nb\"\u003eexec \u003c/span\u003eapp sh\n/var/www/app \u003cspan class=\"nv\"\u003e$ \u003c/span\u003eyarn add @supabase/supabase-js\n\n・\n・\n・\ngyp ERR! find Python \ngyp ERR! find Python Python is not \u003cspan class=\"nb\"\u003eset \u003c/span\u003efrom \u003cspan class=\"nb\"\u003ecommand \u003c/span\u003eline or npm configuration\ngyp ERR! find Python Python is not \u003cspan class=\"nb\"\u003eset \u003c/span\u003efrom environment variable PYTHON\ngyp ERR! find Python checking \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"python3\"\u003c/span\u003e can be used\ngyp ERR! find Python - \u003cspan class=\"s2\"\u003e\"python3\"\u003c/span\u003e is not \u003cspan class=\"k\"\u003ein \u003c/span\u003ePATH or produced an error\ngyp ERR! find Python checking \u003cspan class=\"k\"\u003eif\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"python\"\u003c/span\u003e can be used\ngyp ERR! find Python - \u003cspan class=\"s2\"\u003e\"python\"\u003c/span\u003e is not \u003cspan class=\"k\"\u003ein \u003c/span\u003ePATH or produced an error\ngyp ERR! find Python \ngyp ERR! find Python \u003cspan class=\"k\"\u003e**********************************************************\u003c/span\u003e\ngyp ERR! find Python You need to \u003cspan class=\"nb\"\u003einstall \u003c/span\u003ethe latest version of Python.\ngyp ERR! find Python Node-gyp should be able to find and use Python. If not,\ngyp ERR! find Python you can try one of the following options:\ngyp ERR! find Python - Use the switch \u003cspan class=\"nt\"\u003e--python\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"/path/to/pythonexecutable\"\u003c/span\u003e\ngyp ERR! find Python   \u003cspan class=\"o\"\u003e(\u003c/span\u003eaccepted by both node-gyp and npm\u003cspan class=\"o\"\u003e)\u003c/span\u003e\ngyp ERR! find Python - Set the environment variable PYTHON\ngyp ERR! find Python - Set the npm configuration variable python:\ngyp ERR! find Python   npm config \u003cspan class=\"nb\"\u003eset \u003c/span\u003epython \u003cspan class=\"s2\"\u003e\"/path/to/pythonexecutable\"\u003c/span\u003e\ngyp ERR! find Python For more information consult the documentation at:\ngyp ERR! find Python https://github.com/nodejs/node-gyp#installation\ngyp ERR! find Python \u003cspan class=\"k\"\u003e**********************************************************\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch2 data-sourcepos=\"64:1-64:36\"\u003e\n\u003cspan id=\"エラーの原因解消方法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A8%E3%83%A9%E3%83%BC%E3%81%AE%E5%8E%9F%E5%9B%A0%E8%A7%A3%E6%B6%88%E6%96%B9%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eエラーの原因・解消方法\u003c/h2\u003e\n\u003cul data-sourcepos=\"66:1-68:0\"\u003e\n\u003cli data-sourcepos=\"66:1-66:54\"\u003e\n\u003ccode\u003enode-gyp\u003c/code\u003eの依存関係で起こったエラー。\u003c/li\u003e\n\u003cli data-sourcepos=\"67:1-68:0\"\u003e\n\u003ccode\u003enode-gyp\u003c/code\u003eとは、Node.jsのモジュールをコンパイルするコマンドラインツール。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"69:1-69:141\"\u003e公式の\u003ca href=\"https://github.com/nodejs/node-gyp\" rel=\"nofollow noopener\" target=\"_blank\"\u003eGithub\u003c/a\u003eを確認したところ、依存関係にはmakeやpythonが必要なようでした。\u003c/p\u003e\n\u003cp data-sourcepos=\"71:1-71:164\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2d204961-e370-7b90-c327-81a7cbf1d9ce.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=fdc0915a2f2de06898853fcafe4273af\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2d204961-e370-7b90-c327-81a7cbf1d9ce.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=fdc0915a2f2de06898853fcafe4273af\" alt=\"スクリーンショット 2023-01-21 17.10.54.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2d204961-e370-7b90-c327-81a7cbf1d9ce.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=6beaad3088e251b4fe36965d20cca034 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/2d204961-e370-7b90-c327-81a7cbf1d9ce.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"73:1-73:139\"\u003e\u003ccode\u003emake\u003c/code\u003e \u003ccode\u003egcc\u003c/code\u003e \u003ccode\u003eg++\u003c/code\u003e \u003ccode\u003epython\u003c/code\u003eの4つの依存関係をインストールすることで依存関係のエラーは解消できそうです。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"75:1-75:22\"\u003e\n\u003cspan id=\"dockerfileの変更\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#dockerfile%E3%81%AE%E5%A4%89%E6%9B%B4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eDockerfileの変更\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"Dockerfile\" data-sourcepos=\"77:1-90:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eFROM\u003c/span\u003e\u003cspan class=\"s\"\u003e node:18.13-alpine3.16\u003c/span\u003e\n\n\u003cspan class=\"c\"\u003e# 変更\u003c/span\u003e\n\u003cspan class=\"k\"\u003eRUN \u003c/span\u003eapk update \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e    apk upgrade \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e    apk add \u003cspan class=\"nt\"\u003e--no-cache\u003c/span\u003e make gcc g++ python3\n\n\u003cspan class=\"k\"\u003eWORKDIR\u003c/span\u003e\u003cspan class=\"s\"\u003e /var/www/app\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eUSER\u003c/span\u003e\u003cspan class=\"s\"\u003e node\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eCMD\u003c/span\u003e\u003cspan class=\"s\"\u003e [\"yarn\", \"dev\"]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"92:1-92:51\"\u003e変更後無事インストールできました！\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"94:1-106:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e/var/www/app \u003cspan class=\"nv\"\u003e$ \u003c/span\u003eyarn add @supabase/supabase-js\nyarn add v1.22.19\n\n・\n・\n・\n\n├─ whatwg-url@5.0.0\n└─ yaeti@0.0.6\nDone \u003cspan class=\"k\"\u003ein \u003c/span\u003e12.07s.\n/var/www/app \u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n",
    "body": "# はじめに\n\nDockerでnodejsの環境をalpineベースで作成し、\n `supabase-js`をインストールしようとしたところ以下エラーが発生したのを修正した時のメモ。\n\n# エラー時の状況・原因・解消方法\n\n## 発現時の状況\n\n```dockerfile:Dockerfile\nFROM node:18.13-alpine3.16\n\nRUN apk update\n\nWORKDIR /var/www/app\n\nUSER node\n\nCMD [\"yarn\", \"dev\"]\n```\n\n```yaml:docker-compose.yml\nversion: '3'\n\nservices:\n  app:\n    build: .\n    ports:\n      - \"8080:8080\"\n    volumes:\n      - \"./front:/var/www/app\"\n    tty: true\n```\n\n```zsh\n$ docker-compose exec app sh\n/var/www/app $ yarn add @supabase/supabase-js\n\n・\n・\n・\ngyp ERR! find Python \ngyp ERR! find Python Python is not set from command line or npm configuration\ngyp ERR! find Python Python is not set from environment variable PYTHON\ngyp ERR! find Python checking if \"python3\" can be used\ngyp ERR! find Python - \"python3\" is not in PATH or produced an error\ngyp ERR! find Python checking if \"python\" can be used\ngyp ERR! find Python - \"python\" is not in PATH or produced an error\ngyp ERR! find Python \ngyp ERR! find Python **********************************************************\ngyp ERR! find Python You need to install the latest version of Python.\ngyp ERR! find Python Node-gyp should be able to find and use Python. If not,\ngyp ERR! find Python you can try one of the following options:\ngyp ERR! find Python - Use the switch --python=\"/path/to/pythonexecutable\"\ngyp ERR! find Python   (accepted by both node-gyp and npm)\ngyp ERR! find Python - Set the environment variable PYTHON\ngyp ERR! find Python - Set the npm configuration variable python:\ngyp ERR! find Python   npm config set python \"/path/to/pythonexecutable\"\ngyp ERR! find Python For more information consult the documentation at:\ngyp ERR! find Python https://github.com/nodejs/node-gyp#installation\ngyp ERR! find Python **********************************************************\n```\n\n## エラーの原因・解消方法\n\n* `node-gyp`の依存関係で起こったエラー。\n* `node-gyp`とは、Node.jsのモジュールをコンパイルするコマンドラインツール。\n\n公式の[Github](https://github.com/nodejs/node-gyp)を確認したところ、依存関係にはmakeやpythonが必要なようでした。\n\n![スクリーンショット 2023-01-21 17.10.54.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/2d204961-e370-7b90-c327-81a7cbf1d9ce.png)\n\n`make` `gcc` `g++` `python`の4つの依存関係をインストールすることで依存関係のエラーは解消できそうです。\n\n## Dockerfileの変更\n\n```Dockerfile\nFROM node:18.13-alpine3.16\n\n# 変更\nRUN apk update \u0026\u0026 \\\n    apk upgrade \u0026\u0026 \\\n    apk add --no-cache make gcc g++ python3\n\nWORKDIR /var/www/app\n\nUSER node\n\nCMD [\"yarn\", \"dev\"]\n```\n\n変更後無事インストールできました！\n\n```zsh\n/var/www/app $ yarn add @supabase/supabase-js\nyarn add v1.22.19\n\n・\n・\n・\n\n├─ whatwg-url@5.0.0\n└─ yaeti@0.0.6\nDone in 12.07s.\n/var/www/app $ \n```\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-01-21T17:20:54+09:00",
    "group": null,
    "id": "36afba6787aea95f2f15",
    "likes_count": 2,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "Mac", "versions": [] },
      { "name": "Node.js", "versions": [] },
      { "name": "Docker", "versions": [] },
      { "name": "alpine", "versions": [] },
      { "name": "Supabase", "versions": [] }
    ],
    "title": "Docker alpineベースの環境でnode-gypのエラーが出た",
    "updated_at": "2023-01-21T17:20:54+09:00",
    "url": "https://qiita.com/maaaashi/items/36afba6787aea95f2f15",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-6:45\"\u003e認証サーバーとして\u003ccode\u003ekeycloak\u003c/code\u003eを使おうと思い、\u003cbr\u003e\n\u003ccode\u003edocker\u003c/code\u003eでkeycloakを起動し、\u003cbr\u003e\nアプリケーションを\u003ccode\u003eVite\u003c/code\u003eで構築し、\u003cbr\u003e\n「さあ認証だ！」というところで\u003c/p\u003e\n\u003cp data-sourcepos=\"8:1-8:170\"\u003e\u003cfont color=\"red\"\u003eRefused to frame '\u003ca href=\"http://localhost:8080/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://localhost:8080/\u003c/a\u003e' because an ancestor violates the following Content Security Policy directive: \"frame-ancestors 'self'\".\u003c/font\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"10:1-10:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1a0d7051-d50e-5283-8859-cf2f15d2e874.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e5426110814eada49f524ea40a335fe2\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1a0d7051-d50e-5283-8859-cf2f15d2e874.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e5426110814eada49f524ea40a335fe2\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1a0d7051-d50e-5283-8859-cf2f15d2e874.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9c44c878598b312ae3c4e1c408b7e4ec 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/1a0d7051-d50e-5283-8859-cf2f15d2e874.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"12:1-12:30\"\u003eに悩まされた話です。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"14:1-14:20\"\u003e\n\u003cspan id=\"開発環境構築\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e開発環境構築\u003c/h1\u003e\n\u003ch2 data-sourcepos=\"16:1-16:18\"\u003e\n\u003cspan id=\"keycloak-docker\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#keycloak-docker\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ekeycloak docker\u003c/h2\u003e\n\u003col data-sourcepos=\"18:1-51:0\"\u003e\n\u003cli data-sourcepos=\"18:1-43:0\"\u003e\n\u003cp data-sourcepos=\"18:4-18:39\"\u003edocker-compose.ymlに以下を記入\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"20:5-42:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003edocker-compose.yml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eversion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\u003c/span\u003e\u003cspan class=\"s\"\u003e2'\u003c/span\u003e\n\u003cspan class=\"na\"\u003eservices\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003epostgresql\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003edocker.io/bitnami/postgresql:11\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003eALLOW_EMPTY_PASSWORD=yes\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003ePOSTGRESQL_USERNAME=bn_keycloak\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003ePOSTGRESQL_DATABASE=bitnami_keycloak\u003c/span\u003e\n    \u003cspan class=\"na\"\u003evolumes\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\u003c/span\u003e\u003cspan class=\"s\"\u003epostgresql_data:/bitnami/postgresql'\u003c/span\u003e\n\n  \u003cspan class=\"na\"\u003ekeycloak\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003edocker.io/bitnami/keycloak:19\u003c/span\u003e\n    \u003cspan class=\"na\"\u003edepends_on\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003epostgresql\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eports\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003e8080:8080\"\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003evolumes\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003epostgresql_data\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003edriver\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elocal\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"44:1-49:0\"\u003e\n\u003cp data-sourcepos=\"44:4-44:9\"\u003e起動\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"46:5-48:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003edocker-compose up\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"50:1-51:0\"\u003e\n\u003cp data-sourcepos=\"50:4-50:116\"\u003e\u003ca href=\"http://localhost:8080\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttp://localhost:8080\u003c/a\u003eに移動し、以下を登録(keycloakの詳しい説明は割愛)\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul data-sourcepos=\"52:1-56:0\"\u003e\n\u003cli data-sourcepos=\"52:1-53:13\"\u003eレルム\n\u003cul data-sourcepos=\"53:5-53:13\"\u003e\n\u003cli data-sourcepos=\"53:5-53:13\"\u003emyrealm\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"54:1-56:0\"\u003eclient_id\n\u003cul data-sourcepos=\"55:5-56:0\"\u003e\n\u003cli data-sourcepos=\"55:5-56:0\"\u003eapp-vue\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 data-sourcepos=\"57:1-57:14\"\u003e\n\u003cspan id=\"vite--vue3\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#vite--vue3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eVite + Vue3\u003c/h2\u003e\n\u003cul data-sourcepos=\"59:1-60:0\"\u003e\n\u003cli data-sourcepos=\"59:1-60:0\"\u003enode v16.13.2\u003c/li\u003e\n\u003c/ul\u003e\n\u003col data-sourcepos=\"61:1-94:0\"\u003e\n\u003cli data-sourcepos=\"61:1-72:0\"\u003e\n\u003cp data-sourcepos=\"61:4-61:18\"\u003e以下を実行\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"63:5-71:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpm init vite@latest\n  バージョンの確認: y\n  アプリ名: \u003cspan class=\"o\"\u003e(\u003c/span\u003eお好きに\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n  フレームワーク: Vue ⇒ TypeScript\n\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003ecd\u003c/span\u003e \u003cspan class=\"o\"\u003e(\u003c/span\u003eアプリ名\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003eyarn\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"73:1-88:0\"\u003e\n\u003cp data-sourcepos=\"73:4-73:26\"\u003evite.config.tsの修正\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"75:5-87:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003edefineConfig\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003evite\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003evue\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@vitejs/plugin-vue\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// https://vitejs.dev/config/\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"nf\"\u003edefineConfig\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eplugins\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003evue\u003c/span\u003e\u003cspan class=\"p\"\u003e()],\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eserver\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e        \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ehost\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eport\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e18080\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e                \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"89:1-94:0\"\u003e\n\u003cp data-sourcepos=\"89:4-89:21\"\u003eサーバー起動\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"91:5-93:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003eyarn dev\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch1 data-sourcepos=\"95:1-95:31\"\u003e\n\u003cspan id=\"keycloak-jsの導入設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#keycloak-js%E3%81%AE%E5%B0%8E%E5%85%A5%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ekeycloak-jsの導入・設定\u003c/h1\u003e\n\u003col data-sourcepos=\"97:1-149:0\"\u003e\n\u003cli data-sourcepos=\"97:1-102:0\"\u003e\n\u003cp data-sourcepos=\"97:4-97:37\"\u003e\u003ccode\u003ekeycloak-js\u003c/code\u003eのインストール\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"99:5-101:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003eyarn add keycloak-js\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"103:1-111:0\"\u003e\n\u003cp data-sourcepos=\"103:4-103:16\"\u003e.envの設定\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"env\" data-sourcepos=\"105:5-109:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e.env\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eVITE_KEYCLOAK_URL=\"http://localhost:8080\"\nVITE_KEYCLOAK_REALM=\"Myrealm\"\nVITE_KEYCLOAK_CLIENT_ID=\"app-vue\"\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"112:1-147:0\"\u003e\n\u003cp data-sourcepos=\"112:4-112:30\"\u003e設定ファイルの作成\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"114:5-146:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e src/keycloak.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eKeycloak\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ekeycloak-js\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003einitOptions\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003eimport\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003emeta\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eenv\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eVITE_KEYCLOAK_URL\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003erealm\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003eimport\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003emeta\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eenv\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eVITE_KEYCLOAK_REALM\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eclientId\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"k\"\u003eimport\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003emeta\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eenv\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eVITE_KEYCLOAK_CLIENT_ID\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ekeycloakInstance\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eKeycloak\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003einitOptions\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\n\u003cspan class=\"kr\"\u003einterface\u003c/span\u003e \u003cspan class=\"nx\"\u003eCallbackOneParam\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003eT1\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eT2\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003evoid\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"na\"\u003eparam1\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eT1\u003c/span\u003e\u003cspan class=\"p\"\u003e):\u003c/span\u003e \u003cspan class=\"nx\"\u003eT2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eLogin\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eonAuthenticatedCallback\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eCallbackOneParam\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003ekeycloakInstance\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003einit\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e \u003cspan class=\"na\"\u003eonLoad\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003elogin-required\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ethen\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003efunction \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eauthenticated\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003eauthenticated\u003c/span\u003e \u003cspan class=\"p\"\u003e?\u003c/span\u003e \u003cspan class=\"nf\"\u003eonAuthenticatedCallback\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nf\"\u003ealert\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003enon authenticated\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"k\"\u003ecatch\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003edir\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e`keycloak init exception: \u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e`\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e});\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eKeyCloakService\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eCallLogin\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eLogin\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"nx\"\u003eKeyCloakService\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"148:1-149:0\"\u003e\n\u003cp data-sourcepos=\"148:4-148:76\"\u003emain.tsを修正し、ログインしないと表示されないように\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"150:1-164:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreateApp\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003evue\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eApp\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e./App.vue\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eloadFonts\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e./plugins/webfontloader\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eKeyCloakService\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e./KeycloakService\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"nf\"\u003eloadFonts\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003erenderApp\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003ecreateApp\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eApp\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emount\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e#app\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003eKeyCloakService\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nc\"\u003eCallLogin\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003erenderApp\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch2 data-sourcepos=\"166:1-166:30\"\u003e\n\u003cspan id=\"ここでエラー発生\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%93%E3%81%93%E3%81%A7%E3%82%A8%E3%83%A9%E3%83%BC%E7%99%BA%E7%94%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eここでエラー発生。\u003c/h2\u003e\n\u003cp data-sourcepos=\"168:1-168:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1a0d7051-d50e-5283-8859-cf2f15d2e874.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e5426110814eada49f524ea40a335fe2\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1a0d7051-d50e-5283-8859-cf2f15d2e874.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e5426110814eada49f524ea40a335fe2\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1a0d7051-d50e-5283-8859-cf2f15d2e874.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9c44c878598b312ae3c4e1c408b7e4ec 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/1a0d7051-d50e-5283-8859-cf2f15d2e874.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"170:1-170:144\"\u003e\u003ccode\u003evite.config.ts\u003c/code\u003eを修正し、Content Security Policyの設定をしてみましたが、うまくいかず途方に暮れていたところ、\u003c/p\u003e\n\u003cp data-sourcepos=\"172:1-172:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fb7fcdc2c-6db5-daa1-dcc7-fed20d05d577.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=bd0f46a45389c0cd075999a870014a5d\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fb7fcdc2c-6db5-daa1-dcc7-fed20d05d577.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=bd0f46a45389c0cd075999a870014a5d\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fb7fcdc2c-6db5-daa1-dcc7-fed20d05d577.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=936bf4fc3fd89917e0562b0ab694260c 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/b7fcdc2c-6db5-daa1-dcc7-fed20d05d577.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"174:1-174:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1f2b1309-5142-23c6-cf5a-d245e4341343.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c3dabdc42659461a95f84fe78664da3d\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1f2b1309-5142-23c6-cf5a-d245e4341343.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c3dabdc42659461a95f84fe78664da3d\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1f2b1309-5142-23c6-cf5a-d245e4341343.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=2f3fa47210c990fe1f164d30d736bd1b 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/1f2b1309-5142-23c6-cf5a-d245e4341343.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"176:1-176:61\"\u003e\u003cfont color=\"red\"\u003eあれ？小文字じゃん。。。\u003c/font\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"178:1-178:128\"\u003eということでkeycloakではレルム名で大文字小文字を間違えると上記エラーが発生するようです。\u003c/p\u003e\n\u003cp data-sourcepos=\"180:1-180:60\"\u003e沼にはまらないように気を付けましょう～！\u003c/p\u003e\n",
    "body": "# はじめに\n\n認証サーバーとして`keycloak`を使おうと思い、\n`docker`でkeycloakを起動し、\nアプリケーションを`Vite`で構築し、\n「さあ認証だ！」というところで\n\n\u003cfont color=\"red\"\u003eRefused to frame 'http://localhost:8080/' because an ancestor violates the following Content Security Policy directive: \"frame-ancestors 'self'\".\u003c/font\u003e\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/1a0d7051-d50e-5283-8859-cf2f15d2e874.png)\n\nに悩まされた話です。\n\n# 開発環境構築\n\n## keycloak docker\n\n1. docker-compose.ymlに以下を記入\n\n    ```yaml:docker-compose.yml\n    version: '2'\n    services:\n      postgresql:\n        image: docker.io/bitnami/postgresql:11\n        environment:\n          - ALLOW_EMPTY_PASSWORD=yes\n          - POSTGRESQL_USERNAME=bn_keycloak\n          - POSTGRESQL_DATABASE=bitnami_keycloak\n        volumes:\n          - 'postgresql_data:/bitnami/postgresql'\n    \n      keycloak:\n        image: docker.io/bitnami/keycloak:19\n        depends_on:\n          - postgresql\n        ports:\n          - \"8080:8080\"\n    \n    volumes:\n      postgresql_data:\n        driver: local\n    ```\n\n1. 起動\n\n    ```bash\n    $ docker-compose up\n    ```\n\n1. [http://localhost:8080](http://localhost:8080)に移動し、以下を登録(keycloakの詳しい説明は割愛)\n\n* レルム\n    * myrealm\n* client_id\n    * app-vue\n\n## Vite + Vue3\n\n* node v16.13.2\n\n1. 以下を実行\n    \n    ```bash\n    $ npm init vite@latest\n      バージョンの確認: y\n      アプリ名: (お好きに)\n      フレームワーク: Vue ⇒ TypeScript\n    \n    $ cd (アプリ名)\n    $ yarn\n    ```\n\n1. vite.config.tsの修正\n\n    ```typescript\n    import { defineConfig } from 'vite'\n    import vue from '@vitejs/plugin-vue'\n    \n    // https://vitejs.dev/config/\n    export default defineConfig({\n      plugins: [vue()],\n      server: {        // 追加\n        host: true,    // 追加\n        port: 18080    // 追加\n      }                // 追加\n    })\n    ```\n\n1. サーバー起動\n\n    ```bash\n    $ yarn dev\n    ```\n\n# keycloak-jsの導入・設定\n\n1. `keycloak-js`のインストール\n\n    ```bash\n    $ yarn add keycloak-js\n    ```\n\n1. .envの設定\n    \n    ```env:.env\n    VITE_KEYCLOAK_URL=\"http://localhost:8080\"\n    VITE_KEYCLOAK_REALM=\"Myrealm\"\n    VITE_KEYCLOAK_CLIENT_ID=\"app-vue\"\n    ```\n\n\n1. 設定ファイルの作成\n\n    ```typescript: src/keycloak.ts\n    import Keycloak from \"keycloak-js\";\n    \n    const initOptions = {\n      url: import.meta.env.VITE_KEYCLOAK_URL,\n      realm: import.meta.env.VITE_KEYCLOAK_REALM,\n      clientId: import.meta.env.VITE_KEYCLOAK_CLIENT_ID\n    }\n    \n    const keycloakInstance = new Keycloak(initOptions);\n    \n    interface CallbackOneParam\u003cT1 = void, T2 = void\u003e {\n      (param1: T1): T2;\n    }\n    \n    const Login = (onAuthenticatedCallback: CallbackOneParam) =\u003e {\n      keycloakInstance\n        .init({ onLoad: \"login-required\" })\n        .then(function (authenticated) {\n          authenticated ? onAuthenticatedCallback() : alert(\"non authenticated\");\n        })\n        .catch((e) =\u003e {\n          console.dir(e);\n          console.log(`keycloak init exception: ${e}`);\n        });\n    };\n    \n    const KeyCloakService = {\n      CallLogin: Login,\n    };\n    \n    export default KeyCloakService;\n    ```\n\n1. main.tsを修正し、ログインしないと表示されないように\n\n```typescript\nimport { createApp } from 'vue'\nimport App from './App.vue'\nimport { loadFonts } from './plugins/webfontloader'\nimport KeyCloakService from './KeycloakService'\n\nloadFonts()\n\nconst renderApp = () =\u003e {\n  createApp(App)\n    .mount('#app')\n}\n\nKeyCloakService.CallLogin(renderApp)\n```\n\n## ここでエラー発生。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/1a0d7051-d50e-5283-8859-cf2f15d2e874.png)\n\n`vite.config.ts`を修正し、Content Security Policyの設定をしてみましたが、うまくいかず途方に暮れていたところ、\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/b7fcdc2c-6db5-daa1-dcc7-fed20d05d577.png)\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/1f2b1309-5142-23c6-cf5a-d245e4341343.png)\n\n\u003cfont color=\"red\"\u003eあれ？小文字じゃん。。。\u003c/font\u003e\n\nということでkeycloakではレルム名で大文字小文字を間違えると上記エラーが発生するようです。\n\n沼にはまらないように気を付けましょう～！\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-01-05T14:45:55+09:00",
    "group": null,
    "id": "b99e123129735deb5576",
    "likes_count": 2,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 3,
    "tags": [
      { "name": "JavaScript", "versions": [] },
      { "name": "Vue.js", "versions": [] },
      { "name": "Keycloak", "versions": [] }
    ],
    "title": "keycloak-js Content Security Policyにはまった話",
    "updated_at": "2023-01-05T15:37:04+09:00",
    "url": "https://qiita.com/maaaashi/items/b99e123129735deb5576",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-3:127\"\u003e\u003ccode\u003evue\u003c/code\u003eや\u003ccode\u003ereact\u003c/code\u003e、\u003ccode\u003esvelte\u003c/code\u003eでコンポーネントを呼び出す際、相対パスで\u003ccode\u003eimport\u003c/code\u003eを記述していませんか？\u003c/p\u003e\n\u003cp data-sourcepos=\"5:1-6:105\"\u003eそうしていると、コンポーネントの整理をしている中で動かない箇所が出てきます。\u003cbr\u003e\n1つ1つチェックするのは非常に手間なので、\u003ccode\u003eAlias\u003c/code\u003eを設定して楽をしましょう～\u003c/p\u003e\n\u003ch1 data-sourcepos=\"8:1-8:20\"\u003e\n\u003cspan id=\"srcをに設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#src%E3%82%92%E3%81%AB%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e./srcを@に設定\u003c/h1\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"10:1-24:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e vite.config.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003edefineConfig\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003evite\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003evue\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@vitejs/plugin-vue\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003epath\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003epath\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e                     \u003cspan class=\"c1\"\u003e// ・・・・追加\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// https://vitejs.dev/config/\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"nf\"\u003edefineConfig\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eplugins\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003evue\u003c/span\u003e\u003cspan class=\"p\"\u003e()],\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eresolve\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e                                \u003cspan class=\"c1\"\u003e// ・・・・追加\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ealias\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e                                \u003cspan class=\"c1\"\u003e// ・・・・追加\u003c/span\u003e\n      \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003epath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eresolve\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003e__dirname\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e./src\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"c1\"\u003e// ・・・・追加\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e                                       \u003cspan class=\"c1\"\u003e// ・・・・追加\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"26:1-27:33\"\u003eこれでもアプリケーションは動くが、\u003ccode\u003eTypeScript\u003c/code\u003eのチェックが通らないので、\u003cbr\u003e\n\u003ccode\u003etsconfig.json\u003c/code\u003eも修正する。\u003c/p\u003e\n\u003cp data-sourcepos=\"29:1-29:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcb7142d2-508f-bb4f-5d68-b5368cd78959.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=20b6651f0e8fe60899a8b2dad78e66af\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcb7142d2-508f-bb4f-5d68-b5368cd78959.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=20b6651f0e8fe60899a8b2dad78e66af\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcb7142d2-508f-bb4f-5d68-b5368cd78959.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=413611c709685b9a527d9b584b7a9615 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/cb7142d2-508f-bb4f-5d68-b5368cd78959.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"32:1-48:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e tsconfig.json\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ecompilerOptions\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003etarget\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eESNext\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"err\"\u003e・\u003c/span\u003e \u003cspan class=\"c1\"\u003e// \u003c/span\u003e\n    \u003cspan class=\"err\"\u003e・\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 省略\u003c/span\u003e\n    \u003cspan class=\"err\"\u003e・\u003c/span\u003e \u003cspan class=\"c1\"\u003e// \u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003ebaseUrl\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e./src\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e  \u003cspan class=\"c1\"\u003e// ・・・・追加\u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003epaths\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e           \u003cspan class=\"c1\"\u003e// ・・・・追加\u003c/span\u003e\n      \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e@/*\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e           \u003cspan class=\"c1\"\u003e// ・・・・追加\u003c/span\u003e\n        \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e./*\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e            \u003cspan class=\"c1\"\u003e// ・・・・追加\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e]\u003c/span\u003e                  \u003cspan class=\"c1\"\u003e// ・・・・追加\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e                    \u003cspan class=\"c1\"\u003e// ・・・・追加\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"50:1-50:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F12e73e9a-e319-ce75-fbb2-b69d39f3c50d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=bc222806ff3049401fc131b51b1f79db\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F12e73e9a-e319-ce75-fbb2-b69d39f3c50d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=bc222806ff3049401fc131b51b1f79db\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F12e73e9a-e319-ce75-fbb2-b69d39f3c50d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=fc606f0a51d4d27ba0facd7c9fc6f521 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/12e73e9a-e319-ce75-fbb2-b69d39f3c50d.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"53:1-53:2\"\u003eOK\u003c/p\u003e\n",
    "body": "# はじめに\n\n`vue`や`react`、`svelte`でコンポーネントを呼び出す際、相対パスで`import`を記述していませんか？\n\nそうしていると、コンポーネントの整理をしている中で動かない箇所が出てきます。\n1つ1つチェックするのは非常に手間なので、`Alias`を設定して楽をしましょう～\n\n# ./srcを@に設定\n\n```typescript: vite.config.ts\nimport { defineConfig } from 'vite'\nimport vue from '@vitejs/plugin-vue'\nimport path from 'path'                     // ・・・・追加\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [vue()],\n  resolve: {                                // ・・・・追加\n    alias: {                                // ・・・・追加\n      '@': path.resolve(__dirname, './src') // ・・・・追加\n    }                                       // ・・・・追加\n  }\n})\n```\n\nこれでもアプリケーションは動くが、`TypeScript`のチェックが通らないので、\n`tsconfig.json`も修正する。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/cb7142d2-508f-bb4f-5d68-b5368cd78959.png)\n\n\n```typescript: tsconfig.json\n{\n  \"compilerOptions\": {\n    \"target\": \"ESNext\",\n    ・ // \n    ・ // 省略\n    ・ // \n    \"baseUrl\": \"./src\",  // ・・・・追加\n    \"paths\": {           // ・・・・追加\n      \"@/*\": [           // ・・・・追加\n        \"./*\"            // ・・・・追加\n      ]                  // ・・・・追加\n    }                    // ・・・・追加\n  }\n}\n\n```\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/12e73e9a-e319-ce75-fbb2-b69d39f3c50d.png)\n\n\nOK\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2023-01-04T15:48:36+09:00",
    "group": null,
    "id": "1899b3f6c78b536a5de1",
    "likes_count": 6,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 3,
    "tags": [
      { "name": "JavaScript", "versions": [] },
      { "name": "TypeScript", "versions": [] },
      { "name": "Vue.js", "versions": [] },
      { "name": "vite", "versions": [] }
    ],
    "title": "Vite + Vue3 + TypeScriptでAlias pathを設定する方法",
    "updated_at": "2023-01-04T15:48:36+09:00",
    "url": "https://qiita.com/maaaashi/items/1899b3f6c78b536a5de1",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-4:44\"\u003e組織図のようなものを作成できるツールを探していたところ、\u003cbr\u003e\n\u003ca href=\"https://vueflow.dev/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eVue Flow\u003c/a\u003eを発見。\u003c/p\u003e\n\u003cp data-sourcepos=\"6:1-6:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbf123cbe-42f0-61f6-d073-f56bee77f86f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=fe9b7aa2e50cffc8246719d3e76223c1\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbf123cbe-42f0-61f6-d073-f56bee77f86f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=fe9b7aa2e50cffc8246719d3e76223c1\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fbf123cbe-42f0-61f6-d073-f56bee77f86f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b35b4c2f0ef7d3ba0fa033138caec40d 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/bf123cbe-42f0-61f6-d073-f56bee77f86f.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"8:1-8:30\"\u003e早速使ってみました。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"10:1-10:8\"\u003e\n\u003cspan id=\"導入\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%B0%8E%E5%85%A5\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e導入\u003c/h1\u003e\n\u003cp data-sourcepos=\"12:1-12:86\"\u003evue-flowの本体と、各コンポーネントを必要に応じてインストール\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"14:1-19:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e// vue-flow本体\nyarn add @vue-flow/core\n// 各コンポーネント\nyarn add @vue-flow/background @vue-flow/controls @vue-flow/core @vue-flow/minimap @vue-flow/node-toolbar\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch1 data-sourcepos=\"21:1-21:8\"\u003e\n\u003cspan id=\"用語\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E7%94%A8%E8%AA%9E\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e用語\u003c/h1\u003e\n\u003ch2 data-sourcepos=\"23:1-23:13\"\u003e\n\u003cspan id=\"nodeとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#node%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNodeとは\u003c/h2\u003e\n\u003cp data-sourcepos=\"25:1-26:122\"\u003eこいつのこと。\u003cbr\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7492d713-3aa2-09be-42bf-9721792a011b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2ed05235b7be21ba7896ec9b262b1c42\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7492d713-3aa2-09be-42bf-9721792a011b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2ed05235b7be21ba7896ec9b262b1c42\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7492d713-3aa2-09be-42bf-9721792a011b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=f1af6ff3dda9ce363aa74e245250a0e5 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/7492d713-3aa2-09be-42bf-9721792a011b.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"28:1-28:64\"\u003etypeを指定でき、\u003ccode\u003einput\u003c/code\u003e及び\u003ccode\u003eoutput\u003c/code\u003eを指定できる。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"30:1-30:17\"\u003e\n\u003cspan id=\"type-input\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#type-input\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003etype: input\u003c/code\u003e\n\u003c/h3\u003e\n\u003cp data-sourcepos=\"32:1-32:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F58d6af9e-fc59-2e7a-17bb-0a5aa78cb248.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=45d426b9c4c6c68e2351eecb15b454bc\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F58d6af9e-fc59-2e7a-17bb-0a5aa78cb248.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=45d426b9c4c6c68e2351eecb15b454bc\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F58d6af9e-fc59-2e7a-17bb-0a5aa78cb248.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=037738baec580ac7f29622b7a10a3fca 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/58d6af9e-fc59-2e7a-17bb-0a5aa78cb248.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"34:1-35:36\"\u003eこのように下方向にだけ接続できる。\u003cbr\u003e\nスタートで使うイメージ。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"37:1-37:18\"\u003e\n\u003cspan id=\"type-output\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#type-output\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003etype: output\u003c/code\u003e\n\u003c/h3\u003e\n\u003cp data-sourcepos=\"39:1-39:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F89447f6b-a4d1-f7dc-2af8-955058e0e29a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5e9c4d0ad0abe757b7d9bedcab2d6979\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F89447f6b-a4d1-f7dc-2af8-955058e0e29a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5e9c4d0ad0abe757b7d9bedcab2d6979\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F89447f6b-a4d1-f7dc-2af8-955058e0e29a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a19271b7cd08b318aebbef3bd5b5de17 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/89447f6b-a4d1-f7dc-2af8-955058e0e29a.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"41:1-42:33\"\u003einputの反対で、上方向にだけ接続できる。\u003cbr\u003e\nゴールで使うイメージ。\u003c/p\u003e\n\u003cp data-sourcepos=\"44:1-44:64\"\u003eまた、\u003ccode\u003elabel\u003c/code\u003eで指定すると、文字が入れられる。\u003c/p\u003e\n\u003cp data-sourcepos=\"46:1-46:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa122604c-f694-692f-b8a5-b688d3a194c5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5066f6a138430156f38a841d29d2c1b2\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa122604c-f694-692f-b8a5-b688d3a194c5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5066f6a138430156f38a841d29d2c1b2\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa122604c-f694-692f-b8a5-b688d3a194c5.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=503dcf726a837406760b81441bb08322 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a122604c-f694-692f-b8a5-b688d3a194c5.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"49:1-49:13\"\u003e\n\u003cspan id=\"edgeとは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#edge%E3%81%A8%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eEdgeとは\u003c/h2\u003e\n\u003cp data-sourcepos=\"51:1-51:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe2ec8ace-7bc2-8976-a1a1-7771749369e4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=89dcba5c6fe208dffb94f7c42a800f2d\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe2ec8ace-7bc2-8976-a1a1-7771749369e4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=89dcba5c6fe208dffb94f7c42a800f2d\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe2ec8ace-7bc2-8976-a1a1-7771749369e4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=412999fa122d5b8238e47445ddee799e 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e2ec8ace-7bc2-8976-a1a1-7771749369e4.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"53:1-53:21\"\u003eこいつのこと。\u003c/p\u003e\n\u003cp data-sourcepos=\"55:1-55:124\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa72c8601-dd36-0794-1abb-f75325491bab.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3ee5f9986e77d3a4854c93ee67981ca3\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa72c8601-dd36-0794-1abb-f75325491bab.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3ee5f9986e77d3a4854c93ee67981ca3\" alt=\"animate.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa72c8601-dd36-0794-1abb-f75325491bab.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9e0fb6711993e38cdcef6cc8c3298359 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a72c8601-dd36-0794-1abb-f75325491bab.gif\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"57:1-57:58\"\u003e\u003ccode\u003eanimated: true\u003c/code\u003eでアニメーションを付けたり、\u003c/p\u003e\n\u003cp data-sourcepos=\"59:1-59:70\"\u003e\u003ccode\u003emarkerEnd: ○○\u003c/code\u003eで終点を変えたりすることができる。\u003c/p\u003e\n\u003cp data-sourcepos=\"61:1-61:64\"\u003eまた、\u003ccode\u003elabel\u003c/code\u003eで指定すると、文字が入れられる。\u003c/p\u003e\n\u003cp data-sourcepos=\"63:1-63:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F612c7d74-0629-38f7-9a3f-7ff22abcac7e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9ad02ce21ceaf199170ff77531758013\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F612c7d74-0629-38f7-9a3f-7ff22abcac7e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=9ad02ce21ceaf199170ff77531758013\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F612c7d74-0629-38f7-9a3f-7ff22abcac7e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=79778568f1ae596044ee2f7265356b0e 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/612c7d74-0629-38f7-9a3f-7ff22abcac7e.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch1 data-sourcepos=\"65:1-65:11\"\u003e\n\u003cspan id=\"使い方\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%BF%E3%81%84%E6%96%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e使い方\u003c/h1\u003e\n\u003cp data-sourcepos=\"67:1-67:114\"\u003e\u003ccode\u003eVueFlow\u003c/code\u003eコンポーネントに\u003ccode\u003enode\u003c/code\u003eや\u003ccode\u003eedge\u003c/code\u003e情報が入ったオブジェクトを渡してあげるだけ。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"70:1-89:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003esetup\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ts\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eVueFlow\u003c/span\u003e  \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@vue-flow/core\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eref\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003evue\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@vue-flow/core/dist/style.css\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@vue-flow/core/dist/theme-default.css\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eelements\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003eref\u003c/span\u003e\u003cspan class=\"p\"\u003e([\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003einput\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003elabel\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eNode 1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003eposition\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e250\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e5\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e2\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003elabel\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eNode 2\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003eposition\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e100\u003c/span\u003e \u003cspan class=\"p\"\u003e},\u003c/span\u003e \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e3\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003elabel\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eNode 3\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003eposition\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e400\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e100\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e4\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003etype\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eoutput\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003elabel\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eNode 4\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003eposition\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003ex\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e400\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ey\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e200\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ee1-3\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003esource\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003etarget\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e3\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ee1-2\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003esource\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003etarget\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e2\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003eanimated\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\u003cspan class=\"p\"\u003e])\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003etemplate\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;VueFlow\u003c/span\u003e \u003cspan class=\"na\"\u003ev-model=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"elements\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003etemplate\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"91:1-91:121\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8efdc924-2e87-ea44-57a3-7c62071b4183.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=31e85fa48089595542351df1083940e8\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8efdc924-2e87-ea44-57a3-7c62071b4183.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=31e85fa48089595542351df1083940e8\" alt=\"flow.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8efdc924-2e87-ea44-57a3-7c62071b4183.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8da0010f5aa698dd335341ff33c2c080 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/8efdc924-2e87-ea44-57a3-7c62071b4183.gif\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"93:1-93:28\"\u003e参考) 公式\u003ccode\u003eBasicExample\u003c/code\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"96:1-97:45\"\u003e紹介したNodeの\u003ccode\u003etype\u003c/code\u003eや、Edgeの\u003ccode\u003eanimated\u003c/code\u003e以外にも様々なPropsが用意されているので、\u003cbr\u003e\nいろいろなことができそうですね\u003c/p\u003e\n",
    "body": "# はじめに\n\n組織図のようなものを作成できるツールを探していたところ、\n[Vue Flow](https://vueflow.dev/)を発見。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/bf123cbe-42f0-61f6-d073-f56bee77f86f.png)\n\n早速使ってみました。\n\n# 導入\n\nvue-flowの本体と、各コンポーネントを必要に応じてインストール\n\n```bash\n// vue-flow本体\nyarn add @vue-flow/core\n// 各コンポーネント\nyarn add @vue-flow/background @vue-flow/controls @vue-flow/core @vue-flow/minimap @vue-flow/node-toolbar\n```\n\n# 用語\n\n## Nodeとは\n\nこいつのこと。\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/7492d713-3aa2-09be-42bf-9721792a011b.png)\n\ntypeを指定でき、`input`及び`output`を指定できる。\n\n### `type: input`\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/58d6af9e-fc59-2e7a-17bb-0a5aa78cb248.png)\n\nこのように下方向にだけ接続できる。\nスタートで使うイメージ。\n\n### `type: output`\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/89447f6b-a4d1-f7dc-2af8-955058e0e29a.png)\n\ninputの反対で、上方向にだけ接続できる。\nゴールで使うイメージ。\n\nまた、`label`で指定すると、文字が入れられる。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a122604c-f694-692f-b8a5-b688d3a194c5.png)\n\n\n## Edgeとは\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e2ec8ace-7bc2-8976-a1a1-7771749369e4.png)\n\nこいつのこと。\n\n![animate.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a72c8601-dd36-0794-1abb-f75325491bab.gif)\n\n`animated: true`でアニメーションを付けたり、\n\n`markerEnd: ○○`で終点を変えたりすることができる。\n\nまた、`label`で指定すると、文字が入れられる。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/612c7d74-0629-38f7-9a3f-7ff22abcac7e.png)\n\n# 使い方\n\n`VueFlow`コンポーネントに`node`や`edge`情報が入ったオブジェクトを渡してあげるだけ。\n\n\n```vue\n\u003cscript setup lang=\"ts\"\u003e\nimport { VueFlow  } from '@vue-flow/core'\nimport { ref } from 'vue'\nimport '@vue-flow/core/dist/style.css'\nimport '@vue-flow/core/dist/theme-default.css'\n\nconst elements = ref([\n  { id: '1', type: 'input', label: 'Node 1', position: { x: 250, y: 5 } },\n  { id: '2', label: 'Node 2', position: { x: 100, y: 100 }, },\n  { id: '3', label: 'Node 3', position: { x: 400, y: 100 } },\n  { id: '4', type: 'output', label: 'Node 4', position: { x: 400, y: 200 } },\n  { id: 'e1-3', source: '1', target: '3' },\n  { id: 'e1-2', source: '1', target: '2', animated: true },\n])\n\u003c/script\u003e\n\u003ctemplate\u003e\n  \u003cVueFlow v-model=\"elements\" /\u003e\n\u003c/template\u003e\n```\n\n![flow.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/8efdc924-2e87-ea44-57a3-7c62071b4183.gif)\n\n参考) 公式`BasicExample`\n\n\n紹介したNodeの`type`や、Edgeの`animated`以外にも様々なPropsが用意されているので、\nいろいろなことができそうですね\n\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2022-12-23T15:54:11+09:00",
    "group": null,
    "id": "f5ca03ee41380a2a64b1",
    "likes_count": 1,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 1,
    "tags": [
      { "name": "JavaScript", "versions": [] },
      { "name": "Vue.js", "versions": [] }
    ],
    "title": "Vue Flow触ってみた",
    "updated_at": "2023-01-06T10:43:22+09:00",
    "url": "https://qiita.com/maaaashi/items/f5ca03ee41380a2a64b1",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch2 data-sourcepos=\"1:1-1:15\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h2\u003e\n\u003cp data-sourcepos=\"3:1-3:227\"\u003eSvelteKitで作成したSSR(サーバーサイドレンダリング)のアプリケーションをVercelではなく、AWS上にデプロイしたく、試行錯誤した時の記録をここにメモとして投稿します。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"5:1-5:36\"\u003e\n\u003cspan id=\"1-ssrの仕組みを調べた\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-ssr%E3%81%AE%E4%BB%95%E7%B5%84%E3%81%BF%E3%82%92%E8%AA%BF%E3%81%B9%E3%81%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. SSRの仕組みを調べた。\u003c/h2\u003e\n\u003cp data-sourcepos=\"7:1-7:146\"\u003eSSR(サーバーサイドレンダリング)とは、サーバー再度でレンダリング(HTMLを生成)し、レスポンスを返すこと。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:99\"\u003eAWSでやる場合はlambdaに処理を持たせて、API Gateway経由でHTMLを表示させる。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"11:1-11:45\"\u003e\n\u003cspan id=\"2-sveltekitのデプロイ方法を探る\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-sveltekit%E3%81%AE%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4%E6%96%B9%E6%B3%95%E3%82%92%E6%8E%A2%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. SvelteKitのデプロイ方法を探る\u003c/h2\u003e\n\u003cp data-sourcepos=\"13:1-14:141\"\u003enextjsやnuxtjsと同じようにbuildの形をいい感じに変えることができ、\u003cbr\u003e\n標準では\u003ccode\u003e@sveltejs/adapter-auto\u003c/code\u003eというアダプターによりデプロイ用のアウトプットファイルを生成している。\u003c/p\u003e\n\u003cp data-sourcepos=\"16:1-16:40\"\u003e標準の@sveltejs/adapter-autoでは、\u003c/p\u003e\n\u003cul data-sourcepos=\"18:1-21:0\"\u003e\n\u003cli data-sourcepos=\"18:1-18:18\"\u003eCloudflare Pages\u003c/li\u003e\n\u003cli data-sourcepos=\"19:1-19:9\"\u003eNetlify\u003c/li\u003e\n\u003cli data-sourcepos=\"20:1-21:0\"\u003eVercel\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"22:1-22:27\"\u003eにはデプロイ可能。\u003c/p\u003e\n\u003cp data-sourcepos=\"24:1-24:69\"\u003eAWSにデプロイするためにはどうしたらいいんだ～～\u003c/p\u003e\n\u003ch2 data-sourcepos=\"26:1-26:39\"\u003e\n\u003cspan id=\"3-一回諦めてspaに妥協した\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-%E4%B8%80%E5%9B%9E%E8%AB%A6%E3%82%81%E3%81%A6spa%E3%81%AB%E5%A6%A5%E5%8D%94%E3%81%97%E3%81%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. 一回諦めてSPAに妥協した\u003c/h2\u003e\n\u003cp data-sourcepos=\"28:1-28:128\"\u003eSPA用のアダプターとして、'@sveltejs/adapter-static'というものがあったので、そちらで試してみる。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"30:1-30:26\"\u003e\n\u003cspan id=\"yarnインストール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#yarn%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eyarnインストール\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"32:1-34:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eyarn add '@sveltejs/adapter-static'\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"37:1-37:28\"\u003e\n\u003cspan id=\"アダプターを設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A2%E3%83%80%E3%83%97%E3%82%BF%E3%83%BC%E3%82%92%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eアダプターを設定\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"39:1-41:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003esvelte.config.js\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eadapter\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@sveltejs/adapter-static\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch3 data-sourcepos=\"43:1-43:15\"\u003e\n\u003cspan id=\"build実行\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#build%E5%AE%9F%E8%A1%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003ebuild実行\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"45:1-47:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eyarn build\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"49:1-49:70\"\u003e\u003cfont color=\"red\"\u003e何かよく分からないエラー再び...\u003c/font\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"51:1-51:39\"\u003eprerenderがなんとかかんとか...\u003c/p\u003e\n\u003ch2 data-sourcepos=\"53:1-53:62\"\u003e\n\u003cspan id=\"4-prerenderをlayouttsでtrueにすればよいらしい\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#4-prerender%E3%82%92layoutts%E3%81%A7true%E3%81%AB%E3%81%99%E3%82%8C%E3%81%B0%E3%82%88%E3%81%84%E3%82%89%E3%81%97%E3%81%84\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e4. prerenderを+layout.tsでtrueにすればよいらしい\u003c/h2\u003e\n\u003cp data-sourcepos=\"55:1-55:81\"\u003e\u003cfont color=\"red\"\u003e[id].svelteではprerenderできないというエラー\u003c/font\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"57:1-57:109\"\u003eprerenderをtrueにすると、事前にレンダリングをしておくことができるというもの。\u003c/p\u003e\n\u003cp data-sourcepos=\"59:1-60:79\"\u003e確かに[id]のようなページでは事前にレンダリングしておくことはできないですね...\u003cbr\u003e\n(やる方法もありそうでしたが、よくわかりませんでした..)\u003c/p\u003e\n\u003ch3 data-sourcepos=\"62:1-62:67\"\u003e\n\u003cspan id=\"spaでデプロイするのは諦めてssrに戻ります\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#spa%E3%81%A7%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4%E3%81%99%E3%82%8B%E3%81%AE%E3%81%AF%E8%AB%A6%E3%82%81%E3%81%A6ssr%E3%81%AB%E6%88%BB%E3%82%8A%E3%81%BE%E3%81%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eSPAでデプロイするのは諦めて、SSRに戻ります。\u003c/h3\u003e\n\u003ch2 data-sourcepos=\"64:1-64:39\"\u003e\n\u003cspan id=\"aws用のアダプターを発見\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#aws%E7%94%A8%E3%81%AE%E3%82%A2%E3%83%80%E3%83%97%E3%82%BF%E3%83%BC%E3%82%92%E7%99%BA%E8%A6%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAWS用のアダプターを発見！\u003c/h2\u003e\n\u003cp data-sourcepos=\"66:1-67:30\"\u003e\u003ca href=\"https://github.com/MikeBild/sveltekit-adapter-aws\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://github.com/MikeBild/sveltekit-adapter-aws\u003c/a\u003e\u003cbr\u003e\nこちらを使ってみる。\u003c/p\u003e\n\u003col data-sourcepos=\"70:1-72:0\"\u003e\n\u003cli data-sourcepos=\"70:1-70:33\"\u003eyarn add sveltekit-adapter-aws\u003c/li\u003e\n\u003cli data-sourcepos=\"71:1-72:0\"\u003esvelte.config.js編集\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"73:1-81:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e// svelte.config.js\nimport { adapter } from 'sveltekit-adapter-aws'\n・・・省略\n    adapter: adapter({\n      autoDeploy: true,\n    }),\n・・・省略\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"83:1-83:72\"\u003eビルドの後に自動でデプロイされるようにしました。\u003c/p\u003e\n\u003cp data-sourcepos=\"85:1-85:15\"\u003e結果。。。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"87:1-87:58\"\u003e\n\u003cspan id=\"cloudfrontでnameエラー\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#cloudfront%E3%81%A7name%E3%82%A8%E3%83%A9%E3%83%BC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cfont color=\"red\"\u003eCloudFrontでnameエラー。\u003c/font\u003e\n\u003c/h3\u003e\n\u003cp data-sourcepos=\"89:1-89:78\"\u003e400エラーで何かの名前に使えない文字があるらしい。。。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"91:1-91:38\"\u003e\n\u003cspan id=\"なぜ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AA%E3%81%9C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003cfont color=\"red\"\u003eなぜ...\u003c/font\u003e\n\u003c/h3\u003e\n\u003cp data-sourcepos=\"94:1-94:43\"\u003eこの後しばらく放置しました...w\u003c/p\u003e\n\u003ch2 data-sourcepos=\"97:1-97:34\"\u003e\n\u003cspan id=\"原因--修正--成功\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%8E%9F%E5%9B%A0--%E4%BF%AE%E6%AD%A3--%E6%88%90%E5%8A%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e原因 ⇒ 修正 ⇒ 成功！\u003c/h2\u003e\n\u003cp data-sourcepos=\"99:1-99:111\"\u003e失敗しているCloudFormationのテンプレートを確認すると、CloudFrontの箇所に違和感が...\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"101:1-105:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e・・・省略\n      '??.png'\n・・・省略\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch2 data-sourcepos=\"107:1-107:27\"\u003e\n\u003cspan id=\"んなんだこれは\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%93%E3%81%AA%E3%82%93%E3%81%A0%E3%81%93%E3%82%8C%E3%81%AF\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eん？なんだこれは\u003c/h2\u003e\n\u003cp data-sourcepos=\"109:1-109:39\"\u003eソースコードを確認すると、\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"111:1-114:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e|- static\n  |- ロゴ.png\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"116:1-116:55\"\u003e\u003cfont color=\"red\"\u003eこれかもしれない...！\u003c/font\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"118:1-118:109\"\u003eということで\u003ccode\u003eロゴ.png\u003c/code\u003eを\u003ccode\u003elogo.png\u003c/code\u003eに変更したところ無事デプロイ完了！ヤッター！\u003c/p\u003e\n",
    "body": "## はじめに\n\nSvelteKitで作成したSSR(サーバーサイドレンダリング)のアプリケーションをVercelではなく、AWS上にデプロイしたく、試行錯誤した時の記録をここにメモとして投稿します。\n\n## 1. SSRの仕組みを調べた。\n\nSSR(サーバーサイドレンダリング)とは、サーバー再度でレンダリング(HTMLを生成)し、レスポンスを返すこと。\n\nAWSでやる場合はlambdaに処理を持たせて、API Gateway経由でHTMLを表示させる。\n\n## 2. SvelteKitのデプロイ方法を探る\n\nnextjsやnuxtjsと同じようにbuildの形をいい感じに変えることができ、  \n標準では`@sveltejs/adapter-auto`というアダプターによりデプロイ用のアウトプットファイルを生成している。\n\n標準の@sveltejs/adapter-autoでは、\n\n* Cloudflare Pages\n* Netlify\n* Vercel\n\nにはデプロイ可能。\n\nAWSにデプロイするためにはどうしたらいいんだ～～\n\n## 3. 一回諦めてSPAに妥協した\n\nSPA用のアダプターとして、'@sveltejs/adapter-static'というものがあったので、そちらで試してみる。\n\n### yarnインストール\n\n```\nyarn add '@sveltejs/adapter-static'\n```\n\n\n### アダプターを設定\n   \n```typescript:svelte.config.js\nimport { adapter } from '@sveltejs/adapter-static'\n```\n\n### build実行\n\n```bash\nyarn build\n```\n\n\u003cfont color=\"red\"\u003e何かよく分からないエラー再び...\u003c/font\u003e\n\nprerenderがなんとかかんとか...\n\n## 4. prerenderを+layout.tsでtrueにすればよいらしい\n\n\u003cfont color=\"red\"\u003e[id].svelteではprerenderできないというエラー\u003c/font\u003e\n\nprerenderをtrueにすると、事前にレンダリングをしておくことができるというもの。\n\n確かに[id]のようなページでは事前にレンダリングしておくことはできないですね...\n(やる方法もありそうでしたが、よくわかりませんでした..)\n\n### SPAでデプロイするのは諦めて、SSRに戻ります。\n\n## AWS用のアダプターを発見！\n\n[https://github.com/MikeBild/sveltekit-adapter-aws](https://github.com/MikeBild/sveltekit-adapter-aws)\nこちらを使ってみる。\n\n\n1. yarn add sveltekit-adapter-aws\n2. svelte.config.js編集\n\n```\n// svelte.config.js\nimport { adapter } from 'sveltekit-adapter-aws'\n・・・省略\n    adapter: adapter({\n      autoDeploy: true,\n    }),\n・・・省略\n```\n\nビルドの後に自動でデプロイされるようにしました。\n\n結果。。。\n\n### \u003cfont color=\"red\"\u003eCloudFrontでnameエラー。\u003c/font\u003e\n\n400エラーで何かの名前に使えない文字があるらしい。。。\n\n### \u003cfont color=\"red\"\u003eなぜ...\u003c/font\u003e\n\n\nこの後しばらく放置しました...w\n\n\n## 原因 ⇒ 修正 ⇒ 成功！\n\n失敗しているCloudFormationのテンプレートを確認すると、CloudFrontの箇所に違和感が...\n\n```\n・・・省略\n      '??.png'\n・・・省略\n```\n\n## ん？なんだこれは\n\nソースコードを確認すると、\n\n```\n|- static\n  |- ロゴ.png\n```\n\n\u003cfont color=\"red\"\u003eこれかもしれない...！\u003c/font\u003e\n\nということで`ロゴ.png`を`logo.png`に変更したところ無事デプロイ完了！ヤッター！\n\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2022-12-23T14:57:10+09:00",
    "group": null,
    "id": "87a9d3e2f156662083bc",
    "likes_count": 2,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 1,
    "tags": [
      { "name": "JavaScript", "versions": [] },
      { "name": "Svelte", "versions": [] },
      { "name": "SvelteKit", "versions": [] }
    ],
    "title": "SvelteKitのSSRをAWS上にデプロイ",
    "updated_at": "2022-12-25T11:08:19+09:00",
    "url": "https://qiita.com/maaaashi/items/87a9d3e2f156662083bc",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-3:60\"\u003e部署の新人からよくこんな話を聞きました。\u003c/p\u003e\n\u003cul data-sourcepos=\"5:1-8:0\"\u003e\n\u003cli data-sourcepos=\"5:1-5:92\"\u003e\n\u003ccode\u003eTypeScript\u003c/code\u003eって難しそうで環境作る時には\u003ccode\u003eJavaScript\u003c/code\u003eを選んじゃいます\u003c/li\u003e\n\u003cli data-sourcepos=\"6:1-6:26\"\u003e型って何ですか？\u003c/li\u003e\n\u003cli data-sourcepos=\"7:1-8:0\"\u003e\n\u003ccode\u003eJavaScript\u003c/code\u003eと何が違うんですか？\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"9:1-11:54\"\u003e\u003ccode\u003eTypeScript\u003c/code\u003eは絶対に使っていきたいので、\u003cbr\u003e\n部署の新人向けにTypeScript勉強会を開催しました。\u003cbr\u003e\nその時のメモをこちらにも公開します。\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:93\"\u003e同じような悩みを抱えた方の負担が少しでも解消されれば幸いです。\u003c/p\u003e\n\u003cp data-sourcepos=\"15:1-15:119\"\u003e\u003cfont color=\"red\"\u003e※私もTypeScriptの勉強を始めてまだ日が浅いので色々ご容赦ください...\u003c/font\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"17:1-17:51\"\u003e前回の記事の続きとなっております。\u003c/p\u003e\n\u003cp data-sourcepos=\"19:1-19:57\"\u003e\u003ciframe id=\"qiita-embed-content__f48995cd286e6767efe1046ec2c8f43e\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__f48995cd286e6767efe1046ec2c8f43e\" data-content=\"https%3A%2F%2Fqiita.com%2Fdoyaseizin%2Fprivate%2Fe6191ed4294b625c7e9c\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch2 data-sourcepos=\"21:1-21:37\"\u003e\n\u003cspan id=\"なんでtypescriptを使うの\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AA%E3%82%93%E3%81%A7typescript%E3%82%92%E4%BD%BF%E3%81%86%E3%81%AE\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eなんでTypeScriptを使うの？\u003c/h2\u003e\n\u003cp data-sourcepos=\"23:1-23:49\"\u003e大きく分けて3つの利点があります。\u003c/p\u003e\n\u003col data-sourcepos=\"25:1-28:0\"\u003e\n\u003cli data-sourcepos=\"25:1-25:18\"\u003e静的型付け\u003c/li\u003e\n\u003cli data-sourcepos=\"26:1-26:12\"\u003e型推論\u003c/li\u003e\n\u003cli data-sourcepos=\"27:1-28:0\"\u003eNull 安全性\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 data-sourcepos=\"29:1-29:40\"\u003e\n\u003cspan id=\"1-静的型付けってなぁに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-%E9%9D%99%E7%9A%84%E5%9E%8B%E4%BB%98%E3%81%91%E3%81%A3%E3%81%A6%E3%81%AA%E3%81%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. 静的型付けってなぁに？\u003c/h3\u003e\n\u003cp data-sourcepos=\"31:1-31:79\"\u003e実はJavaScriptにも動的型付けといって型は存在しています。\u003c/p\u003e\n\u003cp data-sourcepos=\"33:1-33:63\"\u003e次を実行してnodeJSの環境に入って試してみよう\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"35:1-38:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e$ docker run -it node:19-alpine3.16 sh\n/ # node\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"40:1-50:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"nb\"\u003elet \u003c/span\u003ehoge \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s1\"\u003e'あいうえお'\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e undefined\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e typeof hoge\n\u003cspan class=\"s1\"\u003e'string'\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e hoge \u003cspan class=\"o\"\u003e=\u003c/span\u003e 123\n123\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e typeof hoge\n\u003cspan class=\"s1\"\u003e'number'\u003c/span\u003e\n\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e .exit\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"52:1-52:91\"\u003estringで定義したhogeが、123を代入するとnumberの型に変化していますね\u003c/p\u003e\n\u003cp data-sourcepos=\"54:1-54:55\"\u003e次に同じことをTypeScriptでやってみます。\u003c/p\u003e\n\u003cp data-sourcepos=\"56:1-56:93\"\u003e\u003ca href=\"https://www.typescriptlang.org/play\" rel=\"nofollow noopener\" target=\"_blank\"\u003eTypeScript Playground\u003c/a\u003eを使って試してみます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"58:1-62:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003ehoge\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eあいうえお\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003ehoge\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e123\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"64:1-64:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F71c29018-3ec4-ca2e-64b5-ae2a36a81eae.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4806d2b59694e5b8b8902d2def336c52\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F71c29018-3ec4-ca2e-64b5-ae2a36a81eae.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4806d2b59694e5b8b8902d2def336c52\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F71c29018-3ec4-ca2e-64b5-ae2a36a81eae.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=e5cd2f64a217fbedce43b7edbf423830 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/71c29018-3ec4-ca2e-64b5-ae2a36a81eae.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"66:1-68:81\"\u003e文字列に対して数字を入れようとしたのでエラーになりましたね！\u003cbr\u003e\nこれが静的型付けです。\u003cbr\u003e\nこの型付けによって予期しない代入を防ぐことができます。\u003c/p\u003e\n\u003cp data-sourcepos=\"71:1-71:49\"\u003e型の付け方には大きく2つあります。\u003c/p\u003e\n\u003cul data-sourcepos=\"73:1-100:0\"\u003e\n\u003cli data-sourcepos=\"73:1-95:29\"\u003eプリミティブ型\n\u003cul data-sourcepos=\"74:5-95:29\"\u003e\n\u003cli data-sourcepos=\"74:5-77:27\"\u003eBoolean\n\u003cul data-sourcepos=\"75:9-77:27\"\u003e\n\u003cli data-sourcepos=\"75:9-75:23\"\u003etrue or false\u003c/li\u003e\n\u003cli data-sourcepos=\"76:9-76:43\"\u003e真偽値を扱うデータ型。\u003c/li\u003e\n\u003cli data-sourcepos=\"77:9-77:27\"\u003e型名は boolean\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"78:5-80:26\"\u003eNumber型\n\u003cul data-sourcepos=\"79:9-80:26\"\u003e\n\u003cli data-sourcepos=\"79:9-79:49\"\u003e数値を扱うためのデータ型。\u003c/li\u003e\n\u003cli data-sourcepos=\"80:9-80:26\"\u003e型名は number\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"81:5-83:26\"\u003eBigInt型\n\u003cul data-sourcepos=\"82:9-83:26\"\u003e\n\u003cli data-sourcepos=\"82:9-82:90\"\u003enumber型では表現できない大きな数値（ 253 以上）を扱う型。\u003c/li\u003e\n\u003cli data-sourcepos=\"83:9-83:26\"\u003e型名は bigint\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"84:5-86:26\"\u003eString型\n\u003cul data-sourcepos=\"85:9-86:26\"\u003e\n\u003cli data-sourcepos=\"85:9-85:52\"\u003e文字列を扱うためのデータ型。\u003c/li\u003e\n\u003cli data-sourcepos=\"86:9-86:26\"\u003e型名は string\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"87:5-89:26\"\u003eSymbol型\n\u003cul data-sourcepos=\"88:9-89:26\"\u003e\n\u003cli data-sourcepos=\"88:9-88:85\"\u003e「シンボル値」という固有の識別子を表現する値の型。\u003c/li\u003e\n\u003cli data-sourcepos=\"89:9-89:26\"\u003e型名は symbol\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"90:5-92:24\"\u003eNull型\n\u003cul data-sourcepos=\"91:9-92:24\"\u003e\n\u003cli data-sourcepos=\"91:9-91:76\"\u003e何のデータも含まれない状態を明示的に表す値。\u003c/li\u003e\n\u003cli data-sourcepos=\"92:9-92:24\"\u003e型名は null\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"93:5-95:29\"\u003eUndefined型\n\u003cul data-sourcepos=\"94:9-95:29\"\u003e\n\u003cli data-sourcepos=\"94:9-94:55\"\u003e「未定義」であることを表す値。\u003c/li\u003e\n\u003cli data-sourcepos=\"95:9-95:29\"\u003e型名は undefined\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"96:1-100:0\"\u003eリテラル型\n\u003cul data-sourcepos=\"97:5-100:0\"\u003e\n\u003cli data-sourcepos=\"97:5-97:51\"\u003e「文字通りの」という意味です。\u003c/li\u003e\n\u003cli data-sourcepos=\"98:5-98:66\"\u003e特定のものだけを指定するときに使います。\u003c/li\u003e\n\u003cli data-sourcepos=\"99:5-100:0\"\u003e次の例でイメージしてください。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"101:1-107:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// リテラル型\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// ポチしか入らない変数\u003c/span\u003e\n\u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003emy_dog\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ePochi\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ePochi\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 犬か猫しか入らない\u003c/span\u003e\n\u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003emy_pet\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003edog\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e \u003cspan class=\"o\"\u003e|\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ecat\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003edog\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"109:1-109:99\"\u003eまた、エイリアスとインターフェースというものも使うことができます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"111:1-137:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// エイリアス\u003c/span\u003e\n\u003cspan class=\"kd\"\u003etype\u003c/span\u003e \u003cspan class=\"nx\"\u003eTypeHoge\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eage\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003enumber\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003euser_1\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eTypeHoge\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e木村太郎\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eage\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e50\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// インターフェース\u003c/span\u003e\n\u003cspan class=\"kr\"\u003einterface\u003c/span\u003e \u003cspan class=\"nx\"\u003eInterfaceHoge\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003eage\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003enumber\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// インターフェースは再代入が可能\u003c/span\u003e\n\u003cspan class=\"kr\"\u003einterface\u003c/span\u003e \u003cspan class=\"nx\"\u003eInterfaceHoge\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nl\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kr\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003euser_2\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eInterfaceHoge\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e木村太郎\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eage\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e50\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"138:1-138:34\"\u003e\n\u003cspan id=\"2-型推論ってなぁに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-%E5%9E%8B%E6%8E%A8%E8%AB%96%E3%81%A3%E3%81%A6%E3%81%AA%E3%81%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. 型推論ってなぁに？\u003c/h3\u003e\n\u003cp data-sourcepos=\"140:1-141:100\"\u003eとても簡単です。\u003cbr\u003e\nわざわざ型を書かなくてもTypeScriptがいい感じに推論してくれる機能です。\u003c/p\u003e\n\u003cp data-sourcepos=\"143:1-143:27\"\u003e例を見てみましょう\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"145:1-148:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003ehoge\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e \u003cspan class=\"o\"\u003e+\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"nx\"\u003ehoge\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eテスト\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"150:1-150:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F001f7bfc-23f5-de94-500b-180d97ae93ac.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=94fcb5e4e03391a41eb5ed6271228402\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F001f7bfc-23f5-de94-500b-180d97ae93ac.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=94fcb5e4e03391a41eb5ed6271228402\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F001f7bfc-23f5-de94-500b-180d97ae93ac.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=82738062f025ce561946a19c0189db62 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/001f7bfc-23f5-de94-500b-180d97ae93ac.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"152:1-154:30\"\u003ehogeには2+2としか指定していませんが、きちんとnumber型と認識し、テストという文字列が代入されるのをブロックしていますね\u003cbr\u003e\nTypeScriptで書く上で、全てに型を書く必要はなく、このようにTypeScriptがいい感じに推論してくれる。\u003cbr\u003e\nこれが型の推論です。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"156:1-156:20\"\u003e\n\u003cspan id=\"3-null安全性\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-null%E5%AE%89%E5%85%A8%E6%80%A7\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. null安全性\u003c/h3\u003e\n\u003cp data-sourcepos=\"158:1-159:54\"\u003eプログラミングをしていて一番多いバグは\u003ccode\u003eNULL\u003c/code\u003eアクセスと言われています。\u003cbr\u003e\nRubyなら\u003ccode\u003enil\u003c/code\u003eに対する\u003ccode\u003eNoMethodError\u003c/code\u003eですね。\u003c/p\u003e\n\u003cp data-sourcepos=\"161:1-161:148\"\u003eTypeScriptはこの\u003ccode\u003eNULL\u003c/code\u003eアクセスエラーになる可能性があるのであればコンパイルの段階でチェックしてくれます。\u003c/p\u003e\n\u003cp data-sourcepos=\"163:1-164:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9c8800f3-964d-f255-54a7-f63c2fb87728.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0959feb4157459567208c8cab80b7fb7\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9c8800f3-964d-f255-54a7-f63c2fb87728.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=0959feb4157459567208c8cab80b7fb7\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9c8800f3-964d-f255-54a7-f63c2fb87728.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=cfb9b3e160f05e77670c2c2828298aad 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/9c8800f3-964d-f255-54a7-f63c2fb87728.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003cbr\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1964528c-96e9-faf8-f846-dfc96d0d0bf9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=74b55c02ed955d1368c879d4e1e2ee60\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1964528c-96e9-faf8-f846-dfc96d0d0bf9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=74b55c02ed955d1368c879d4e1e2ee60\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1964528c-96e9-faf8-f846-dfc96d0d0bf9.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=5ff26a3864b62ffb074f3364bb70a0bf 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/1964528c-96e9-faf8-f846-dfc96d0d0bf9.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"166:1-166:93\"\u003eVScodeを使っていれば、リアルタイムにこのように指摘してくれます。\u003c/p\u003e\n\u003cp data-sourcepos=\"168:1-168:114\"\u003eVimやEmacsではなかなか難しいと思うので、TypeScriptを書くならばVScodeを使いましょう。\u003c/p\u003e\n",
    "body": "# はじめに\n\n部署の新人からよくこんな話を聞きました。\n\n* `TypeScript`って難しそうで環境作る時には`JavaScript`を選んじゃいます\n* 型って何ですか？\n* `JavaScript`と何が違うんですか？\n\n`TypeScript`は絶対に使っていきたいので、\n部署の新人向けにTypeScript勉強会を開催しました。\nその時のメモをこちらにも公開します。\n\n同じような悩みを抱えた方の負担が少しでも解消されれば幸いです。\n\n\u003cfont color=\"red\"\u003e※私もTypeScriptの勉強を始めてまだ日が浅いので色々ご容赦ください...\u003c/font\u003e\n\n前回の記事の続きとなっております。\n\nhttps://qiita.com/doyaseizin/private/e6191ed4294b625c7e9c\n\n## なんでTypeScriptを使うの？\n\n大きく分けて3つの利点があります。\n\n1. 静的型付け\n1. 型推論\n1. Null 安全性\n\n### 1. 静的型付けってなぁに？\n\n実はJavaScriptにも動的型付けといって型は存在しています。\n\n次を実行してnodeJSの環境に入って試してみよう\n\n```\n$ docker run -it node:19-alpine3.16 sh\n/ # node\n```\n\n```bash\n\u003e let hoge = 'あいうえお'\n\u003e undefined\n\u003e typeof hoge\n'string'\n\u003e hoge = 123\n123\n\u003e typeof hoge\n'number'\n\u003e .exit\n```\n\nstringで定義したhogeが、123を代入するとnumberの型に変化していますね\n\n次に同じことをTypeScriptでやってみます。\n\n[TypeScript Playground](https://www.typescriptlang.org/play)を使って試してみます。\n\n```typescript\nlet hoge: string = \"あいうえお\"\n\nhoge = 123;\n```\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/71c29018-3ec4-ca2e-64b5-ae2a36a81eae.png)\n\n文字列に対して数字を入れようとしたのでエラーになりましたね！\nこれが静的型付けです。\nこの型付けによって予期しない代入を防ぐことができます。\n\n\n型の付け方には大きく2つあります。\n\n* プリミティブ型\n    * Boolean\n        * true or false\n        * 真偽値を扱うデータ型。\n        * 型名は boolean\n    * Number型\n        * 数値を扱うためのデータ型。\n        * 型名は number\n    * BigInt型\n        * number型では表現できない大きな数値（ 253 以上）を扱う型。\n        * 型名は bigint\n    * String型\n        * 文字列を扱うためのデータ型。\n        * 型名は string\n    * Symbol型\n        * 「シンボル値」という固有の識別子を表現する値の型。\n        * 型名は symbol\n    * Null型\n        * 何のデータも含まれない状態を明示的に表す値。\n        * 型名は null\n    * Undefined型\n        * 「未定義」であることを表す値。\n        * 型名は undefined\n* リテラル型\n    * 「文字通りの」という意味です。\n    * 特定のものだけを指定するときに使います。\n    * 次の例でイメージしてください。\n\n```typescript\n// リテラル型\n// ポチしか入らない変数\nlet my_dog: 'Pochi' = 'Pochi';\n// 犬か猫しか入らない\nlet my_pet: 'dog' | 'cat' = 'dog';\n```\n\nまた、エイリアスとインターフェースというものも使うことができます。\n\n```typescript\n// エイリアス\ntype TypeHoge = {\n  name: string,\n  age: number\n}\n\nlet user_1: TypeHoge = {\n  name: '木村太郎',\n  age: 50\n};\n\n// インターフェース\ninterface InterfaceHoge {\n  age: number;\n}\n\n// インターフェースは再代入が可能\ninterface InterfaceHoge {\n  name: string;\n}\n\nlet user_2: InterfaceHoge = {\n  name: '木村太郎',\n  age: 50\n};\n```\n### 2. 型推論ってなぁに？\n\nとても簡単です。\nわざわざ型を書かなくてもTypeScriptがいい感じに推論してくれる機能です。\n\n例を見てみましょう\n\n```typescript\nlet hoge = 2 + 2;\nhoge = 'テスト';\n```\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/001f7bfc-23f5-de94-500b-180d97ae93ac.png)\n\nhogeには2+2としか指定していませんが、きちんとnumber型と認識し、テストという文字列が代入されるのをブロックしていますね\nTypeScriptで書く上で、全てに型を書く必要はなく、このようにTypeScriptがいい感じに推論してくれる。\nこれが型の推論です。\n\n### 3. null安全性\n\nプログラミングをしていて一番多いバグは`NULL`アクセスと言われています。\nRubyなら`nil`に対する`NoMethodError`ですね。\n\nTypeScriptはこの`NULL`アクセスエラーになる可能性があるのであればコンパイルの段階でチェックしてくれます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/9c8800f3-964d-f255-54a7-f63c2fb87728.png)\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/1964528c-96e9-faf8-f846-dfc96d0d0bf9.png)\n\nVScodeを使っていれば、リアルタイムにこのように指摘してくれます。\n\nVimやEmacsではなかなか難しいと思うので、TypeScriptを書くならばVScodeを使いましょう。\n\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2022-12-23T14:10:44+09:00",
    "group": null,
    "id": "f124b1359bf188e17a3c",
    "likes_count": 1,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 1,
    "tags": [
      { "name": "JavaScript", "versions": [] },
      { "name": "TypeScript", "versions": [] }
    ],
    "title": "TypeScriptを知ろう。 ー 2. TypeScriptの利点",
    "updated_at": "2022-12-23T14:10:44+09:00",
    "url": "https://qiita.com/maaaashi/items/f124b1359bf188e17a3c",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-3:60\"\u003e部署の新人からよくこんな話を聞きました。\u003c/p\u003e\n\u003cul data-sourcepos=\"5:1-8:0\"\u003e\n\u003cli data-sourcepos=\"5:1-5:92\"\u003e\n\u003ccode\u003eTypeScript\u003c/code\u003eって難しそうで環境作る時には\u003ccode\u003eJavaScript\u003c/code\u003eを選んじゃいます\u003c/li\u003e\n\u003cli data-sourcepos=\"6:1-6:26\"\u003e型って何ですか？\u003c/li\u003e\n\u003cli data-sourcepos=\"7:1-8:0\"\u003e\n\u003ccode\u003eJavaScript\u003c/code\u003eと何が違うんですか？\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"9:1-11:54\"\u003e\u003ccode\u003eTypeScript\u003c/code\u003eは絶対に使っていきたいので、\u003cbr\u003e\n部署の新人向けにTypeScript勉強会を開催しました。\u003cbr\u003e\nその時のメモをこちらにも公開します。\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:93\"\u003e同じような悩みを抱えた方の負担が少しでも解消されれば幸いです。\u003c/p\u003e\n\u003cp data-sourcepos=\"15:1-15:119\"\u003e\u003cfont color=\"red\"\u003e※私もTypeScriptの勉強を始めてまだ日が浅いので色々ご容赦ください...\u003c/font\u003e\u003c/p\u003e\n\u003ch1 data-sourcepos=\"17:1-17:30\"\u003e\n\u003cspan id=\"typescriptってなぁに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#typescript%E3%81%A3%E3%81%A6%E3%81%AA%E3%81%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eTypeScriptってなぁに？\u003c/h1\u003e\n\u003cp data-sourcepos=\"19:1-19:67\"\u003e\u003ccode\u003eTypeScript\u003c/code\u003eはいわゆる、\u003ccode\u003eAltJS\u003c/code\u003eと呼ばれる言語です。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"21:1-21:17\"\u003e\n\u003cspan id=\"altjsって\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#altjs%E3%81%A3%E3%81%A6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAltJSって？\u003c/h2\u003e\n\u003cp data-sourcepos=\"23:1-23:92\"\u003e\u003ccode\u003eAltJS\u003c/code\u003eとは、コンパイルするとJavaScriptになる言語のことを言います。\u003c/p\u003e\n\u003cp data-sourcepos=\"25:1-25:126\"\u003eコンパイルとは、簡単に言うと、ソースコードを解析し、読み取れる形に変換することです。\u003c/p\u003e\n\u003cp data-sourcepos=\"27:1-27:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3b8ac78e-1a19-2ed1-4449-4d15050a47ac.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d7fbcf6cdbd198a7e0255742577f8769\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3b8ac78e-1a19-2ed1-4449-4d15050a47ac.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d7fbcf6cdbd198a7e0255742577f8769\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3b8ac78e-1a19-2ed1-4449-4d15050a47ac.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=677aeed07665ce7c7b0d1195afb22636 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3b8ac78e-1a19-2ed1-4449-4d15050a47ac.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"29:1-29:147\"\u003e\u003ccode\u003eTypeScript\u003c/code\u003eにはコンパイルする機能も付いていて、どの規格の\u003ccode\u003eJavaScript\u003c/code\u003eに変換するか設定することも可能です。\u003c/p\u003e\n\u003cp data-sourcepos=\"31:1-31:63\"\u003e\u003ccode\u003eJavaScript\u003c/code\u003eの規格のことを\u003ccode\u003eECMASCript\u003c/code\u003eといいます。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"33:1-33:22\"\u003e\n\u003cspan id=\"ecmascriptって\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#ecmascript%E3%81%A3%E3%81%A6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eECMAScriptって？\u003c/h2\u003e\n\u003cp data-sourcepos=\"35:1-36:117\"\u003e少し歴史も交えて説明すると、、\u003cbr\u003e\n\u003ccode\u003eJavaScript\u003c/code\u003eはブラウザによる互換性が低く、各ブラウザ間での決まりごとが必要でした。\u003c/p\u003e\n\u003cp data-sourcepos=\"38:1-38:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6b9dda77-9fe9-c431-2444-04c703e47829.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=877fcae75525dce222952c5bcbeb4675\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6b9dda77-9fe9-c431-2444-04c703e47829.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=877fcae75525dce222952c5bcbeb4675\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6b9dda77-9fe9-c431-2444-04c703e47829.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a903f5cd2f8c36cb5edde06ebb1a5916 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6b9dda77-9fe9-c431-2444-04c703e47829.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"40:1-40:63\"\u003eその決まりごとのことを\u003ccode\u003eECMAScript\u003c/code\u003eといいます。\u003c/p\u003e\n\u003cp data-sourcepos=\"42:1-42:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0e8904c3-251f-b022-c843-cc100060e306.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7169d0e4a11c93ae3c58b2ef5cd7a493\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0e8904c3-251f-b022-c843-cc100060e306.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7169d0e4a11c93ae3c58b2ef5cd7a493\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0e8904c3-251f-b022-c843-cc100060e306.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=526dc1bbe13e6d75610c6540ce0272c1 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/0e8904c3-251f-b022-c843-cc100060e306.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"44:1-44:93\"\u003eこれにより、各ブラウザの互換性が生まれるようになったんですね。\u003c/p\u003e\n\u003cp data-sourcepos=\"47:1-48:122\"\u003eそして、\u003ccode\u003eECMAScript\u003c/code\u003eはEditionと呼ばれるバージョンが存在し、ブラウザごとに対応Editionが異なります。\u003cbr\u003e\n作成したアプリが対応しているEditionをターゲットとし、TypeScriptでコンパイルすると、、、\u003c/p\u003e\n\u003cblockquote data-sourcepos=\"50:1-50:56\"\u003e\n\u003cp data-sourcepos=\"50:3-50:56\"\u003e「○○ブラウザで動かないんだけど！」\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp data-sourcepos=\"52:1-52:39\"\u003eということが起きないです。\u003c/p\u003e\n\u003cblockquote data-sourcepos=\"54:1-54:90\"\u003e\n\u003cp data-sourcepos=\"54:3-54:90\"\u003e例) IEはES3までしか対応していないから、ES3にコンパイルしよう！\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp data-sourcepos=\"56:1-56:123\"\u003eブラウザがどの\u003ccode\u003eECMAScript\u003c/code\u003eのバージョンに対応しているかは、以下から確認してください～！\u003c/p\u003e\n\u003cp data-sourcepos=\"58:1-58:81\"\u003e\u003ca href=\"https://kangax.github.io/compat-table/es5/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eECMAScript ブラウザサポート\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"60:1-60:70\"\u003e\n\u003cspan id=\"何となく分かったけどなんでtypescriptを使うの\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%95%E3%81%A8%E3%81%AA%E3%81%8F%E5%88%86%E3%81%8B%E3%81%A3%E3%81%9F%E3%81%91%E3%81%A9%E3%81%AA%E3%82%93%E3%81%A7typescript%E3%82%92%E4%BD%BF%E3%81%86%E3%81%AE\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e何となく分かったけど、なんでTypeScriptを使うの？\u003c/h2\u003e\n\u003cp data-sourcepos=\"62:1-62:49\"\u003e大きく分けて3つの利点があります。\u003c/p\u003e\n\u003col data-sourcepos=\"64:1-67:0\"\u003e\n\u003cli data-sourcepos=\"64:1-64:18\"\u003e静的型付け\u003c/li\u003e\n\u003cli data-sourcepos=\"65:1-65:12\"\u003e型推論\u003c/li\u003e\n\u003cli data-sourcepos=\"66:1-67:0\"\u003eNull 安全性\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"68:1-68:51\"\u003e次回は利点について書いていきます。\u003c/p\u003e\n",
    "body": "# はじめに\n\n部署の新人からよくこんな話を聞きました。\n\n* `TypeScript`って難しそうで環境作る時には`JavaScript`を選んじゃいます\n* 型って何ですか？\n* `JavaScript`と何が違うんですか？\n\n`TypeScript`は絶対に使っていきたいので、\n部署の新人向けにTypeScript勉強会を開催しました。\nその時のメモをこちらにも公開します。\n\n同じような悩みを抱えた方の負担が少しでも解消されれば幸いです。\n\n\u003cfont color=\"red\"\u003e※私もTypeScriptの勉強を始めてまだ日が浅いので色々ご容赦ください...\u003c/font\u003e\n\n# TypeScriptってなぁに？\n\n`TypeScript`はいわゆる、`AltJS`と呼ばれる言語です。\n\n## AltJSって？\n\n`AltJS`とは、コンパイルするとJavaScriptになる言語のことを言います。\n\nコンパイルとは、簡単に言うと、ソースコードを解析し、読み取れる形に変換することです。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3b8ac78e-1a19-2ed1-4449-4d15050a47ac.png)\n\n`TypeScript`にはコンパイルする機能も付いていて、どの規格の`JavaScript`に変換するか設定することも可能です。\n\n`JavaScript`の規格のことを`ECMASCript`といいます。\n\n## ECMAScriptって？\n\n少し歴史も交えて説明すると、、\n`JavaScript`はブラウザによる互換性が低く、各ブラウザ間での決まりごとが必要でした。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6b9dda77-9fe9-c431-2444-04c703e47829.png)\n\nその決まりごとのことを`ECMAScript`といいます。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/0e8904c3-251f-b022-c843-cc100060e306.png)\n\nこれにより、各ブラウザの互換性が生まれるようになったんですね。\n\n\nそして、`ECMAScript`はEditionと呼ばれるバージョンが存在し、ブラウザごとに対応Editionが異なります。\n作成したアプリが対応しているEditionをターゲットとし、TypeScriptでコンパイルすると、、、\n\n\u003e 「○○ブラウザで動かないんだけど！」\n\nということが起きないです。\n\n\u003e 例) IEはES3までしか対応していないから、ES3にコンパイルしよう！\n\nブラウザがどの`ECMAScript`のバージョンに対応しているかは、以下から確認してください～！\n\n[ECMAScript ブラウザサポート](https://kangax.github.io/compat-table/es5/)\n\n## 何となく分かったけど、なんでTypeScriptを使うの？\n\n大きく分けて3つの利点があります。\n\n1. 静的型付け\n1. 型推論\n1. Null 安全性\n\n次回は利点について書いていきます。\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2022-12-21T16:37:10+09:00",
    "group": null,
    "id": "e6191ed4294b625c7e9c",
    "likes_count": 1,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "JavaScript", "versions": [] },
      { "name": "TypeScript", "versions": [] }
    ],
    "title": "TypeScriptを知ろう。 - 1. TypeScriptってなぁに？",
    "updated_at": "2022-12-22T08:54:00+09:00",
    "url": "https://qiita.com/maaaashi/items/e6191ed4294b625c7e9c",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-4:93\"\u003eNuxt3で.envを使う方法がいろいろな記事に書いてあり、\u003cbr\u003e\nどれが本当に動くのか分からなくなったため、メモとして残します。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"6:1-6:13\"\u003e\n\u003cspan id=\"nuxt3導入\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#nuxt3%E5%B0%8E%E5%85%A5\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eNuxt3導入\u003c/h1\u003e\n\u003cp data-sourcepos=\"8:1-8:30\"\u003eここでは省略します。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"11:1-11:21\"\u003e\n\u003cspan id=\"envの反映方法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#env%E3%81%AE%E5%8F%8D%E6%98%A0%E6%96%B9%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e.envの反映方法\u003c/h1\u003e\n\u003ch3 data-sourcepos=\"14:1-14:62\"\u003e\n\u003cspan id=\"1-envをルートディレクトリに作成します\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-env%E3%82%92%E3%83%AB%E3%83%BC%E3%83%88%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AB%E4%BD%9C%E6%88%90%E3%81%97%E3%81%BE%E3%81%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. .envをルートディレクトリに作成します。\u003c/h3\u003e\n\u003cp data-sourcepos=\"16:1-16:89\"\u003eルートディレクトリとは\u003ccode\u003epackage.json\u003c/code\u003eとかがあるディレクトリですね\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"env\" data-sourcepos=\"18:1-20:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e.env\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eTEST='これはテストです。'\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch3 data-sourcepos=\"22:1-22:30\"\u003e\n\u003cspan id=\"2-nuxtconfigtsを修正\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-nuxtconfigts%E3%82%92%E4%BF%AE%E6%AD%A3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. nuxt.config.tsを修正\u003c/h3\u003e\n\u003cp data-sourcepos=\"24:1-24:33\"\u003e\u003ccode\u003eruntimeConfig\u003c/code\u003eを使用する。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"26:1-34:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"nf\"\u003edefineNuxtConfig\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eruntimeConfig\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003epublic\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"na\"\u003etest\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eprocess\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eenv\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eTEST\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"36:1-36:22\"\u003e\n\u003cspan id=\"3-呼び出す\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. 呼び出す。\u003c/h3\u003e\n\u003cp data-sourcepos=\"38:1-38:115\"\u003e\u003ccode\u003euseRuntimeConfig\u003c/code\u003eを使用すると、\u003ccode\u003enuxt.config.ts\u003c/code\u003eで設定した変数を呼び出すことができます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"40:1-48:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eindex.vue\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003esetup\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ts\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003econfig\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003euseRuntimeConfig\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003etemplate\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"si\"\u003e{{\u003c/span\u003e \u003cspan class=\"nx\"\u003econfig\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"kr\"\u003epublic\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003etest\u003c/span\u003e \u003cspan class=\"si\"\u003e}}\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003etemplate\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"50:1-50:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ffd637d4b-4d7e-1174-37d2-66bcf1c1b42e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=29df0b184d9bd6d02eb63858cc262052\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ffd637d4b-4d7e-1174-37d2-66bcf1c1b42e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=29df0b184d9bd6d02eb63858cc262052\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ffd637d4b-4d7e-1174-37d2-66bcf1c1b42e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=3b7d67ac60e0e70c131ac879783ee3fc 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/fd637d4b-4d7e-1174-37d2-66bcf1c1b42e.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"52:1-52:36\"\u003eちゃんと呼び出せました。\u003c/p\u003e\n",
    "body": "# はじめに\n\nNuxt3で.envを使う方法がいろいろな記事に書いてあり、\nどれが本当に動くのか分からなくなったため、メモとして残します。\n\n# Nuxt3導入\n\nここでは省略します。\n\n\n# .envの反映方法\n\n\n### 1. .envをルートディレクトリに作成します。\n\nルートディレクトリとは`package.json`とかがあるディレクトリですね\n\n```env:.env\nTEST='これはテストです。'\n```\n\n### 2. nuxt.config.tsを修正\n\n`runtimeConfig`を使用する。\n\n```typescript\nexport default defineNuxtConfig({\n  runtimeConfig: {\n    public: {\n      test: process.env.TEST\n    }\n  }\n})\n```\n\n### 3. 呼び出す。\n\n`useRuntimeConfig`を使用すると、`nuxt.config.ts`で設定した変数を呼び出すことができます。\n\n```vue:index.vue\n\u003cscript setup lang=\"ts\"\u003e\n  const config = useRuntimeConfig();\n\u003c/script\u003e\n\n\u003ctemplate\u003e\n  {{ config.public.test }}\n\u003c/template\u003e\n```\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/fd637d4b-4d7e-1174-37d2-66bcf1c1b42e.png)\n\nちゃんと呼び出せました。\n\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2022-12-20T17:53:05+09:00",
    "group": null,
    "id": "94b6b9517eb26f63a92c",
    "likes_count": 2,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "JavaScript", "versions": [] },
      { "name": "Nuxt", "versions": [] },
      { "name": "Nuxt3", "versions": [] }
    ],
    "title": "Nuxt3で.envを使用する方法",
    "updated_at": "2022-12-21T07:03:39+09:00",
    "url": "https://qiita.com/maaaashi/items/94b6b9517eb26f63a92c",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-3:81\"\u003e\u003ccode\u003eSvelteKit\u003c/code\u003eを使って\u003ccode\u003emarkdown\u003c/code\u003e記事を作成したのでその時のメモ。\u003c/p\u003e\n\u003cp data-sourcepos=\"5:1-5:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa9044e5c-12e4-cfaf-f4b0-51c4fcbd852e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=699b644b213a3b28a6368b2a83a2cf93\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa9044e5c-12e4-cfaf-f4b0-51c4fcbd852e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=699b644b213a3b28a6368b2a83a2cf93\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa9044e5c-12e4-cfaf-f4b0-51c4fcbd852e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=821fa64b44aee05e38e1de4765507f6e 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a9044e5c-12e4-cfaf-f4b0-51c4fcbd852e.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch1 data-sourcepos=\"7:1-7:20\"\u003e\n\u003cspan id=\"0-使ったもの\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#0-%E4%BD%BF%E3%81%A3%E3%81%9F%E3%82%82%E3%81%AE\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e0. 使ったもの\u003c/h1\u003e\n\u003cul data-sourcepos=\"9:1-14:0\"\u003e\n\u003cli data-sourcepos=\"9:1-14:0\"\u003eVite + SvelteKit + Typescript\n\u003cul data-sourcepos=\"10:5-14:0\"\u003e\n\u003cli data-sourcepos=\"10:5-10:21\"\u003eFlowbite-svelte\u003c/li\u003e\n\u003cli data-sourcepos=\"11:5-11:18\"\u003etailwind css\u003c/li\u003e\n\u003cli data-sourcepos=\"12:5-14:0\"\u003esvelte-markdown\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"15:1-16:54\"\u003eUIコンポーネントには\u003ca href=\"https://flowbite-svelte.com/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eFlowbite-svelte\u003c/a\u003eを利用しました。\u003cbr\u003e\n導入方法は前の記事で公開しています。\u003c/p\u003e\n\u003cp data-sourcepos=\"18:1-18:55\"\u003e\u003ciframe id=\"qiita-embed-content__1c8a4129c38954122d8b2155a7459b65\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__1c8a4129c38954122d8b2155a7459b65\" data-content=\"https%3A%2F%2Fqiita.com%2Fdoyaseizin%2Fitems%2F6e7e8571cc6c3d7ad2e8\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch1 data-sourcepos=\"20:1-20:41\"\u003e\n\u003cspan id=\"1-svelte-markdownのインストール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-svelte-markdown%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. svelte-markdownのインストール\u003c/h1\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"22:1-24:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpm i \u003cspan class=\"nt\"\u003e-S\u003c/span\u003e svelte-markdown\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch1 data-sourcepos=\"26:1-26:35\"\u003e\n\u003cspan id=\"2-まず試しに使ってみる\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-%E3%81%BE%E3%81%9A%E8%A9%A6%E3%81%97%E3%81%AB%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. まず試しに使ってみる\u003c/h1\u003e\n\u003cp data-sourcepos=\"28:1-28:12\"\u003e公式より\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"30:1-52:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e+page.svelte\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eSvelteMarkdown\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003esvelte-markdown\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003esource\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e`\n  # This is a header\n\n  This is a paragraph.\n\n  * This is a list\n  * With two items\n      1. And a sublist\n      2. That is ordered\n          * With another\n          * Sublist inside\n\n  | And this is | A table |\n  |-------------|---------|\n  | With two    | columns |\n`\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003e\u0026lt;SvelteMarkdown\u003c/span\u003e \u003cspan class=\"err\"\u003e{\u003c/span\u003e\u003cspan class=\"na\"\u003esource\u003c/span\u003e\u003cspan class=\"err\"\u003e}\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"54:1-54:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F16887dda-9afe-d021-603f-6f09b1b08913.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2b7dcc4a6305d5f4ca937a4389ba34cd\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F16887dda-9afe-d021-603f-6f09b1b08913.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2b7dcc4a6305d5f4ca937a4389ba34cd\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F16887dda-9afe-d021-603f-6f09b1b08913.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ee6ea20b4bc440d7b637897dd86bcead 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/16887dda-9afe-d021-603f-6f09b1b08913.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"57:1-57:49\"\u003ecssはいい感じに調整してください👍\u003c/p\u003e\n\u003cp data-sourcepos=\"59:1-59:66\"\u003e参考として最後に自分の設定を載せておきます。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"62:1-62:55\"\u003e\n\u003cspan id=\"3-editとpreviewで記事作成フォームっぽく\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-edit%E3%81%A8preview%E3%81%A7%E8%A8%98%E4%BA%8B%E4%BD%9C%E6%88%90%E3%83%95%E3%82%A9%E3%83%BC%E3%83%A0%E3%81%A3%E3%81%BD%E3%81%8F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. EditとPreviewで記事作成フォームっぽく\u003c/h1\u003e\n\u003cp data-sourcepos=\"64:1-65:125\"\u003e完成形\u003cbr\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F35cc3353-d815-3f50-e73b-556834cd1e25.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5dd2bea52cc00e24f6b23590a11253c6\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F35cc3353-d815-3f50-e73b-556834cd1e25.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5dd2bea52cc00e24f6b23590a11253c6\" alt=\"markdown.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F35cc3353-d815-3f50-e73b-556834cd1e25.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ee3b4c81bc815aab4a8c31794a2a8d7f 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/35cc3353-d815-3f50-e73b-556834cd1e25.gif\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"67:1-76:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e+page.svelte\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eMarkdown\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e$lib/MarkdownForm.svelte\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003evalue\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e''\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"c1\"\u003e// valueを使った処理\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003e\u0026lt;Markdown\u003c/span\u003e \u003cspan class=\"na\"\u003evalue=\u003c/span\u003e\u003cspan class=\"s\"\u003e{value}/\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"78:1-105:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eMarkdownForm.svelte\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ts\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eTabItem\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eTabs\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eflowbite-svelte\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003eSvelteMarkdown\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003esvelte-markdown\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003e\u0026lt;Tabs\u003c/span\u003e \u003cspan class=\"na\"\u003estyle=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"full\"\u003c/span\u003e \u003cspan class=\"na\"\u003edefaultClass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"flex rounded-lg divide-x divide-gray-200 shadow dark:divide-gray-700\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;TabItem\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"w-full\"\u003c/span\u003e \u003cspan class=\"na\"\u003eopen\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;span\u003c/span\u003e \u003cspan class=\"na\"\u003eslot=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"title\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eMarkdown\u003cspan class=\"nt\"\u003e\u0026lt;/span\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;textarea\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"w-full rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:placeholder-gray-400 dark:text-white  border border-gray-200 dark:border-gray-600 text-area p-2.5 text-sm focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-500 dark:focus:border-blue-500\"\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ebind:value=\u003c/span\u003e\u003cspan class=\"s\"\u003e{value}\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;/TabItem\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;TabItem\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"w-full\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;span\u003c/span\u003e \u003cspan class=\"na\"\u003eslot=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"title\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003ePreview\u003cspan class=\"nt\"\u003e\u0026lt;/span\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;SvelteMarkdown\u003c/span\u003e \u003cspan class=\"na\"\u003esource=\u003c/span\u003e\u003cspan class=\"s\"\u003e{value}/\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;/TabItem\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/Tabs\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003estyle\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003etextarea\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003eheight\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e200px\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003estyle\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"107:1-107:154\"\u003e\u003ccode\u003eFlowbite-svelte\u003c/code\u003eのタブを使って、入力の\u003ccode\u003etextarea\u003c/code\u003eと、\u003ccode\u003eSvelteMarkdown\u003c/code\u003eのプレビュー画面を切り替えられるようにしました。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"110:1-110:14\"\u003e\n\u003cspan id=\"4-参考css\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#4-%E5%8F%82%E8%80%83css\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e4. 参考CSS\u003c/h1\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"\" data-sourcepos=\"112:1-168:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003estyle.css\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003eh1 {\n  @apply dark:text-white text-4xl font-bold my-5;\n  border-bottom: solid;\n}\n\ntable {\n  @apply dark:text-white;\n  display: block;\n  overflow: auto;\n  margin: 1.5em 0;\n  border-collapse: collapse;\n}\n\ntable thead {\n  @apply dark:text-white;\n  border-left: 1px solid #ddd;\n}\n\ntr {\n  @apply dark:text-white;\n  border-left: 1px solid #ddd;\n}\ntr:nth-child(odd) {\n  @apply dark:text-white;\n  background-color: #eee;\n}\n\ntr:nth-child(even) {\n  @apply dark:text-white;\n  background-color: #fff;\n}\n\nth {\n  @apply dark:text-white;\n  font-weight: bold;\n  background-color: #fff;\n  border-top: 1px solid #ddd;\n  border-bottom: 1px solid #ccc;\n  border-right: 1px solid #ccc;\n  padding: 8px 10px;\n}\n\ntd {\n  @apply dark:text-white;\n  text-align: left;\n  border-bottom: 1px solid #ccc;\n  border-right: 1px solid #ccc;\n  padding: 8px 10px;\n  max-width: 600px;\n}\nol {\n  @apply dark:text-white;\n  list-style-type: decimal;\n  padding-left: 20px;\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n",
    "body": "# はじめに\n\n`SvelteKit`を使って`markdown`記事を作成したのでその時のメモ。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a9044e5c-12e4-cfaf-f4b0-51c4fcbd852e.png)\n\n# 0. 使ったもの\n\n* Vite + SvelteKit + Typescript\n    * Flowbite-svelte\n    * tailwind css\n    * svelte-markdown\n\n\nUIコンポーネントには[Flowbite-svelte](https://flowbite-svelte.com/)を利用しました。\n導入方法は前の記事で公開しています。\n\nhttps://qiita.com/doyaseizin/items/6e7e8571cc6c3d7ad2e8\n\n# 1. svelte-markdownのインストール\n\n```bash\n$ npm i -S svelte-markdown\n```\n\n# 2. まず試しに使ってみる\n\n公式より\n\n```vue:+page.svelte\n\u003cscript\u003e\n  import SvelteMarkdown from 'svelte-markdown'\n  const source = `\n  # This is a header\n\n  This is a paragraph.\n\n  * This is a list\n  * With two items\n      1. And a sublist\n      2. That is ordered\n          * With another\n          * Sublist inside\n\n  | And this is | A table |\n  |-------------|---------|\n  | With two    | columns |\n`\n\u003c/script\u003e\n\n\u003cSvelteMarkdown {source} /\u003e\n```\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/16887dda-9afe-d021-603f-6f09b1b08913.png)\n\n\ncssはいい感じに調整してください👍\n\n参考として最後に自分の設定を載せておきます。\n\n\n# 3. EditとPreviewで記事作成フォームっぽく\n\n完成形\n![markdown.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/35cc3353-d815-3f50-e73b-556834cd1e25.gif)\n\n```vue:+page.svelte\n\u003cscript\u003e\n  import Markdown from '$lib/MarkdownForm.svelte';\n  let value = '';\n\n  // valueを使った処理\n\u003c/script\u003e\n\n\u003cMarkdown value={value}/\u003e\n```\n\n```vue:MarkdownForm.svelte\n\u003cscript lang=\"ts\"\u003e\n  import { TabItem, Tabs } from \"flowbite-svelte\";\n  import SvelteMarkdown from \"svelte-markdown\";\n\n  export let value: string;\n\u003c/script\u003e\n\n\u003cTabs style=\"full\" defaultClass=\"flex rounded-lg divide-x divide-gray-200 shadow dark:divide-gray-700\"\u003e\n  \u003cTabItem class=\"w-full\" open\u003e\n    \u003cspan slot=\"title\"\u003eMarkdown\u003c/span\u003e\n    \u003ctextarea\n      class=\"w-full rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:placeholder-gray-400 dark:text-white  border border-gray-200 dark:border-gray-600 text-area p-2.5 text-sm focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-500 dark:focus:border-blue-500\"\n      bind:value={value}\n    /\u003e\n  \u003c/TabItem\u003e\n  \u003cTabItem class=\"w-full\"\u003e\n    \u003cspan slot=\"title\"\u003ePreview\u003c/span\u003e\n    \u003cSvelteMarkdown source={value}/\u003e\n  \u003c/TabItem\u003e\n\u003c/Tabs\u003e\n\n\u003cstyle\u003e\n  textarea {\n    height: 200px;\n  }\n\u003c/style\u003e\n```\n\n`Flowbite-svelte`のタブを使って、入力の`textarea`と、`SvelteMarkdown`のプレビュー画面を切り替えられるようにしました。\n\n\n# 4. 参考CSS\n\n```:style.css\nh1 {\n  @apply dark:text-white text-4xl font-bold my-5;\n  border-bottom: solid;\n}\n\ntable {\n  @apply dark:text-white;\n  display: block;\n  overflow: auto;\n  margin: 1.5em 0;\n  border-collapse: collapse;\n}\n\ntable thead {\n  @apply dark:text-white;\n  border-left: 1px solid #ddd;\n}\n\ntr {\n  @apply dark:text-white;\n  border-left: 1px solid #ddd;\n}\ntr:nth-child(odd) {\n  @apply dark:text-white;\n  background-color: #eee;\n}\n\ntr:nth-child(even) {\n  @apply dark:text-white;\n  background-color: #fff;\n}\n\nth {\n  @apply dark:text-white;\n  font-weight: bold;\n  background-color: #fff;\n  border-top: 1px solid #ddd;\n  border-bottom: 1px solid #ccc;\n  border-right: 1px solid #ccc;\n  padding: 8px 10px;\n}\n\ntd {\n  @apply dark:text-white;\n  text-align: left;\n  border-bottom: 1px solid #ccc;\n  border-right: 1px solid #ccc;\n  padding: 8px 10px;\n  max-width: 600px;\n}\nol {\n  @apply dark:text-white;\n  list-style-type: decimal;\n  padding-left: 20px;\n}\n```\n",
    "coediting": false,
    "comments_count": 2,
    "created_at": "2022-12-19T18:55:08+09:00",
    "group": null,
    "id": "285bf2922d7f1d2c2dd0",
    "likes_count": 2,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 1,
    "tags": [
      { "name": "JavaScript", "versions": [] },
      { "name": "Svelte", "versions": [] },
      { "name": "SvelteKit", "versions": [] }
    ],
    "title": "SvelteKitでmarkdownの記事を作成",
    "updated_at": "2022-12-20T12:36:23+09:00",
    "url": "https://qiita.com/maaaashi/items/285bf2922d7f1d2c2dd0",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-4:111\"\u003e認証サーバーとして、KeyCloakを使い始めたのですが、\u003cbr\u003e\nネットに書いてある通りにやっても日本語化ができず、半ばあきらめていました。\u003c/p\u003e\n\u003cp data-sourcepos=\"6:1-6:150\"\u003eちょっとした落とし穴でしたが、他にも困っている方がいるかもしれないと思い記事にさせていただきました。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"9:1-9:33\"\u003e\n\u003cspan id=\"docker-composeでkeycloak構築\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#docker-compose%E3%81%A7keycloak%E6%A7%8B%E7%AF%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003edocker-composeでkeycloak構築\u003c/h1\u003e\n\u003cp data-sourcepos=\"11:1-12:83\"\u003edocker-compose.ymlファイルを作成し、以下をコピペ。\u003cbr\u003e\nただし、※の部分は自由に変更すること。(変えなくても動く)\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"14:1-45:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eversion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\u003c/span\u003e\u003cspan class=\"s\"\u003e3'\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003evolumes\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003emysql_data\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003edriver\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003elocal\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003eservices\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003emysql\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003emysql:5.7\u003c/span\u003e\n      \u003cspan class=\"na\"\u003evolumes\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003emysql_data:/var/lib/mysql\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eMYSQL_ROOT_PASSWORD\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eroot   ※\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eMYSQL_DATABASE\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ekeycloak    ※\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eMYSQL_USER\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ekeycloak        ※\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eMYSQL_PASSWORD\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003epassword    ※\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ekeycloak\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003equay.io/keycloak/keycloak:legacy\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eenvironment\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eDB_VENDOR\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eMYSQL\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eDB_ADDR\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003emysql\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eDB_DATABASE\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ekeycloak        ※ ↑のMYSQL_DATABASEに合わせる\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eDB_USER\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003ekeycloak            ※ ↑のMYSQL_USERに合わせる\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eDB_PASSWORD\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003epassword        ※ ↑のMYSQL_PASSWORDに合わせる\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eKEYCLOAK_USER\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eadmin         ※\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eKEYCLOAK_PASSWORD\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003epassword  ※\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eports\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003e8080:8080  ※\u003c/span\u003e\n      \u003cspan class=\"na\"\u003edepends_on\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n        \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003emysql\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"47:1-49:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003ebash\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003edocker-compose up \u003cspan class=\"nt\"\u003e--build\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003ch1 data-sourcepos=\"51:1-51:14\"\u003e\n\u003cspan id=\"日本語化\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%97%A5%E6%9C%AC%E8%AA%9E%E5%8C%96\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e日本語化\u003c/h1\u003e\n\u003col data-sourcepos=\"53:1-78:0\"\u003e\n\u003cli data-sourcepos=\"53:1-53:98\"\u003e\n\u003cp data-sourcepos=\"53:4-53:98\"\u003e\u003ca href=\"http://localhost:8080\" rel=\"nofollow noopener\" target=\"_blank\"\u003elocalhost:8080\u003c/a\u003eにアクセス(ポートは自分で決めたものに)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"54:1-57:0\"\u003e\n\u003cp data-sourcepos=\"54:4-54:34\"\u003eAdministration Consoleを選択\u003c/p\u003e\n\u003cp data-sourcepos=\"56:5-56:126\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F105baaa0-b6d3-3170-5ada-f022032999fe.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e87edd00066edf40fb8e96e000de50d3\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F105baaa0-b6d3-3170-5ada-f022032999fe.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e87edd00066edf40fb8e96e000de50d3\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F105baaa0-b6d3-3170-5ada-f022032999fe.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=a80b23b7fcf7379834d72a78f777e0d1 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/105baaa0-b6d3-3170-5ada-f022032999fe.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"58:1-61:0\"\u003e\n\u003cp data-sourcepos=\"58:4-58:90\"\u003edocker-compose.ymlファイルで設定したユーザー名とパスワードで入る\u003c/p\u003e\n\u003cp data-sourcepos=\"60:5-60:126\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff6063a79-19a6-b60e-5cc3-7bf9f058ce9f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=de6855cfe6e6ed2cb5ce2056f903fbab\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff6063a79-19a6-b60e-5cc3-7bf9f058ce9f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=de6855cfe6e6ed2cb5ce2056f903fbab\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Ff6063a79-19a6-b60e-5cc3-7bf9f058ce9f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c93aa8b14b3585df62f1e9f2465b0ca0 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f6063a79-19a6-b60e-5cc3-7bf9f058ce9f.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"62:1-65:0\"\u003e\n\u003cp data-sourcepos=\"62:4-62:54\"\u003e\u003ccode\u003eMaster\u003c/code\u003eレルムのまま\u003ccode\u003eRealm Settings\u003c/code\u003eを開く\u003c/p\u003e\n\u003cp data-sourcepos=\"64:5-64:126\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F406aed21-9648-c311-acf3-03a90859ebcf.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f4242dc6490fe54996c9791d7f2ade6a\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F406aed21-9648-c311-acf3-03a90859ebcf.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f4242dc6490fe54996c9791d7f2ade6a\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F406aed21-9648-c311-acf3-03a90859ebcf.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8f75facd419b2c13c6b6344788e6bf97 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/406aed21-9648-c311-acf3-03a90859ebcf.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"66:1-69:0\"\u003e\n\u003cp data-sourcepos=\"66:4-66:106\"\u003e\u003ccode\u003eThemes\u003c/code\u003eタブより、\u003ccode\u003eInternationalization Enabled\u003c/code\u003eをオンにし、\u003ccode\u003eDefault Locale\u003c/code\u003eを\u003ccode\u003eja\u003c/code\u003eにする\u003c/p\u003e\n\u003cp data-sourcepos=\"68:5-68:126\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc8b47d21-fb25-668e-2f76-6d59007532d8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=97e236498d7c687c8a5f9101afa5a9db\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc8b47d21-fb25-668e-2f76-6d59007532d8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=97e236498d7c687c8a5f9101afa5a9db\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc8b47d21-fb25-668e-2f76-6d59007532d8.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=25b6c42d3a54b18411c9f375a342a118 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/c8b47d21-fb25-668e-2f76-6d59007532d8.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"70:1-71:0\"\u003e\n\u003cp data-sourcepos=\"70:4-70:34\"\u003esaveをしたら設定完了。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"72:1-78:0\"\u003e\n\u003cp data-sourcepos=\"72:4-72:97\"\u003e一度右上のメニューから\u003ccode\u003eManage account\u003c/code\u003eに移動すると日本語化されている\u003c/p\u003e\n\u003cp data-sourcepos=\"74:5-74:126\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5726b8e3-fc79-67b4-4d84-09e0ae25b27a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=486e2f9c862351bd4b9c0396c681ae74\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5726b8e3-fc79-67b4-4d84-09e0ae25b27a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=486e2f9c862351bd4b9c0396c681ae74\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5726b8e3-fc79-67b4-4d84-09e0ae25b27a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ee92fa7fe819ec525bbe30e2b79ad802 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/5726b8e3-fc79-67b4-4d84-09e0ae25b27a.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"76:5-76:126\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4177d107-fcee-51f1-fdb5-8878ec8752ff.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=69e4effbda582fe56fd93e16bc03a374\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4177d107-fcee-51f1-fdb5-8878ec8752ff.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=69e4effbda582fe56fd93e16bc03a374\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4177d107-fcee-51f1-fdb5-8878ec8752ff.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=7f42e7d9a64fac7727e25d90ae72a492 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4177d107-fcee-51f1-fdb5-8878ec8752ff.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch1 data-sourcepos=\"79:1-79:14\"\u003e\n\u003cspan id=\"落とし穴\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%90%BD%E3%81%A8%E3%81%97%E7%A9%B4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e落とし穴\u003c/h1\u003e\n\u003cp data-sourcepos=\"81:1-82:132\"\u003e自分の場合は先にレルムを作成し、そのレルムで設定を変更していました。\u003cbr\u003e\nマスターの設定が優先されるのか、Masterレルムの言語設定を変えないと反映されない仕様でした。\u003c/p\u003e\n\u003cp data-sourcepos=\"85:1-85:108\"\u003e意外と気が付けなかったので他にも落とし穴にはまっている人がいたらご参考に\u003c/p\u003e\n",
    "body": "# はじめに\n\n認証サーバーとして、KeyCloakを使い始めたのですが、\nネットに書いてある通りにやっても日本語化ができず、半ばあきらめていました。\n\nちょっとした落とし穴でしたが、他にも困っている方がいるかもしれないと思い記事にさせていただきました。\n\n\n# docker-composeでkeycloak構築\n\ndocker-compose.ymlファイルを作成し、以下をコピペ。\nただし、※の部分は自由に変更すること。(変えなくても動く)\n\n```yaml\nversion: '3'\n\nvolumes:\n  mysql_data:\n      driver: local\n\nservices:\n  mysql:\n      image: mysql:5.7\n      volumes:\n        - mysql_data:/var/lib/mysql\n      environment:\n        MYSQL_ROOT_PASSWORD: root   ※\n        MYSQL_DATABASE: keycloak    ※\n        MYSQL_USER: keycloak        ※\n        MYSQL_PASSWORD: password    ※\n  keycloak:\n      image: quay.io/keycloak/keycloak:legacy\n      environment:\n        DB_VENDOR: MYSQL\n        DB_ADDR: mysql\n        DB_DATABASE: keycloak        ※ ↑のMYSQL_DATABASEに合わせる\n        DB_USER: keycloak            ※ ↑のMYSQL_USERに合わせる\n        DB_PASSWORD: password        ※ ↑のMYSQL_PASSWORDに合わせる\n        KEYCLOAK_USER: admin         ※\n        KEYCLOAK_PASSWORD: password  ※\n      ports:\n        - 8080:8080  ※\n      depends_on:\n        - mysql\n```\n\n```bash:bash\n$ docker-compose up --build\n```\n\n# 日本語化\n\n1. [localhost:8080](http://localhost:8080)にアクセス(ポートは自分で決めたものに)\n1. Administration Consoleを選択\n\n    ![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/105baaa0-b6d3-3170-5ada-f022032999fe.png)\n\n1. docker-compose.ymlファイルで設定したユーザー名とパスワードで入る\n\n    ![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/f6063a79-19a6-b60e-5cc3-7bf9f058ce9f.png)\n\n1. `Master`レルムのまま`Realm Settings`を開く\n\n    ![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/406aed21-9648-c311-acf3-03a90859ebcf.png)\n\n1. `Themes`タブより、`Internationalization Enabled`をオンにし、`Default Locale`を`ja`にする\n\n    ![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/c8b47d21-fb25-668e-2f76-6d59007532d8.png)\n\n1. saveをしたら設定完了。\n\n1. 一度右上のメニューから`Manage account`に移動すると日本語化されている\n\n    ![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/5726b8e3-fc79-67b4-4d84-09e0ae25b27a.png)\n    \n    ![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4177d107-fcee-51f1-fdb5-8878ec8752ff.png)\n    \n\n# 落とし穴\n\n自分の場合は先にレルムを作成し、そのレルムで設定を変更していました。\nマスターの設定が優先されるのか、Masterレルムの言語設定を変えないと反映されない仕様でした。\n\n\n意外と気が付けなかったので他にも落とし穴にはまっている人がいたらご参考に\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2022-12-19T16:14:45+09:00",
    "group": null,
    "id": "7d39a05f0c7f22e103e2",
    "likes_count": 6,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 2,
    "tags": [{ "name": "Keycloak", "versions": [] }],
    "title": "KeyCloakマネジメントコンソール画面を日本語化するのに苦戦した話",
    "updated_at": "2022-12-19T16:14:45+09:00",
    "url": "https://qiita.com/maaaashi/items/7d39a05f0c7f22e103e2",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-4:127\"\u003eSvelteKitにはいくつか特殊なHTML要素が用意されています。\u003cbr\u003e\n今回はその中でも\u003ccode\u003e\u0026lt;svelte:window\u0026gt;\u003c/code\u003e \u003ccode\u003e\u0026lt;svelte:head\u0026gt;\u003c/code\u003e \u003ccode\u003e\u0026lt;svelte:body\u0026gt;\u003c/code\u003eに焦点をあてて解説したいと思います。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"6:1-6:19\"\u003e\n\u003cspan id=\"sveltewindow\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#sveltewindow\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003e\u0026lt;svelte:window\u0026gt;\u003c/code\u003e\n\u003c/h1\u003e\n\u003cp data-sourcepos=\"8:1-9:86\"\u003e\u003ccode\u003e\u0026lt;button\u0026gt;\u003c/code\u003eタグに\u003ccode\u003eon:click\u003c/code\u003eなどのイベントリスナーを追加できるように、\u003cbr\u003e\n\u003ccode\u003ewindow\u003c/code\u003eに対してもイベントリスナーを追加することができます。\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-11:84\"\u003e例えば\u003ccode\u003ekeydown\u003c/code\u003eリスナーを追加し、押したkeyを表示してみます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"13:1-22:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e+page.svelte\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ts\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003ekey\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e''\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003e\u0026lt;svelte:window\u003c/span\u003e \u003cspan class=\"na\"\u003eon:keydown=\u003c/span\u003e\u003cspan class=\"s\"\u003e{(event)\u003c/span\u003e \u003cspan class=\"err\"\u003e=\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e key = event.key}\u0026gt;\u003cspan class=\"nt\"\u003e\u0026lt;/svelte:window\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003e\u0026lt;h1\u0026gt;\u003c/span\u003eあなたが押したのは { key } ですね！\u003cspan class=\"nt\"\u003e\u0026lt;/h1\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"24:1-24:123\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F92005a54-4587-5f7e-f651-30f213e529a4.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=980483006a6712e0bea821816e98f7dc\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F92005a54-4587-5f7e-f651-30f213e529a4.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=980483006a6712e0bea821816e98f7dc\" alt=\"window.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F92005a54-4587-5f7e-f651-30f213e529a4.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=8bf2d7a96d5e538b49bc82b67c6c24a6 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/92005a54-4587-5f7e-f651-30f213e529a4.gif\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch1 data-sourcepos=\"26:1-26:17\"\u003e\n\u003cspan id=\"sveltehead\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#sveltehead\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003e\u0026lt;svelte:head\u0026gt;\u003c/code\u003e\n\u003c/h1\u003e\n\u003cp data-sourcepos=\"28:1-28:89\"\u003e\u003ccode\u003e\u0026lt;svelte:head\u0026gt;\u003c/code\u003eを使うと、\u003ccode\u003e\u0026lt;head\u0026gt;\u003c/code\u003e内に要素を挿入することができます。\u003c/p\u003e\n\u003cp data-sourcepos=\"30:1-30:60\"\u003eページによってタイトルを変更してみます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"32:1-36:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e/hogehoge/+page.svelte\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;svelte:head\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;title\u0026gt;\u003c/span\u003ehogehoge\u003cspan class=\"nt\"\u003e\u0026lt;/title\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/svelte:head\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"38:1-38:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F775d3c26-fb66-2b31-7f7a-9245218f5247.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=36b47a948541102008df2a92eb44e91a\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F775d3c26-fb66-2b31-7f7a-9245218f5247.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=36b47a948541102008df2a92eb44e91a\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F775d3c26-fb66-2b31-7f7a-9245218f5247.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9413917f766496074a4ece63f0b02285 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/775d3c26-fb66-2b31-7f7a-9245218f5247.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"40:1-44:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e/fugafuga/+page.svelte\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;svelte:head\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;title\u0026gt;\u003c/span\u003efugafuga\u003cspan class=\"nt\"\u003e\u0026lt;/title\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/svelte:head\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"46:1-46:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc59c170c-a04f-4150-83f8-197507a99ff1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=96b2fc0c374bdd98bbba86a29af082bb\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc59c170c-a04f-4150-83f8-197507a99ff1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=96b2fc0c374bdd98bbba86a29af082bb\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fc59c170c-a04f-4150-83f8-197507a99ff1.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=74bf09c07f1b0d610a2f056ab0958847 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/c59c170c-a04f-4150-83f8-197507a99ff1.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"48:1-48:36\"\u003eちゃんと変わりましたね！\u003c/p\u003e\n\u003ch1 data-sourcepos=\"50:1-50:17\"\u003e\n\u003cspan id=\"sveltebody\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#sveltebody\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003e\u0026lt;svelte:body\u0026gt;\u003c/code\u003e\n\u003c/h1\u003e\n\u003cp data-sourcepos=\"52:1-53:84\"\u003e\u003ccode\u003e\u0026lt;svelte:body\u0026gt;\u003c/code\u003eも\u003ccode\u003e\u0026lt;svelte:window\u0026gt;\u003c/code\u003eと同じような使い方ができます。\u003cbr\u003e\n\u003ccode\u003ebody\u003c/code\u003eに対してイベントリスナーを設定したいときに便利です。\u003c/p\u003e\n\u003cp data-sourcepos=\"55:1-55:78\"\u003e例えば、ダブルクリックをした時の処理を入れてみます。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"57:1-59:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;svelte:body\u003c/span\u003e \u003cspan class=\"na\"\u003eon:dblclick=\u003c/span\u003e\u003cspan class=\"s\"\u003e{()\u003c/span\u003e \u003cspan class=\"err\"\u003e=\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e alert('ダブルクリックしましたね')}/\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"61:1-61:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9ac6b41a-a5d8-850e-47c2-2502c9326a4b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=db89e10b2380f596f60f6b3e5e83836e\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9ac6b41a-a5d8-850e-47c2-2502c9326a4b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=db89e10b2380f596f60f6b3e5e83836e\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9ac6b41a-a5d8-850e-47c2-2502c9326a4b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9b9da49d99383453166917850c75624d 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/9ac6b41a-a5d8-850e-47c2-2502c9326a4b.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"63:1-63:36\"\u003eちゃんと表示されました。\u003c/p\u003e\n\u003cp data-sourcepos=\"65:1-65:78\"\u003eこのように特殊なエレメントも用意されているんですね～\u003c/p\u003e\n",
    "body": "# はじめに\n\nSvelteKitにはいくつか特殊なHTML要素が用意されています。\n今回はその中でも`\u003csvelte:window\u003e` `\u003csvelte:head\u003e` `\u003csvelte:body\u003e`に焦点をあてて解説したいと思います。\n\n# `\u003csvelte:window\u003e`\n\n`\u003cbutton\u003e`タグに`on:click`などのイベントリスナーを追加できるように、\n`window`に対してもイベントリスナーを追加することができます。\n\n例えば`keydown`リスナーを追加し、押したkeyを表示してみます。\n\n```vue:+page.svelte\n\n\u003cscript lang=\"ts\"\u003e\n  let key = '';\n\u003c/script\u003e\n\n\u003csvelte:window on:keydown={(event) =\u003e key = event.key}\u003e\u003c/svelte:window\u003e\n\n\u003ch1\u003eあなたが押したのは { key } ですね！\u003c/h1\u003e\n```\n\n![window.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/92005a54-4587-5f7e-f651-30f213e529a4.gif)\n\n# `\u003csvelte:head\u003e`\n\n`\u003csvelte:head\u003e`を使うと、`\u003chead\u003e`内に要素を挿入することができます。\n\nページによってタイトルを変更してみます。\n\n```vue:/hogehoge/+page.svelte\n\u003csvelte:head\u003e\n  \u003ctitle\u003ehogehoge\u003c/title\u003e\n\u003c/svelte:head\u003e\n```\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/775d3c26-fb66-2b31-7f7a-9245218f5247.png)\n\n```vue:/fugafuga/+page.svelte\n\u003csvelte:head\u003e\n  \u003ctitle\u003efugafuga\u003c/title\u003e\n\u003c/svelte:head\u003e\n```\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/c59c170c-a04f-4150-83f8-197507a99ff1.png)\n\nちゃんと変わりましたね！\n\n# `\u003csvelte:body\u003e`\n\n`\u003csvelte:body\u003e`も`\u003csvelte:window\u003e`と同じような使い方ができます。\n`body`に対してイベントリスナーを設定したいときに便利です。\n\n例えば、ダブルクリックをした時の処理を入れてみます。\n\n```vue\n\u003csvelte:body on:dblclick={() =\u003e alert('ダブルクリックしましたね')}/\u003e\n```\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/9ac6b41a-a5d8-850e-47c2-2502c9326a4b.png)\n\nちゃんと表示されました。\n\nこのように特殊なエレメントも用意されているんですね～\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2022-12-17T21:15:10+09:00",
    "group": null,
    "id": "68cae04114c242951299",
    "likes_count": 4,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "JavaScript", "versions": [] },
      { "name": "Svelte", "versions": [] },
      { "name": "SvelteKit", "versions": [] }
    ],
    "title": "\u003csvelte:window\u003e \u003csvelte:head\u003e \u003csvelte:body\u003eについて",
    "updated_at": "2022-12-18T07:03:49+09:00",
    "url": "https://qiita.com/maaaashi/items/68cae04114c242951299",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-3:60\"\u003e部署の新人からよくこんな話を聞きました。\u003c/p\u003e\n\u003cul data-sourcepos=\"5:1-8:0\"\u003e\n\u003cli data-sourcepos=\"5:1-5:138\"\u003e\n\u003ccode\u003eVite\u003c/code\u003e+\u003ccode\u003eVue3\u003c/code\u003eまではとある記事で導入できたが、違う記事で\u003ccode\u003eVuetify\u003c/code\u003eの導入をしたらうまくいかない。。。\u003c/li\u003e\n\u003cli data-sourcepos=\"6:1-6:63\"\u003e\n\u003ccode\u003evite.config.ts\u003c/code\u003eとか、\u003ccode\u003etsconfig.json\u003c/code\u003eって何ですか？\u003c/li\u003e\n\u003cli data-sourcepos=\"7:1-8:0\"\u003e\n\u003ccode\u003enode_modules\u003c/code\u003eってところで大量にgitの差分が出ます...\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"9:1-11:54\"\u003eこれはフロントエンドの技術力の底上げをしなければ、、！と思い、\u003cbr\u003e\n部署の新人向けに\u003ccode\u003eVite\u003c/code\u003e+\u003ccode\u003eVue3\u003c/code\u003e+\u003ccode\u003eVuetify\u003c/code\u003eの構築ハンズオン勉強会を開催しました。\u003cbr\u003e\nその時のメモをこちらにも公開します。\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:93\"\u003e同じような悩みを抱えた方の負担が少しでも解消されれば幸いです。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"15:1-15:9\"\u003e\n\u003cspan id=\"前提\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%89%8D%E6%8F%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e前提\u003c/h2\u003e\n\u003cp data-sourcepos=\"17:1-17:49\"\u003eDocker, docker-composeが入っていること。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"19:1-19:26\"\u003e\n\u003cspan id=\"vite--vue3環境構築\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#vite--vue3%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eVite + Vue3環境構築\u003c/h2\u003e\n\u003col data-sourcepos=\"21:1-121:0\"\u003e\n\u003cli data-sourcepos=\"21:1-28:0\"\u003e\n\u003cp data-sourcepos=\"21:4-21:45\"\u003e構築したいディレクトリに移動\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"23:5-27:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003ecd\u003c/span\u003e /作業/パス/\n\n\u003cspan class=\"c\"\u003e# 私は /var/www/hands-on/vue3にしました。\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"29:1-37:0\"\u003e\n\u003cp data-sourcepos=\"29:4-29:42\"\u003eDockerfile, docker-compose.ymlの作成\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"31:5-36:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c\"\u003e# sudoつけないでね！\u003c/span\u003e\n\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003etouch \u003c/span\u003eDockerfile\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003etouch \u003c/span\u003edocker-compose.yml\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"38:1-52:0\"\u003e\n\u003cp data-sourcepos=\"38:4-38:34\"\u003eDockerfileに以下をコピペ\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"Dockerfile\" data-sourcepos=\"40:5-51:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003eDockerfile\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eFROM\u003c/span\u003e\u003cspan class=\"s\"\u003e node:19-alpine3.16\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eWORKDIR\u003c/span\u003e\u003cspan class=\"s\"\u003e /var/www/app\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eRUN \u003c/span\u003eapk update \u003cspan class=\"o\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"se\"\u003e\\\n\u003c/span\u003e    npm \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e \u003cspan class=\"nt\"\u003e-g\u003c/span\u003e npm @vue/cli\n\n\u003cspan class=\"k\"\u003eUSER\u003c/span\u003e\u003cspan class=\"s\"\u003e node\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eCMD\u003c/span\u003e\u003cspan class=\"s\"\u003e [ \"npm\", \"run\", \"dev\" ]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"53:1-69:0\"\u003e\n\u003cp data-sourcepos=\"53:4-53:38\"\u003edocker-composeに以下をコピペ\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"55:5-68:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003edocker-compose.yml\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eversion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\u003c/span\u003e\u003cspan class=\"s\"\u003e3'\u003c/span\u003e\n\u003cspan class=\"na\"\u003eservices\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eapp\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ebuild\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"na\"\u003econtext\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e.\u003c/span\u003e\n      \u003cspan class=\"na\"\u003edockerfile\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003eDockerfile\u003c/span\u003e\n    \u003cspan class=\"na\"\u003evolumes\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s\"\u003e./front:/var/www/app\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eports\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003e8080:8080\"\u003c/span\u003e\n    \u003cspan class=\"na\"\u003estdin_open\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n    \u003cspan class=\"na\"\u003etty\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"70:1-77:0\"\u003e\n\u003cp data-sourcepos=\"70:4-70:54\"\u003eアプリケーションディレクトリの作成\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"72:5-76:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c\"\u003e# sudoつけないでね！\u003c/span\u003e\n\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003e\u003cspan class=\"nb\"\u003emkdir \u003c/span\u003efront\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"78:1-92:0\"\u003e\n\u003cp data-sourcepos=\"78:4-78:36\"\u003eVite + Vue3 + TypeScriptの構築\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"80:5-91:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003edocker-compose build \u003cspan class=\"nt\"\u003e--no-cache\u003c/span\u003e\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003edocker-compose run app sh\n\n/var/www/app \u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpm init vite@latest\n  バージョンの確認: \u003cspan class=\"o\"\u003e(\u003c/span\u003ey\u003cspan class=\"o\"\u003e)\u003c/span\u003e ⇒ y ⇒ enter\n  アプリ名: \u003cspan class=\"nb\"\u003e.\u003c/span\u003e   \u003cspan class=\"c\"\u003e# 注意！Enterにしないこと\u003c/span\u003e\n  フレームワーク: Vue\n               : TypeScript\n\n/var/www/app \u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpm \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"93:1-110:0\"\u003e\n\u003cp data-sourcepos=\"93:4-93:26\"\u003evite.config.tsの修正\u003c/p\u003e\n\u003cp data-sourcepos=\"95:5-95:75\"\u003edocker-composeで解放したportの指定と、hostをtrueにする。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"97:5-109:7\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003evite.config.ts\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003edefineConfig\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003evite\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003evue\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@vitejs/plugin-vue\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// https://vitejs.dev/config/\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"nf\"\u003edefineConfig\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eplugins\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003evue\u003c/span\u003e\u003cspan class=\"p\"\u003e()],\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eserver\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e       \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ehost\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e   \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eport\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e8080\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e               \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"111:1-121:0\"\u003e\n\u003cp data-sourcepos=\"111:4-111:21\"\u003eサーバー起動\u003c/p\u003e\n\u003cp data-sourcepos=\"113:5-113:111\"\u003eDockerfileの起動コマンドで\u003ccode\u003enpm run dev\u003c/code\u003eを指定しているので、\u003ccode\u003edocker-compose up\u003c/code\u003eのみでOK\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"115:5-117:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003edocker-compose up\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"119:5-120:82\"\u003e起動できたはず！\u003cbr\u003e\n起動できていない人はもう一度やり直してみてください。\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 data-sourcepos=\"122:1-122:30\"\u003e\n\u003cspan id=\"構成ファイルの説明\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E6%A7%8B%E6%88%90%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AE%E8%AA%AC%E6%98%8E\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e構成ファイルの説明\u003c/h2\u003e\n\u003cul data-sourcepos=\"124:1-154:0\"\u003e\n\u003cli data-sourcepos=\"124:1-125:31\"\u003e.vscode\n\u003cul data-sourcepos=\"125:3-125:31\"\u003e\n\u003cli data-sourcepos=\"125:3-125:31\"\u003evscodeの設定ファイル\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"126:1-129:47\"\u003enode_modules\n\u003cul data-sourcepos=\"127:3-129:47\"\u003e\n\u003cli data-sourcepos=\"127:3-127:113\"\u003enpmやyarnを使ってインストールしてきたライブラリのコードが格納されています。\u003c/li\u003e\n\u003cli data-sourcepos=\"128:3-129:47\"\u003epackage.jsonでそれぞれが\u003ccode\u003enpm install\u003c/code\u003eで作るので、.gitignoreに入れてgitに載せないようにしましょう！\n\u003cul data-sourcepos=\"129:7-129:47\"\u003e\n\u003cli data-sourcepos=\"129:7-129:47\"\u003eデフォルトでされています。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"130:1-131:47\"\u003epublic\n\u003cul data-sourcepos=\"131:3-131:47\"\u003e\n\u003cli data-sourcepos=\"131:3-131:47\"\u003e静的ファイル置き場(例) ロゴ.png\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"132:1-133:64\"\u003esrc\n\u003cul data-sourcepos=\"133:3-133:64\"\u003e\n\u003cli data-sourcepos=\"133:3-133:64\"\u003eアプリのソースコードが格納されています。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"134:1-135:49\"\u003e.gitignore\n\u003cul data-sourcepos=\"135:3-135:49\"\u003e\n\u003cli data-sourcepos=\"135:3-135:49\"\u003egitで無視するものを指定します。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"136:1-137:46\"\u003eindex.html\n\u003cul data-sourcepos=\"137:3-137:46\"\u003e\n\u003cli data-sourcepos=\"137:3-137:46\"\u003eエントリーポイントとなるもの\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"138:1-139:94\"\u003epackage.json\n\u003cul data-sourcepos=\"139:3-139:94\"\u003e\n\u003cli data-sourcepos=\"139:3-139:94\"\u003eインストールするパッケージの情報などが書かれた設定ファイル。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"140:1-142:44\"\u003epackage-lock.json\n\u003cul data-sourcepos=\"141:3-142:44\"\u003e\n\u003cli data-sourcepos=\"141:3-141:100\"\u003eどんな依存関係で今動いているアプリが構成されているかのファイル。\u003c/li\u003e\n\u003cli data-sourcepos=\"142:3-142:44\"\u003eyarnの時はyarn.lockになります。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"143:1-151:257\"\u003etsconfig.json\n\u003cul data-sourcepos=\"144:3-151:257\"\u003e\n\u003cli data-sourcepos=\"144:3-144:35\"\u003eTypeScriptの構成ファイル\u003c/li\u003e\n\u003cli data-sourcepos=\"145:3-151:257\"\u003eJavaScriptの前提知識も必要になるので、今はこんなものもあるんだ～くらいに思ってOK\n\u003cul data-sourcepos=\"146:5-151:257\"\u003e\n\u003cli data-sourcepos=\"146:5-146:65\"\u003etarget： 生成するJavaScriptコードのバージョン\u003c/li\u003e\n\u003cli data-sourcepos=\"147:5-147:62\"\u003emodule： 生成するJavaScriptモジュールの形式\u003c/li\u003e\n\u003cli data-sourcepos=\"148:5-148:184\"\u003enoImplicitAny： trueに設定すると、TypeScriptの型推測でAny型となった式／宣言があったときにはエラーメッセージが生成されるようになる\u003c/li\u003e\n\u003cli data-sourcepos=\"149:5-149:46\"\u003eoutDir： 出力先のディレクトリ\u003c/li\u003e\n\u003cli data-sourcepos=\"150:5-150:153\"\u003erootDir： プロジェクトのルートディレクトリ（tscコマンドに渡すTypeScriptコードを含んだルートディレクトリ）\u003c/li\u003e\n\u003cli data-sourcepos=\"151:5-151:257\"\u003esourceMap： trueに設定すると、対応するソースマップファイル（.mapファイル。TypeScriptコードとそこから生成されたJavaScriptコードとの対応関係を記述したファイル）が生成されるようになる\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"152:1-154:0\"\u003etsconfig.node.json\n\u003cul data-sourcepos=\"153:3-154:0\"\u003e\n\u003cli data-sourcepos=\"153:3-154:0\"\u003evite.config.ts等のライブラリの設定ファイルをtypescriptで書くための設定ファイル\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 data-sourcepos=\"155:1-155:20\"\u003e\n\u003cspan id=\"vuetify3の導入\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#vuetify3%E3%81%AE%E5%B0%8E%E5%85%A5\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eVuetify3の導入\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash=\" data-sourcepos=\"157:1-163:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e$ docker-compose exec app sh\n/var/www/app $ vue add vuetify\n  Vuetify 3 - Vite\n\n/var/www/app $ npm install\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"165:1-165:15\"\u003eかんせい！\u003c/p\u003e\n\u003cp data-sourcepos=\"167:1-167:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe77a2848-4d03-6e76-93cf-abfcf6388e18.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=93c061a4e4561b2bea40094d4c1473b2\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe77a2848-4d03-6e76-93cf-abfcf6388e18.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=93c061a4e4561b2bea40094d4c1473b2\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe77a2848-4d03-6e76-93cf-abfcf6388e18.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=887401f90250e392c96c271596f356a9 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e77a2848-4d03-6e76-93cf-abfcf6388e18.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n",
    "body": "# はじめに\n\n部署の新人からよくこんな話を聞きました。\n\n* `Vite`+`Vue3`まではとある記事で導入できたが、違う記事で`Vuetify`の導入をしたらうまくいかない。。。\n* `vite.config.ts`とか、`tsconfig.json`って何ですか？\n* `node_modules`ってところで大量にgitの差分が出ます...\n\nこれはフロントエンドの技術力の底上げをしなければ、、！と思い、\n部署の新人向けに`Vite`+`Vue3`+`Vuetify`の構築ハンズオン勉強会を開催しました。\nその時のメモをこちらにも公開します。\n\n同じような悩みを抱えた方の負担が少しでも解消されれば幸いです。\n\n## 前提\n\nDocker, docker-composeが入っていること。\n\n## Vite + Vue3環境構築\n\n1. 構築したいディレクトリに移動\n    \n    ```bash\n    $ cd /作業/パス/\n    \n    # 私は /var/www/hands-on/vue3にしました。\n    ```\n\n1. Dockerfile, docker-compose.ymlの作成\n    \n    ```bash\n    # sudoつけないでね！\n    \n    $ touch Dockerfile\n    $ touch docker-compose.yml\n    ```\n\n1. Dockerfileに以下をコピペ\n    \n    ```Dockerfile:Dockerfile\n    FROM node:19-alpine3.16\n    \n    WORKDIR /var/www/app\n    \n    RUN apk update \u0026\u0026 \\\n        npm install -g npm @vue/cli\n    \n    USER node\n    \n    CMD [ \"npm\", \"run\", \"dev\" ]\n    ```\n\n1. docker-composeに以下をコピペ\n    \n    ```yaml:docker-compose.yml\n    version: '3'\n    services:\n      app:\n        build:\n          context: .\n          dockerfile: Dockerfile\n        volumes:\n          - ./front:/var/www/app\n        ports:\n          - \"8080:8080\"\n        stdin_open: true\n        tty: true\n    ```\n\n1. アプリケーションディレクトリの作成\n\n    ```bash\n    # sudoつけないでね！\n    \n    $ mkdir front\n    ```\n\n1. Vite + Vue3 + TypeScriptの構築\n\n    ```bash\n    $ docker-compose build --no-cache\n    $ docker-compose run app sh\n    \n    /var/www/app $ npm init vite@latest\n      バージョンの確認: (y) ⇒ y ⇒ enter\n      アプリ名: .   # 注意！Enterにしないこと\n      フレームワーク: Vue\n                   : TypeScript\n    \n    /var/www/app $ npm install\n    ```\n\n1. vite.config.tsの修正\n\n    docker-composeで解放したportの指定と、hostをtrueにする。\n\n    ```typescript:vite.config.ts\n    import { defineConfig } from 'vite'\n    import vue from '@vitejs/plugin-vue'\n    \n    // https://vitejs.dev/config/\n    export default defineConfig({\n      plugins: [vue()],\n      server: {       // 追加\n        host: true,   // 追加\n        port: 8080    // 追加\n      }               // 追加\n    })\n    ```\n\n1. サーバー起動\n\n    Dockerfileの起動コマンドで`npm run dev`を指定しているので、`docker-compose up`のみでOK\n\n    ```bash\n    $ docker-compose up\n    ```\n\n    起動できたはず！\n    起動できていない人はもう一度やり直してみてください。\n\n## 構成ファイルの説明\n\n* .vscode\n  * vscodeの設定ファイル\n* node_modules\n  * npmやyarnを使ってインストールしてきたライブラリのコードが格納されています。\n  * package.jsonでそれぞれが`npm install`で作るので、.gitignoreに入れてgitに載せないようにしましょう！\n      * デフォルトでされています。\n* public\n  * 静的ファイル置き場(例) ロゴ.png\n* src\n  * アプリのソースコードが格納されています。\n* .gitignore\n  * gitで無視するものを指定します。\n* index.html\n  * エントリーポイントとなるもの\n* package.json\n  * インストールするパッケージの情報などが書かれた設定ファイル。\n* package-lock.json\n  * どんな依存関係で今動いているアプリが構成されているかのファイル。\n  * yarnの時はyarn.lockになります。\n* tsconfig.json\n  * TypeScriptの構成ファイル\n  * JavaScriptの前提知識も必要になるので、今はこんなものもあるんだ～くらいに思ってOK\n    * target： 生成するJavaScriptコードのバージョン\n    * module： 生成するJavaScriptモジュールの形式\n    * noImplicitAny： trueに設定すると、TypeScriptの型推測でAny型となった式／宣言があったときにはエラーメッセージが生成されるようになる\n    * outDir： 出力先のディレクトリ\n    * rootDir： プロジェクトのルートディレクトリ（tscコマンドに渡すTypeScriptコードを含んだルートディレクトリ）\n    * sourceMap： trueに設定すると、対応するソースマップファイル（.mapファイル。TypeScriptコードとそこから生成されたJavaScriptコードとの対応関係を記述したファイル）が生成されるようになる\n* tsconfig.node.json\n  * vite.config.ts等のライブラリの設定ファイルをtypescriptで書くための設定ファイル\n\n## Vuetify3の導入\n\n```bash=\n$ docker-compose exec app sh\n/var/www/app $ vue add vuetify\n  Vuetify 3 - Vite\n\n/var/www/app $ npm install\n```\n\nかんせい！\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e77a2848-4d03-6e76-93cf-abfcf6388e18.png)\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2022-12-16T20:23:07+09:00",
    "group": null,
    "id": "469be1ac350b35458d10",
    "likes_count": 8,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 7,
    "tags": [
      { "name": "TypeScript", "versions": [] },
      { "name": "Vue.js", "versions": [] },
      { "name": "Vuetify", "versions": [] },
      { "name": "vite", "versions": [] }
    ],
    "title": "新人向け: ViteでVue3+TypeScriptの構築とVuetifyの導入方法",
    "updated_at": "2022-12-17T07:03:44+09:00",
    "url": "https://qiita.com/maaaashi/items/469be1ac350b35458d10",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-3:65\"\u003e皆さんは\u003ccode\u003eHTTP Cats\u003c/code\u003eというものをご存じでしょうか\u003c/p\u003e\n\u003cp data-sourcepos=\"5:1-5:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcb844c21-403f-0b40-e5b2-c45a5b7c7b76.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8b30b6bd649f97e05bd2c0ea086ca284\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcb844c21-403f-0b40-e5b2-c45a5b7c7b76.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8b30b6bd649f97e05bd2c0ea086ca284\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcb844c21-403f-0b40-e5b2-c45a5b7c7b76.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=1a52e87d173136ce907d8e451866c635 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/cb844c21-403f-0b40-e5b2-c45a5b7c7b76.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"7:1-7:115\"\u003eこのように\u003ccode\u003ehttps://http.cat/[status_code]\u003c/code\u003eの\u003ccode\u003e[status_code]\u003c/code\u003eの部分に\u003ccode\u003e200\u003c/code\u003eみたいに入れることで...\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:121\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F73ab9253-8ca9-d1cc-9e67-1f0098987ffb.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4e56c7378daef827cad471ba9a0063ab\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F73ab9253-8ca9-d1cc-9e67-1f0098987ffb.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4e56c7378daef827cad471ba9a0063ab\" alt=\"200.jpg\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F73ab9253-8ca9-d1cc-9e67-1f0098987ffb.jpeg?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=f81b4437279f5cc390774284188ede45 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/73ab9253-8ca9-d1cc-9e67-1f0098987ffb.jpeg\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"11:1-11:90\"\u003eのように猫の画像＋ステータスコードを表示することができます。\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:158\"\u003e\u003ccode\u003eSvelteKit\u003c/code\u003eの\u003ccode\u003e+error.svelte\u003c/code\u003eというエラー時に表示させるページにこの猫ちゃんを登場させて、エラーページを和ませたい。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"16:1-16:8\"\u003e\n\u003cspan id=\"実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装\u003c/h1\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"18:1-24:3\"\u003e\n\u003cdiv class=\"code-lang\"\u003e\u003cspan class=\"bold\"\u003e+error.svelte\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003epage\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e$app/stores\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003e\u0026lt;img\u003c/span\u003e \u003cspan class=\"na\"\u003esrc=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"https://http.cat/{$page.status}\"\u003c/span\u003e \u003cspan class=\"na\"\u003ealt=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"{$page.status}_cat\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\u003cp data-sourcepos=\"26:1-26:15\"\u003e終わり...ｗ\u003c/p\u003e\n\u003ch3 data-sourcepos=\"28:1-28:7\"\u003e\n\u003cspan id=\"404\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#404\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e404\u003c/h3\u003e\n\u003cp data-sourcepos=\"30:1-30:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2fc4985e-0640-23e2-c44b-1d4c6f375691.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=71997c3c3bd45ceb0d2a7d28d019a6e9\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2fc4985e-0640-23e2-c44b-1d4c6f375691.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=71997c3c3bd45ceb0d2a7d28d019a6e9\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2fc4985e-0640-23e2-c44b-1d4c6f375691.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=00b52527501dd8d34c7597a914f78d4f 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/2fc4985e-0640-23e2-c44b-1d4c6f375691.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch3 data-sourcepos=\"32:1-32:7\"\u003e\n\u003cspan id=\"500\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#500\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e500\u003c/h3\u003e\n\u003cp data-sourcepos=\"34:1-34:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa3ffe677-2e38-ef54-3033-75147ec379c4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6b16c52edcd85c7cd91486ac8af09b15\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa3ffe677-2e38-ef54-3033-75147ec379c4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=6b16c52edcd85c7cd91486ac8af09b15\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fa3ffe677-2e38-ef54-3033-75147ec379c4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=804b278698f0c0e5e2b8b677a25e86a2 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a3ffe677-2e38-ef54-3033-75147ec379c4.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"36:1-36:74\"\u003e\u003ccode\u003eSvelteKit\u003c/code\u003eさえ構築できれば誰でも実装できそうですね。\u003c/p\u003e\n",
    "body": "# はじめに\n\n皆さんは`HTTP Cats`というものをご存じでしょうか\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/cb844c21-403f-0b40-e5b2-c45a5b7c7b76.png)\n\nこのように`https://http.cat/[status_code]`の`[status_code]`の部分に`200`みたいに入れることで...\n\n![200.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/73ab9253-8ca9-d1cc-9e67-1f0098987ffb.jpeg)\n\nのように猫の画像＋ステータスコードを表示することができます。\n\n`SvelteKit`の`+error.svelte`というエラー時に表示させるページにこの猫ちゃんを登場させて、エラーページを和ませたい。\n\n\n# 実装\n\n```vue:+error.svelte\n\u003cscript\u003e\n  import { page } from '$app/stores';\n\u003c/script\u003e\n\n\u003cimg src=\"https://http.cat/{$page.status}\" alt=\"{$page.status}_cat\"\u003e\n```\n\n終わり...ｗ\n\n### 404\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/2fc4985e-0640-23e2-c44b-1d4c6f375691.png)\n\n### 500\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/a3ffe677-2e38-ef54-3033-75147ec379c4.png)\n\n`SvelteKit`さえ構築できれば誰でも実装できそうですね。\n\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2022-12-15T21:07:47+09:00",
    "group": null,
    "id": "c86f9ac25c1313edcb87",
    "likes_count": 4,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "JavaScript", "versions": [] },
      { "name": "Svelte", "versions": [] },
      { "name": "SvelteKit", "versions": [] }
    ],
    "title": "ちょっと一息。SvelteKitのエラーページを猫に頼んでみた。",
    "updated_at": "2022-12-16T07:43:04+09:00",
    "url": "https://qiita.com/maaaashi/items/c86f9ac25c1313edcb87",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-4:53\"\u003esupabaseを用いてシステムを開発している中で、サインインのプロバイダーとしてGithubを選べることを発見。\u003cbr\u003e\nOauth認証を実装したのでその時のメモ。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"6:1-6:17\"\u003e\n\u003cspan id=\"使ったもの\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%BF%E3%81%A3%E3%81%9F%E3%82%82%E3%81%AE\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e使ったもの\u003c/h1\u003e\n\u003cul data-sourcepos=\"8:1-17:0\"\u003e\n\u003cli data-sourcepos=\"8:1-12:18\"\u003eVite + SvelteKit + Typescript\n\u003cul data-sourcepos=\"9:5-12:18\"\u003e\n\u003cli data-sourcepos=\"9:5-9:27\"\u003e@supabase/supabase-js\u003c/li\u003e\n\u003cli data-sourcepos=\"10:5-10:21\"\u003eFlowbite-svelte\u003c/li\u003e\n\u003cli data-sourcepos=\"11:5-11:18\"\u003etailwind css\u003c/li\u003e\n\u003cli data-sourcepos=\"12:5-12:18\"\u003eSvelte Icons\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"13:1-17:0\"\u003esupabase\n\u003cul data-sourcepos=\"14:5-17:0\"\u003e\n\u003cli data-sourcepos=\"14:5-14:10\"\u003eauth\u003c/li\u003e\n\u003cli data-sourcepos=\"15:5-15:8\"\u003edb\u003c/li\u003e\n\u003cli data-sourcepos=\"16:5-17:0\"\u003estorage\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"18:1-18:80\"\u003e※前提として、supabaseのプロジェクトが存在していること。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"20:1-20:11\"\u003e\n\u003cspan id=\"前準備\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%89%8D%E6%BA%96%E5%82%99\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e前準備\u003c/h1\u003e\n\u003col data-sourcepos=\"22:1-26:0\"\u003e\n\u003cli data-sourcepos=\"22:1-22:50\"\u003esupabaseのプロジェクトページに入る\u003c/li\u003e\n\u003cli data-sourcepos=\"23:1-24:126\"\u003e\n\u003ccode\u003eAuth\u003c/code\u003eのページに入り、\u003ccode\u003eProviders\u003c/code\u003eから、\u003ccode\u003eGitHub\u003c/code\u003eを見つける\u003cbr\u003e\n　 \u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3751b97f-5cb8-a0b0-505d-6dda8096ad6e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c48e03bb0e6824c907b98eac92465df3\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3751b97f-5cb8-a0b0-505d-6dda8096ad6e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=c48e03bb0e6824c907b98eac92465df3\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F3751b97f-5cb8-a0b0-505d-6dda8096ad6e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=0d3eaf184689b7a356a4223f96a6c696 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3751b97f-5cb8-a0b0-505d-6dda8096ad6e.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"25:1-26:0\"\u003eそれを開き、\u003ccode\u003eRedirectURL\u003c/code\u003eの欄をコピーしておく。\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch1 data-sourcepos=\"27:1-27:8\"\u003e\n\u003cspan id=\"設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e設定\u003c/h1\u003e\n\u003col data-sourcepos=\"29:1-45:0\"\u003e\n\u003cli data-sourcepos=\"29:1-29:30\"\u003eGitHubにログインする\u003c/li\u003e\n\u003cli data-sourcepos=\"30:1-30:70\"\u003e右上の自分のアイコン \u0026gt; \u003ccode\u003esettings\u003c/code\u003eで設定画面を開く\u003c/li\u003e\n\u003cli data-sourcepos=\"31:1-32:122\"\u003eサイドメニューの一番下、\u003ccode\u003eDevelopers setting\u003c/code\u003eを開く\u003cbr\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd62eb48b-1549-ce2d-2686-ff9aca3c7dac.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b0fab71d5a2c27a283cd3770b788b2d5\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd62eb48b-1549-ce2d-2686-ff9aca3c7dac.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b0fab71d5a2c27a283cd3770b788b2d5\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd62eb48b-1549-ce2d-2686-ff9aca3c7dac.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=087db5c58618690d8201fdd8101702ef 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/d62eb48b-1549-ce2d-2686-ff9aca3c7dac.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"33:1-34:122\"\u003e\n\u003ccode\u003eOauth Apps\u003c/code\u003eを選択\u003cbr\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fee11911e-124e-423c-3891-42e8d46ece5f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=45e853566826398bef7996d0242a3c54\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fee11911e-124e-423c-3891-42e8d46ece5f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=45e853566826398bef7996d0242a3c54\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fee11911e-124e-423c-3891-42e8d46ece5f.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=20fa964733f179ebb345a3be92934bf3 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/ee11911e-124e-423c-3891-42e8d46ece5f.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"35:1-35:55\"\u003e\n\u003ccode\u003eNewOauthApp\u003c/code\u003eより、新規作成画面に入る。\u003c/li\u003e\n\u003cli data-sourcepos=\"36:1-40:73\"\u003e以下を入力し、作成する。\u003cbr\u003e\n　\u003ccode\u003eApplication name\u003c/code\u003e: 好き名前を登録(自分はSupabaseとしました)\u003cbr\u003e\n　\u003ccode\u003eHomepage URL\u003c/code\u003e: 搭載予定のURLを登録\u003cbr\u003e\n　\u003ccode\u003eApplication description\u003c/code\u003e: そのアプリの説明を記入(任意)\u003cbr\u003e\n　\u003ccode\u003eAuthorization callback URL\u003c/code\u003e: 前準備でコピーした値を入力\u003c/li\u003e\n\u003cli data-sourcepos=\"41:1-42:82\"\u003e作成されたら、\u003ccode\u003eClientID\u003c/code\u003eと\u003ccode\u003eClient secrets\u003c/code\u003eをコピーする\u003cbr\u003e\n　※ Client secretsは\u003ccode\u003eGenerate a new client secret\u003c/code\u003eから作成すること。\u003c/li\u003e\n\u003cli data-sourcepos=\"43:1-45:0\"\u003eコピーした\u003ccode\u003eClientID\u003c/code\u003eと\u003ccode\u003eClient secrets\u003c/code\u003eを\u003ccode\u003eSupabase\u003c/code\u003eの\u003ccode\u003eproviders\u003c/code\u003eに登録し、\u003ccode\u003esave\u003c/code\u003eする。\u003cbr\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0372f782-bca4-2759-9ff0-40926d39832a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4d7b0a942ffc998dcf1a9556d3eda70b\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0372f782-bca4-2759-9ff0-40926d39832a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=4d7b0a942ffc998dcf1a9556d3eda70b\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0372f782-bca4-2759-9ff0-40926d39832a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=1591297c5783efb4c4851bdcf14cf8b1 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/0372f782-bca4-2759-9ff0-40926d39832a.png\" loading=\"lazy\"\u003e\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"46:1-46:30\"\u003eEnabledになっていればOK\u003c/p\u003e\n\u003cp data-sourcepos=\"48:1-48:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd5a070b2-f6fe-0c22-5c31-c012845cc9b0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d6c85a53604c42a097a8056814bf1516\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd5a070b2-f6fe-0c22-5c31-c012845cc9b0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d6c85a53604c42a097a8056814bf1516\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd5a070b2-f6fe-0c22-5c31-c012845cc9b0.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=6a7066874c19019ed4bf874d6275f414 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/d5a070b2-f6fe-0c22-5c31-c012845cc9b0.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch1 data-sourcepos=\"51:1-51:17\"\u003e\n\u003cspan id=\"フロント側\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E5%81%B4\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eフロント側\u003c/h1\u003e\n\u003cp data-sourcepos=\"53:1-54:54\"\u003eUIコンポーネントには\u003ca href=\"https://flowbite-svelte.com/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eFlowbite-svelte\u003c/a\u003eを利用しました。\u003cbr\u003e\n導入方法は前の記事で公開しています。\u003c/p\u003e\n\u003cp data-sourcepos=\"56:1-56:55\"\u003e\u003ciframe id=\"qiita-embed-content__31000b865c99d80147bc511dd7d241ab\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__31000b865c99d80147bc511dd7d241ab\" data-content=\"https%3A%2F%2Fqiita.com%2Fdoyaseizin%2Fitems%2F6e7e8571cc6c3d7ad2e8\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"58:1-64:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eGitHubSignIn\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003esupabase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eauth\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003esignInWithOAuth\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eprovider\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003egithub\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv data-sourcepos=\"66:1-70:3\" class=\"note info\"\u003e\n\u003cspan class=\"fa fa-fw fa-check-circle\"\u003e\u003c/span\u003e\u003cdiv\u003e\n\u003cp data-sourcepos=\"67:1-69:32\"\u003e2023/12/17追記\u003cbr\u003e\nアイコンには\u003ccode\u003eSvelte-icons\u003c/code\u003eを使用しています。\u003cbr\u003e\n\u003ca href=\"https://svelte-icons.vercel.app/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\"\u003ehttps://svelte-icons.vercel.app/\u003c/a\u003e\u003c/p\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"73:1-80:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;Button\u003c/span\u003e \u003cspan class=\"na\"\u003ecolor=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"light\"\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"w-full mt-5 btn btn-filled-surface\"\u003c/span\u003e \u003cspan class=\"na\"\u003eon:click=\u003c/span\u003e\u003cspan class=\"s\"\u003e{GitHubSignIn}\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;span\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"h-5 mr-3\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;FaGithub\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;/span\u0026gt;\u003c/span\u003e\n  GitHubでログイン\n\u003cspan class=\"nt\"\u003e\u0026lt;/Button\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"82:1-82:18\"\u003e実装完了！！\u003c/p\u003e\n\u003cp data-sourcepos=\"84:1-84:33\"\u003eえ、、めっちゃ簡単！！\u003c/p\u003e\n\u003cp data-sourcepos=\"86:1-86:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5f5c45b6-9fa5-1c47-c2b4-9d1e257a97af.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e1ef6d3561025a479cba79c0a012fabf\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5f5c45b6-9fa5-1c47-c2b4-9d1e257a97af.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e1ef6d3561025a479cba79c0a012fabf\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5f5c45b6-9fa5-1c47-c2b4-9d1e257a97af.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=3205f16733bf813fa243ec5da331c5c1 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/5f5c45b6-9fa5-1c47-c2b4-9d1e257a97af.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"88:1-88:15\"\u003eクリック後\u003c/p\u003e\n\u003cp data-sourcepos=\"90:1-90:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4c9f7a0d-87c7-f670-5b49-d3b5c5839198.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5757e4a2218242b3c5d9fd958b689608\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4c9f7a0d-87c7-f670-5b49-d3b5c5839198.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5757e4a2218242b3c5d9fd958b689608\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4c9f7a0d-87c7-f670-5b49-d3b5c5839198.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=f79fbcd1b10a76f90d528a72d09f07c3 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4c9f7a0d-87c7-f670-5b49-d3b5c5839198.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"93:1-93:90\"\u003e\u003ccode\u003eAuthorize ---\u003c/code\u003eのボタンをクリックしたらサインインが完了しました！\u003c/p\u003e\n",
    "body": "# はじめに\n\nsupabaseを用いてシステムを開発している中で、サインインのプロバイダーとしてGithubを選べることを発見。\nOauth認証を実装したのでその時のメモ。\n\n# 使ったもの\n\n* Vite + SvelteKit + Typescript\n    * @supabase/supabase-js\n    * Flowbite-svelte\n    * tailwind css\n    * Svelte Icons\n* supabase\n    * auth\n    * db\n    * storage\n\n※前提として、supabaseのプロジェクトが存在していること。\n\n# 前準備\n\n1. supabaseのプロジェクトページに入る\n1. `Auth`のページに入り、`Providers`から、`GitHub`を見つける\n　 ![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/3751b97f-5cb8-a0b0-505d-6dda8096ad6e.png)\n1. それを開き、`RedirectURL`の欄をコピーしておく。\n\n# 設定\n\n1. GitHubにログインする\n1. 右上の自分のアイコン \u003e `settings`で設定画面を開く\n1. サイドメニューの一番下、`Developers setting`を開く\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/d62eb48b-1549-ce2d-2686-ff9aca3c7dac.png)\n1. `Oauth Apps`を選択\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/ee11911e-124e-423c-3891-42e8d46ece5f.png)\n1. `NewOauthApp`より、新規作成画面に入る。\n1. 以下を入力し、作成する。\n 　`Application name`: 好き名前を登録(自分はSupabaseとしました)\n 　`Homepage URL`: 搭載予定のURLを登録\n 　`Application description`: そのアプリの説明を記入(任意)\n 　`Authorization callback URL`: 前準備でコピーした値を入力\n1. 作成されたら、`ClientID`と`Client secrets`をコピーする\n 　※ Client secretsは`Generate a new client secret`から作成すること。\n1. コピーした`ClientID`と`Client secrets`を`Supabase`の`providers`に登録し、`save`する。\n   ![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/0372f782-bca4-2759-9ff0-40926d39832a.png)\n\nEnabledになっていればOK\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/d5a070b2-f6fe-0c22-5c31-c012845cc9b0.png)\n\n\n# フロント側\n\nUIコンポーネントには[Flowbite-svelte](https://flowbite-svelte.com/)を利用しました。\n導入方法は前の記事で公開しています。\n\nhttps://qiita.com/doyaseizin/items/6e7e8571cc6c3d7ad2e8\n\n```typescript\nconst GitHubSignIn = async () =\u003e {\n  await supabase.auth.signInWithOAuth({\n    provider: 'github',\n  })\n}\n```\n\n:::note info\n2023/12/17追記\nアイコンには`Svelte-icons`を使用しています。\nhttps://svelte-icons.vercel.app/\n:::\n\n\n```vue\n\u003cButton color=\"light\" class=\"w-full mt-5 btn btn-filled-surface\" on:click={GitHubSignIn}\u003e\n  \u003cspan class=\"h-5 mr-3\"\u003e\n    \u003cFaGithub /\u003e\n  \u003c/span\u003e\n  GitHubでログイン\n\u003c/Button\u003e\n```\n\n実装完了！！\n\nえ、、めっちゃ簡単！！\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/5f5c45b6-9fa5-1c47-c2b4-9d1e257a97af.png)\n\nクリック後\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4c9f7a0d-87c7-f670-5b49-d3b5c5839198.png)\n\n\n`Authorize ---`のボタンをクリックしたらサインインが完了しました！\n\n",
    "coediting": false,
    "comments_count": 4,
    "created_at": "2022-12-15T13:07:16+09:00",
    "group": null,
    "id": "05b4226f228a31088550",
    "likes_count": 4,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 1,
    "tags": [
      { "name": "JavaScript", "versions": [] },
      { "name": "Svelte", "versions": [] },
      { "name": "Supabase", "versions": [] },
      { "name": "SvelteKit", "versions": [] }
    ],
    "title": "Supabase GitHubでログイン - Oauth認証",
    "updated_at": "2023-12-17T22:16:14+09:00",
    "url": "https://qiita.com/maaaashi/items/05b4226f228a31088550",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-3:59\"\u003e\u003ccode\u003eSvelteKit\u003c/code\u003eのブロックについてまとめました。\u003c/p\u003e\n\u003cul data-sourcepos=\"5:1-11:0\"\u003e\n\u003cli data-sourcepos=\"5:1-5:4\"\u003eIf\u003c/li\u003e\n\u003cli data-sourcepos=\"6:1-6:6\"\u003eElse\u003c/li\u003e\n\u003cli data-sourcepos=\"7:1-7:9\"\u003eElse if\u003c/li\u003e\n\u003cli data-sourcepos=\"8:1-8:6\"\u003eEach\u003c/li\u003e\n\u003cli data-sourcepos=\"9:1-9:5\"\u003eKey\u003c/li\u003e\n\u003cli data-sourcepos=\"10:1-11:0\"\u003eAwait\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 data-sourcepos=\"12:1-12:21\"\u003e\n\u003cspan id=\"つかったもの\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%A4%E3%81%8B%E3%81%A3%E3%81%9F%E3%82%82%E3%81%AE\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eつかったもの\u003c/h2\u003e\n\u003cul data-sourcepos=\"14:1-17:0\"\u003e\n\u003cli data-sourcepos=\"14:1-17:0\"\u003eVite + SvelteKit + Typescript\n\u003cul data-sourcepos=\"15:5-17:0\"\u003e\n\u003cli data-sourcepos=\"15:5-15:21\"\u003eFlowbite-svelte\u003c/li\u003e\n\u003cli data-sourcepos=\"16:5-17:0\"\u003etailwind css\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"18:1-19:54\"\u003eUIコンポーネントには\u003ca href=\"https://flowbite-svelte.com/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eFlowbite-svelte\u003c/a\u003eを利用しました。\u003cbr\u003e\n導入方法は前の記事で公開しています。\u003c/p\u003e\n\u003cp data-sourcepos=\"21:1-21:55\"\u003e\u003ciframe id=\"qiita-embed-content__cafadd92b043d3a776ce54b373e01a71\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__cafadd92b043d3a776ce54b373e01a71\" data-content=\"https%3A%2F%2Fqiita.com%2Fdoyaseizin%2Fitems%2F6e7e8571cc6c3d7ad2e8\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch2 data-sourcepos=\"23:1-23:5\"\u003e\n\u003cspan id=\"if\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#if\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eIf\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"25:1-43:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ts\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eButton\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eflowbite-svelte\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003ebool\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n{#if bool}\n\t\u003cspan class=\"nt\"\u003e\u0026lt;Button\u003c/span\u003e \u003cspan class=\"na\"\u003ecolor=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"blue\"\u003c/span\u003e \u003cspan class=\"na\"\u003eon:click=\u003c/span\u003e\u003cspan class=\"s\"\u003e{()\u003c/span\u003e \u003cspan class=\"err\"\u003e=\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e bool = !bool}\u0026gt;\n\t\tTRUE\n\t\u003cspan class=\"nt\"\u003e\u0026lt;/Button\u0026gt;\u003c/span\u003e\n{/if}\n\n{#if !bool}\n\t\u003cspan class=\"nt\"\u003e\u0026lt;Button\u003c/span\u003e \u003cspan class=\"na\"\u003ecolor=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"green\"\u003c/span\u003e \u003cspan class=\"na\"\u003eon:click=\u003c/span\u003e\u003cspan class=\"s\"\u003e{()\u003c/span\u003e \u003cspan class=\"err\"\u003e=\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e bool = !bool}\u0026gt;\n\t\tFALSE\n\t\u003cspan class=\"nt\"\u003e\u0026lt;/Button\u0026gt;\u003c/span\u003e\n{/if}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"45:1-45:119\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcfd20698-275e-bdf8-47fb-4964ab6d887d.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d96293272d200a1b8583a01d638229be\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcfd20698-275e-bdf8-47fb-4964ab6d887d.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d96293272d200a1b8583a01d638229be\" alt=\"if.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fcfd20698-275e-bdf8-47fb-4964ab6d887d.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=b800fdf6cb35d8427c2b9936e6065236 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/cfd20698-275e-bdf8-47fb-4964ab6d887d.gif\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"47:1-47:7\"\u003e\n\u003cspan id=\"else\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#else\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eElse\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"49:1-65:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ts\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eButton\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eflowbite-svelte\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\t\u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003ebool\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n{#if bool}\n\t\u003cspan class=\"nt\"\u003e\u0026lt;Button\u003c/span\u003e \u003cspan class=\"na\"\u003ecolor=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"blue\"\u003c/span\u003e \u003cspan class=\"na\"\u003eon:click=\u003c/span\u003e\u003cspan class=\"s\"\u003e{()\u003c/span\u003e \u003cspan class=\"err\"\u003e=\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e bool = !bool}\u0026gt;\n\t\tTRUE\n\t\u003cspan class=\"nt\"\u003e\u0026lt;/Button\u0026gt;\u003c/span\u003e\n{:else}\n\t\u003cspan class=\"nt\"\u003e\u0026lt;Button\u003c/span\u003e \u003cspan class=\"na\"\u003ecolor=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"green\"\u003c/span\u003e \u003cspan class=\"na\"\u003eon:click=\u003c/span\u003e\u003cspan class=\"s\"\u003e{()\u003c/span\u003e \u003cspan class=\"err\"\u003e=\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e bool = !bool}\u0026gt;\n\t\tFALSE\n\t\u003cspan class=\"nt\"\u003e\u0026lt;/Button\u0026gt;\u003c/span\u003e\n{/if}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"66:1-66:119\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7cf78897-0ebc-341b-990e-2c4137123c70.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e661dc4b58af5c515ff5838542e7a85a\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7cf78897-0ebc-341b-990e-2c4137123c70.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=e661dc4b58af5c515ff5838542e7a85a\" alt=\"if.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7cf78897-0ebc-341b-990e-2c4137123c70.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=952e4537c9c3ed04425e6021edd73d6d 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/7cf78897-0ebc-341b-990e-2c4137123c70.gif\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"68:1-68:10\"\u003e\n\u003cspan id=\"else-if\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#else-if\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eElse if\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"70:1-90:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ts\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eButton\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eflowbite-svelte\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\t\u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003ecolor\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eblue\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n{#if color === 'blue'}\n\t\u003cspan class=\"nt\"\u003e\u0026lt;Button\u003c/span\u003e \u003cspan class=\"na\"\u003ecolor=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"blue\"\u003c/span\u003e \u003cspan class=\"na\"\u003eon:click=\u003c/span\u003e\u003cspan class=\"s\"\u003e{()\u003c/span\u003e \u003cspan class=\"err\"\u003e=\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e color = 'green'}\u0026gt;\n\t\tBlue\n\t\u003cspan class=\"nt\"\u003e\u0026lt;/Button\u0026gt;\u003c/span\u003e\n{:else if color === 'green'}\n\t\u003cspan class=\"nt\"\u003e\u0026lt;Button\u003c/span\u003e \u003cspan class=\"na\"\u003ecolor=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"green\"\u003c/span\u003e \u003cspan class=\"na\"\u003eon:click=\u003c/span\u003e\u003cspan class=\"s\"\u003e{()\u003c/span\u003e \u003cspan class=\"err\"\u003e=\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e color = 'red'}\u0026gt;\n\t\tGreen\n\t\u003cspan class=\"nt\"\u003e\u0026lt;/Button\u0026gt;\u003c/span\u003e\n{:else}\n\t\u003cspan class=\"nt\"\u003e\u0026lt;Button\u003c/span\u003e \u003cspan class=\"na\"\u003ecolor=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"red\"\u003c/span\u003e \u003cspan class=\"na\"\u003eon:click=\u003c/span\u003e\u003cspan class=\"s\"\u003e{()\u003c/span\u003e \u003cspan class=\"err\"\u003e=\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e color = 'blue'}\u0026gt;\n\t\tRed\n\t\u003cspan class=\"nt\"\u003e\u0026lt;/Button\u0026gt;\u003c/span\u003e\n{/if}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"92:1-92:124\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F288565ae-7e92-c3b6-8e7e-7af457b02fb5.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=97b4763820624c8475d1666640f01553\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F288565ae-7e92-c3b6-8e7e-7af457b02fb5.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=97b4763820624c8475d1666640f01553\" alt=\"else if.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F288565ae-7e92-c3b6-8e7e-7af457b02fb5.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ab83e79a0cd23d4936c3eb2f36b4df91 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/288565ae-7e92-c3b6-8e7e-7af457b02fb5.gif\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"94:1-94:7\"\u003e\n\u003cspan id=\"each\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#each\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eEach\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"96:1-106:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ts\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\t\u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nb\"\u003eArray\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e田中\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e鈴木\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e佐藤\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n{#each Array as\tname, index }\n\t\u003cspan class=\"nt\"\u003e\u0026lt;p\u0026gt;\u003c/span\u003e\n\t\t{index}: {name}\n\t\u003cspan class=\"nt\"\u003e\u0026lt;/p\u0026gt;\u003c/span\u003e\n{/each}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"108:1-108:52\"\u003e\u003ccode\u003eindex\u003c/code\u003eを指定するときは↑のようにする\u003c/p\u003e\n\u003cp data-sourcepos=\"110:1-110:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9d88b712-23f5-72f8-84d3-9399c32d27e4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8b75951028fcb6b96ff2c78dbb38cb80\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9d88b712-23f5-72f8-84d3-9399c32d27e4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=8b75951028fcb6b96ff2c78dbb38cb80\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9d88b712-23f5-72f8-84d3-9399c32d27e4.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=d2bd9bc14af38172851f90794f534607 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/9d88b712-23f5-72f8-84d3-9399c32d27e4.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"112:1-112:6\"\u003e\n\u003cspan id=\"key\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#key\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eKey\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"114:1-118:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e{#key value}\n    ・・・\n{/key}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"120:1-121:81\"\u003evalueが変化すると中のブロックが再表示されます。\u003cbr\u003e\nとある変化を拾い、再表示したいしたい時に使えそうです。\u003c/p\u003e\n\u003cp data-sourcepos=\"123:1-123:48\"\u003eアニメーションで使ってみました。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"125:1-150:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ts\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eButton\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eSelect\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eflowbite-svelte\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003efly\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003esvelte/transition\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003eduration\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e200\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003edurations\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"na\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e100\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e早い\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"na\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e500\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e通常\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"na\"\u003evalue\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e1000\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e遅い\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"flex\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  {#key duration}\n    \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"w-1/5\"\u003c/span\u003e \u003cspan class=\"na\"\u003ein:fly=\u003c/span\u003e\u003cspan class=\"s\"\u003e{{\u003c/span\u003e \u003cspan class=\"na\"\u003eduration:\u003c/span\u003e \u003cspan class=\"na\"\u003eduration\u003c/span\u003e\u003cspan class=\"err\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ey:\u003c/span\u003e \u003cspan class=\"err\"\u003e200\u003c/span\u003e \u003cspan class=\"err\"\u003e}}\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n      \u003cspan class=\"nt\"\u003e\u0026lt;Button\u003c/span\u003e \u003cspan class=\"na\"\u003ecolor=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"light\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n        登録\n      \u003cspan class=\"nt\"\u003e\u0026lt;/Button\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n  {/key}\n\n  \u003cspan class=\"nt\"\u003e\u0026lt;Select\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"w-4/5\"\u003c/span\u003e \u003cspan class=\"na\"\u003eitems=\u003c/span\u003e\u003cspan class=\"s\"\u003e{durations}\u003c/span\u003e \u003cspan class=\"na\"\u003ebind:value=\u003c/span\u003e\u003cspan class=\"s\"\u003e{duration}\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e  \n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"152:1-152:120\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5d8995e2-9a62-14e3-2b16-2995a222f1cf.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5d32ea3bc97de49b9561bef55cc25250\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5d8995e2-9a62-14e3-2b16-2995a222f1cf.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=5d32ea3bc97de49b9561bef55cc25250\" alt=\"key.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5d8995e2-9a62-14e3-2b16-2995a222f1cf.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=eff4c32da782b26559bb9b7ae8af8d26 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/5d8995e2-9a62-14e3-2b16-2995a222f1cf.gif\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"154:1-154:8\"\u003e\n\u003cspan id=\"await\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#await\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eAwait\u003c/h2\u003e\n\u003cp data-sourcepos=\"156:1-157:84\"\u003e普段Promiseを使っていると、ありがちなThenブロックが繋がりまくって可読性が低くなる現象をスッキリかけます\u003cbr\u003e\nデモとして犬の画像をランダムに拾ってくるようにしました。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"159:1-178:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ts\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003easync\u003c/span\u003e \u003cspan class=\"kd\"\u003efunction\u003c/span\u003e \u003cspan class=\"nf\"\u003egetDog\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eres\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nf\"\u003efetch\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s2\"\u003e`https://dog.ceo/api/breeds/image/random/1`\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003etext\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003eres\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eres\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eok\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003eJSON\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eparse\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003etext\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nx\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n{#await getDog()}\n  \u003cspan class=\"nt\"\u003e\u0026lt;p\u0026gt;\u003c/span\u003e...waiting\u003cspan class=\"nt\"\u003e\u0026lt;/p\u0026gt;\u003c/span\u003e\n{:then url}\n  \u003cspan class=\"nt\"\u003e\u0026lt;img\u003c/span\u003e \u003cspan class=\"na\"\u003esrc=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"{url}\"\u003c/span\u003e \u003cspan class=\"na\"\u003ewidth=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"200\"\u003c/span\u003e \u003cspan class=\"na\"\u003ealt=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"犬の画像\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n{:catch error}\n  \u003cspan class=\"nt\"\u003e\u0026lt;p\u003c/span\u003e \u003cspan class=\"na\"\u003estyle=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"color: red\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e{error.message}\u003cspan class=\"nt\"\u003e\u0026lt;/p\u0026gt;\u003c/span\u003e\n{/await}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"180:1-180:36\"\u003eかなりすっきりしますね！\u003c/p\u003e\n\u003cp data-sourcepos=\"183:1-183:120\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F759b7598-5229-5b19-170e-db2132581726.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=36030f2c6cef9a725d2fea3170e9d790\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F759b7598-5229-5b19-170e-db2132581726.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=36030f2c6cef9a725d2fea3170e9d790\" alt=\"dog.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F759b7598-5229-5b19-170e-db2132581726.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=72783e9cfbb0e639c94d3f0d2faf0f86 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/759b7598-5229-5b19-170e-db2132581726.gif\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n",
    "body": "# はじめに\n\n`SvelteKit`のブロックについてまとめました。\n\n* If\n* Else\n* Else if\n* Each\n* Key\n* Await\n\n## つかったもの\n\n* Vite + SvelteKit + Typescript\n    * Flowbite-svelte\n    * tailwind css\n\nUIコンポーネントには[Flowbite-svelte](https://flowbite-svelte.com/)を利用しました。\n導入方法は前の記事で公開しています。\n\nhttps://qiita.com/doyaseizin/items/6e7e8571cc6c3d7ad2e8\n\n## If\n\n```vue\n\u003cscript lang=\"ts\"\u003e\n  import { Button } from \"flowbite-svelte\";\n\n  let bool = true;\n\u003c/script\u003e\n\n{#if bool}\n\t\u003cButton color=\"blue\" on:click={() =\u003e bool = !bool}\u003e\n\t\tTRUE\n\t\u003c/Button\u003e\n{/if}\n\n{#if !bool}\n\t\u003cButton color=\"green\" on:click={() =\u003e bool = !bool}\u003e\n\t\tFALSE\n\t\u003c/Button\u003e\n{/if}\n```\n\n![if.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/cfd20698-275e-bdf8-47fb-4964ab6d887d.gif)\n\n## Else\n\n```vue\n\u003cscript lang=\"ts\"\u003e\n  import { Button } from \"flowbite-svelte\";\n\n\tlet bool = true;\n\u003c/script\u003e\n\n{#if bool}\n\t\u003cButton color=\"blue\" on:click={() =\u003e bool = !bool}\u003e\n\t\tTRUE\n\t\u003c/Button\u003e\n{:else}\n\t\u003cButton color=\"green\" on:click={() =\u003e bool = !bool}\u003e\n\t\tFALSE\n\t\u003c/Button\u003e\n{/if}\n```\n![if.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/7cf78897-0ebc-341b-990e-2c4137123c70.gif)\n\n## Else if\n\n```vue\n\u003cscript lang=\"ts\"\u003e\n  import { Button } from \"flowbite-svelte\";\n\n\tlet color = 'blue';\n\u003c/script\u003e\n\n{#if color === 'blue'}\n\t\u003cButton color=\"blue\" on:click={() =\u003e color = 'green'}\u003e\n\t\tBlue\n\t\u003c/Button\u003e\n{:else if color === 'green'}\n\t\u003cButton color=\"green\" on:click={() =\u003e color = 'red'}\u003e\n\t\tGreen\n\t\u003c/Button\u003e\n{:else}\n\t\u003cButton color=\"red\" on:click={() =\u003e color = 'blue'}\u003e\n\t\tRed\n\t\u003c/Button\u003e\n{/if}\n```\n\n![else if.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/288565ae-7e92-c3b6-8e7e-7af457b02fb5.gif)\n\n## Each\n\n```vue\n\u003cscript lang=\"ts\"\u003e\n\tlet Array = [ '田中', '鈴木', '佐藤'];\n\u003c/script\u003e\n\n{#each Array as\tname, index }\n\t\u003cp\u003e\n\t\t{index}: {name}\n\t\u003c/p\u003e\n{/each}\n```\n\n`index`を指定するときは↑のようにする\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/9d88b712-23f5-72f8-84d3-9399c32d27e4.png)\n\n## Key\n\n```vue\n{#key value}\n    ・・・\n{/key}\n```\n\nvalueが変化すると中のブロックが再表示されます。\nとある変化を拾い、再表示したいしたい時に使えそうです。\n\nアニメーションで使ってみました。\n\n```vue\n\u003cscript lang=\"ts\"\u003e\n  import { Button, Select } from \"flowbite-svelte\";\n  import { fly } from \"svelte/transition\";\n\n  let duration = 200;\n\n  let durations = [\n    {value: 100, name: '早い'},\n    {value: 500, name: '通常'},\n    {value: 1000, name: '遅い'},\n  ]\n\u003c/script\u003e\n\n\u003cdiv class=\"flex\"\u003e\n  {#key duration}\n    \u003cdiv class=\"w-1/5\" in:fly={{ duration: duration, y: 200 }}\u003e\n      \u003cButton color=\"light\"\u003e\n        登録\n      \u003c/Button\u003e\n    \u003c/div\u003e\n  {/key}\n\n  \u003cSelect class=\"w-4/5\" items={durations} bind:value={duration} /\u003e\n\u003c/div\u003e  \n```\n\n![key.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/5d8995e2-9a62-14e3-2b16-2995a222f1cf.gif)\n\n## Await\n\n普段Promiseを使っていると、ありがちなThenブロックが繋がりまくって可読性が低くなる現象をスッキリかけます\nデモとして犬の画像をランダムに拾ってくるようにしました。\n\n```vue\n\u003cscript lang=\"ts\"\u003e\n  async function getDog() {\n    const res = await fetch(`https://dog.ceo/api/breeds/image/random/1`);\n    const text = await res.text();\n\n    if (res.ok) {\n      return JSON.parse(text).message[0]\n    }\n  }\n\u003c/script\u003e\n\n{#await getDog()}\n  \u003cp\u003e...waiting\u003c/p\u003e\n{:then url}\n  \u003cimg src=\"{url}\" width=\"200\" alt=\"犬の画像\"\u003e\n{:catch error}\n  \u003cp style=\"color: red\"\u003e{error.message}\u003c/p\u003e\n{/await}\n```\n\nかなりすっきりしますね！\n\n\n![dog.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/759b7598-5229-5b19-170e-db2132581726.gif)\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2022-12-14T13:18:20+09:00",
    "group": null,
    "id": "cd508596bd18e328a321",
    "likes_count": 2,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 1,
    "tags": [
      { "name": "JavaScript", "versions": [] },
      { "name": "Svelte", "versions": [] },
      { "name": "SvelteKit", "versions": [] }
    ],
    "title": "SvelteKit ブロックまとめ",
    "updated_at": "2022-12-14T13:18:20+09:00",
    "url": "https://qiita.com/maaaashi/items/cd508596bd18e328a321",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-4:112\"\u003eBaas(Backend As A Service)で何かサービスを構築してみたいと思い、\u003cbr\u003e\nfirebaseを触ってみようと思ったところ、Firebase の代替と謳われているsupabaseを発見。\u003c/p\u003e\n\u003cp data-sourcepos=\"6:1-6:96\"\u003eこちらの方が面白そうだと感じたため、構築してみることにしました。\u003c/p\u003e\n\u003cp data-sourcepos=\"8:1-8:117\"\u003e今回はプロフィール画面を作成した際に、supabaseのstorage機能について触れたのでメモ。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"10:1-10:18\"\u003e\n\u003cspan id=\"使ったもの\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%BF%E3%81%A3%E3%81%9F%E3%82%82%E3%81%AE\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e使ったもの\u003c/h2\u003e\n\u003cul data-sourcepos=\"12:1-21:0\"\u003e\n\u003cli data-sourcepos=\"12:1-16:0\"\u003e\n\u003cp data-sourcepos=\"12:3-12:31\"\u003eVite + SvelteKit + Typescript\u003c/p\u003e\n\u003cul data-sourcepos=\"13:5-16:0\"\u003e\n\u003cli data-sourcepos=\"13:5-13:27\"\u003e@supabase/supabase-js\u003c/li\u003e\n\u003cli data-sourcepos=\"14:5-14:21\"\u003eFlowbite-svelte\u003c/li\u003e\n\u003cli data-sourcepos=\"15:5-16:0\"\u003etailwind css\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"17:1-21:0\"\u003e\n\u003cp data-sourcepos=\"17:3-17:10\"\u003esupabase\u003c/p\u003e\n\u003cul data-sourcepos=\"18:5-21:0\"\u003e\n\u003cli data-sourcepos=\"18:5-18:10\"\u003eauth\u003c/li\u003e\n\u003cli data-sourcepos=\"19:5-19:8\"\u003edb\u003c/li\u003e\n\u003cli data-sourcepos=\"20:5-21:0\"\u003estorage\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 data-sourcepos=\"22:1-22:12\"\u003e\n\u003cspan id=\"完成品\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%8C%E6%88%90%E5%93%81\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e完成品\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"24:1-24:54\"\u003e\n\u003cspan id=\"マイページアイコンアップロード前\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%9E%E3%82%A4%E3%83%9A%E3%83%BC%E3%82%B8%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3%E3%82%A2%E3%83%83%E3%83%97%E3%83%AD%E3%83%BC%E3%83%89%E5%89%8D\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eマイページ(アイコンアップロード前)\u003c/h3\u003e\n\u003cp data-sourcepos=\"26:1-26:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F399b997f-44f2-923e-f451-1e657705064a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7a6b16fbc9b0380c5ce0bb823d040a82\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F399b997f-44f2-923e-f451-1e657705064a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7a6b16fbc9b0380c5ce0bb823d040a82\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F399b997f-44f2-923e-f451-1e657705064a.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=551d2e44a7b4299e09adf6192d1238a6 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/399b997f-44f2-923e-f451-1e657705064a.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch3 data-sourcepos=\"28:1-28:28\"\u003e\n\u003cspan id=\"アップロード画面\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%A2%E3%83%83%E3%83%97%E3%83%AD%E3%83%BC%E3%83%89%E7%94%BB%E9%9D%A2\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eアップロード画面\u003c/h3\u003e\n\u003cp data-sourcepos=\"30:1-30:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9a350231-a054-4438-4742-25c5c7d514de.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=27909f4754ec0c33d4cdd086b526a0bb\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9a350231-a054-4438-4742-25c5c7d514de.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=27909f4754ec0c33d4cdd086b526a0bb\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F9a350231-a054-4438-4742-25c5c7d514de.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ba9bf61a00065f97b88078e3840305c6 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/9a350231-a054-4438-4742-25c5c7d514de.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch3 data-sourcepos=\"32:1-32:54\"\u003e\n\u003cspan id=\"マイページアイコンアップロード後\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%83%9E%E3%82%A4%E3%83%9A%E3%83%BC%E3%82%B8%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3%E3%82%A2%E3%83%83%E3%83%97%E3%83%AD%E3%83%BC%E3%83%89%E5%BE%8C\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eマイページ(アイコンアップロード後)\u003c/h3\u003e\n\u003cp data-sourcepos=\"34:1-34:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4d95c4c8-27f5-13ea-e1f7-2d209763320e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=805dddb7e3b58b952a71545316065c46\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4d95c4c8-27f5-13ea-e1f7-2d209763320e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=805dddb7e3b58b952a71545316065c46\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F4d95c4c8-27f5-13ea-e1f7-2d209763320e.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=6b03c4809cc56d35d56d9a5ff4e4d044 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4d95c4c8-27f5-13ea-e1f7-2d209763320e.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"37:1-37:15\"\u003e\n\u003cspan id=\"実装方法\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85%E6%96%B9%E6%B3%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装方法\u003c/h2\u003e\n\u003col data-sourcepos=\"39:1-42:0\"\u003e\n\u003cli data-sourcepos=\"39:1-39:67\"\u003eSupabase管理画面より、\u003ccode\u003estorage\u003c/code\u003e \u0026gt; \u003ccode\u003ebucket\u003c/code\u003eを作成する\u003c/li\u003e\n\u003cli data-sourcepos=\"40:1-40:69\"\u003eSupabase管理画面から、\u003ccode\u003eprofiles\u003c/code\u003eテーブルを作成する\u003c/li\u003e\n\u003cli data-sourcepos=\"41:1-42:0\"\u003eフロント側を整備する\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 data-sourcepos=\"43:1-43:71\"\u003e\n\u003cspan id=\"1-supabase管理画面よりstorage--bucketを作成する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#1-supabase%E7%AE%A1%E7%90%86%E7%94%BB%E9%9D%A2%E3%82%88%E3%82%8Astorage--bucket%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e1. Supabase管理画面より、\u003ccode\u003estorage\u003c/code\u003e \u0026gt; \u003ccode\u003ebucket\u003c/code\u003eを作成する\u003c/h3\u003e\n\u003cp data-sourcepos=\"45:1-45:78\"\u003eアイコンを保存するためのバケットを作成していきます。\u003c/p\u003e\n\u003col data-sourcepos=\"47:1-50:0\"\u003e\n\u003cli data-sourcepos=\"47:1-47:57\"\u003eサイドメニューから、\u003ccode\u003eStorage\u003c/code\u003eを選択する\u003c/li\u003e\n\u003cli data-sourcepos=\"48:1-50:0\"\u003e画面左上の\u003ccode\u003eNew bucket\u003c/code\u003eを選択し、任意のタイトルで保存をする。\u003cbr\u003e\n今回は公式のチュートリアル通りに\u003ccode\u003eavatars\u003c/code\u003eとしました。\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"51:1-51:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe2534f32-5572-3edc-1a08-033a6c44fd09.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b1d5f51a710a28cfbcd42173d25fac95\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe2534f32-5572-3edc-1a08-033a6c44fd09.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b1d5f51a710a28cfbcd42173d25fac95\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe2534f32-5572-3edc-1a08-033a6c44fd09.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=6b487b014f08b57de04d8b5845d3b1db 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e2534f32-5572-3edc-1a08-033a6c44fd09.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch3 data-sourcepos=\"53:1-53:73\"\u003e\n\u003cspan id=\"2-supabase管理画面からprofilesテーブルを作成する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#2-supabase%E7%AE%A1%E7%90%86%E7%94%BB%E9%9D%A2%E3%81%8B%E3%82%89profiles%E3%83%86%E3%83%BC%E3%83%96%E3%83%AB%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e2. Supabase管理画面から、\u003ccode\u003eprofiles\u003c/code\u003eテーブルを作成する\u003c/h3\u003e\n\u003cp data-sourcepos=\"55:1-55:109\"\u003eユーザーに対してアイコンのURLを紐づけるために\u003ccode\u003eprofiles\u003c/code\u003eテーブルを作成します。\u003c/p\u003e\n\u003col data-sourcepos=\"57:1-61:0\"\u003e\n\u003cli data-sourcepos=\"57:1-57:60\"\u003eサイドメニューから、\u003ccode\u003eSQL Editor\u003c/code\u003eを選択する\u003c/li\u003e\n\u003cli data-sourcepos=\"58:1-58:39\"\u003e画面左上の\u003ccode\u003eWelcome\u003c/code\u003eを選択。\u003c/li\u003e\n\u003cli data-sourcepos=\"59:1-61:0\"\u003e\n\u003ccode\u003eQuick start\u003c/code\u003eの欄の\u003ccode\u003eUser Management Starter\u003c/code\u003eを選び、実行する\u003cbr\u003e\n(RUN or Ctrl + Enter)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"62:1-62:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7ac314d3-70d4-e86b-95b5-715b714d03cc.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a1a6017b34f9fd611020ee8a5225ac4e\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7ac314d3-70d4-e86b-95b5-715b714d03cc.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=a1a6017b34f9fd611020ee8a5225ac4e\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F7ac314d3-70d4-e86b-95b5-715b714d03cc.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=32491d344c65efed61d0bce721e7238f 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/7ac314d3-70d4-e86b-95b5-715b714d03cc.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch3 data-sourcepos=\"64:1-64:37\"\u003e\n\u003cspan id=\"3-フロント側を整備する\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#3-%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E5%81%B4%E3%82%92%E6%95%B4%E5%82%99%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e3. フロント側を整備する\u003c/h3\u003e\n\u003cp data-sourcepos=\"66:1-66:97\"\u003e1と2でsupabase側の用意は完了なので、今度はフロント側を整備していく。\u003c/p\u003e\n\u003cp data-sourcepos=\"68:1-68:72\"\u003eまずはファイルのアップロードフォームを作成する。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"70:1-85:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ts\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eLabel\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eflowbite-svelte\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003efiles\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eFileList\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"flex\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;Label\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"w-1/5 pb-2\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eアイコンアップロード\u003cspan class=\"nt\"\u003e\u0026lt;/Label\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;input\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"w-4/5 text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400\"\u003c/span\u003e\n        \u003cspan class=\"na\"\u003etype=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"file\"\u003c/span\u003e\n        \u003cspan class=\"na\"\u003eaccept=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"image/*\"\u003c/span\u003e\n        \u003cspan class=\"na\"\u003ebind:value=\u003c/span\u003e\u003cspan class=\"s\"\u003e{files}\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"87:1-87:36\"\u003eこんな感じになりました。\u003c/p\u003e\n\u003cp data-sourcepos=\"89:1-89:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F42705f53-1299-a434-0fec-6f66df3f5650.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f7951f6ee7f5ee595df94a9935a8c7bb\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F42705f53-1299-a434-0fec-6f66df3f5650.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=f7951f6ee7f5ee595df94a9935a8c7bb\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F42705f53-1299-a434-0fec-6f66df3f5650.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=21a51633d1e816bead2417ffc64a5aec 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/42705f53-1299-a434-0fec-6f66df3f5650.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"91:1-91:93\"\u003e次に、ファイルがアップロードされたら着火するイベントを作成する\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"93:1-117:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ts\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003efiles\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eFileList\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003euploadIcon\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e!\u003c/span\u003e\u003cspan class=\"nx\"\u003efiles\u003c/span\u003e \u003cspan class=\"o\"\u003e||\u003c/span\u003e \u003cspan class=\"nx\"\u003efiles\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elength\u003c/span\u003e \u003cspan class=\"o\"\u003e===\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003efile\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003efiles\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003efileExt\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003efile\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003esplit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e.\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003epop\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003efilePath\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e`\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003esession\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003euser\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e/\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nb\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003erandom\u003c/span\u003e\u003cspan class=\"p\"\u003e()}\u003c/span\u003e\u003cspan class=\"s2\"\u003e.\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003efileExt\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e`\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003esupabase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003estorage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"k\"\u003efrom\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eavatars\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eupload\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003efilePath\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003efile\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n  \u003cspan class=\"nt\"\u003e\u0026lt;input\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"w-4/5 block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400\"\u003c/span\u003e\n    \u003cspan class=\"na\"\u003etype=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"file\"\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eaccept=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"image/*\"\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ebind:files\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eon:change=\u003c/span\u003e\u003cspan class=\"s\"\u003e{uploadIcon}\u003c/span\u003e \u003cspan class=\"err\"\u003e//\u003c/span\u003e \u003cspan class=\"na\"\u003e追加\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"119:1-120:124\"\u003e\u003ccode\u003esession\u003c/code\u003eには現在のsession情報を格納しています。\u003cbr\u003e\n\u003ccode\u003eavatar storage\u003c/code\u003eにユーザーごとのファイルを作成し、そこに画像を格納するようにしています。\u003c/p\u003e\n\u003cp data-sourcepos=\"122:1-122:64\"\u003e次に、\u003ccode\u003eprofiles\u003c/code\u003eテーブルに画像URLを保存します。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"124:1-162:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ts\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eLabel\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eButton\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eflowbite-svelte\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003efiles\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eFileList\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003estring\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eupdateUser\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003eupdate_data\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003e$session\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003euser\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eavatar_url\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eurl\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003esupabase\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"k\"\u003efrom\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eprofiles\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003eupdate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eupdate_data\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003euploadIcon\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"k\"\u003easync \u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003eif \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"o\"\u003e!\u003c/span\u003e\u003cspan class=\"nx\"\u003efiles\u003c/span\u003e \u003cspan class=\"o\"\u003e||\u003c/span\u003e \u003cspan class=\"nx\"\u003efiles\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003elength\u003c/span\u003e \u003cspan class=\"o\"\u003e===\u003c/span\u003e \u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003efile\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003efiles\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e0\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003efileExt\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003efile\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003esplit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e.\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003epop\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003efilePath\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"s2\"\u003e`\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003esession\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003euser\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e/\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nb\"\u003eMath\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003erandom\u003c/span\u003e\u003cspan class=\"p\"\u003e()}\u003c/span\u003e\u003cspan class=\"s2\"\u003e.\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003efileExt\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e`\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003eawait\u003c/span\u003e \u003cspan class=\"nx\"\u003esupabase\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003estorage\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"k\"\u003efrom\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eavatars\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eupload\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003efilePath\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003efile\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n    \u003cspan class=\"nx\"\u003eurl\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003efilePath\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003e\u0026lt;form\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"w-full\"\u003c/span\u003e \u003cspan class=\"na\"\u003eon:submit\u003c/span\u003e\u003cspan class=\"err\"\u003e|\u003c/span\u003e\u003cspan class=\"na\"\u003epreventDefault=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"{updateUser}\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  // ------------------------------\n  // 先ほどのファイルフォーム\n  // ------------------------------\n  \u003cspan class=\"nt\"\u003e\u0026lt;Button\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"mt-10\"\u003c/span\u003e \u003cspan class=\"na\"\u003etype=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"submit\"\u003c/span\u003e \u003cspan class=\"na\"\u003ecolor=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"yellow\"\u003c/span\u003e \u003cspan class=\"na\"\u003edisabled=\u003c/span\u003e\u003cspan class=\"s\"\u003e{updating}\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003eプロフィールを変更する\u003cspan class=\"nt\"\u003e\u0026lt;/Button\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/form\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"164:1-165:159\"\u003e先ほど作った\u003ccode\u003euploadIcon\u003c/code\u003eメソッドの最後に\u003ccode\u003efilePath\u003c/code\u003eを変数に格納します。\u003cbr\u003e\nまた、\u003ccode\u003eform\u003c/code\u003eタグのサブミットイベントに\u003ccode\u003eupdateUser\u003c/code\u003eを定義し、サブミットボタンを押されたら着火するようにしました。\u003c/p\u003e\n\u003cp data-sourcepos=\"167:1-167:138\"\u003eニックネームや出身地など、一緒のフォームで入力できるようにすればプロフィール画面が作れますね\u003c/p\u003e\n\u003cp data-sourcepos=\"170:1-170:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5b7902ce-e6f1-4d18-f7d3-6e58102030ab.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7c1b805987c2132e4e7dd4aa7a27418c\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5b7902ce-e6f1-4d18-f7d3-6e58102030ab.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=7c1b805987c2132e4e7dd4aa7a27418c\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F5b7902ce-e6f1-4d18-f7d3-6e58102030ab.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=4ed66d50122cbdfc85d5734789e8a09f 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/5b7902ce-e6f1-4d18-f7d3-6e58102030ab.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n",
    "body": "# はじめに\n\nBaas(Backend As A Service)で何かサービスを構築してみたいと思い、\nfirebaseを触ってみようと思ったところ、Firebase の代替と謳われているsupabaseを発見。\n\nこちらの方が面白そうだと感じたため、構築してみることにしました。\n\n今回はプロフィール画面を作成した際に、supabaseのstorage機能について触れたのでメモ。\n\n## 使ったもの\n\n* Vite + SvelteKit + Typescript\n    * @supabase/supabase-js\n    * Flowbite-svelte\n    * tailwind css\n\n* supabase\n    * auth\n    * db\n    * storage\n\n## 完成品\n\n### マイページ(アイコンアップロード前)\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/399b997f-44f2-923e-f451-1e657705064a.png)\n\n### アップロード画面\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/9a350231-a054-4438-4742-25c5c7d514de.png)\n\n### マイページ(アイコンアップロード後)\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/4d95c4c8-27f5-13ea-e1f7-2d209763320e.png)\n\n\n## 実装方法\n\n1. Supabase管理画面より、`storage` \u003e `bucket`を作成する\n1. Supabase管理画面から、`profiles`テーブルを作成する\n1. フロント側を整備する\n\n### 1. Supabase管理画面より、`storage` \u003e `bucket`を作成する\n\nアイコンを保存するためのバケットを作成していきます。\n\n1. サイドメニューから、`Storage`を選択する\n1. 画面左上の`New bucket`を選択し、任意のタイトルで保存をする。\n今回は公式のチュートリアル通りに`avatars`としました。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e2534f32-5572-3edc-1a08-033a6c44fd09.png)\n\n### 2. Supabase管理画面から、`profiles`テーブルを作成する\n\nユーザーに対してアイコンのURLを紐づけるために`profiles`テーブルを作成します。\n\n1. サイドメニューから、`SQL Editor`を選択する\n1. 画面左上の`Welcome`を選択。\n1. `Quick start`の欄の`User Management Starter`を選び、実行する\n  (RUN or Ctrl + Enter)\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/7ac314d3-70d4-e86b-95b5-715b714d03cc.png)\n\n### 3. フロント側を整備する\n\n1と2でsupabase側の用意は完了なので、今度はフロント側を整備していく。\n\nまずはファイルのアップロードフォームを作成する。\n\n```vue\n\u003cscript lang=\"ts\"\u003e\n  import { Label } from 'flowbite-svelte'\n  let files: FileList\n\u003c/script\u003e\n\n\u003cdiv class=\"flex\"\u003e\n    \u003cLabel class=\"w-1/5 pb-2\"\u003eアイコンアップロード\u003c/Label\u003e\n    \u003cinput\n        class=\"w-4/5 text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400\"\n        type=\"file\"\n        accept=\"image/*\"\n        bind:value={files}\n    /\u003e\n\u003c/div\u003e\n```\n\nこんな感じになりました。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/42705f53-1299-a434-0fec-6f66df3f5650.png)\n\n次に、ファイルがアップロードされたら着火するイベントを作成する\n\n```vue\n\u003cscript lang=\"ts\"\u003e\n  let files: FileList\n\n  const uploadIcon = async () =\u003e {\n    if (!files || files.length === 0) {\n      return\n    }\n\n    const file = files[0]\n    const fileExt = file.name.split('.').pop()\n    const filePath = `${session.user.id}/${Math.random()}.${fileExt}`\n\n    await supabase.storage.from('avatars').upload(filePath, file)\n  }\n\u003c/script\u003e\n\n  \u003cinput\n    class=\"w-4/5 block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400\"\n    type=\"file\"\n    accept=\"image/*\"\n    bind:files\n    on:change={uploadIcon} // 追加\n  /\u003e\n```\n\n`session`には現在のsession情報を格納しています。\n`avatar storage`にユーザーごとのファイルを作成し、そこに画像を格納するようにしています。\n\n次に、`profiles`テーブルに画像URLを保存します。\n\n```vue\n\u003cscript lang=\"ts\"\u003e\n  import { Label, Button } from 'flowbite-svelte'\n  let files: FileList\n  let url: string // 追加\n\n  const updateUser = async () =\u003e {\n    update_data = {\n      id: $session.user.id,\n      avatar_url: url\n    }\n\n    await supabase\n      .from('profiles')\n      .update(update_data)\n  }\n\n  const uploadIcon = async () =\u003e {\n    if (!files || files.length === 0) {\n      return\n    }\n\n    const file = files[0]\n    const fileExt = file.name.split('.').pop()\n    const filePath = `${session.user.id}/${Math.random()}.${fileExt}`\n\n    await supabase.storage.from('avatars').upload(filePath, file)\n\n    url = filePath // 追加\n  }\n\u003c/script\u003e\n\n\u003cform class=\"w-full\" on:submit|preventDefault=\"{updateUser}\"\u003e\n  // ------------------------------\n  // 先ほどのファイルフォーム\n  // ------------------------------\n  \u003cButton class=\"mt-10\" type=\"submit\" color=\"yellow\" disabled={updating}\u003eプロフィールを変更する\u003c/Button\u003e\n\u003c/form\u003e\n```\n\n先ほど作った`uploadIcon`メソッドの最後に`filePath`を変数に格納します。\nまた、`form`タグのサブミットイベントに`updateUser`を定義し、サブミットボタンを押されたら着火するようにしました。\n\nニックネームや出身地など、一緒のフォームで入力できるようにすればプロフィール画面が作れますね\n\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/5b7902ce-e6f1-4d18-f7d3-6e58102030ab.png)\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2022-12-12T16:44:02+09:00",
    "group": null,
    "id": "6236732e0461561bb64a",
    "likes_count": 3,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "JavaScript", "versions": [] },
      { "name": "Svelte", "versions": [] },
      { "name": "Supabase", "versions": [] },
      { "name": "SvelteKit", "versions": [] }
    ],
    "title": "SvelteKit + Supabase Storageを使ってアイコン登録",
    "updated_at": "2022-12-13T21:20:17+09:00",
    "url": "https://qiita.com/maaaashi/items/6236732e0461561bb64a",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-5:135\"\u003eJavaScriptには便利な記法が多く、\u003cbr\u003e\n使いこなすことでシンプルなコードを書くことが可能になりますが、\u003cbr\u003e\nフロントエンド開発をしているなかで、あまり意識できずにたらたらと長いコードを書きがちです。\u003c/p\u003e\n\u003cp data-sourcepos=\"7:1-7:51\"\u003e便利な構文をピックアップしました。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"9:1-9:15\"\u003e\n\u003cspan id=\"分割代入\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%88%86%E5%89%B2%E4%BB%A3%E5%85%A5\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e分割代入\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\" data-sourcepos=\"11:1-14:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehoge\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003efuga\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n\u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// hoge fuga\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\" data-sourcepos=\"16:1-20:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eprofile\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e田中\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003eage\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e28\u003c/span\u003e \u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ename\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eprofile\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 1 '田中'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\" data-sourcepos=\"22:1-25:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e[,\u003c/span\u003e \u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n\u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ea\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eb\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e \u003cspan class=\"c1\"\u003e// 3 undefined\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"27:1-27:24\"\u003e活用してみると、\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"29:1-69:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003edata\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eusers\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e田中\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eemail\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003etanaka@example.com\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e鈴木\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eemail\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003esuzuki@example.com\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e佐藤\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eemail\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003esato@example.com\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e],\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehttps://hogehoge.com\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eparams\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ehoge\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ehoge\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003efuga\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003efuga\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eusers\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003eparams\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eparameters\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003estatus\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e200\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003edata\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eusers\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// [\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//   { id: 1, name: '田中', email: 'tanaka@example.com' },\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//   { id: 2, name: '鈴木', email: 'suzuki@example.com' },\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e//   { id: 3, name: '佐藤', email: 'sato@example.com' }\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// ]\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eparameters\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// { hoge: 'hoge', fuga: 'fuga' }\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003estatus\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 200\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"71:1-71:24\"\u003eのように書ける。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"74:1-74:24\"\u003e\n\u003cspan id=\"スプレット構文\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B9%E3%83%97%E3%83%AC%E3%83%83%E3%83%88%E6%A7%8B%E6%96%87\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eスプレット構文\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\" data-sourcepos=\"76:1-82:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ehoge\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ea\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eb\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ec\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003efuga\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[...\u003c/span\u003e\u003cspan class=\"nx\"\u003ehoge\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ed\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003ee\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e];\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ehogehoge\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eY\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eZ\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e...\u003c/span\u003e\u003cspan class=\"nx\"\u003efuga\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003efuga\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"c1\"\u003e// ['a', 'b', 'c', 'd', 'e'];\u003c/span\u003e\n\u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ehogehoge\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"c1\"\u003e// ['Y', 'Z', 'a', 'b', 'c', 'd', 'e'];\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"84:1-84:72\"\u003e先ほどの分割代入と組み合わせて↓のようにも書ける\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"86:1-100:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eusers\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e田中\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eemail\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003etanaka@example.com\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"p\"\u003e...\u003c/span\u003e\u003cspan class=\"nx\"\u003eExceptId\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eusers\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// 1\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003econsole\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003elog\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eExceptId\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// { name: '田中', email: 'tanaka@example.com' }\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"102:1-102:78\"\u003eうまく使ってシンプルなコーディングを心がけましょう！\u003c/p\u003e\n",
    "body": "# はじめに\n\nJavaScriptには便利な記法が多く、\n使いこなすことでシンプルなコードを書くことが可能になりますが、\nフロントエンド開発をしているなかで、あまり意識できずにたらたらと長いコードを書きがちです。\n\n便利な構文をピックアップしました。\n\n## 分割代入\n\n```javascript\nconst [a, b] = ['hoge', 'fuga'];\nconsole.log(a, b); // hoge fuga\n```\n\n```javascript\nconst profile = { id: 1, name: '田中', age: 28 };\nconst { id, name } = profile;\nconsole.log(id, name); // 1 '田中'\n```\n\n```javascript\nconst [, , a, , b] = [1, 2, 3, 4];\nconsole.log(a, b); // 3 undefined\n```\n\n活用してみると、\n\n```typescript\nconst data = {\n  users: [\n    {\n      id: 1,\n      name: '田中',\n      email: 'tanaka@example.com',\n    },\n    {\n      id: 2,\n      name: '鈴木',\n      email: 'suzuki@example.com',\n    },\n    {\n      id: 3,\n      name: '佐藤',\n      email: 'sato@example.com',\n    },\n  ],\n  url: 'https://hogehoge.com',\n  params: {\n    hoge: 'hoge',\n    fuga: 'fuga'\n  }\n}\n\nconst { users, params: parameters, status = 200 } = data\n\nconsole.log(users)\n// [\n//   { id: 1, name: '田中', email: 'tanaka@example.com' },\n//   { id: 2, name: '鈴木', email: 'suzuki@example.com' },\n//   { id: 3, name: '佐藤', email: 'sato@example.com' }\n// ]\n\nconsole.log(parameters)\n// { hoge: 'hoge', fuga: 'fuga' }\n\nconsole.log(status)\n// 200\n```\n\nのように書ける。\n\n\n## スプレット構文\n\n```javascript\nconst hoge = ['a', 'b', 'c'];\nconst fuga = [...hoge, 'd', 'e'];\nconst hogehoge = ['Y', 'Z', ...fuga]\nconsole.log(fuga) // ['a', 'b', 'c', 'd', 'e'];\nconsole.log(hogehoge) // ['Y', 'Z', 'a', 'b', 'c', 'd', 'e'];\n```\n\n先ほどの分割代入と組み合わせて↓のようにも書ける\n\n```typescript\nconst users = {\n  id: 1,\n  name: '田中',\n  email: 'tanaka@example.com',\n}\n\nconst { id, ...ExceptId } = users\n\nconsole.log(id)\n// 1\n\nconsole.log(ExceptId)\n// { name: '田中', email: 'tanaka@example.com' }\n```\n\nうまく使ってシンプルなコーディングを心がけましょう！\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2022-12-10T15:44:23+09:00",
    "group": null,
    "id": "148d028c238009b145dc",
    "likes_count": 1,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [{ "name": "JavaScript", "versions": [] }],
    "title": "JavaScriptの便利な構文 -分割代入とスプレット構文",
    "updated_at": "2022-12-12T22:00:29+09:00",
    "url": "https://qiita.com/maaaashi/items/148d028c238009b145dc",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"2:1-3:105\"\u003e最近\u003ccode\u003esvelte\u003c/code\u003eにドはまりしていましたが、\u003cbr\u003e\n\u003ccode\u003eSolidJS\u003c/code\u003eも触ってみたいな～と思い、話題の\u003ccode\u003eVite\u003c/code\u003eで環境を作った時のメモです。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"5:1-5:15\"\u003e\n\u003cspan id=\"実行環境\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A1%8C%E7%92%B0%E5%A2%83\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実行環境\u003c/h2\u003e\n\u003cul data-sourcepos=\"7:1-11:0\"\u003e\n\u003cli data-sourcepos=\"7:1-8:14\"\u003edocker\n\u003cul data-sourcepos=\"8:5-8:14\"\u003e\n\u003cli data-sourcepos=\"8:5-8:14\"\u003e20.10.14\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"9:1-11:0\"\u003edocker-compose\n\u003cul data-sourcepos=\"10:5-11:0\"\u003e\n\u003cli data-sourcepos=\"10:5-11:0\"\u003e1.29.2\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 data-sourcepos=\"12:1-12:21\"\u003e\n\u003cspan id=\"docker-composeyml\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#docker-composeyml\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003edocker-compose.yml\u003c/h2\u003e\n\u003cp data-sourcepos=\"14:1-14:87\"\u003eimageには\u003ccode\u003enode\u003c/code\u003e、commandには\u003ccode\u003evite\u003c/code\u003eの実行コマンドにしておきました。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"yaml\" data-sourcepos=\"16:1-29:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"na\"\u003eversion\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s1\"\u003e'\u003c/span\u003e\u003cspan class=\"s\"\u003e3'\u003c/span\u003e\n\n\u003cspan class=\"na\"\u003eservices\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eapp\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eimage\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003enode:18-alpine3.15\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eworking_dir\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003e/app\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eports\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003e8080:8080\"\u003c/span\u003e\n    \u003cspan class=\"na\"\u003evolumes\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e\n      \u003cspan class=\"pi\"\u003e-\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"\u003c/span\u003e\u003cspan class=\"s\"\u003e./src:/app\"\u003c/span\u003e\n    \u003cspan class=\"na\"\u003etty\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ecommand\u003c/span\u003e\u003cspan class=\"pi\"\u003e:\u003c/span\u003e \u003cspan class=\"s\"\u003enpm run dev\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch2 data-sourcepos=\"31:1-31:21\"\u003e\n\u003cspan id=\"いざ環境構築\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%84%E3%81%96%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eいざ環境構築\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"33:1-33:25\"\u003e\n\u003cspan id=\"コンテナ内へ\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B3%E3%83%B3%E3%83%86%E3%83%8A%E5%86%85%E3%81%B8\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eコンテナ内へ～\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"35:1-38:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003edocker-compose build\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003edocker-compose run app sh\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"40:1-40:33\"\u003e以降コンテナ内操作です\u003c/p\u003e\n\u003ch3 data-sourcepos=\"42:1-42:80\"\u003e\n\u003cspan id=\"solidjstypescriptviteviteプラグインをインストールする\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#solidjstypescriptvitevite%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eSolidJS・TypeScript・Vite・Viteプラグインをインストールする\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"44:1-48:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e# npm\n/app # npm install solid-js\n/app # npm install -D typescript vite vite-plugin-solid\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"50:1-50:25\"\u003e\n\u003cspan id=\"packagejsonの修正\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#packagejson%E3%81%AE%E4%BF%AE%E6%AD%A3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003epackage.jsonの修正\u003c/h3\u003e\n\u003cp data-sourcepos=\"52:1-52:32\"\u003e\u003ccode\u003etsc\u003c/code\u003eを実行できるように\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"json\" data-sourcepos=\"54:1-69:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"scripts\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e      \u003c/span\u003e\u003cspan class=\"err\"\u003e//\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"err\"\u003e追加\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"tsc\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"tsc\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e   \u003c/span\u003e\u003cspan class=\"err\"\u003e//\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"err\"\u003e追加\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e                \u003c/span\u003e\u003cspan class=\"err\"\u003e//\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"err\"\u003e追加\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"dependencies\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"solid-js\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"^1.6.4\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"devDependencies\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"typescript\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"^4.9.4\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"vite\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"^4.0.0\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"vite-plugin-solid\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"^2.5.0\"\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"71:1-71:29\"\u003e\n\u003cspan id=\"typescriptの初期設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#typescript%E3%81%AE%E5%88%9D%E6%9C%9F%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eTypeScriptの初期設定\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"73:1-75:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e/app # npm run tsc -- --init\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"77:1-77:61\"\u003etsconfig.jsonが作られたはずなので、↓をコピペ\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"json\" data-sourcepos=\"79:1-103:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"compilerOptions\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"baseUrl\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\".\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"target\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"es5\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"module\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"ESNext\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"lib\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"ESNext\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"DOM\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"DOM.Iterable\"\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"esModuleInterop\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"isolatedModules\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"jsx\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"preserve\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"jsxImportSource\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"solid-js\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"moduleResolution\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"node\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"newLine\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"lf\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"noEmit\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"noUnusedLocals\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"noUnusedParameters\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"resolveJsonModule\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"types\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"vite/client\"\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"skipLibCheck\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e\n    \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"strict\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"include\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"**/*.ts\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"s2\"\u003e\"**/*.tsx\"\u003c/span\u003e\u003cspan class=\"p\"\u003e],\u003c/span\u003e\u003cspan class=\"w\"\u003e\n  \u003c/span\u003e\u003cspan class=\"nl\"\u003e\"exclude\"\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"s2\"\u003e\"node_modules\"\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"w\"\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"105:1-105:82\"\u003e\u003ccode\u003ejsx\u003c/code\u003e、\u003ccode\u003ejsxImportSource\u003c/code\u003e以外の個所は自分好みに調整してください\u003c/p\u003e\n\u003ch3 data-sourcepos=\"107:1-107:20\"\u003e\n\u003cspan id=\"vite初期設定\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#vite%E5%88%9D%E6%9C%9F%E8%A8%AD%E5%AE%9A\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eVite初期設定\u003c/h3\u003e\n\u003cp data-sourcepos=\"109:1-109:55\"\u003eプロジェクトルートに\u003ccode\u003evite.config.ts\u003c/code\u003eを作成\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"111:1-113:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e/app # touch vite.config.ts\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"115:1-115:18\"\u003e以下をコピペ\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"117:1-128:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003edefineConfig\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003evite\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"nx\"\u003esolidPlugin\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003evite-plugin-solid\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"nf\"\u003edefineConfig\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eplugins\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003esolidPlugin\u003c/span\u003e\u003cspan class=\"p\"\u003e()],\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eserver\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003ehost\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eport\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e8080\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"130:1-130:88\"\u003e※ \u003ccode\u003eport\u003c/code\u003eを変えたいときは\u003ccode\u003edocker-compose.yml\u003c/code\u003eのportも一緒に変えてね！\u003c/p\u003e\n\u003ch3 data-sourcepos=\"132:1-132:23\"\u003e\n\u003cspan id=\"indexhtmlの作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#indexhtml%E3%81%AE%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eindex.htmlの作成\u003c/h3\u003e\n\u003cp data-sourcepos=\"134:1-134:63\"\u003eこちらもプロジェクトルートに\u003ccode\u003eindex.html\u003c/code\u003eを作成\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"136:1-138:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e/app # touch index.html\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"140:1-140:27\"\u003eそして以下をコピペ\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"html\" data-sourcepos=\"142:1-159:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"cp\"\u003e\u0026lt;!DOCTYPE html\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;html\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ja\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;head\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;meta\u003c/span\u003e \u003cspan class=\"na\"\u003echarset=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"utf-8\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;meta\u003c/span\u003e \u003cspan class=\"na\"\u003ename=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"viewport\"\u003c/span\u003e \u003cspan class=\"na\"\u003econtent=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"width=device-width, initial-scale=1\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;meta\u003c/span\u003e \u003cspan class=\"na\"\u003ename=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"theme-color\"\u003c/span\u003e \u003cspan class=\"na\"\u003econtent=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"#000000\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;link\u003c/span\u003e \u003cspan class=\"na\"\u003erel=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"shortcut icon\"\u003c/span\u003e \u003cspan class=\"na\"\u003etype=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"image/ico\"\u003c/span\u003e \u003cspan class=\"na\"\u003ehref=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"/src/assets/favicon.ico\"\u003c/span\u003e \u003cspan class=\"nt\"\u003e/\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;title\u0026gt;\u003c/span\u003eSolid App\u003cspan class=\"nt\"\u003e\u0026lt;/title\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;/head\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;body\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;noscript\u0026gt;\u003c/span\u003eYou need to enable JavaScript to run this app.\u003cspan class=\"nt\"\u003e\u0026lt;/noscript\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eid=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"root\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u0026lt;/div\u0026gt;\u003c/span\u003e\n\n    \u003cspan class=\"nt\"\u003e\u0026lt;script \u003c/span\u003e\u003cspan class=\"na\"\u003esrc=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"/src/main.tsx\"\u003c/span\u003e \u003cspan class=\"na\"\u003etype=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"module\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u0026lt;/script\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;/body\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/html\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"161:1-161:25\"\u003e\n\u003cspan id=\"srcmaintsxを作成\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#srcmaintsx%E3%82%92%E4%BD%9C%E6%88%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003esrc/main.tsxを作成\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"163:1-166:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e/app # mkdir src\n/app # touch src/main/tsx\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"168:1-168:27\"\u003eそして以下をコピペ\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"tsx\" data-sourcepos=\"170:1-199:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// main.tsx\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreateSignal\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003esolid-js\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003erender\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003esolid-js/web\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eCountingComponent\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreateDate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"na\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eDate\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eYear\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003egetFullYear\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eMonth\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003egetMonth\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"o\"\u003e+\u003c/span\u003e\u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nb\"\u003eDate\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003egetDate\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eHour\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003egetHours\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eMin\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003egetMinutes\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eSec\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003edate\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003egetSeconds\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"s2\"\u003e`\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003eYear\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e年\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003eMonth\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e月\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nb\"\u003eDate\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e日 \u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003eHour\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e:\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003eMin\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e:\u003c/span\u003e\u003cspan class=\"p\"\u003e${\u003c/span\u003e\u003cspan class=\"nx\"\u003eSec\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\u003cspan class=\"s2\"\u003e`\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003etime\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003esetCount\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003ecreateSignal\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nf\"\u003ecreateDate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eDate\u003c/span\u003e\u003cspan class=\"p\"\u003e()))\u003c/span\u003e\n  \u003cspan class=\"nf\"\u003esetInterval\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"nf\"\u003esetCount\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nf\"\u003ecreateDate\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eDate\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}),\u003c/span\u003e \u003cspan class=\"mi\"\u003e1000\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003ereturn \u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003eTime is \u003cspan class=\"si\"\u003e{\u003c/span\u003e\u003cspan class=\"nf\"\u003etime\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e\u003cspan class=\"si\"\u003e}\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"nt\"\u003ediv\u003c/span\u003e\u003cspan class=\"p\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"nf\"\u003erender\u003c/span\u003e\u003cspan class=\"p\"\u003e(()\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nc\"\u003eCountingComponent\u003c/span\u003e \u003cspan class=\"p\"\u003e/\u0026gt;,\u003c/span\u003e \u003cspan class=\"nb\"\u003edocument\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003egetElementById\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eroot\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e))\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"201:1-201:25\"\u003e\n\u003cspan id=\"サーバー起動\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%B5%B7%E5%8B%95\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eサーバー起動！\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"text\" data-sourcepos=\"203:1-205:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e/app # npm run dev\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"207:1-207:60\"\u003e\u003ca href=\"http://localhost:8080\" rel=\"nofollow noopener\" target=\"_blank\"\u003elocalhost:8080\u003c/a\u003eで開けたら成功\u003c/p\u003e\n\u003cp data-sourcepos=\"209:1-209:121\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6890b879-2946-314a-a38a-646d6c6ca024.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=151f41dfd8f5da23a9d045d973d04739\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6890b879-2946-314a-a38a-646d6c6ca024.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=151f41dfd8f5da23a9d045d973d04739\" alt=\"time.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F6890b879-2946-314a-a38a-646d6c6ca024.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=df9c11e42ddfd639dee09345fc286036 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6890b879-2946-314a-a38a-646d6c6ca024.gif\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n",
    "body": "# はじめに\n最近`svelte`にドはまりしていましたが、\n`SolidJS`も触ってみたいな～と思い、話題の`Vite`で環境を作った時のメモです。\n\n## 実行環境\n\n* docker \n    * 20.10.14\n* docker-compose\n    * 1.29.2\n\n## docker-compose.yml\n\nimageには`node`、commandには`vite`の実行コマンドにしておきました。\n\n```yaml\nversion: '3'\n\nservices:\n  app:\n    image: node:18-alpine3.15\n    working_dir: /app\n    ports:\n      - \"8080:8080\"\n    volumes:\n      - \"./src:/app\"\n    tty: true\n    command: npm run dev\n```\n\n## いざ環境構築\n\n### コンテナ内へ～\n\n```bash\n$ docker-compose build\n$ docker-compose run app sh\n```\n\n以降コンテナ内操作です\n\n### SolidJS・TypeScript・Vite・Viteプラグインをインストールする\n\n```\n# npm\n/app # npm install solid-js\n/app # npm install -D typescript vite vite-plugin-solid\n```\n\n### package.jsonの修正\n\n`tsc`を実行できるように\n\n```json\n{\n  \"scripts\": {      // 追加\n    \"tsc\": \"tsc\",   // 追加\n  },                // 追加\n  \"dependencies\": {\n    \"solid-js\": \"^1.6.4\"\n  },\n  \"devDependencies\": {\n    \"typescript\": \"^4.9.4\",\n    \"vite\": \"^4.0.0\",\n    \"vite-plugin-solid\": \"^2.5.0\"\n  }\n}\n\n```\n\n### TypeScriptの初期設定\n\n```\n/app # npm run tsc -- --init\n```\n\ntsconfig.jsonが作られたはずなので、↓をコピペ\n\n```json\n{\n  \"compilerOptions\": {\n    \"baseUrl\": \".\",\n    \"target\": \"es5\",\n    \"module\": \"ESNext\",\n    \"lib\": [\"ESNext\", \"DOM\", \"DOM.Iterable\"],\n    \"esModuleInterop\": true,\n    \"isolatedModules\": true,\n    \"jsx\": \"preserve\",\n    \"jsxImportSource\": \"solid-js\",\n    \"moduleResolution\": \"node\",\n    \"newLine\": \"lf\",\n    \"noEmit\": true,\n    \"noUnusedLocals\": true,\n    \"noUnusedParameters\": true,\n    \"resolveJsonModule\": true,\n    \"types\": [\"vite/client\"],\n    \"skipLibCheck\": true,\n    \"strict\": true\n  },\n  \"include\": [\"**/*.ts\", \"**/*.tsx\"],\n  \"exclude\": [\"node_modules\"]\n}\n```\n\n`jsx`、`jsxImportSource`以外の個所は自分好みに調整してください\n\n### Vite初期設定\n\nプロジェクトルートに`vite.config.ts`を作成\n\n```\n/app # touch vite.config.ts\n```\n\n以下をコピペ\n\n```typescript\nimport { defineConfig } from 'vite'\nimport solidPlugin from 'vite-plugin-solid'\n\nexport default defineConfig({\n  plugins: [solidPlugin()],\n  server: {\n    host: true,\n    port: 8080\n  }\n})\n```\n\n※ `port`を変えたいときは`docker-compose.yml`のportも一緒に変えてね！\n\n### index.htmlの作成\n\nこちらもプロジェクトルートに`index.html`を作成\n\n```\n/app # touch index.html\n```\n\nそして以下をコピペ\n\n```html\n\u003c!DOCTYPE html\u003e\n\u003chtml lang=\"ja\"\u003e\n  \u003chead\u003e\n    \u003cmeta charset=\"utf-8\" /\u003e\n    \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1\" /\u003e\n    \u003cmeta name=\"theme-color\" content=\"#000000\" /\u003e\n    \u003clink rel=\"shortcut icon\" type=\"image/ico\" href=\"/src/assets/favicon.ico\" /\u003e\n    \u003ctitle\u003eSolid App\u003c/title\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003cnoscript\u003eYou need to enable JavaScript to run this app.\u003c/noscript\u003e\n    \u003cdiv id=\"root\"\u003e\u003c/div\u003e\n\n    \u003cscript src=\"/src/main.tsx\" type=\"module\"\u003e\u003c/script\u003e\n  \u003c/body\u003e\n\u003c/html\u003e\n```\n\n### src/main.tsxを作成\n\n```\n/app # mkdir src\n/app # touch src/main/tsx\n```\n\nそして以下をコピペ\n\n```tsx\n// main.tsx\n\nimport { createSignal } from 'solid-js'\nimport { render } from 'solid-js/web'\n\nconst CountingComponent = () =\u003e {\n  const createDate = (date: Date) =\u003e {\n    const Year = date.getFullYear();\n    const Month = date.getMonth()+1;\n    const Date = date.getDate();\n    const Hour = date.getHours();\n    const Min = date.getMinutes();\n    const Sec = date.getSeconds();\n\n    return `${Year}年${Month}月${Date}日 ${Hour}:${Min}:${Sec}`\n  }\n\n  const [time, setCount] = createSignal(createDate(new Date()))\n  setInterval(() =\u003e setCount(() =\u003e {\n    return createDate(new Date())\n  }), 1000)\n\n  return (\n    \u003cdiv\u003eTime is {time()}\u003c/div\u003e\n  )\n}\n\nrender(() =\u003e \u003cCountingComponent /\u003e, document.getElementById('root'))\n```\n\n### サーバー起動！\n\n```\n/app # npm run dev\n```\n\n[localhost:8080](http://localhost:8080)で開けたら成功\n\n![time.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/6890b879-2946-314a-a38a-646d6c6ca024.gif)\n\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2022-12-10T13:54:52+09:00",
    "group": null,
    "id": "1f32996188fdbaa2e3dc",
    "likes_count": 1,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 1,
    "tags": [
      { "name": "JavaScript", "versions": [] },
      { "name": "vite", "versions": [] },
      { "name": "SolidJS", "versions": [] }
    ],
    "title": "SolidJS + TypeScript + Vite 環境作ってみた",
    "updated_at": "2022-12-11T17:46:42+09:00",
    "url": "https://qiita.com/maaaashi/items/1f32996188fdbaa2e3dc",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-4:72\"\u003eカンバンボードのようなものを作りたく、\u003cbr\u003e\nドラッグアンドドロップのツールを探していました。\u003c/p\u003e\n\u003cp data-sourcepos=\"6:1-7:46\"\u003e公式でドラッグアンドドロップのonイベントは用意されていますが、もう少し簡単に実装できないかと思い、\u003cbr\u003e\n\u003ccode\u003esvelte-dnd-action\u003c/code\u003eを使ってみました。\u003c/p\u003e\n\u003cp data-sourcepos=\"9:1-9:87\"\u003e\u003ca href=\"https://svelte.dev/repl/adf5a97b91164c239cc1e6d0c76c2abe?version=3.14.1\" rel=\"nofollow noopener\" target=\"_blank\"\u003e公式の例\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"11:1-11:26\"\u003e\n\u003cspan id=\"svelte-dnd-action導入\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#svelte-dnd-action%E5%B0%8E%E5%85%A5\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003esvelte-dnd-action導入\u003c/h2\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"13:1-15:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpm \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e \u003cspan class=\"nt\"\u003e--save-dev\u003c/span\u003e svelte-dnd-action\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch2 data-sourcepos=\"17:1-17:12\"\u003e\n\u003cspan id=\"使い方\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E4%BD%BF%E3%81%84%E6%96%B9\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e使い方\u003c/h2\u003e\n\u003cp data-sourcepos=\"19:1-19:33\"\u003eまずは参考コードから。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"20:1-36:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ts\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003emyItems\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eitem1\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e\n  \u003cspan class=\"na\"\u003euse:dndzone=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"{{items: myItems, ...otherOptions}}\"\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eon:consider=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"{handler}\"\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eon:finalize=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"{handler}\"\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  {#each myItems as item(item.id)}\n      \u003cspan class=\"nt\"\u003e\u0026lt;div\u0026gt;\u003c/span\u003e{item.name}\u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n  {/each}\n\u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"38:1-38:91\"\u003e\u003ccode\u003e\u0026lt;div\u0026gt;\u003c/code\u003eタグに注目すると、\u003ccode\u003euse:dndzone\u003c/code\u003e、\u003ccode\u003eon:consider\u003c/code\u003e、\u003ccode\u003eon:finalize\u003c/code\u003eを発見。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"40:1-46:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e\n  \u003cspan class=\"na\"\u003euse:dndzone=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"{{items: myItems, ...otherOptions}}\"\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eon:consider=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"{handler}\"\u003c/span\u003e\n  \u003cspan class=\"na\"\u003eon:finalize=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"{handler}\"\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"48:1-48:151\"\u003eこの3つをドラッグアンドドロップさせたい範囲に設定することでドラッグアンドドロップを機能させています。\u003c/p\u003e\n\u003ch3 data-sourcepos=\"50:1-50:17\"\u003e\n\u003cspan id=\"usedndzone\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#usedndzone\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003euse:dndzone\u003c/code\u003e\n\u003c/h3\u003e\n\u003cp data-sourcepos=\"52:1-54:33\"\u003eドラッグアンドドロップをさせたい配列を指定するメソッド。\u003cbr\u003e\n\u003ccode\u003eotherOptions\u003c/code\u003eには文字通り、オプションを指定する。\u003cbr\u003e\nオプションは以下の通り\u003c/p\u003e\n\u003ch3 data-sourcepos=\"56:1-56:19\"\u003e\n\u003cspan id=\"オプション\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eオプション\u003c/h3\u003e\n\u003ctable data-sourcepos=\"58:1-70:44\"\u003e\n\u003cthead\u003e\n\u003ctr data-sourcepos=\"58:1-58:38\"\u003e\n\u003cth data-sourcepos=\"58:1-58:5\"\u003eName\u003c/th\u003e\n\u003cth data-sourcepos=\"58:7-58:12\"\u003eType\u003c/th\u003e\n\u003cth data-sourcepos=\"58:14-58:21\"\u003e必須\u003c/th\u003e\n\u003cth data-sourcepos=\"58:23-58:38\"\u003eデフォルト\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr data-sourcepos=\"60:1-60:32\"\u003e\n\u003ctd data-sourcepos=\"60:1-60:15\"\u003eflipDurationMs\u003c/td\u003e\n\u003ctd data-sourcepos=\"60:17-60:24\"\u003eNumber\u003c/td\u003e\n\u003ctd data-sourcepos=\"60:26-60:29\"\u003eNo\u003c/td\u003e\n\u003ctd data-sourcepos=\"60:31-60:32\"\u003e0\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"61:1-61:29\"\u003e\n\u003ctd data-sourcepos=\"61:1-61:5\"\u003etype\u003c/td\u003e\n\u003ctd data-sourcepos=\"61:7-61:14\"\u003eString\u003c/td\u003e\n\u003ctd data-sourcepos=\"61:16-61:19\"\u003eNo\u003c/td\u003e\n\u003ctd data-sourcepos=\"61:21-61:29\"\u003eInternal\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"62:1-62:35\"\u003e\n\u003ctd data-sourcepos=\"62:1-62:13\"\u003edragDisabled\u003c/td\u003e\n\u003ctd data-sourcepos=\"62:15-62:23\"\u003eBoolean\u003c/td\u003e\n\u003ctd data-sourcepos=\"62:25-62:28\"\u003eNo\u003c/td\u003e\n\u003ctd data-sourcepos=\"62:30-62:35\"\u003efalse\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"63:1-63:36\"\u003e\n\u003ctd data-sourcepos=\"63:1-63:14\"\u003emorphDisabled\u003c/td\u003e\n\u003ctd data-sourcepos=\"63:16-63:24\"\u003eBoolean\u003c/td\u003e\n\u003ctd data-sourcepos=\"63:26-63:29\"\u003eNo\u003c/td\u003e\n\u003ctd data-sourcepos=\"63:31-63:36\"\u003efalse\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"64:1-64:45\"\u003e\n\u003ctd data-sourcepos=\"64:1-64:23\"\u003edropFromOthersDisabled\u003c/td\u003e\n\u003ctd data-sourcepos=\"64:25-64:33\"\u003eBoolean\u003c/td\u003e\n\u003ctd data-sourcepos=\"64:35-64:38\"\u003eNo\u003c/td\u003e\n\u003ctd data-sourcepos=\"64:40-64:45\"\u003efalse\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"65:1-65:30\"\u003e\n\u003ctd data-sourcepos=\"65:1-65:13\"\u003ezoneTabIndex\u003c/td\u003e\n\u003ctd data-sourcepos=\"65:15-65:22\"\u003eNumber\u003c/td\u003e\n\u003ctd data-sourcepos=\"65:24-65:27\"\u003eNo\u003c/td\u003e\n\u003ctd data-sourcepos=\"65:29-65:30\"\u003e0\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"66:1-66:87\"\u003e\n\u003ctd data-sourcepos=\"66:1-66:16\"\u003edropTargetStyle\u003c/td\u003e\n\u003ctd data-sourcepos=\"66:18-66:33\"\u003eObject\u003c/td\u003e\n\u003ctd data-sourcepos=\"66:35-66:38\"\u003eNo\u003c/td\u003e\n\u003ctd data-sourcepos=\"66:40-66:87\"\u003e{outline: 'rgba(255, 255, 102, 0.7) solid 2px'}\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"67:1-67:43\"\u003e\n\u003ctd data-sourcepos=\"67:1-67:18\"\u003edropTargetClasses\u003c/td\u003e\n\u003ctd data-sourcepos=\"67:20-67:34\"\u003eArray\u003c/td\u003e\n\u003ctd data-sourcepos=\"67:36-67:39\"\u003eNo\u003c/td\u003e\n\u003ctd data-sourcepos=\"67:41-67:43\"\u003e[]\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"68:1-68:50\"\u003e\n\u003ctd data-sourcepos=\"68:1-68:24\"\u003etransformDraggedElement\u003c/td\u003e\n\u003ctd data-sourcepos=\"68:26-68:35\"\u003eFunction\u003c/td\u003e\n\u003ctd data-sourcepos=\"68:37-68:40\"\u003eNo\u003c/td\u003e\n\u003ctd data-sourcepos=\"68:42-68:50\"\u003e() =\u0026gt; {}\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"69:1-69:39\"\u003e\n\u003ctd data-sourcepos=\"69:1-69:17\"\u003eautoAriaDisabled\u003c/td\u003e\n\u003ctd data-sourcepos=\"69:19-69:27\"\u003eBoolean\u003c/td\u003e\n\u003ctd data-sourcepos=\"69:29-69:32\"\u003eNo\u003c/td\u003e\n\u003ctd data-sourcepos=\"69:34-69:39\"\u003efalse\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr data-sourcepos=\"70:1-70:44\"\u003e\n\u003ctd data-sourcepos=\"70:1-70:22\"\u003ecentreDraggedOnCursor\u003c/td\u003e\n\u003ctd data-sourcepos=\"70:24-70:32\"\u003eBoolean\u003c/td\u003e\n\u003ctd data-sourcepos=\"70:34-70:37\"\u003eNo\u003c/td\u003e\n\u003ctd data-sourcepos=\"70:39-70:44\"\u003efalse\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp data-sourcepos=\"72:1-72:57\"\u003eよく使いそうなものを解説していきます。\u003c/p\u003e\n\u003ch4 data-sourcepos=\"74:1-74:21\"\u003e\n\u003cspan id=\"flipdurationms\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#flipdurationms\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003eflipDurationMs\u003c/code\u003e\n\u003c/h4\u003e\n\u003cp data-sourcepos=\"76:1-77:76\"\u003eドラッグされたアイテムが戻るときのアニメーションの秒数。\u003cbr\u003e\n0または設定しないとアニメーションがないことにできる\u003c/p\u003e\n\u003cp data-sourcepos=\"79:1-80:118\"\u003e0の場合\u003cbr\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0f4f7e52-2cc4-0bf9-5169-f7fe1fe58ed4.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d35dc5b274828a23402c6ee27e98a54b\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0f4f7e52-2cc4-0bf9-5169-f7fe1fe58ed4.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=d35dc5b274828a23402c6ee27e98a54b\" alt=\"0.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F0f4f7e52-2cc4-0bf9-5169-f7fe1fe58ed4.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=c44bdafdb30b35243bbbc5eaa87280bb 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/0f4f7e52-2cc4-0bf9-5169-f7fe1fe58ed4.gif\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"82:1-83:122\"\u003e10000の場合(10秒かけて戻る)\u003cbr\u003e\n\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F53904cdf-d155-499b-0299-3184cdc7ddf7.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2e09388f7c4e7215f72d81b9809b2839\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F53904cdf-d155-499b-0299-3184cdc7ddf7.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=2e09388f7c4e7215f72d81b9809b2839\" alt=\"10000.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F53904cdf-d155-499b-0299-3184cdc7ddf7.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=cb94930687d0ab7b57831f1af7ffe560 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/53904cdf-d155-499b-0299-3184cdc7ddf7.gif\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch4 data-sourcepos=\"85:1-85:11\"\u003e\n\u003cspan id=\"type\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#type\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003etype\u003c/code\u003e\n\u003c/h4\u003e\n\u003cp data-sourcepos=\"87:1-88:80\"\u003e同じタイプが設定されているdnd-zone同士ではドロップアンドドロップできます。\u003cbr\u003e\nデフォルトではすべてのdnd-zoneが同じタイプになってます。\u003c/p\u003e\n\u003ch4 data-sourcepos=\"90:1-90:19\"\u003e\n\u003cspan id=\"dragdisabled\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#dragdisabled\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003edragDisabled\u003c/code\u003e\n\u003c/h4\u003e\n\u003cp data-sourcepos=\"92:1-92:66\"\u003e設定するとドラッグアンドドロップを禁止できる\u003c/p\u003e\n\u003ch4 data-sourcepos=\"94:1-94:29\"\u003e\n\u003cspan id=\"dropfromothersdisabled\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#dropfromothersdisabled\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003edropFromOthersDisabled\u003c/code\u003e\n\u003c/h4\u003e\n\u003cp data-sourcepos=\"96:1-97:51\"\u003e他のdnd-zoneからのドロップを許可するかどうか。\u003cbr\u003e\nこちらからのドラッグは制限しない。\u003c/p\u003e\n\u003ch4 data-sourcepos=\"99:1-99:28\"\u003e\n\u003cspan id=\"centredraggedoncursor\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#centredraggedoncursor\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003ccode\u003ecentreDraggedOnCursor\u003c/code\u003e\n\u003c/h4\u003e\n\u003cp data-sourcepos=\"101:1-101:115\"\u003etrueにするとドラッグした際に、アイテムの中心を持つようにアイテムが移動します。\u003c/p\u003e\n\u003cp data-sourcepos=\"103:1-103:123\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe764d29e-9e70-8509-c955-7a94535bb79d.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3281c400745a61b91f318fdef8e69c8d\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe764d29e-9e70-8509-c955-7a94535bb79d.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3281c400745a61b91f318fdef8e69c8d\" alt=\"center.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fe764d29e-9e70-8509-c955-7a94535bb79d.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=7eea669a5ffaba9de75a6fe3970c32f3 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e764d29e-9e70-8509-c955-7a94535bb79d.gif\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2 data-sourcepos=\"106:1-106:60\"\u003e\n\u003cspan id=\"カンバンツールっぽいものを実装してみた\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%82%AB%E3%83%B3%E3%83%90%E3%83%B3%E3%83%84%E3%83%BC%E3%83%AB%E3%81%A3%E3%81%BD%E3%81%84%E3%82%82%E3%81%AE%E3%82%92%E5%AE%9F%E8%A3%85%E3%81%97%E3%81%A6%E3%81%BF%E3%81%9F\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eカンバンツールっぽいものを実装してみた\u003c/h2\u003e\n\u003cp data-sourcepos=\"108:1-108:48\"\u003e以上を使って実装したのがこちら。\u003c/p\u003e\n\u003cp data-sourcepos=\"110:1-111:57\"\u003eUIコンポーネントには\u003ca href=\"https://flowbite-svelte.com/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eFlowbite-svelte\u003c/a\u003eを利用しました。\u003cbr\u003e\n導入方法は前回の記事で公開しています。\u003c/p\u003e\n\u003cp data-sourcepos=\"113:1-113:55\"\u003e\u003ciframe id=\"qiita-embed-content__18ab9541bab7d50db77d867d5df92d63\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__18ab9541bab7d50db77d867d5df92d63\" data-content=\"https%3A%2F%2Fqiita.com%2Fdoyaseizin%2Fitems%2F6e7e8571cc6c3d7ad2e8\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003cp data-sourcepos=\"115:1-115:123\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1cee84cc-4bf9-0d5d-96ec-f5a19aaecfa2.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=10f05922441bb189553c90e8c9a40094\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1cee84cc-4bf9-0d5d-96ec-f5a19aaecfa2.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=10f05922441bb189553c90e8c9a40094\" alt=\"kanban.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F1cee84cc-4bf9-0d5d-96ec-f5a19aaecfa2.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=88712d0338c41f26be10ac42a6a9b553 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/1cee84cc-4bf9-0d5d-96ec-f5a19aaecfa2.gif\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"118:1-130:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// handler.ts\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eDndConsider\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eitems\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003eitems\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edetail\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eitems\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003eitems\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eDndFinalize\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eitems\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003eitems\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003ee\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003edetail\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eitems\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003eitems\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"132:1-200:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e// Dnd.svelte\n\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003eflip\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003esvelte/animate\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"nx\"\u003edndzone\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003esvelte-dnd-action\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eCard\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eflowbite-svelte\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eDndConsider\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eDndFinalize\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e./handler\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003eAitems\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eAitem1\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e2\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eAitem2\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e3\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eAitem3\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e4\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eAitem4\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e];\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"nx\"\u003eBitems\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e5\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eBitem1\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e6\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eBitem2\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e7\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eBitem3\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e},\u003c/span\u003e\n      \u003cspan class=\"p\"\u003e{\u003c/span\u003e\u003cspan class=\"na\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e8\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003eBitem4\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e];\u003c/span\u003e\n\n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003eflipDurationMs\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"mi\"\u003e300\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"flex\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"w-1/2\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;h1\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-4xl font-bold text-center\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e配列A\u003cspan class=\"nt\"\u003e\u0026lt;/h1\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"box mx-auto\"\u003c/span\u003e\n      \u003cspan class=\"na\"\u003euse:dndzone=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"{{items: Aitems, centreDraggedOnCursor: true, flipDurationMs}}\"\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eon:consider=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"{e =\u0026gt; Aitems = DndConsider(e, Aitems)}\"\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eon:finalize=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"{e =\u0026gt; Aitems = DndFinalize(e, Aitems)}\"\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n      {#each Aitems as item(item.id)}\n        \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"my-2\"\u003c/span\u003e \u003cspan class=\"na\"\u003eanimate:flip=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"{{duration: flipDurationMs}}\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"nt\"\u003e\u0026lt;Card\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"mx-auto\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n          {item.name}\n          \u003cspan class=\"nt\"\u003e\u0026lt;/Card\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n      {/each}\n    \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"w-1/2\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;h1\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"text-4xl font-bold text-center\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e配列B\u003cspan class=\"nt\"\u003e\u0026lt;/h1\u0026gt;\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"box mx-auto\"\u003c/span\u003e\n      \u003cspan class=\"na\"\u003euse:dndzone=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"{{items: Bitems, centreDraggedOnCursor: true, flipDurationMs}}\"\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eon:consider=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"{e =\u0026gt; Bitems = DndConsider(e, Bitems)}\"\u003c/span\u003e\n      \u003cspan class=\"na\"\u003eon:finalize=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"{e =\u0026gt; Bitems = DndFinalize(e, Bitems)}\"\u003c/span\u003e\n    \u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n      {#each Bitems as item(item.id)}\n        \u003cspan class=\"nt\"\u003e\u0026lt;div\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"my-2\"\u003c/span\u003e \u003cspan class=\"na\"\u003eanimate:flip=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"{{duration: flipDurationMs}}\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n          \u003cspan class=\"nt\"\u003e\u0026lt;Card\u003c/span\u003e \u003cspan class=\"na\"\u003eclass=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"mx-auto\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n          {item.name}\n          \u003cspan class=\"nt\"\u003e\u0026lt;/Card\u0026gt;\u003c/span\u003e\n        \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n      {/each}\n    \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/div\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003estyle\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"nc\"\u003e.box\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003ewidth\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e400px\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003eborder\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"m\"\u003e1px\u003c/span\u003e \u003cspan class=\"nb\"\u003esolid\u003c/span\u003e \u003cspan class=\"no\"\u003eblack\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003estyle\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n",
    "body": "# はじめに\n\nカンバンボードのようなものを作りたく、\nドラッグアンドドロップのツールを探していました。\n\n公式でドラッグアンドドロップのonイベントは用意されていますが、もう少し簡単に実装できないかと思い、\n`svelte-dnd-action`を使ってみました。\n\n[公式の例](https://svelte.dev/repl/adf5a97b91164c239cc1e6d0c76c2abe?version=3.14.1)\n\n## svelte-dnd-action導入\n\n```bash\n$ npm install --save-dev svelte-dnd-action\n```\n\n## 使い方\n\nまずは参考コードから。\n```vue\n\u003cscript lang=\"ts\"\u003e\n  const myItems = {\n    id: 1, name: 'item1',\n  }\n\u003c/script\u003e\n\n\u003cdiv\n  use:dndzone=\"{{items: myItems, ...otherOptions}}\"\n  on:consider=\"{handler}\"\n  on:finalize=\"{handler}\"\n\u003e\n  {#each myItems as item(item.id)}\n      \u003cdiv\u003e{item.name}\u003c/div\u003e\n  {/each}\n\u003c/div\u003e\n```\n\n`\u003cdiv\u003e`タグに注目すると、`use:dndzone`、`on:consider`、`on:finalize`を発見。\n\n```vue\n\u003cdiv\n  use:dndzone=\"{{items: myItems, ...otherOptions}}\"\n  on:consider=\"{handler}\"\n  on:finalize=\"{handler}\"\n\u003e\n```\n\nこの3つをドラッグアンドドロップさせたい範囲に設定することでドラッグアンドドロップを機能させています。\n\n### `use:dndzone`\n\nドラッグアンドドロップをさせたい配列を指定するメソッド。\n`otherOptions`には文字通り、オプションを指定する。\nオプションは以下の通り\n\n### オプション\n\nName | Type | 必須 | デフォルト\n-----|------|----|------\nflipDurationMs | Number | No | 0\ntype | String | No | Internal\ndragDisabled | Boolean | No | false\nmorphDisabled | Boolean | No | false\ndropFromOthersDisabled | Boolean | No | false\nzoneTabIndex | Number | No | 0\ndropTargetStyle | Object\u003cString\u003e | No | {outline: 'rgba(255, 255, 102, 0.7) solid 2px'}\ndropTargetClasses | Array\u003cString\u003e | No | []\ntransformDraggedElement | Function | No | () =\u003e {}\nautoAriaDisabled | Boolean | No | false\ncentreDraggedOnCursor | Boolean | No | false\n\nよく使いそうなものを解説していきます。\n\n#### `flipDurationMs` \n\nドラッグされたアイテムが戻るときのアニメーションの秒数。\n0または設定しないとアニメーションがないことにできる\n\n0の場合\n![0.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/0f4f7e52-2cc4-0bf9-5169-f7fe1fe58ed4.gif)\n\n10000の場合(10秒かけて戻る)\n![10000.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/53904cdf-d155-499b-0299-3184cdc7ddf7.gif)\n\n#### `type`\n\n同じタイプが設定されているdnd-zone同士ではドロップアンドドロップできます。\nデフォルトではすべてのdnd-zoneが同じタイプになってます。\n\n#### `dragDisabled`\n\n設定するとドラッグアンドドロップを禁止できる\n\n#### `dropFromOthersDisabled`\n\n他のdnd-zoneからのドロップを許可するかどうか。\nこちらからのドラッグは制限しない。\n\n#### `centreDraggedOnCursor`\n\ntrueにするとドラッグした際に、アイテムの中心を持つようにアイテムが移動します。\n\n![center.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/e764d29e-9e70-8509-c955-7a94535bb79d.gif)\n\n\n## カンバンツールっぽいものを実装してみた\n\n以上を使って実装したのがこちら。\n\nUIコンポーネントには[Flowbite-svelte](https://flowbite-svelte.com/)を利用しました。\n導入方法は前回の記事で公開しています。\n\nhttps://qiita.com/doyaseizin/items/6e7e8571cc6c3d7ad2e8\n\n![kanban.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/1cee84cc-4bf9-0d5d-96ec-f5a19aaecfa2.gif)\n\n\n```typescript\n// handler.ts\nexport const DndConsider = (e, items) =\u003e {\n  items = e.detail.items;\n\n  return items\n}\nexport const DndFinalize = (e, items) =\u003e {\n  items = e.detail.items;\n\n  return items\n}\n```\n\n```vue\n// Dnd.svelte\n\u003cscript\u003e\n  import {flip} from \"svelte/animate\";\n  import {dndzone} from \"svelte-dnd-action\";\n  import { Card } from \"flowbite-svelte\";\n  import { DndConsider, DndFinalize } from \"./handler\";\n\n  let Aitems = [\n      {id: 1, name: \"Aitem1\"},\n      {id: 2, name: \"Aitem2\"},\n      {id: 3, name: \"Aitem3\"},\n      {id: 4, name: \"Aitem4\"}\n  ];\n\n  let Bitems = [\n      {id: 5, name: \"Bitem1\"},\n      {id: 6, name: \"Bitem2\"},\n      {id: 7, name: \"Bitem3\"},\n      {id: 8, name: \"Bitem4\"}\n  ];\n\n  const flipDurationMs = 300;\n\u003c/script\u003e\n\n\u003cdiv class=\"flex\"\u003e\n  \u003cdiv class=\"w-1/2\"\u003e\n    \u003ch1 class=\"text-4xl font-bold text-center\"\u003e配列A\u003c/h1\u003e\n    \u003cdiv\n      class=\"box mx-auto\"\n      use:dndzone=\"{{items: Aitems, centreDraggedOnCursor: true, flipDurationMs}}\"\n      on:consider=\"{e =\u003e Aitems = DndConsider(e, Aitems)}\"\n      on:finalize=\"{e =\u003e Aitems = DndFinalize(e, Aitems)}\"\n    \u003e\n      {#each Aitems as item(item.id)}\n        \u003cdiv class=\"my-2\" animate:flip=\"{{duration: flipDurationMs}}\"\u003e\n          \u003cCard class=\"mx-auto\"\u003e\n          {item.name}\n          \u003c/Card\u003e\n        \u003c/div\u003e\n      {/each}\n    \u003c/div\u003e\n  \u003c/div\u003e\n  \u003cdiv class=\"w-1/2\"\u003e\n    \u003ch1 class=\"text-4xl font-bold text-center\"\u003e配列B\u003c/h1\u003e\n    \u003cdiv\n      class=\"box mx-auto\"\n      use:dndzone=\"{{items: Bitems, centreDraggedOnCursor: true, flipDurationMs}}\"\n      on:consider=\"{e =\u003e Bitems = DndConsider(e, Bitems)}\"\n      on:finalize=\"{e =\u003e Bitems = DndFinalize(e, Bitems)}\"\n    \u003e\n      {#each Bitems as item(item.id)}\n        \u003cdiv class=\"my-2\" animate:flip=\"{{duration: flipDurationMs}}\"\u003e\n          \u003cCard class=\"mx-auto\"\u003e\n          {item.name}\n          \u003c/Card\u003e\n        \u003c/div\u003e\n      {/each}\n    \u003c/div\u003e\n  \u003c/div\u003e\n\u003c/div\u003e\n\n\u003cstyle\u003e\n  .box {\n    width: 400px;\n    border: 1px solid black;\n  }\n\u003c/style\u003e\n```\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2022-12-10T12:43:04+09:00",
    "group": null,
    "id": "94c5147f5ecb8a2dca74",
    "likes_count": 3,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 1,
    "tags": [
      { "name": "JavaScript", "versions": [] },
      { "name": "Svelte", "versions": [] },
      { "name": "SvelteKit", "versions": [] }
    ],
    "title": "svelte-dnd-actionを使ってsvelteでドラッグアンドドロップを実装",
    "updated_at": "2022-12-10T15:54:14+09:00",
    "url": "https://qiita.com/maaaashi/items/94c5147f5ecb8a2dca74",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-4:100\"\u003e\u003ccode\u003eSvelteKit\u003c/code\u003eを用いてWebアプリケーションを実装した際、\u003cbr\u003e\nUIコンポーネントとして\u003ca href=\"https://flowbite-svelte.com/\" rel=\"nofollow noopener\" target=\"_blank\"\u003eFlowbite-svelte\u003c/a\u003eを使いました。\u003c/p\u003e\n\u003cp data-sourcepos=\"6:1-6:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2ff80bb8-8b46-7e9c-ce2e-233058a89df2.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=85b47389e132654d45e3734c3913bfc9\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2ff80bb8-8b46-7e9c-ce2e-233058a89df2.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=85b47389e132654d45e3734c3913bfc9\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F2ff80bb8-8b46-7e9c-ce2e-233058a89df2.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=6e10811899aea3e525673543aa6157f9 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/2ff80bb8-8b46-7e9c-ce2e-233058a89df2.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"8:1-8:90\"\u003e\u003ccode\u003eSvelte\u003c/code\u003eの\u003ccode\u003e$app/stores\u003c/code\u003eモジュールを使って実装したのでその時のメモ。\u003c/p\u003e\n\u003ch2 data-sourcepos=\"10:1-10:9\"\u003e\n\u003cspan id=\"前提\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%89%8D%E6%8F%90\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e前提\u003c/h2\u003e\n\u003cul data-sourcepos=\"12:1-14:0\"\u003e\n\u003cli data-sourcepos=\"12:1-12:58\"\u003e\n\u003ccode\u003eSvelteKit\u003c/code\u003eのアプリケーションが動くこと。\u003c/li\u003e\n\u003cli data-sourcepos=\"13:1-14:0\"\u003e\n\u003ccode\u003eFlowbite-svelte\u003c/code\u003eを導入していること。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"15:1-15:57\"\u003e↑に関しては前の記事で解説しています。\u003c/p\u003e\n\u003cp data-sourcepos=\"17:1-17:55\"\u003e\u003ciframe id=\"qiita-embed-content__dce807663ace21752e56b3e93deed5aa\" src=\"https://qiita.com/embed-contents/link-card#qiita-embed-content__dce807663ace21752e56b3e93deed5aa\" data-content=\"https%3A%2F%2Fqiita.com%2Fdoyaseizin%2Fitems%2F6e7e8571cc6c3d7ad2e8\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\" style=\"width:100%;\" height=\"29\"\u003e\n\u003c/iframe\u003e\n\u003c/p\u003e\n\u003ch2 data-sourcepos=\"19:1-19:9\"\u003e\n\u003cspan id=\"実装\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%9F%E8%A3%85\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e実装\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"21:1-21:21\"\u003e\n\u003cspan id=\"breadcrumbsvelte\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#breadcrumbsvelte\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eBreadcrumb.svelte\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"22:1-59:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e \u003cspan class=\"na\"\u003elang=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"ts\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eBreadcrumb\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eBreadcrumbItem\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eflowbite-svelte\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003epage\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e  \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e$app/stores\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003epathname\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e./pathname\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n  \u003cspan class=\"kr\"\u003einterface\u003c/span\u003e \u003cspan class=\"nx\"\u003ePaths\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003eroute\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"nl\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003estring\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n  \u003cspan class=\"nl\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003epaths\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003ecreateBreadcrumb\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003e$page\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epathname\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n  \n  \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreateBreadcrumb\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eroutes\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"na\"\u003eswap_paths\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eArray\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003ePaths\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[];\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003eroutes\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003esplit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e/\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eforEach\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003eroute\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n      \u003cspan class=\"nx\"\u003eswap_paths\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003epush\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\u003cspan class=\"na\"\u003eroute\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eroute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003epathname\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eroute\u003c/span\u003e\u003cspan class=\"p\"\u003e]})\u003c/span\u003e\n    \u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n    \u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003eswap_paths\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003eArray\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"k\"\u003efrom\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eMap\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eswap_paths\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eo\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eroute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eo\u003c/span\u003e\u003cspan class=\"p\"\u003e])).\u003c/span\u003e\u003cspan class=\"nf\"\u003evalues\u003c/span\u003e\u003cspan class=\"p\"\u003e());\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003e\u0026lt;Breadcrumb\u0026gt;\u003c/span\u003e\n  {#each paths as { route, name }, index}\n    {#if paths.length == 1 }\n      \u003cspan class=\"nt\"\u003e\u0026lt;BreadcrumbItem\u003c/span\u003e \u003cspan class=\"na\"\u003ehome\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e{name}\u003cspan class=\"nt\"\u003e\u0026lt;/BreadcrumbItem\u0026gt;\u003c/span\u003e\n    {:else if index == 0 }\n      \u003cspan class=\"nt\"\u003e\u0026lt;BreadcrumbItem\u003c/span\u003e \u003cspan class=\"na\"\u003ehref=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"/\"\u003c/span\u003e \u003cspan class=\"na\"\u003ehome\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e{name}\u003cspan class=\"nt\"\u003e\u0026lt;/BreadcrumbItem\u0026gt;\u003c/span\u003e\n    {:else if index == paths.length - 1 }\n      \u003cspan class=\"nt\"\u003e\u0026lt;BreadcrumbItem\u0026gt;\u003c/span\u003e{name}\u003cspan class=\"nt\"\u003e\u0026lt;/BreadcrumbItem\u0026gt;\u003c/span\u003e\n    {:else}\n      \u003cspan class=\"nt\"\u003e\u0026lt;BreadcrumbItem\u003c/span\u003e \u003cspan class=\"na\"\u003ehref=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"/{route}\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e{name}\u003cspan class=\"nt\"\u003e\u0026lt;/BreadcrumbItem\u0026gt;\u003c/span\u003e\n    {/if}\n  {/each}\n\u003cspan class=\"nt\"\u003e\u0026lt;/Breadcrumb\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch3 data-sourcepos=\"61:1-61:15\"\u003e\n\u003cspan id=\"pathnamets\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#pathnamets\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003epathname.ts\u003c/h3\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"63:1-69:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003epathname\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"dl\"\u003e''\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eHome\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003elist\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e一覧\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003enew\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e新規作成\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch2 data-sourcepos=\"71:1-71:9\"\u003e\n\u003cspan id=\"解説\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E8%A7%A3%E8%AA%AC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e解説\u003c/h2\u003e\n\u003ch3 data-sourcepos=\"73:1-73:57\"\u003e\n\u003cspan id=\"-appstoresモジュールのpageについて\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#-appstores%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB%E3%81%AEpage%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e① \u003ccode\u003e$app/stores\u003c/code\u003eモジュールの\u003ccode\u003epage\u003c/code\u003eについて\u003c/h3\u003e\n\u003cp data-sourcepos=\"75:1-75:103\"\u003eソースコードの解説の前に\u003ccode\u003e$app/stores\u003c/code\u003eモジュールの\u003ccode\u003epage\u003c/code\u003eについて解説します。\u003c/p\u003e\n\u003cp data-sourcepos=\"78:1-79:60\"\u003eこちらのモジュールには、ページ情報が保存されています。\u003cbr\u003e\nよく使うものを抜粋し、解説していきます。\u003c/p\u003e\n\u003ch4 data-sourcepos=\"81:1-81:10\"\u003e\n\u003cspan id=\"error\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#error\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eerror\u003c/h4\u003e\n\u003cp data-sourcepos=\"83:1-84:77\"\u003eエラー時のメッセージが格納されています。\u003cbr\u003e\n\u003ccode\u003estatus\u003c/code\u003eと組み合わせてエラーページを自作できそうです。\u003c/p\u003e\n\u003cp data-sourcepos=\"86:1-86:17\"\u003e例) 404の場合\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"88:1-90:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nx\"\u003eerror\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nl\"\u003emessage\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eNot Found\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch4 data-sourcepos=\"92:1-92:11\"\u003e\n\u003cspan id=\"params\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#params\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eparams\u003c/h4\u003e\n\u003cp data-sourcepos=\"94:1-95:75\"\u003eパスパラメータが格納されています。\u003cbr\u003e\n記事ごとのページを表示したりするのに使いそうです。\u003c/p\u003e\n\u003cp data-sourcepos=\"97:1-97:37\"\u003e例) /user/[id] ⇒ /user/1 の場合\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"98:1-100:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nx\"\u003eparams\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nl\"\u003eid\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e1\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch4 data-sourcepos=\"102:1-102:11\"\u003e\n\u003cspan id=\"status\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#status\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003estatus\u003c/h4\u003e\n\u003cp data-sourcepos=\"104:1-105:142\"\u003eレスポンスステータスコードが格納されています。\u003cbr\u003e\n先ほどの\u003ccode\u003eerror\u003c/code\u003eと組み合わせてエラーページを作ったり、状態に合わせて表示物を変えたりできそうです。\u003c/p\u003e\n\u003cp data-sourcepos=\"107:1-107:23\"\u003e例) 200や404の場合\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"109:1-115:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// 200\u003c/span\u003e\n\u003cspan class=\"nx\"\u003estatus\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e200\u003c/span\u003e\n\n\u003cspan class=\"c1\"\u003e// 404 Not Found\u003c/span\u003e\n\u003cspan class=\"nx\"\u003estatus\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e404\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch4 data-sourcepos=\"117:1-117:8\"\u003e\n\u003cspan id=\"url\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#url\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eurl\u003c/h4\u003e\n\u003cp data-sourcepos=\"119:1-119:30\"\u003eURL情報が載っています\u003c/p\u003e\n\u003cp data-sourcepos=\"121:1-121:35\"\u003e例) \u003ca href=\"http://localhost:8080%E3%81%AE%E5%A0%B4%E5%90%88\" class=\"autolink\"\u003ehttp://localhost:8080の場合\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"123:1-123:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F685a9510-4179-a4af-3bb9-090e43246344.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=491f1bd98b65c747bcc93c1e94f0d57d\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F685a9510-4179-a4af-3bb9-090e43246344.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=491f1bd98b65c747bcc93c1e94f0d57d\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F685a9510-4179-a4af-3bb9-090e43246344.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=ab032f8a89121f9234da498b810a6e68 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/685a9510-4179-a4af-3bb9-090e43246344.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch3 data-sourcepos=\"125:1-125:32\"\u003e\n\u003cspan id=\"-ソースコード解説\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#-%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89%E8%A7%A3%E8%AA%AC\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e② ソースコード解説\u003c/h3\u003e\n\u003cp data-sourcepos=\"127:1-128:69\"\u003eFlowbite-svelteのパンくずリストは、\u003cbr\u003e\nクリック時の遷移先と、表示テキストが必要でした\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"130:1-132:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e  \u003cspan class=\"nt\"\u003e\u0026lt;BreadcrumbItem\u003c/span\u003e \u003cspan class=\"na\"\u003ehref=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"/\"\u003c/span\u003e \u003cspan class=\"na\"\u003ehome\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e{name}\u003cspan class=\"nt\"\u003e\u0026lt;/BreadcrumbItem\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"134:1-135:31\"\u003eそのため、遷移先から表示テキストが参照できるようなHashオブジェクトを作成した。\u003cbr\u003e\nそれが\u003ccode\u003epathname.ts\u003c/code\u003eです。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"137:1-147:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// pathname.ts\u003c/span\u003e\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003epathname\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"dl\"\u003e''\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eHome\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003elist\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e一覧\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003enew\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e新規作成\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003epathname\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003elist\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e]\u003c/span\u003e\n\u003cspan class=\"c1\"\u003e// ⇒ '一覧'\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"149:1-150:96\"\u003e次に、与えられたパスから、\u003cbr\u003e\nパンくずリストで使う形式の配列を作成するメソッドを作成しました。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"152:1-164:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003ecreateBreadcrumb\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eroutes\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003cspan class=\"kd\"\u003elet\u003c/span\u003e \u003cspan class=\"na\"\u003eswap_paths\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nb\"\u003eArray\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"nx\"\u003ePaths\u003c/span\u003e\u003cspan class=\"o\"\u003e\u0026gt;\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e[];\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003eroutes\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003esplit\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e/\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e).\u003c/span\u003e\u003cspan class=\"nf\"\u003eforEach\u003c/span\u003e\u003cspan class=\"p\"\u003e((\u003c/span\u003e\u003cspan class=\"nx\"\u003eroute\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003eswap_paths\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003epush\u003c/span\u003e\u003cspan class=\"p\"\u003e({\u003c/span\u003e\u003cspan class=\"na\"\u003eroute\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003eroute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"na\"\u003ename\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003epathname\u003c/span\u003e\u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eroute\u003c/span\u003e\u003cspan class=\"p\"\u003e]})\u003c/span\u003e\n\u003cspan class=\"p\"\u003e})\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003ereturn\u003c/span\u003e \u003cspan class=\"nx\"\u003eswap_paths\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nb\"\u003eArray\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"k\"\u003efrom\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"k\"\u003enew\u003c/span\u003e \u003cspan class=\"nc\"\u003eMap\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eswap_paths\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003emap\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003eo\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nx\"\u003eo\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eroute\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e \u003cspan class=\"nx\"\u003eo\u003c/span\u003e\u003cspan class=\"p\"\u003e])).\u003c/span\u003e\u003cspan class=\"nf\"\u003evalues\u003c/span\u003e\u003cspan class=\"p\"\u003e());\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"nf\"\u003ecreateBreadcrumb\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e/list\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e \n\u003cspan class=\"c1\"\u003e// ⇒ [{route: '', name: 'Home'}, {route: 'list', name: '一覧'}]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"166:1-166:120\"\u003eそしてそのメソッドを、パスの変化に合わせてパンくずリストの配列に代入しています。\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"typescript\" data-sourcepos=\"168:1-170:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nx\"\u003e$\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"nx\"\u003epaths\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nf\"\u003ecreateBreadcrumb\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nx\"\u003e$page\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eurl\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003epathname\u003c/span\u003e\u003cspan class=\"p\"\u003e);\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"172:1-173:72\"\u003eあとはFlowbite-svelteのパンくずリストコンポーネントに合わせて、eachで回せばOK\u003cbr\u003e\n(Homeは家のアイコンが出るように等工夫しています。)\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"175:1-189:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;Breadcrumb\u0026gt;\u003c/span\u003e\n  {#each paths as { route, name }, index}\n    {#if paths.length == 1 }\n      \u003cspan class=\"nt\"\u003e\u0026lt;BreadcrumbItem\u003c/span\u003e \u003cspan class=\"na\"\u003ehome\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e{name}\u003cspan class=\"nt\"\u003e\u0026lt;/BreadcrumbItem\u0026gt;\u003c/span\u003e\n    {:else if index == 0 }\n      \u003cspan class=\"nt\"\u003e\u0026lt;BreadcrumbItem\u003c/span\u003e \u003cspan class=\"na\"\u003ehref=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"/\"\u003c/span\u003e \u003cspan class=\"na\"\u003ehome\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e{name}\u003cspan class=\"nt\"\u003e\u0026lt;/BreadcrumbItem\u0026gt;\u003c/span\u003e\n    {:else if index == paths.length - 1 }\n      \u003cspan class=\"nt\"\u003e\u0026lt;BreadcrumbItem\u0026gt;\u003c/span\u003e{name}\u003cspan class=\"nt\"\u003e\u0026lt;/BreadcrumbItem\u0026gt;\u003c/span\u003e\n    {:else}\n      \u003cspan class=\"nt\"\u003e\u0026lt;BreadcrumbItem\u003c/span\u003e \u003cspan class=\"na\"\u003ehref=\u003c/span\u003e\u003cspan class=\"s\"\u003e\"/{route}\"\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e{name}\u003cspan class=\"nt\"\u003e\u0026lt;/BreadcrumbItem\u0026gt;\u003c/span\u003e\n    {/if}\n  {/each}\n\u003cspan class=\"nt\"\u003e\u0026lt;/Breadcrumb\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"191:1-191:19\"\u003e終わりです👍\u003c/p\u003e\n\u003cp data-sourcepos=\"193:1-193:127\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F11ce1837-b00e-26d7-1883-bb5c0a017c0b.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b7c4585968b090705dbb6a64c8370778\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F11ce1837-b00e-26d7-1883-bb5c0a017c0b.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=b7c4585968b090705dbb6a64c8370778\" alt=\"breadcrumb.gif\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F11ce1837-b00e-26d7-1883-bb5c0a017c0b.gif?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=9c9b382ddbcdbd9cee57803590410ef3 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/11ce1837-b00e-26d7-1883-bb5c0a017c0b.gif\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n",
    "body": "# はじめに\n\n`SvelteKit`を用いてWebアプリケーションを実装した際、\nUIコンポーネントとして[Flowbite-svelte](https://flowbite-svelte.com/)を使いました。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/2ff80bb8-8b46-7e9c-ce2e-233058a89df2.png)\n\n`Svelte`の`$app/stores`モジュールを使って実装したのでその時のメモ。\n\n## 前提\n\n* `SvelteKit`のアプリケーションが動くこと。\n* `Flowbite-svelte`を導入していること。\n\n↑に関しては前の記事で解説しています。\n\nhttps://qiita.com/doyaseizin/items/6e7e8571cc6c3d7ad2e8\n\n## 実装\n\n### Breadcrumb.svelte\n```vue\n\u003cscript lang=\"ts\"\u003e\n  import { Breadcrumb, BreadcrumbItem } from 'flowbite-svelte';\n  import { page }  from '$app/stores';\n  import { pathname } from './pathname';\n\n  interface Paths {\n    route: string;\n    name: string;\n  }\n\n  $: paths = createBreadcrumb($page.url.pathname);\n  \n  const createBreadcrumb = (routes) =\u003e {\n    let swap_paths: Array\u003cPaths\u003e = [];\n      routes.split('/').forEach((route) =\u003e {\n      swap_paths.push({route: route, name: pathname[route]})\n    })\n\n    return swap_paths = Array.from(new Map(swap_paths.map(o =\u003e [o.route, o])).values());\n  }\n\n\u003c/script\u003e\n\n\u003cBreadcrumb\u003e\n  {#each paths as { route, name }, index}\n    {#if paths.length == 1 }\n      \u003cBreadcrumbItem home\u003e{name}\u003c/BreadcrumbItem\u003e\n    {:else if index == 0 }\n      \u003cBreadcrumbItem href=\"/\" home\u003e{name}\u003c/BreadcrumbItem\u003e\n    {:else if index == paths.length - 1 }\n      \u003cBreadcrumbItem\u003e{name}\u003c/BreadcrumbItem\u003e\n    {:else}\n      \u003cBreadcrumbItem href=\"/{route}\"\u003e{name}\u003c/BreadcrumbItem\u003e\n    {/if}\n  {/each}\n\u003c/Breadcrumb\u003e\n```\n\n### pathname.ts\n\n```typescript\nexport const pathname = {\n  '': 'Home',\n  'list': '一覧',\n  'new': '新規作成'\n}\n```\n\n## 解説\n\n### ① `$app/stores`モジュールの`page`について\n\nソースコードの解説の前に`$app/stores`モジュールの`page`について解説します。\n\n\nこちらのモジュールには、ページ情報が保存されています。\nよく使うものを抜粋し、解説していきます。\n\n#### error\n\nエラー時のメッセージが格納されています。\n`status`と組み合わせてエラーページを自作できそうです。\n\n例) 404の場合\n\n```typescript\nerror: { message: 'Not Found' }\n```\n\n#### params\n\nパスパラメータが格納されています。\n記事ごとのページを表示したりするのに使いそうです。\n\n例) /user/[id] ⇒ /user/1 の場合\n```typescript\nparams: { id: 1 }\n```\n\n#### status\n\nレスポンスステータスコードが格納されています。\n先ほどの`error`と組み合わせてエラーページを作ったり、状態に合わせて表示物を変えたりできそうです。\n\n例) 200や404の場合\n\n```typescript\n// 200\nstatus: 200\n\n// 404 Not Found\nstatus: 404\n```\n\n#### url\n\nURL情報が載っています\n\n例) http://localhost:8080の場合\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/685a9510-4179-a4af-3bb9-090e43246344.png)\n\n### ② ソースコード解説\n\nFlowbite-svelteのパンくずリストは、\nクリック時の遷移先と、表示テキストが必要でした\n\n```vue\n  \u003cBreadcrumbItem href=\"/\" home\u003e{name}\u003c/BreadcrumbItem\u003e\n```\n\nそのため、遷移先から表示テキストが参照できるようなHashオブジェクトを作成した。\nそれが`pathname.ts`です。\n\n```typescript\n// pathname.ts\nexport const pathname = {\n  '': 'Home',\n  'list': '一覧',\n  'new': '新規作成'\n}\n\npathname['list']\n// ⇒ '一覧'\n```\n\n次に、与えられたパスから、\nパンくずリストで使う形式の配列を作成するメソッドを作成しました。\n\n```typescript\nconst createBreadcrumb = (routes) =\u003e {\nlet swap_paths: Array\u003cPaths\u003e = [];\n  routes.split('/').forEach((route) =\u003e {\n  swap_paths.push({route: route, name: pathname[route]})\n})\n\nreturn swap_paths = Array.from(new Map(swap_paths.map(o =\u003e [o.route, o])).values());\n}\n\ncreateBreadcrumb('/list') \n// ⇒ [{route: '', name: 'Home'}, {route: 'list', name: '一覧'}]\n```\n\nそしてそのメソッドを、パスの変化に合わせてパンくずリストの配列に代入しています。\n\n```typescript\n$: paths = createBreadcrumb($page.url.pathname);\n```\n\nあとはFlowbite-svelteのパンくずリストコンポーネントに合わせて、eachで回せばOK\n(Homeは家のアイコンが出るように等工夫しています。)\n\n```vue\n\u003cBreadcrumb\u003e\n  {#each paths as { route, name }, index}\n    {#if paths.length == 1 }\n      \u003cBreadcrumbItem home\u003e{name}\u003c/BreadcrumbItem\u003e\n    {:else if index == 0 }\n      \u003cBreadcrumbItem href=\"/\" home\u003e{name}\u003c/BreadcrumbItem\u003e\n    {:else if index == paths.length - 1 }\n      \u003cBreadcrumbItem\u003e{name}\u003c/BreadcrumbItem\u003e\n    {:else}\n      \u003cBreadcrumbItem href=\"/{route}\"\u003e{name}\u003c/BreadcrumbItem\u003e\n    {/if}\n  {/each}\n\u003c/Breadcrumb\u003e\n```\n\n終わりです👍\n\n![breadcrumb.gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/11ce1837-b00e-26d7-1883-bb5c0a017c0b.gif)\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2022-12-09T13:18:02+09:00",
    "group": null,
    "id": "3b744cc142b8650e460d",
    "likes_count": 1,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "JavaScript", "versions": [] },
      { "name": "Svelte", "versions": [] },
      { "name": "SvelteKit", "versions": [] }
    ],
    "title": "SvelteKitでパンくずリストを実装した話",
    "updated_at": "2022-12-10T12:08:29+09:00",
    "url": "https://qiita.com/maaaashi/items/3b744cc142b8650e460d",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  },
  {
    "rendered_body": "\u003ch1 data-sourcepos=\"1:1-1:14\"\u003e\n\u003cspan id=\"はじめに\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003eはじめに\u003c/h1\u003e\n\u003cp data-sourcepos=\"3:1-3:92\"\u003eSvelteKitの開発を始め、いくつかのUIコンポーネントを試しましたが、\u003c/p\u003e\n\u003cul data-sourcepos=\"6:1-8:0\"\u003e\n\u003cli data-sourcepos=\"6:1-6:47\"\u003e一部のコンポーネントが動かない\u003c/li\u003e\n\u003cli data-sourcepos=\"7:1-8:0\"\u003e一部のクラスが動かない\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp data-sourcepos=\"9:1-10:68\"\u003e等の事象が発生し、なかなかこれだ！というものに決まりませんでした。。\u003cbr\u003e\n(きっと私の構築方法が悪いんだと思いますが、、)\u003c/p\u003e\n\u003cp data-sourcepos=\"13:1-13:110\"\u003e\u003ccode\u003eFlowbite-Svelte\u003c/code\u003eが私の環境では唯一ちゃんと動いたので実装方法を載せておきます。\u003c/p\u003e\n\u003ch1 data-sourcepos=\"16:1-16:23\"\u003e\n\u003cspan id=\"sveltekitの構築\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#sveltekit%E3%81%AE%E6%A7%8B%E7%AF%89\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e①SvelteKitの構築\u003c/h1\u003e\n\u003col data-sourcepos=\"18:1-67:0\"\u003e\n\u003cli data-sourcepos=\"18:1-45:0\"\u003e\n\u003cp data-sourcepos=\"18:4-18:20\"\u003e\u003ccode\u003eSvelteKit\u003c/code\u003e構築\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"20:5-44:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpm create svelte@latest\nNeed to \u003cspan class=\"nb\"\u003einstall \u003c/span\u003ethe following packages:\n  create-svelte@2.0.0-next.198\nOk to proceed? \u003cspan class=\"o\"\u003e(\u003c/span\u003ey\u003cspan class=\"o\"\u003e)\u003c/span\u003e y\n\ncreate-svelte version 2.0.0-next.198\n\nWelcome to SvelteKit!\n\nThis is release candidate software\u003cspan class=\"p\"\u003e;\u003c/span\u003e expect bugs and missing features.\n\nProblems? Open an issue on https://github.com/sveltejs/kit/issues \u003cspan class=\"k\"\u003eif \u003c/span\u003enone exists already.\n\n✔ Where should we create your project?\n  \u003cspan class=\"o\"\u003e(\u003c/span\u003eleave blank to use current directory\u003cspan class=\"o\"\u003e)\u003c/span\u003e … \n✔ Which Svelte app template? › SvelteKit demo app\n✔ Add \u003cspan class=\"nb\"\u003etype \u003c/span\u003echecking with TypeScript? › Yes, using TypeScript syntax\n✔ Add ESLint \u003cspan class=\"k\"\u003efor \u003c/span\u003ecode linting? … No / Yes ›  No\n✔ Add Prettier \u003cspan class=\"k\"\u003efor \u003c/span\u003ecode formatting? … No / Yes ›  No\n✔ Add Playwright \u003cspan class=\"k\"\u003efor \u003c/span\u003ebrowser testing? … No / Yes ›  No\n✔ Add Vitest \u003cspan class=\"k\"\u003efor \u003c/span\u003eunit testing? … No / Yes ›  No\n\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpm \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003c/li\u003e\n\u003cli data-sourcepos=\"46:1-67:0\"\u003e\n\u003cp data-sourcepos=\"46:4-46:47\"\u003elocalhost:8080で開くように調整する\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\" data-sourcepos=\"48:5-64:7\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// vite.config.js\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003esveltekit\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003e@sveltejs/kit/vite\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"cm\"\u003e/** @type {import('vite').UserConfig} */\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003econfig\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\t\u003cspan class=\"na\"\u003edarkMode\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eclass\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\t\u003cspan class=\"na\"\u003eplugins\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\u003cspan class=\"nf\"\u003esveltekit\u003c/span\u003e\u003cspan class=\"p\"\u003e()],\u003c/span\u003e\n\t\u003cspan class=\"na\"\u003eserver\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e          \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n\t\t\u003cspan class=\"na\"\u003ehost\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"kc\"\u003etrue\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e    \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n\t\t\u003cspan class=\"na\"\u003eport\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"mi\"\u003e8080\u003c/span\u003e     \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n\t\u003cspan class=\"p\"\u003e}\u003c/span\u003e                  \u003cspan class=\"c1\"\u003e// 追加\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003eexport\u003c/span\u003e \u003cspan class=\"k\"\u003edefault\u003c/span\u003e \u003cspan class=\"nx\"\u003econfig\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"66:5-66:85\"\u003e\u003ccode\u003e8080\u003c/code\u003e以外のポートを開けたい場合は\u003ccode\u003eport\u003c/code\u003eの部分を調整する。\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp data-sourcepos=\"68:1-68:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F86a7ad9e-5605-629f-5d90-a64b1f15c08d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=24475b618f3b1c75d15b42d9939be3d7\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F86a7ad9e-5605-629f-5d90-a64b1f15c08d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=24475b618f3b1c75d15b42d9939be3d7\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F86a7ad9e-5605-629f-5d90-a64b1f15c08d.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=7857aacd7f543cf8da1dec04d77f1e59 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/86a7ad9e-5605-629f-5d90-a64b1f15c08d.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch1 data-sourcepos=\"70:1-70:38\"\u003e\n\u003cspan id=\"tailwind-cssのインストール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#tailwind-css%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e②Tailwind CSSのインストール\u003c/h1\u003e\n\u003cp data-sourcepos=\"72:1-72:58\"\u003e\u003ccode\u003esvelte-add\u003c/code\u003eを使って\u003ccode\u003etailwindcss\u003c/code\u003eをインストール\u003c/p\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"74:1-77:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpx svelte-add@latest tailwindcss\n\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpm \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch1 data-sourcepos=\"79:1-79:52\"\u003e\n\u003cspan id=\"flowbite及び依存関係のインストール\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#flowbite%E5%8F%8A%E3%81%B3%E4%BE%9D%E5%AD%98%E9%96%A2%E4%BF%82%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e③Flowbite及び依存関係のインストール\u003c/h1\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"bash\" data-sourcepos=\"81:1-83:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nv\"\u003e$ \u003c/span\u003enpm i \u003cspan class=\"nt\"\u003e-D\u003c/span\u003e flowbite flowbite-svelte classnames @popperjs/core\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch1 data-sourcepos=\"85:1-85:33\"\u003e\n\u003cspan id=\"tailwindconfigcjsの修正\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#tailwindconfigcjs%E3%81%AE%E4%BF%AE%E6%AD%A3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e④tailwind.config.cjsの修正\u003c/h1\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"javascript\" data-sourcepos=\"87:1-106:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"c1\"\u003e// tailwind.config.cjs\u003c/span\u003e\n\u003cspan class=\"kd\"\u003econst\u003c/span\u003e \u003cspan class=\"nx\"\u003econfig\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"na\"\u003econtent\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e./src/**/*.{html,js,svelte,ts}\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"s2\"\u003e./node_modules/flowbite-svelte/**/*.{html,js,svelte,ts}\u003c/span\u003e\u003cspan class=\"dl\"\u003e\"\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e],\u003c/span\u003e\n\n  \u003cspan class=\"na\"\u003etheme\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"na\"\u003eextend\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e{},\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e},\u003c/span\u003e\n\n  \u003cspan class=\"na\"\u003eplugins\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"p\"\u003e[\u003c/span\u003e\n    \u003cspan class=\"nf\"\u003erequire\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eflowbite/plugin\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e],\u003c/span\u003e\n  \u003cspan class=\"na\"\u003edarkMode\u003c/span\u003e\u003cspan class=\"p\"\u003e:\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eclass\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e,\u003c/span\u003e\n\u003cspan class=\"p\"\u003e};\u003c/span\u003e\n\n\u003cspan class=\"nx\"\u003emodule\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nx\"\u003eexports\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003econfig\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003ch1 data-sourcepos=\"108:1-108:21\"\u003e\n\u003cspan id=\"stylescssの修正\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#stylescss%E3%81%AE%E4%BF%AE%E6%AD%A3\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003estyles.cssの修正\u003c/h1\u003e\n\u003cp data-sourcepos=\"110:1-110:57\"\u003eデモアプリのcssが効いているので全て削除\u003c/p\u003e\n\u003ch1 data-sourcepos=\"112:1-112:8\"\u003e\n\u003cspan id=\"完了\" class=\"fragment\"\u003e\u003c/span\u003e\u003ca href=\"#%E5%AE%8C%E4%BA%86\"\u003e\u003ci class=\"fa fa-link\"\u003e\u003c/i\u003e\u003c/a\u003e完了\u003c/h1\u003e\n\u003cdiv class=\"code-frame\" data-lang=\"vue\" data-sourcepos=\"114:1-120:3\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"nt\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n  \u003cspan class=\"k\"\u003eimport\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e \u003cspan class=\"nx\"\u003eButton\u003c/span\u003e \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"k\"\u003efrom\u003c/span\u003e \u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"s1\"\u003eflowbite-svelte\u003c/span\u003e\u003cspan class=\"dl\"\u003e'\u003c/span\u003e\u003cspan class=\"p\"\u003e;\u003c/span\u003e\n\u003cspan class=\"nt\"\u003e\u0026lt;/\u003c/span\u003e\u003cspan class=\"k\"\u003escript\u003c/span\u003e\u003cspan class=\"nt\"\u003e\u0026gt;\u003c/span\u003e\n\n\u003cspan class=\"nt\"\u003e\u0026lt;Button\u0026gt;\u003c/span\u003eデフォルトボタン\u003cspan class=\"nt\"\u003e\u0026lt;/Button\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\u003cp data-sourcepos=\"122:1-122:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8e895812-5410-eb67-5dd8-b0bf98306b2b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3b0c126fd1043cc73b1dc682678a9dca\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8e895812-5410-eb67-5dd8-b0bf98306b2b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=3b0c126fd1043cc73b1dc682678a9dca\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F8e895812-5410-eb67-5dd8-b0bf98306b2b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=31b31e12d4c9146d0e9f07b11e12ee33 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/8e895812-5410-eb67-5dd8-b0bf98306b2b.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"124:1-124:51\"\u003e今のところストレスなく使えてます！\u003c/p\u003e\n\u003cp data-sourcepos=\"126:1-126:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F51802661-fdc9-9d24-997f-e71b58cdca3b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=22832e203d86c88f9e0625eaf364d049\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F51802661-fdc9-9d24-997f-e71b58cdca3b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=22832e203d86c88f9e0625eaf364d049\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2F51802661-fdc9-9d24-997f-e71b58cdca3b.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=49739a338d72dc8a7beb13eca4766498 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/51802661-fdc9-9d24-997f-e71b58cdca3b.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp data-sourcepos=\"128:1-128:109\"\u003eよく使うようなコンポーネントがかなり充実しているので非常におすすめです👍\u003c/p\u003e\n\u003cp data-sourcepos=\"130:1-130:36\"\u003eビデオなんかもあります。\u003c/p\u003e\n\u003cp data-sourcepos=\"132:1-132:122\"\u003e\u003ca href=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd855735a-89d1-27e8-84ff-0387200e1c90.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=cc45a2dbc38777649cc65fc446b4c5cd\" target=\"_blank\" rel=\"nofollow noopener\"\u003e\u003cimg src=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd855735a-89d1-27e8-84ff-0387200e1c90.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;s=cc45a2dbc38777649cc65fc446b4c5cd\" alt=\"image.png\" srcset=\"https://qiita-user-contents.imgix.net/https%3A%2F%2Fqiita-image-store.s3.ap-northeast-1.amazonaws.com%2F0%2F2985550%2Fd855735a-89d1-27e8-84ff-0387200e1c90.png?ixlib=rb-4.0.0\u0026amp;auto=format\u0026amp;gif-q=60\u0026amp;q=75\u0026amp;w=1400\u0026amp;fit=max\u0026amp;s=560b864d95ba9dbd7556075df3b68a49 1x\" data-canonical-src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/d855735a-89d1-27e8-84ff-0387200e1c90.png\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n",
    "body": "# はじめに\n\nSvelteKitの開発を始め、いくつかのUIコンポーネントを試しましたが、\n\n\n* 一部のコンポーネントが動かない\n* 一部のクラスが動かない\n\n等の事象が発生し、なかなかこれだ！というものに決まりませんでした。。\n(きっと私の構築方法が悪いんだと思いますが、、)\n\n\n`Flowbite-Svelte`が私の環境では唯一ちゃんと動いたので実装方法を載せておきます。\n\n\n# ①SvelteKitの構築\n\n1. `SvelteKit`構築\n\n    ```bash\n    $ npm create svelte@latest\n    Need to install the following packages:\n      create-svelte@2.0.0-next.198\n    Ok to proceed? (y) y\n    \n    create-svelte version 2.0.0-next.198\n    \n    Welcome to SvelteKit!\n    \n    This is release candidate software; expect bugs and missing features.\n    \n    Problems? Open an issue on https://github.com/sveltejs/kit/issues if none exists already.\n    \n    ✔ Where should we create your project?\n      (leave blank to use current directory) … \n    ✔ Which Svelte app template? › SvelteKit demo app\n    ✔ Add type checking with TypeScript? › Yes, using TypeScript syntax\n    ✔ Add ESLint for code linting? … No / Yes ›  No\n    ✔ Add Prettier for code formatting? … No / Yes ›  No\n    ✔ Add Playwright for browser testing? … No / Yes ›  No\n    ✔ Add Vitest for unit testing? … No / Yes ›  No\n    \n    $ npm install\n    ```\n\n1. localhost:8080で開くように調整する\n\n    ```javascript\n    // vite.config.js\n\n    import { sveltekit } from '@sveltejs/kit/vite';\n    \n    /** @type {import('vite').UserConfig} */\n    const config = {\n    \tdarkMode: 'class',\n    \tplugins: [sveltekit()],\n    \tserver: {          // 追加\n    \t\thost: true,    // 追加\n    \t\tport: 8080     // 追加\n    \t}                  // 追加\n    };\n    \n    export default config;\n    ```\n\n    `8080`以外のポートを開けたい場合は`port`の部分を調整する。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/86a7ad9e-5605-629f-5d90-a64b1f15c08d.png)\n\n# ②Tailwind CSSのインストール\n\n`svelte-add`を使って`tailwindcss`をインストール\n\n```bash\n$ npx svelte-add@latest tailwindcss\n$ npm install\n```\n\n# ③Flowbite及び依存関係のインストール\n\n```bash\n$ npm i -D flowbite flowbite-svelte classnames @popperjs/core\n```\n\n# ④tailwind.config.cjsの修正\n\n```javascript\n// tailwind.config.cjs\nconst config = {\n  content: [\n    \"./src/**/*.{html,js,svelte,ts}\",\n    \"./node_modules/flowbite-svelte/**/*.{html,js,svelte,ts}\",\n  ],\n\n  theme: {\n    extend: {},\n  },\n\n  plugins: [\n    require('flowbite/plugin')\n  ],\n  darkMode: 'class',\n};\n\nmodule.exports = config;\n```\n\n# styles.cssの修正\n\nデモアプリのcssが効いているので全て削除\n\n# 完了\n\n```vue\n\u003cscript\u003e\n  import { Button } from 'flowbite-svelte';\n\u003c/script\u003e\n\n\u003cButton\u003eデフォルトボタン\u003c/Button\u003e\n```\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/8e895812-5410-eb67-5dd8-b0bf98306b2b.png)\n\n今のところストレスなく使えてます！\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/51802661-fdc9-9d24-997f-e71b58cdca3b.png)\n\nよく使うようなコンポーネントがかなり充実しているので非常におすすめです👍\n\nビデオなんかもあります。\n\n![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/2985550/d855735a-89d1-27e8-84ff-0387200e1c90.png)\n",
    "coediting": false,
    "comments_count": 0,
    "created_at": "2022-12-08T09:27:37+09:00",
    "group": null,
    "id": "6e7e8571cc6c3d7ad2e8",
    "likes_count": 4,
    "private": false,
    "reactions_count": 0,
    "stocks_count": 0,
    "tags": [
      { "name": "JavaScript", "versions": [] },
      { "name": "Svelte", "versions": [] },
      { "name": "SvelteKit", "versions": [] }
    ],
    "title": "SvelteKitのFlowbite-Svelteを実装した話",
    "updated_at": "2022-12-08T09:27:37+09:00",
    "url": "https://qiita.com/maaaashi/items/6e7e8571cc6c3d7ad2e8",
    "user": {
      "description": "都内のweb系の企業でエンジニアをしています。\r\nどなたかのお役に立てれば幸いです。\r\n\r\n【Qiita Advent Calendar 2022】【Qiita Advent Calendar 2023】完走賞いただきました！",
      "facebook_id": "",
      "followees_count": 22,
      "followers_count": 26,
      "github_login_name": null,
      "id": "maaaashi",
      "items_count": 116,
      "linkedin_id": "",
      "location": "千葉",
      "name": "",
      "organization": "",
      "permanent_id": 2985550,
      "profile_image_url": "https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/2985550/6528cb551ba394c700da26cb135be1fc3f2928b5/x_large.png?1669290275",
      "team_only": false,
      "twitter_screen_name": "pg_maaaashi",
      "website_url": "https://maaaashi-website.mss-rep.com/"
    },
    "page_views_count": null,
    "team_membership": null,
    "organization_url_name": null,
    "slide": false
  }
]
